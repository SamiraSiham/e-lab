{"version":3,"file":"ej2-schedule.umd.min.js","sources":["../src/schedule/base/constant.js","../src/schedule/base/util.js","../src/schedule/base/css-constant.js","../src/schedule/renderer/header-renderer.js","../src/schedule/actions/scroll.js","../src/schedule/actions/touch.js","../src/schedule/actions/keyboard.js","../src/schedule/actions/data.js","../src/common/calendar-util.js","../src/schedule/timezone/timezone.js","../src/recurrence-editor/date-generator.js","../src/schedule/event-renderer/event-base.js","../src/schedule/event-renderer/vertical-view.js","../src/schedule/event-renderer/month.js","../src/schedule/event-renderer/timeline-view.js","../src/schedule/event-renderer/inline-edit.js","../src/schedule/popups/form-validator.js","../src/schedule/popups/quick-popups.js","../src/schedule/popups/event-tooltip.js","../src/recurrence-editor/recurrence-editor.js","../src/schedule/popups/event-window.js","../src/schedule/actions/virtual-scroll.js","../src/schedule/renderer/renderer.js","../src/schedule/models/work-hours.js","../src/schedule/models/time-scale.js","../src/schedule/models/quick-info-templates.js","../src/schedule/models/header-rows.js","../src/schedule/actions/crud.js","../src/schedule/actions/work-cells.js","../src/schedule/models/field-options.js","../src/schedule/models/fields.js","../src/schedule/models/event-settings.js","../src/schedule/models/group.js","../src/schedule/models/resources.js","../src/schedule/base/resource.js","../src/schedule/models/toolbar.js","../src/schedule/base/schedule.js","../src/schedule/actions/action-base.js","../src/schedule/actions/resize.js","../src/schedule/event-renderer/year.js","../src/schedule/actions/drag.js","../src/schedule/renderer/view-base.js","../src/schedule/renderer/vertical-view.js","../src/schedule/renderer/day.js","../src/schedule/renderer/week.js","../src/schedule/renderer/work-week.js","../src/schedule/renderer/month.js","../src/schedule/renderer/year.js","../src/schedule/event-renderer/agenda-base.js","../src/schedule/renderer/agenda.js","../src/schedule/renderer/month-agenda.js","../src/schedule/renderer/timeline-header-row.js","../src/schedule/renderer/timeline-view.js","../src/schedule/renderer/timeline-month.js","../src/schedule/renderer/timeline-year.js","../src/schedule/exports/calendar-export.js","../src/schedule/exports/calendar-import.js","../src/schedule/exports/excel-export.js","../src/schedule/exports/print.js"],"sourcesContent":["/**\n * Constants\n */\n/** @private */\nexport var cellClick = 'cellClick';\n/** @private */\nexport var cellDoubleClick = 'cellDoubleClick';\n/** @private */\nexport var moreEventsClick = 'moreEventsClick';\n/** @private */\nexport var select = 'select';\n/** @private */\nexport var hover = 'hover';\n/** @private */\nexport var actionBegin = 'actionBegin';\n/** @private */\nexport var actionComplete = 'actionComplete';\n/** @private */\nexport var actionFailure = 'actionFailure';\n/** @private */\nexport var navigating = 'navigating';\n/** @private */\nexport var renderCell = 'renderCell';\n/** @private */\nexport var eventClick = 'eventClick';\n/** @private */\nexport var eventDoubleClick = 'eventDoubleClick';\n/** @private */\nexport var eventRendered = 'eventRendered';\n/** @private */\nexport var dataBinding = 'dataBinding';\n/** @private */\nexport var dataBound = 'dataBound';\n/** @private */\nexport var popupOpen = 'popupOpen';\n/** @private */\nexport var popupClose = 'popupClose';\n/** @private */\nexport var dragStart = 'dragStart';\n/** @private */\nexport var drag = 'drag';\n/** @private */\nexport var dragStop = 'dragStop';\n/** @private */\nexport var resizeStart = 'resizeStart';\n/** @private */\nexport var resizing = 'resizing';\n/** @private */\nexport var resizeStop = 'resizeStop';\n/** @private */\nexport var inlineClick = 'inlineClick';\n/** @private */\nexport var cellSelect = 'cellSelect';\n/** @private */\nexport var virtualScrollStart = 'virtualScrollStart';\n/** @private */\nexport var virtualScrollStop = 'virtualScrollStop';\n/** @private */\nexport var noEvents = 'noEvents';\n/** @private */\nexport var agendaCells = 'agendaCells';\n/** @private */\nexport var resourceHeader = 'resourceHeader';\n/** @private */\nexport var dateHeader = 'dateHeader';\n/**\n * Specifies schedule internal events\n */\n/** @private */\nexport var initialLoad = 'initial-load';\n/** @private */\nexport var initialEnd = 'initial-end';\n/** @private */\nexport var print = 'print';\n/** @private */\nexport var dataReady = 'data-ready';\n/** @private */\nexport var eventsLoaded = 'events-loaded';\n/** @private */\nexport var contentReady = 'content-ready';\n/** @private */\nexport var scroll = 'scroll';\n/** @private */\nexport var virtualScroll = 'virtual-scroll';\n/** @private */\nexport var scrollUiUpdate = 'scroll-ui-update';\n/** @private */\nexport var uiUpdate = 'ui-update';\n/** @private */\nexport var documentClick = 'document-click';\n/** @private */\nexport var cellMouseDown = 'cell-mouse-down';\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createElement, remove, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Schedule common utilities\n */\nexport var WEEK_LENGTH = 7;\nexport var DEFAULT_WEEKS = 6;\nexport var MS_PER_DAY = 86400000;\nexport var MS_PER_MINUTE = 60000;\n/**\n * Method to get height from element\n *\n * @param {Element} container Accepts the DOM element\n * @param {string} elementClass Accepts the element class\n * @param {boolean} isTransformed Accepts the boolean value that indicates the status of the transform style applied to the element\n * @returns {number} Returns the height of the element\n */\nexport function getElementHeightFromClass(container, elementClass, isTransformed) {\n    var height = 0;\n    var el = createElement('div', { className: elementClass }).cloneNode();\n    el.style.visibility = 'hidden';\n    el.style.position = 'absolute';\n    container.appendChild(el);\n    height = getElementHeight(el, isTransformed);\n    remove(el);\n    return height;\n}\n/**\n * Method to get width from element\n *\n * @param {Element} container Accepts the DOM element\n * @param {string} elementClass Accepts the element class\n * @param {boolean} isTransformed Accepts the boolean value that indicates the status of the transform style applied to the element\n * @returns {number} Returns the width of the element\n */\nexport function getElementWidthFromClass(container, elementClass, isTransformed) {\n    var width = 0;\n    var el = createElement('div', { className: elementClass }).cloneNode();\n    el.style.visibility = 'hidden';\n    el.style.position = 'absolute';\n    container.appendChild(el);\n    width = getElementWidth(el, isTransformed);\n    remove(el);\n    return width;\n}\n/**\n * Method to get translateY value\n *\n * @param {HTMLElement | Element} element Accepts the DOM element\n * @returns {number} Returns the translateY value of given element\n */\nexport function getTranslateY(element) {\n    var style = getComputedStyle(element);\n    return window.WebKitCSSMatrix ?\n        new WebKitCSSMatrix(style.webkitTransform).m42 : 0;\n}\n/**\n * Method to get translateX value\n *\n * @param {HTMLElement | Element} element Accepts the DOM element\n * @returns {number} Returns the translateX value of given element\n */\nexport function getTranslateX(element) {\n    var style = getComputedStyle(element);\n    return window.WebKitCSSMatrix ?\n        new WebKitCSSMatrix(style.webkitTransform).m41 : 0;\n}\n/**\n * Method to get week first date\n *\n * @param {Date} date Accepts the date object\n * @param {number} firstDayOfWeek Accepts the first day of week number\n * @returns {Date} Returns the date object\n */\nexport function getWeekFirstDate(date, firstDayOfWeek) {\n    var date1 = new Date(date.getTime());\n    firstDayOfWeek = (firstDayOfWeek - date1.getDay() + 7 * (-1)) % 7;\n    return new Date(date1.setDate(date1.getDate() + (isNaN(firstDayOfWeek) ? 0 : firstDayOfWeek)));\n}\n/**\n * Method to get week last date\n *\n * @param {Date} date Accepts the date object\n * @param {number} firstDayOfWeek Accepts the first day of week number\n * @returns {Date} Returns the date object\n */\nexport function getWeekLastDate(date, firstDayOfWeek) {\n    var weekFirst = getWeekFirstDate(date, firstDayOfWeek);\n    var weekLast = new Date(weekFirst.getFullYear(), weekFirst.getMonth(), weekFirst.getDate() + 6);\n    return new Date(weekLast.getTime());\n}\n/**\n * Method to get first date of month\n *\n * @param {Date} date Accepts the date object\n * @returns {Date} Returns the date object\n */\nexport function firstDateOfMonth(date) {\n    return new Date(date.getFullYear(), date.getMonth(), 1);\n}\n/**\n * Method to get last date of month\n *\n * @param {Date} date Accepts the date object\n * @returns {Date} Returns the date object\n */\nexport function lastDateOfMonth(date) {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0);\n}\n/**\n * Method to get week number\n *\n * @param {Date} date Accepts the date object\n * @returns {number} Returns the week number\n */\nexport function getWeekNumber(date) {\n    var date1 = new Date(date.getFullYear(), 0, 1).valueOf();\n    var currentDate = new Date(date.getFullYear(), date.getMonth(), date.getDate()).valueOf();\n    var dayOfYear = ((currentDate - date1 + MS_PER_DAY) / MS_PER_DAY);\n    return Math.ceil(dayOfYear / 7);\n}\n/**\n * Method to get week middle date\n *\n * @param {Date} weekFirst Accepts the week first date object\n * @param {Date} weekLast Accepts the week last date object\n * @returns {Date} Returns the date object\n */\nexport function getWeekMiddleDate(weekFirst, weekLast) {\n    return new Date(weekLast.valueOf() - ((weekLast.valueOf() - weekFirst.valueOf()) / 2));\n}\n/**\n * Method to set time to date object\n *\n * @param {Date} date Accepts the date object\n * @param {number} time Accepts the milliseconds\n * @returns {Date} Returns the date object\n */\nexport function setTime(date, time) {\n    var tzOffsetBefore = date.getTimezoneOffset();\n    var d = new Date(date.getTime() + time);\n    var tzOffsetDiff = d.getTimezoneOffset() - tzOffsetBefore;\n    date.setTime(d.getTime() + tzOffsetDiff * MS_PER_MINUTE);\n    return date;\n}\n/**\n * Method the reset hours in date object\n *\n * @param {Date} date Accepts the date object\n * @returns {Date} Returns the date object\n */\nexport function resetTime(date) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n/**\n * Method to get milliseconds from date object\n *\n * @param {Date} date Accepts the date object\n * @returns {number} Returns the milliseconds from date object\n */\nexport function getDateInMs(date) {\n    var localOffset = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0).getTimezoneOffset();\n    var dateOffset = date.getTimezoneOffset();\n    var timezoneOffset = dateOffset - localOffset;\n    return ((date.getTime() - new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0).getTime())\n        - (timezoneOffset * 60 * 1000));\n}\n/**\n * Method to get date count between two dates\n *\n * @param {Date} startDate Accepts the date object\n * @param {Date} endDate Accepts the date object\n * @returns {number} Returns the date count\n */\nexport function getDateCount(startDate, endDate) {\n    return Math.ceil((endDate.getTime() - startDate.getTime()) / MS_PER_DAY);\n}\n/**\n * Method to add no of days in date object\n *\n * @param {Date} date Accepts the date object\n * @param {number} noOfDays Accepts the number of days count\n * @returns {Date} Returns the date object\n */\nexport function addDays(date, noOfDays) {\n    date = new Date('' + date);\n    return new Date(date.setDate(date.getDate() + noOfDays));\n}\n/**\n * Method to add no of months in date object\n *\n * @param {Date} date Accepts the date object\n * @param {number} noOfMonths Accepts the number of month count\n * @returns {Date} Returns the date object\n */\nexport function addMonths(date, noOfMonths) {\n    date = new Date('' + date);\n    var day = date.getDate();\n    date.setDate(1);\n    date.setMonth(date.getMonth() + noOfMonths);\n    date.setDate(Math.min(day, getMaxDays(date)));\n    return date;\n}\n/**\n * Method to add no of years in date object\n *\n * @param {Date} date Accepts the date object\n * @param {number} noOfYears Accepts the number of month count\n * @returns {Date} Returns the date object\n */\nexport function addYears(date, noOfYears) {\n    date = new Date('' + date);\n    var day = date.getDate();\n    date.setDate(1);\n    date.setFullYear(date.getFullYear() + noOfYears);\n    date.setDate(Math.min(day, getMaxDays(date)));\n    return date;\n}\n/**\n * Method to get start and end hours\n *\n * @param {Date} date Accepts the date object\n * @param {Date} startHour Accepts the start hour date object\n * @param {Date} endHour Accepts the end hour date object\n * @returns {Object} Returns the start and end hour date objects\n */\nexport function getStartEndHours(date, startHour, endHour) {\n    var date1 = new Date(date.getTime());\n    date1.setHours(startHour.getHours());\n    date1.setMinutes(startHour.getMinutes());\n    date1.setSeconds(startHour.getSeconds());\n    var date2 = new Date(date.getTime());\n    if (endHour.getHours() === 0) {\n        date2 = addDays(date2, 1);\n    }\n    else {\n        date2.setHours(endHour.getHours());\n        date2.setMinutes(endHour.getMinutes());\n        date2.setSeconds(endHour.getSeconds());\n    }\n    return { startHour: date1, endHour: date2 };\n}\n/**\n * Method to get month last date\n *\n * @param {Date} date Accepts the date object\n * @returns {number} Returns the month last date\n */\nexport function getMaxDays(date) {\n    return lastDateOfMonth(date).getDate();\n}\n/**\n * Method to get days count between two dates\n *\n * @param {Date} startDate Accepts the date object\n * @param {Date} endDate Accepts the date object\n * @returns {number} Returns the days count\n */\nexport function getDaysCount(startDate, endDate) {\n    var strTime = resetTime(new Date(startDate));\n    var endTime = resetTime(new Date(endDate));\n    return Math.round((endTime.getTime() - strTime.getTime()) / MS_PER_DAY);\n}\n/**\n * Method to get date object from date string\n *\n * @param {string} date Accepts the date string\n * @returns {Date} Returns the date object\n */\nexport function getDateFromString(date) {\n    return date.indexOf('Date') !== -1 ? new Date(parseInt(date.match(/\\d+/g).toString(), 10)) :\n        date.indexOf('T') !== -1 ? new Date(date) : new Date(date.replace(/-/g, '/'));\n}\n/** @private */\nvar scrollWidth = null;\n/** @private */\nvar pixelRatio = null;\n/**\n * Method to get scrollbar width\n *\n * @returns {number} Returns the scrollbar width\n * @private\n */\nexport function getScrollBarWidth() {\n    if (scrollWidth !== null) {\n        return scrollWidth;\n    }\n    if (pixelRatio === null) {\n        pixelRatio = window.devicePixelRatio || window.screen.availWidth / document.documentElement.clientWidth;\n    }\n    var divNode = createElement('div');\n    var value = 0;\n    divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n    document.body.appendChild(divNode);\n    var ratio = (devicePixelRatio) ? (devicePixelRatio.toFixed(2) === '1.10' || devicePixelRatio <= 1) ?\n        Math.ceil(devicePixelRatio % 1) : Math.floor(devicePixelRatio % 1) : 0;\n    value = (divNode.offsetWidth - divNode.clientWidth - ratio) | 0;\n    document.body.removeChild(divNode);\n    return scrollWidth = value;\n}\n/**\n * Method to reset scrollbar width\n *\n * @private\n * @returns {void}\n */\nexport function resetScrollbarWidth() {\n    var zoomPixelRatio = window.devicePixelRatio || window.screen.availWidth / document.documentElement.clientWidth;\n    if (pixelRatio && pixelRatio !== zoomPixelRatio) {\n        scrollWidth = null;\n        pixelRatio = zoomPixelRatio;\n    }\n}\n/**\n * Method to find the index from data collection\n *\n * @param {Object} data Accepts the data as object\n * @param {string} field Accepts the field name\n * @param {string} value Accepts the value name\n * @param {Object} event Accepts the data as object\n * @param {Object[]} resourceCollection Accepts the data collections\n * @returns {number} Returns the index number\n */\n// eslint-disable-next-line max-len\nexport function findIndexInData(data, field, value, event, resourceCollection) {\n    for (var i = 0, length_1 = data.length; i < length_1; i++) {\n        if (data[parseInt(i.toString(), 10)][\"\" + field] === value) {\n            if (event) {\n                var field_1 = resourceCollection.slice(-2)[0].field;\n                var res = (event[\"\" + field_1] instanceof Array ? event[\"\" + field_1] : [event[\"\" + field_1]]);\n                var resData = res.join(',');\n                if (resData.includes(data[parseInt(i.toString(), 10)][resourceCollection.slice(-1)[0].groupIDField])) {\n                    return i;\n                }\n            }\n            else {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n/**\n * Method to get element outer height\n *\n * @param {HTMLElement} element Accepts the DOM element\n * @returns {number} Returns the outer height of the given element\n */\nexport function getOuterHeight(element) {\n    var style = getComputedStyle(element);\n    return element.offsetHeight + (parseInt(style.marginTop, 10) || 0) + (parseInt(style.marginBottom, 10) || 0);\n}\n/**\n * Method to remove child elements\n *\n * @param {HTMLElement | Element} element Accepts the DOM element\n * @returns {void}\n */\nexport function removeChildren(element) {\n    var elementChildren = [].slice.call(element.children);\n    for (var _i = 0, elementChildren_1 = elementChildren; _i < elementChildren_1.length; _i++) {\n        var elementChild = elementChildren_1[_i];\n        element.removeChild(elementChild);\n    }\n}\n/**\n * Method to check DST is present or not in date object\n *\n * @param {Date} date Accepts the date object\n * @returns {boolean} Returns the boolean value for either DST is present or not\n */\nexport function isDaylightSavingTime(date) {\n    var jan = new Date(date.getFullYear(), 0, 1);\n    var jul = new Date(date.getFullYear(), 6, 1);\n    return date.getTimezoneOffset() < Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset());\n}\n/**\n * Method to get UTC time value from date\n *\n * @param {Date} date Accepts the date\n * @returns {number} Returns the UTC time value\n */\nexport function getUniversalTime(date) {\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var day = date.getDate();\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    var seconds = date.getSeconds();\n    var milliseconds = date.getMilliseconds();\n    return Date.UTC(year, month, day, hours, minutes, seconds, milliseconds);\n}\n/**\n * Method to check the device\n *\n * @returns {boolean} Returns the boolean value for either device is present or not.\n */\nexport function isMobile() {\n    return window.navigator.userAgent.toLowerCase().indexOf('mobi') > -1;\n}\n/**\n * Method to check the IPad device\n *\n * @returns {boolean} Returns the boolean value for either IPad device is present or not.\n */\nexport function isIPadDevice() {\n    return window.navigator.userAgent.toLowerCase().indexOf('ipad') > -1;\n}\n/**\n * Method to capitalize the first word in string\n *\n * @param {string} inputString Accepts the string value\n * @param {string} type Accepts the string type\n * @returns {string} Returns the output string\n */\nexport function capitalizeFirstWord(inputString, type) {\n    if (type === 'multiple') {\n        inputString = inputString.split(' ').map(function (e) { return e.charAt(0).toLocaleUpperCase() + e.substring(1); }).join(' ');\n    }\n    else if (type === 'single') {\n        if (inputString[0] >= '0' && inputString[0] <= '9') {\n            var array = inputString.match(/[a-zA-Z]/);\n            inputString = isNullOrUndefined(array) ? inputString :\n                inputString.slice(0, array.index) + inputString[array.index].toLocaleUpperCase() + inputString.slice(array.index + 1);\n        }\n        inputString = inputString[0].toLocaleUpperCase() + inputString.slice(1);\n    }\n    return inputString;\n}\n/**\n * Method to get element cell width\n *\n * @param {HTMLElement} element Accepts the DOM element\n * @param {boolean} isTransformed Accepts the boolean value that indicates the status of the transform style applied to the element\n * @returns {number} Returns the width of the given element\n */\nexport function getElementWidth(element, isTransformed) {\n    return isTransformed ? element.offsetWidth : element.getBoundingClientRect().width;\n}\n/**\n * Method to get element cell Height\n *\n * @param {HTMLElement} element Accepts the DOM element\n * @param {boolean} isTransformed Accepts the boolean value that indicates the status of the transform style applied to the element\n * @returns {number} Returns the Height of the given element\n */\nexport function getElementHeight(element, isTransformed) {\n    return isTransformed ? element.offsetHeight : element.getBoundingClientRect().height;\n}\n/**\n * Method to get element cell Top\n *\n * @param {HTMLElement} element Accepts the DOM element\n * @param {boolean} isTransformed Accepts the boolean value that indicates the status of the transform style applied to the element\n * @returns {number} Returns the top value of the given element\n */\nexport function getElementTop(element, isTransformed) {\n    return isTransformed ? element.offsetTop : element.getBoundingClientRect().top;\n}\n","/**\n * CSS Constants\n */\n/** @private */\nexport var ROOT = 'e-schedule';\n/** @private */\nexport var RTL = 'e-rtl';\n/** @private */\nexport var DEVICE_CLASS = 'e-device';\n/** @private */\nexport var ADAPTIVE_CLASS = 'e-adaptive';\n/** @private */\nexport var MULTI_DRAG = 'e-multi-drag';\n/** @private */\nexport var ICON = 'e-icons';\n/** @private */\nexport var ENABLE_CLASS = 'e-enable';\n/** @private */\nexport var DISABLE_CLASS = 'e-disable';\n/** @private */\nexport var TABLE_CONTAINER_CLASS = 'e-table-container';\n/** @private */\nexport var SCHEDULE_TABLE_CLASS = 'e-schedule-table';\n/** @private */\nexport var ALLDAY_CELLS_CLASS = 'e-all-day-cells';\n/** @private */\nexport var HEADER_POPUP_CLASS = 'e-header-popup';\n/** @private */\nexport var HEADER_CALENDAR_CLASS = 'e-header-calendar';\n/** @private */\nexport var ALLDAY_ROW_CLASS = 'e-all-day-row';\n/** @private */\nexport var CONTENT_TABLE_CLASS = 'e-content-table';\n/** @private */\nexport var WORK_CELLS_CLASS = 'e-work-cells';\n/** @private */\nexport var WORK_HOURS_CLASS = 'e-work-hours';\n/** @private */\nexport var POPUP_OPEN = 'e-popup-open';\n/** @private */\nexport var POPUP_CLOSE = 'e-popup-close';\n/** @private */\nexport var DATE_HEADER_WRAP_CLASS = 'e-date-header-wrap';\n/** @private */\nexport var DATE_HEADER_CONTAINER_CLASS = 'e-date-header-container';\n/** @private */\nexport var HEADER_CELLS_CLASS = 'e-header-cells';\n/** @private */\nexport var HEADER_WEEK_CELLS_CLASS = 'e-header-week-cell';\n/** @private */\nexport var HEADER_MONTH_CELLS_CLASS = 'e-header-month-cell';\n/** @private */\nexport var HEADER_YEAR_CELLS_CLASS = 'e-header-year-cell';\n/** @private */\nexport var WORKDAY_CLASS = 'e-work-days';\n/** @private */\nexport var OTHERMONTH_CLASS = 'e-other-month';\n/** @private */\nexport var CURRENT_DAY_CLASS = 'e-current-day';\n/** @private */\nexport var CURRENTDATE_CLASS = 'e-current-date';\n/** @private */\nexport var CURRENT_PANEL_CLASS = 'e-current-panel';\n/** @private */\nexport var PREVIOUS_PANEL_CLASS = 'e-previous-panel';\n/** @private */\nexport var NEXT_PANEL_CLASS = 'e-next-panel';\n/** @private */\nexport var PREVIOUS_DATE_CLASS = 'e-prev';\n/** @private */\nexport var NEXT_DATE_CLASS = 'e-next';\n/** @private */\nexport var TRANSLATE_CLASS = 'e-translate';\n/** @private */\nexport var LEFT_INDENT_CLASS = 'e-left-indent';\n/** @private */\nexport var LEFT_INDENT_WRAP_CLASS = 'e-left-indent-wrap';\n/** @private */\nexport var EVENT_TABLE_CLASS = 'e-event-table';\n/** @private */\nexport var RESOURCE_LEFT_TD_CLASS = 'e-resource-left-td';\n/** @private */\nexport var RESOURCE_GROUP_CELLS_CLASS = 'e-resource-group-cells';\n/** @private */\nexport var RESOURCE_TEXT_CLASS = 'e-resource-text';\n/** @private */\nexport var RESOURCE_COLUMN_WRAP_CLASS = 'e-resource-column-wrap';\n/** @private */\nexport var RESOURCE_COLUMN_TABLE_CLASS = 'e-resource-column-table';\n/** @private */\nexport var RESOURCE_CHILD_CLASS = 'e-child-node';\n/** @private */\nexport var RESOURCE_PARENT_CLASS = 'e-parent-node';\n/** @private */\nexport var RESOURCE_EXPAND_CLASS = 'e-resource-expand';\n/** @private */\nexport var RESOURCE_COLLAPSE_CLASS = 'e-resource-collapse';\n/** @private */\nexport var RESOURCE_TREE_ICON_CLASS = 'e-resource-tree-icon';\n/** @private */\nexport var RESOURCE_CELLS_CLASS = 'e-resource-cells';\n/** @private */\nexport var TIME_CELLS_WRAP_CLASS = 'e-time-cells-wrap';\n/** @private */\nexport var TIME_CELLS_CLASS = 'e-time-cells';\n/** @private */\nexport var TIME_SLOT_CLASS = 'e-time-slots';\n/** @private */\nexport var ALTERNATE_CELLS_CLASS = 'e-alternate-cells';\n/** @private */\nexport var CURRENT_TIME_CLASS = 'e-current-time';\n/** @private */\nexport var CURRENT_TIMELINE_CLASS = 'e-current-timeline';\n/** @private */\nexport var PREVIOUS_TIMELINE_CLASS = 'e-previous-timeline';\n/** @private */\nexport var HIDE_CHILDS_CLASS = 'e-hide-childs';\n/** @private */\nexport var SCROLL_CONTAINER_CLASS = 'e-scroll-container';\n/** @private */\nexport var WRAPPER_CLASS = 'e-wrapper';\n/** @private */\nexport var TIMELINE_WRAPPER_CLASS = 'e-timeline-wrapper';\n/** @private */\nexport var APPOINTMENT_WRAPPER_CLASS = 'e-appointment-wrapper';\n/** @private */\nexport var APPOINTMENT_WRAPPER_HIDDEN_CLASS = 'e-appointment-wrapper-hidden';\n/** @private */\nexport var DAY_WRAPPER_CLASS = 'e-day-wrapper';\n/** @private */\nexport var TOOLBAR_CONTAINER = 'e-schedule-toolbar-container';\n/** @private */\nexport var RESOURCE_TOOLBAR_CONTAINER = 'e-schedule-resource-toolbar-container';\n/** @private */\nexport var HEADER_TOOLBAR = 'e-schedule-toolbar';\n/** @private */\nexport var RESOURCE_HEADER_TOOLBAR = 'e-schedule-resource-toolbar';\n/** @private */\nexport var SELECTED_CELL_CLASS = 'e-selected-cell';\n/** @private */\nexport var WEEK_NUMBER_WRAPPER_CLASS = 'e-week-number-wrapper';\n/** @private */\nexport var WEEK_NUMBER_CLASS = 'e-week-number';\n/** @private */\nexport var APPOINTMENT_WRAP_CLASS = 'e-appointment-wrap';\n/** @private */\nexport var WRAPPER_CONTAINER_CLASS = 'e-wrapper-container';\n/** @private */\nexport var APPOINTMENT_CONTAINER_CLASS = 'e-appointment-container';\n/** @private */\nexport var APPOINTMENT_CLASS = 'e-appointment';\n/** @private */\nexport var BLOCK_APPOINTMENT_CLASS = 'e-block-appointment';\n/** @private */\nexport var BLOCK_INDICATOR_CLASS = 'e-block-indicator';\n/** @private */\nexport var APPOINTMENT_BORDER = 'e-appointment-border';\n/** @private */\nexport var APPOINTMENT_DETAILS = 'e-appointment-details';\n/** @private */\nexport var SUBJECT_WRAP = 'e-subject-wrap';\n/** @private */\nexport var RESOURCE_NAME = 'e-resource-name';\n/** @private */\nexport var APPOINTMENT_TIME = 'e-time';\n/** @private */\nexport var TABLE_WRAP_CLASS = 'e-table-wrap';\n/** @private */\nexport var OUTER_TABLE_CLASS = 'e-outer-table';\n/** @private */\nexport var CONTENT_WRAP_CLASS = 'e-content-wrap';\n/** @private */\nexport var VIRTUAL_TRACK_CLASS = 'e-virtual-track';\n/** @private */\nexport var AGENDA_CELLS_CLASS = 'e-agenda-cells';\n/** @private */\nexport var AGENDA_CURRENT_DAY_CLASS = 'e-current-day';\n/** @private */\nexport var AGENDA_SELECTED_CELL = 'e-active-appointment-agenda';\n/** @private */\nexport var MONTH_HEADER_CLASS = 'e-month-header';\n/** @private */\nexport var AGENDA_HEADER_CLASS = 'e-day-date-header';\n/** @private */\nexport var AGENDA_RESOURCE_CLASS = 'e-resource-column';\n/** @private */\nexport var AGENDA_DATE_CLASS = 'e-date-column';\n/** @private */\nexport var NAVIGATE_CLASS = 'e-navigate';\n/** @private */\nexport var DATE_HEADER_CLASS = 'e-date-header';\n/** @private */\nexport var AGENDA_DAY_BORDER_CLASS = 'e-day-border';\n/** @private */\nexport var DATE_BORDER_CLASS = 'e-date-border';\n/** @private */\nexport var AGENDA_DAY_PADDING_CLASS = 'e-day-padding';\n/** @private */\nexport var DATE_TIME_CLASS = 'e-date-time';\n/** @private */\nexport var DATE_TIME_WRAPPER_CLASS = 'e-date-time-wrapper';\n/** @private */\nexport var AGENDA_EMPTY_EVENT_CLASS = 'e-empty-event';\n/** @private */\nexport var AGENDA_NO_EVENT_CLASS = 'e-no-event';\n/** @private */\nexport var APPOINTMENT_INDICATOR_CLASS = 'e-appointment-indicator';\n/** @private */\nexport var EVENT_INDICATOR_CLASS = 'e-indicator';\n/** @private */\nexport var EVENT_ICON_UP_CLASS = 'e-up-icon';\n/** @private */\nexport var EVENT_ICON_DOWN_CLASS = 'e-down-icon';\n/** @private */\nexport var EVENT_ICON_LEFT_CLASS = 'e-left-icon';\n/** @private */\nexport var EVENT_ICON_RIGHT_CLASS = 'e-right-icon';\n/** @private */\nexport var EVENT_ACTION_CLASS = 'e-event-action';\n/** @private */\nexport var NEW_EVENT_CLASS = 'e-new-event';\n/** @private */\nexport var CLONE_ELEMENT_CLASS = 'e-schedule-event-clone';\n/** @private */\nexport var MONTH_CLONE_ELEMENT_CLASS = 'e-month-event';\n/** @private */\nexport var CLONE_TIME_INDICATOR_CLASS = 'e-clone-time-indicator';\n/** @private */\nexport var DRAG_CLONE_CLASS = 'e-drag-clone';\n/** @private */\nexport var EVENT_RESIZE_CLASS = 'e-event-resize';\n/** @private */\nexport var RESIZE_CLONE_CLASS = 'e-resize-clone';\n/** @private */\nexport var LEFT_RESIZE_HANDLER = 'e-left-handler';\n/** @private */\nexport var RIGHT_RESIZE_HANDLER = 'e-right-handler';\n/** @private */\nexport var TOP_RESIZE_HANDLER = 'e-top-handler';\n/** @private */\nexport var BOTTOM_RESIZE_HANDLER = 'e-bottom-handler';\n/** @private */\nexport var EVENT_RECURRENCE_ICON_CLASS = 'e-recurrence-icon';\n/** @private */\nexport var EVENT_RECURRENCE_EDIT_ICON_CLASS = 'e-recurrence-edit-icon';\n/** @private */\nexport var HEADER_ROW_CLASS = 'e-header-row';\n/** @private */\nexport var ALLDAY_APPOINTMENT_WRAPPER_CLASS = 'e-all-day-appointment-wrapper';\n/** @private */\nexport var ALLDAY_APPOINTMENT_CLASS = 'e-all-day-appointment';\n/** @private */\nexport var EVENT_COUNT_CLASS = 'e-appointment-hide';\n/** @private */\nexport var ROW_COUNT_WRAPPER_CLASS = 'e-row-count-wrapper';\n/** @private */\nexport var ALLDAY_APPOINTMENT_SECTION_CLASS = 'e-all-day-appointment-section';\n/** @private */\nexport var APPOINTMENT_ROW_EXPAND_CLASS = 'e-appointment-expand';\n/** @private */\nexport var APPOINTMENT_ROW_COLLAPSE_CLASS = 'e-appointment-collapse';\n/** @private */\nexport var MORE_INDICATOR_CLASS = 'e-more-indicator';\n/** @private */\nexport var CELL_POPUP_CLASS = 'e-cell-popup';\n/** @private */\nexport var EVENT_POPUP_CLASS = 'e-event-popup';\n/** @private */\nexport var MULTIPLE_EVENT_POPUP_CLASS = 'e-multiple-event-popup';\n/** @private */\nexport var POPUP_HEADER_CLASS = 'e-popup-header';\n/** @private */\nexport var POPUP_HEADER_ICON_WRAPPER = 'e-header-icon-wrapper';\n/** @private */\nexport var POPUP_CONTENT_CLASS = 'e-popup-content';\n/** @private */\nexport var POPUP_FOOTER_CLASS = 'e-popup-footer';\n/** @private */\nexport var DATE_TIME_DETAILS_CLASS = 'e-date-time-details';\n/** @private */\nexport var RECURRENCE_SUMMARY_CLASS = 'e-recurrence-summary';\n/** @private */\nexport var QUICK_POPUP_EVENT_DETAILS_CLASS = 'e-event-details';\n/** @private */\nexport var EVENT_CREATE_CLASS = 'e-event-create';\n/** @private */\nexport var EDIT_EVENT_CLASS = 'e-event-edit';\n/** @private */\nexport var DELETE_EVENT_CLASS = 'e-event-delete';\n/** @private */\nexport var TEXT_ELLIPSIS = 'e-text-ellipsis';\n/** @private */\nexport var MORE_POPUP_WRAPPER_CLASS = 'e-more-popup-wrapper';\n/** @private */\nexport var MORE_EVENT_POPUP_CLASS = 'e-more-event-popup';\n/** @private */\nexport var MORE_EVENT_HEADER_CLASS = 'e-more-event-header';\n/** @private */\nexport var MORE_EVENT_DATE_HEADER_CLASS = 'e-more-event-date-header';\n/** @private */\nexport var MORE_EVENT_HEADER_DAY_CLASS = 'e-header-day';\n/** @private */\nexport var MORE_EVENT_HEADER_DATE_CLASS = 'e-header-date';\n/** @private */\nexport var MORE_EVENT_CLOSE_CLASS = 'e-more-event-close';\n/** @private */\nexport var MORE_EVENT_CONTENT_CLASS = 'e-more-event-content';\n/** @private */\nexport var MORE_EVENT_WRAPPER_CLASS = 'e-more-appointment-wrapper';\n/** @private */\nexport var QUICK_DIALOG_CLASS = 'e-quick-dialog';\n/** @private */\nexport var QUICK_DIALOG_OCCURRENCE_CLASS = 'e-quick-dialog-occurrence-event';\n/** @private */\nexport var QUICK_DIALOG_SERIES_CLASS = 'e-quick-dialog-series-event';\n/** @private */\nexport var QUICK_DIALOG_FOLLOWING_EVENTS_CLASS = 'e-quick-dialog-following-events';\n/** @private */\nexport var FOLLOWING_EVENTS_DIALOG = 'e-following-events-dialog';\n/** @private */\nexport var QUICK_DIALOG_DELETE_CLASS = 'e-quick-dialog-delete';\n/** @private */\nexport var QUICK_DIALOG_CANCEL_CLASS = 'e-quick-dialog-cancel';\n/** @private */\nexport var QUICK_DIALOG_ALERT_OK = 'e-quick-alertok';\n/** @private */\nexport var QUICK_DIALOG_ALERT_CANCEL = 'e-quick-alertcancel';\n/** @private */\nexport var QUICK_DIALOG_ALERT_FOLLOWING = 'e-quick-alertfollowing';\n/** @private */\nexport var QUICK_DIALOG_ALERT_BTN_CLASS = 'e-quick-dialog-alert-btn';\n/** @private */\nexport var EVENT_WINDOW_DIALOG_CLASS = 'e-schedule-dialog';\n/** @private */\nexport var FORM_CONTAINER_CLASS = 'e-form-container';\n/** @private */\nexport var FORM_CLASS = 'e-schedule-form';\n/** @private */\nexport var EVENT_WINDOW_ALLDAY_TZ_DIV_CLASS = 'e-all-day-time-zone-row';\n/** @private */\nexport var EVENT_WINDOW_ALL_DAY_CLASS = 'e-all-day';\n/** @private */\nexport var TIME_ZONE_CLASS = 'e-time-zone';\n/** @private */\nexport var TIME_ZONE_ICON_CLASS = 'e-time-zone-icon';\n/** @private */\nexport var TIME_ZONE_DETAILS_CLASS = 'e-time-zone-details';\n/** @private */\nexport var EVENT_WINDOW_REPEAT_DIV_CLASS = 'e-repeat-parent-row';\n/** @private */\nexport var EVENT_WINDOW_REPEAT_CLASS = 'e-repeat';\n/** @private */\nexport var EVENT_WINDOW_TITLE_LOCATION_DIV_CLASS = 'e-title-location-row';\n/** @private */\nexport var SUBJECT_CLASS = 'e-subject';\n/** @private */\nexport var LOCATION_CLASS = 'e-location';\n/** @private */\nexport var LOCATION_ICON_CLASS = 'e-location-icon';\n/** @private */\nexport var LOCATION_DETAILS_CLASS = 'e-location-details';\n/** @private */\nexport var EVENT_WINDOW_START_END_DIV_CLASS = 'e-start-end-row';\n/** @private */\nexport var EVENT_WINDOW_START_CLASS = 'e-start';\n/** @private */\nexport var EVENT_WINDOW_END_CLASS = 'e-end';\n/** @private */\nexport var EVENT_WINDOW_RESOURCES_DIV_CLASS = 'e-resources-row';\n/** @private */\nexport var DESCRIPTION_CLASS = 'e-description';\n/** @private */\nexport var DESCRIPTION_ICON_CLASS = 'e-description-icon';\n/** @private */\nexport var DESCRIPTION_DETAILS_CLASS = 'e-description-details';\n/** @private */\nexport var EVENT_WINDOW_TIME_ZONE_DIV_CLASS = 'e-time-zone-row';\n/** @private */\nexport var EVENT_WINDOW_START_TZ_CLASS = 'e-start-time-zone';\n/** @private */\nexport var EVENT_WINDOW_END_TZ_CLASS = 'e-end-time-zone';\n/** @private */\nexport var EVENT_WINDOW_BACK_ICON_CLASS = 'e-back-icon';\n/** @private */\nexport var EVENT_WINDOW_SAVE_ICON_CLASS = 'e-save-icon';\n/** @private */\nexport var EVENT_WINDOW_CANCEL_BUTTON_CLASS = 'e-event-cancel';\n/** @private */\nexport var EVENT_WINDOW_SAVE_BUTTON_CLASS = 'e-event-save';\n/** @private */\nexport var EVENT_WINDOW_DIALOG_PARENT_CLASS = 'e-dialog-parent';\n/** @private */\nexport var EVENT_WINDOW_TITLE_TEXT_CLASS = 'e-title-text';\n/** @private */\nexport var EVENT_WINDOW_ICON_DISABLE_CLASS = 'e-icon-disable';\n/** @private */\nexport var EDIT_CLASS = 'e-edit';\n/** @private */\nexport var EDIT_ICON_CLASS = 'e-edit-icon';\n/** @private */\nexport var DELETE_CLASS = 'e-delete';\n/** @private */\nexport var DELETE_ICON_CLASS = 'e-delete-icon';\n/** @private */\nexport var CLOSE_CLASS = 'e-close';\n/** @private */\nexport var CLOSE_ICON_CLASS = 'e-close-icon';\n/** @private */\nexport var ERROR_VALIDATION_CLASS = 'e-schedule-error';\n/** @private */\nexport var EVENT_TOOLTIP_ROOT_CLASS = 'e-schedule-event-tooltip';\n/** @private */\nexport var ALLDAY_ROW_ANIMATE_CLASS = 'e-animate';\n/** @private */\nexport var TIMESCALE_DISABLE = 'e-timescale-disable';\n/** @private */\nexport var DISABLE_DATE = 'e-disable-date';\n/** @private */\nexport var HIDDEN_CLASS = 'e-hidden';\n/** @private */\nexport var DISABLE_DATES = 'e-disable-dates';\n/** @private */\nexport var POPUP_WRAPPER_CLASS = 'e-quick-popup-wrapper';\n/** @private */\nexport var POPUP_TABLE_CLASS = 'e-popup-table';\n/** @private */\nexport var RESOURCE_MENU = 'e-resource-menu';\n/** @private */\nexport var RESOURCE_MENU_ICON = 'e-icon-menu';\n/** @private */\nexport var RESOURCE_LEVEL_TITLE = 'e-resource-level-title';\n/** @private */\nexport var RESOURCE_TREE = 'e-resource-tree';\n/** @private */\nexport var RESOURCE_TREE_POPUP_OVERLAY = 'e-resource-tree-popup-overlay';\n/** @private */\nexport var RESOURCE_TREE_POPUP = 'e-resource-tree-popup';\n/** @private */\nexport var RESOURCE_CLASS = 'e-resource';\n/** @private */\nexport var RESOURCE_ICON_CLASS = 'e-resource-icon';\n/** @private */\nexport var RESOURCE_DETAILS_CLASS = 'e-resource-details';\n/** @private */\nexport var DATE_TIME_ICON_CLASS = 'e-date-time-icon';\n/** @private */\nexport var VIRTUAL_SCROLL_CLASS = 'e-virtual-scroll';\n/** @private */\nexport var ICON_DISABLE_CLASS = 'e-icon-disable';\n/** @private */\nexport var AUTO_HEIGHT = 'e-auto-height';\n/** @private */\nexport var IGNORE_WHITESPACE = 'e-ignore-whitespace';\n/** @private */\nexport var EVENT_TEMPLATE = 'e-template';\n/** @private */\nexport var READ_ONLY = 'e-read-only';\n/** @private */\nexport var MONTH_HEADER_WRAPPER = 'e-month-header-wrapper';\n/** @private */\nexport var INLINE_SUBJECT_CLASS = 'e-inline-subject';\n/** @private */\nexport var INLINE_APPOINTMENT_CLASS = 'e-inline-appointment';\n/** @hidden */\nexport var SCROLL_HIDDEN = 'e-scroll-hidden';\n/** @private */\nexport var ALLDAY_APPOINTMENT_SCROLL = 'e-all-day-scroll';\n/** @private */\nexport var ALLDAY_APPOINTMENT_AUTO = 'e-all-day-auto';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend, append } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Calendar } from '@syncfusion/ej2-calendars';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\n/**\n * Header module\n */\nvar HeaderRenderer = /** @class */ (function () {\n    function HeaderRenderer(parent) {\n        this.parent = parent;\n        this.l10n = this.parent.localeObj;\n        this.renderHeader();\n        this.addEventListener();\n    }\n    HeaderRenderer.prototype.addEventListener = function () {\n        this.parent.on(events.documentClick, this.closeHeaderPopup, this);\n    };\n    HeaderRenderer.prototype.removeEventListener = function () {\n        this.parent.off(events.documentClick, this.closeHeaderPopup);\n    };\n    HeaderRenderer.prototype.closeHeaderPopup = function (e) {\n        var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-day,.e-selected');\n        var closestPop = closest(e.event.target, '.e-hor-nav,.e-toolbar-pop');\n        var contentWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(closestPop) && (closestPop.classList.contains('e-toolbar-pop') ||\n                closestPop.classList.contains('e-hor-nav')) && !(closestPop.classList.contains('e-hor-nav') &&\n                this.element.querySelector('.e-toolbar-pop').classList.contains(cls.POPUP_OPEN))) {\n                addClass([contentWrap], cls.SCROLL_HIDDEN);\n            }\n            else {\n                removeClass([contentWrap], cls.SCROLL_HIDDEN);\n                var popupEle = this.element.querySelector('.e-toolbar-pop');\n                if (!isNullOrUndefined(popupEle)) {\n                    var popupObj = popupEle.ej2_instances[0];\n                    if (popupObj && !(!isNullOrUndefined(closestPop) && closestPop.classList.contains('e-hor-nav') &&\n                        popupEle.classList.contains(cls.POPUP_OPEN))) {\n                        popupObj.hide();\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(closestEle)) {\n            return;\n        }\n        this.hideHeaderPopup();\n    };\n    HeaderRenderer.prototype.hideHeaderPopup = function () {\n        if (this.headerPopup) {\n            this.headerPopup.hide();\n        }\n    };\n    HeaderRenderer.prototype.renderHeader = function () {\n        this.element = createElement('div', { className: cls.TOOLBAR_CONTAINER });\n        var toolbarEle = createElement('div', { className: cls.HEADER_TOOLBAR });\n        this.element.appendChild(toolbarEle);\n        this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\n        this.renderToolbar();\n    };\n    HeaderRenderer.prototype.renderToolbar = function () {\n        var _this = this;\n        var items = (this.parent.toolbarItems && this.parent.toolbarItems.length > 0) ?\n            this.getToolbarItems() : this.getItems();\n        this.parent.trigger(events.actionBegin, { requestType: 'toolbarItemRendering', items: items }, function (args) {\n            _this.toolbarObj = new Toolbar({\n                items: args.items,\n                overflowMode: 'Popup',\n                clicked: _this.toolbarClickHandler.bind(_this),\n                created: _this.toolbarCreateHandler.bind(_this),\n                enableRtl: _this.parent.enableRtl,\n                enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n                locale: _this.parent.locale\n            });\n            _this.toolbarObj.isStringTemplate = true;\n            _this.toolbarObj.root = _this.parent.root ? _this.parent.root : _this.parent;\n            _this.toolbarObj.appendTo(_this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\n            _this.toolbarObj.element.setAttribute('aria-label', 'Scheduler');\n            var prevNavEle = _this.toolbarObj.element.querySelector('.e-prev');\n            if (prevNavEle) {\n                prevNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('previous'));\n            }\n            var nextNavEle = _this.toolbarObj.element.querySelector('.e-next');\n            if (nextNavEle) {\n                nextNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('next'));\n            }\n            _this.updateAddIcon();\n            _this.updateActiveView();\n            _this.parent.trigger(events.actionComplete, { requestType: 'toolBarItemRendered', items: _this.toolbarObj.items });\n        });\n    };\n    HeaderRenderer.prototype.updateItems = function () {\n        var _this = this;\n        if (this.toolbarObj) {\n            var items = this.getItems();\n            this.parent.trigger(events.actionBegin, { requestType: 'toolbarItemRendering', items: items }, function (args) {\n                _this.toolbarObj.items = args.items;\n                _this.toolbarObj.dataBind();\n                _this.parent.trigger(events.actionComplete, { requestType: 'toolBarItemRendered', items: _this.toolbarObj.items });\n            });\n        }\n    };\n    HeaderRenderer.prototype.getPopUpRelativeElement = function () {\n        if (this.parent.isAdaptive) {\n            return this.toolbarObj.element;\n        }\n        return this.element.querySelector('.e-date-range');\n    };\n    HeaderRenderer.prototype.setDayOfWeek = function (index) {\n        if (this.headerCalendar) {\n            this.headerCalendar.firstDayOfWeek = index;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.setCalendarDate = function (date) {\n        if (this.headerCalendar) {\n            this.headerCalendar.value = date;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\n        if (this.headerCalendar) {\n            this.headerCalendar.min = this.parent.minDate;\n            this.headerCalendar.max = this.parent.maxDate;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.getCalendarView = function () {\n        if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\n            return 'Year';\n        }\n        else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    HeaderRenderer.prototype.setCalendarView = function () {\n        if (this.headerCalendar) {\n            var calendarView = this.getCalendarView();\n            this.headerCalendar.depth = calendarView;\n            this.headerCalendar.start = calendarView;\n            this.headerCalendar.refresh();\n        }\n    };\n    HeaderRenderer.prototype.updateActiveView = function () {\n        var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\n        removeClass(selEle, ['e-active-view']);\n        if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\n            addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\n        }\n    };\n    HeaderRenderer.prototype.updateDateRange = function (date) {\n        var selEle = this.toolbarObj.element.querySelector('.e-date-range');\n        if (!selEle) {\n            return;\n        }\n        selEle.firstElementChild.setAttribute('aria-haspopup', 'true');\n        var textEle = selEle.querySelector('.e-tbar-btn-text');\n        if (this.parent.activeViewOptions.dateRangeTemplate) {\n            textEle.textContent = '';\n            var args = {\n                startDate: this.parent.activeView.getStartDate(),\n                endDate: this.parent.activeView.getEndDate(), currentView: this.parent.currentView\n            };\n            var viewName = this.parent.activeViewOptions.dateRangeTemplateName;\n            var templateId = this.parent.element.id + '_' + viewName + 'dateRangeTemplate';\n            var dateTemplate = [].slice.call(this.parent.getDateRangeTemplate()(args, this.parent, 'dateRangeTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(dateTemplate, textEle);\n        }\n        else {\n            var text = this.parent.activeView.getDateRangeText(date);\n            selEle.firstElementChild.setAttribute('aria-label', text);\n            textEle.textContent = text;\n        }\n        this.refresh();\n    };\n    HeaderRenderer.prototype.refresh = function () {\n        if (this.toolbarObj) {\n            this.toolbarObj.refreshOverflow();\n        }\n    };\n    HeaderRenderer.prototype.updateAddIcon = function () {\n        var addEle = this.toolbarObj.element.querySelector('.e-add');\n        if (addEle) {\n            if (!this.parent.eventSettings.allowAdding) {\n                addClass([addEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([addEle], cls.HIDDEN_CLASS);\n            }\n        }\n    };\n    HeaderRenderer.prototype.getDateRangeText = function () {\n        var dateString = this.parent.globalize.formatDate(this.parent.selectedDate, {\n            format: 'MMMM y', calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(dateString, 'single');\n    };\n    HeaderRenderer.prototype.getItemModel = function (propItem) {\n        var item = {};\n        if (propItem.id) {\n            item.id = propItem.id;\n        }\n        if (propItem.text) {\n            item.text = propItem.text;\n        }\n        if (propItem.tooltipText) {\n            item.tooltipText = propItem.tooltipText;\n        }\n        if (propItem.prefixIcon) {\n            item.prefixIcon = propItem.prefixIcon;\n        }\n        if (propItem.cssClass) {\n            item.cssClass = propItem.cssClass;\n        }\n        if (propItem.showTextOn !== 'Both') {\n            item.showTextOn = propItem.showTextOn;\n        }\n        if (propItem.template) {\n            item.template = propItem.template;\n        }\n        if (propItem.disabled) {\n            item.disabled = propItem.disabled;\n        }\n        if (propItem.width !== 'auto') {\n            item.width = propItem.width;\n        }\n        if (propItem.suffixIcon) {\n            item.suffixIcon = propItem.suffixIcon;\n        }\n        if (propItem.align !== 'Left') {\n            item.align = propItem.align;\n        }\n        if (propItem.overflow !== 'None') {\n            item.overflow = propItem.overflow;\n        }\n        if (propItem.htmlAttributes) {\n            item.htmlAttributes = propItem.htmlAttributes;\n        }\n        if (propItem.type !== 'Button') {\n            item.type = propItem.type;\n        }\n        if (propItem.visible !== true) {\n            item.visible = propItem.visible;\n        }\n        if (propItem.showAlwaysInPopup) {\n            item.showAlwaysInPopup = propItem.showAlwaysInPopup;\n        }\n        if (propItem.tabIndex !== -1) {\n            item.tabIndex = propItem.tabIndex;\n        }\n        return item;\n    };\n    HeaderRenderer.prototype.getToolbarItems = function () {\n        var items = [];\n        var propItem;\n        for (var _i = 0, _a = this.parent.toolbarItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            propItem = this.getItemModel(item);\n            var tbItem = void 0;\n            if (item.name) {\n                switch (item.name) {\n                    case 'Today':\n                        tbItem = {\n                            showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-today',\n                            text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'Previous':\n                        tbItem = {\n                            prefixIcon: 'e-icon-prev', tooltipText: 'Previous', overflow: 'Show',\n                            cssClass: 'e-prev', htmlAttributes: { 'role': 'navigation' }\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'Next':\n                        tbItem = {\n                            prefixIcon: 'e-icon-next', tooltipText: 'Next', overflow: 'Show',\n                            cssClass: 'e-next', htmlAttributes: { 'role': 'navigation' }\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'DateRangeText':\n                        tbItem = {\n                            text: this.getDateRangeText(), suffixIcon: 'e-icon-down-arrow', cssClass: 'e-date-range',\n                            overflow: 'Show',\n                            htmlAttributes: { 'aria-atomic': 'true', 'aria-live': 'assertive', 'role': 'navigation' }\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'NewEvent':\n                        tbItem = {\n                            showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-add',\n                            text: this.l10n.getConstant('newEvent'), cssClass: 'e-add', overflow: 'Show'\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'Views':\n                        if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n                            for (var _b = 0, _c = this.parent.views; _b < _c.length; _b++) {\n                                var view = _c[_b];\n                                tbItem = this.getItemObject(view);\n                                tbItem.align = propItem.align ? propItem.align : item.align;\n                                items.push(__assign({}, tbItem, propItem));\n                            }\n                        }\n                        break;\n                    case 'Custom':\n                        items.push(item);\n                        break;\n                }\n            }\n            else {\n                items.push(item);\n            }\n        }\n        return items;\n    };\n    HeaderRenderer.prototype.getItems = function () {\n        var items = [];\n        items.push({\n            align: 'Left', prefixIcon: 'e-icon-prev', tooltipText: 'Previous', overflow: 'Show',\n            cssClass: 'e-prev'\n        });\n        items.push({\n            align: 'Left', prefixIcon: 'e-icon-next', tooltipText: 'Next', overflow: 'Show',\n            cssClass: 'e-next'\n        });\n        items.push({\n            align: 'Left', text: this.getDateRangeText(), suffixIcon: 'e-icon-down-arrow', cssClass: 'e-date-range',\n            overflow: 'Show',\n            htmlAttributes: { 'aria-atomic': 'true', 'aria-live': 'assertive' }\n        });\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-add',\n                text: this.l10n.getConstant('newEvent'), cssClass: 'e-add', overflow: 'Show'\n            });\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-today',\n                text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n            });\n        }\n        else {\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-today',\n                text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n            });\n            if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n                items.push({ align: 'Right', type: 'Separator', cssClass: 'e-schedule-seperator' });\n            }\n        }\n        if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n            for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\n                var item = _a[_i];\n                items.push(this.getItemObject(item));\n            }\n        }\n        return items;\n    };\n    HeaderRenderer.prototype.getItemObject = function (item) {\n        var viewName;\n        var displayName;\n        if (typeof (item) === 'string') {\n            viewName = item.toLowerCase();\n            displayName = null;\n        }\n        else {\n            viewName = item.option.toLowerCase();\n            displayName = item.displayName;\n        }\n        var view;\n        var orientationClass;\n        var isItemInsidePopup = this.parent.isAdaptive || this.parent.enableAdaptiveUI;\n        switch (viewName) {\n            case 'day':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-day',\n                    text: displayName || this.l10n.getConstant('day'), cssClass: 'e-views e-day'\n                };\n                break;\n            case 'week':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-week',\n                    text: displayName || this.l10n.getConstant('week'), cssClass: 'e-views e-week'\n                };\n                break;\n            case 'workweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-workweek',\n                    text: displayName || this.l10n.getConstant('workWeek'), cssClass: 'e-views e-work-week'\n                };\n                break;\n            case 'month':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-month',\n                    text: displayName || this.l10n.getConstant('month'), cssClass: 'e-views e-month'\n                };\n                break;\n            case 'year':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-year',\n                    text: displayName || this.l10n.getConstant('year'), cssClass: 'e-views e-year'\n                };\n                break;\n            case 'agenda':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-agenda',\n                    text: displayName || this.l10n.getConstant('agenda'), cssClass: 'e-views e-agenda'\n                };\n                break;\n            case 'monthagenda':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-month-agenda',\n                    text: displayName || this.l10n.getConstant('monthAgenda'), cssClass: 'e-views e-month-agenda'\n                };\n                break;\n            case 'timelineday':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-day',\n                    text: displayName || this.l10n.getConstant('timelineDay'), cssClass: 'e-views e-timeline-day'\n                };\n                break;\n            case 'timelineweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-week',\n                    text: displayName || this.l10n.getConstant('timelineWeek'), cssClass: 'e-views e-timeline-week'\n                };\n                break;\n            case 'timelineworkweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-workweek',\n                    text: displayName || this.l10n.getConstant('timelineWorkWeek'), cssClass: 'e-views e-timeline-work-week'\n                };\n                break;\n            case 'timelinemonth':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-month',\n                    text: displayName || this.l10n.getConstant('timelineMonth'), cssClass: 'e-views e-timeline-month'\n                };\n                break;\n            case 'timelineyear':\n                orientationClass = (item.orientation === 'Vertical') ? 'vertical' : 'horizontal';\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-year-' + orientationClass,\n                    text: displayName || this.l10n.getConstant('timelineYear'), cssClass: 'e-views e-timeline-year'\n                };\n                break;\n        }\n        return view;\n    };\n    HeaderRenderer.prototype.renderHeaderPopup = function () {\n        var headerPopupEle = createElement('div', { className: cls.HEADER_POPUP_CLASS });\n        var headerCalendarEle = createElement('div', { className: cls.HEADER_CALENDAR_CLASS });\n        headerPopupEle.appendChild(headerCalendarEle);\n        this.element.appendChild(headerPopupEle);\n        this.headerPopup = new Popup(headerPopupEle, {\n            actionOnScroll: 'hide',\n            targetType: 'relative',\n            relateTo: this.getPopUpRelativeElement(),\n            position: { X: 'left', Y: 'bottom' },\n            enableRtl: this.parent.enableRtl\n        });\n        var calendarView = this.getCalendarView();\n        var isDisplayDate = this.parent.currentView === 'Month' &&\n            !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && !this.hasSelectedDate();\n        this.headerCalendar = new Calendar({\n            value: isDisplayDate ? this.parent.activeViewOptions.displayDate : this.parent.selectedDate,\n            min: this.parent.minDate,\n            max: this.parent.maxDate,\n            firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            depth: calendarView,\n            start: calendarView,\n            calendarMode: this.parent.calendarMode,\n            change: this.calendarChange.bind(this)\n        });\n        this.setCalendarTimezone();\n        this.headerCalendar.appendTo(headerCalendarEle);\n        this.headerPopup.hide();\n    };\n    HeaderRenderer.prototype.calendarChange = function (args) {\n        if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\n            var calendarDate = util.resetTime(new Date(args.value));\n            this.parent.changeDate(calendarDate);\n        }\n        this.headerPopup.hide();\n    };\n    HeaderRenderer.prototype.setCalendarTimezone = function () {\n        if (this.headerCalendar) {\n            this.headerCalendar.timezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n        }\n    };\n    HeaderRenderer.prototype.calculateViewIndex = function (args) {\n        var target = closest(args.originalEvent.target, '.e-views');\n        var views = [].slice.call(this.element.querySelectorAll('.e-views'));\n        return views.indexOf(target);\n    };\n    HeaderRenderer.prototype.toolbarCreateHandler = function () {\n        if (this.parent && this.parent.portals && this.toolbarObj && this.toolbarObj.portals) {\n            this.parent.portals = this.parent.portals.concat(this.toolbarObj.portals);\n            this.parent['renderReactTemplates']();\n        }\n    };\n    HeaderRenderer.prototype.toolbarClickHandler = function (args) {\n        if (!args.item) {\n            return;\n        }\n        var strClass = args.item.cssClass.replace('e-views ', '');\n        var data;\n        var isSameTime;\n        var currentTime;\n        switch (strClass) {\n            case 'e-date-range':\n                if (!this.headerPopup) {\n                    this.renderHeaderPopup();\n                }\n                if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\n                    this.headerPopup.hide();\n                }\n                else {\n                    this.headerPopup.show();\n                }\n                break;\n            case 'e-day':\n                this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-week':\n                this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-work-week':\n                this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-month':\n                this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-year':\n                this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-agenda':\n                this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-month-agenda':\n                this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-day':\n                this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-week':\n                this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-work-week':\n                this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-month':\n                this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-year':\n                this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-today':\n                currentTime = util.resetTime(this.parent.getCurrentTime());\n                if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda' || !this.parent.isSelectedDate(currentTime) ||\n                    this.parent.currentView === 'Month' && this.parent.activeViewOptions.displayDate && !this.hasSelectedDate() &&\n                        util.resetTime(this.parent.activeViewOptions.displayDate) !== currentTime || this.parent.currentView === 'Month' &&\n                    this.parent.activeViewOptions.numberOfWeeks > 0 && !this.hasSelectedDate()\n                    && util.resetTime(util.firstDateOfMonth(this.parent.selectedDate)) !== currentTime) {\n                    this.parent.changeDate(currentTime, args.originalEvent);\n                }\n                break;\n            case 'e-prev':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), args.originalEvent);\n                break;\n            case 'e-next':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), args.originalEvent);\n                break;\n            case 'e-add':\n                isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\n                if (this.parent.activeCellsData && !isSameTime) {\n                    data = this.parent.activeCellsData;\n                }\n                else {\n                    var interval = this.parent.activeViewOptions.timeScale.interval;\n                    var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\n                    var msInterval = (interval * util.MS_PER_MINUTE) / slotCount;\n                    var startTime = new Date(this.parent.selectedDate.getTime());\n                    var currentTime_1 = this.parent.getCurrentTime();\n                    startTime.setHours(currentTime_1.getHours(), (Math.round(startTime.getMinutes() / msInterval) * msInterval), 0);\n                    var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\n                    data = { startTime: startTime, endTime: endTime, isAllDay: false };\n                }\n                this.parent.eventWindow.openEditor(extend(data, { cancel: false, event: args.originalEvent }), 'Add');\n                break;\n        }\n        if (isNullOrUndefined(this.toolbarObj)) {\n            return;\n        }\n        var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\n        if (toolbarPopUp && args.item.type !== 'Input') {\n            toolbarPopUp.ej2_instances[0].hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    HeaderRenderer.prototype.hasSelectedDate = function () {\n        var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n        return selectedTime >= this.parent.activeView.getStartDate().getTime() &&\n            selectedTime <= this.parent.activeView.getEndDate().getTime();\n    };\n    HeaderRenderer.prototype.getHeaderElement = function () {\n        return this.toolbarObj.element;\n    };\n    HeaderRenderer.prototype.updateHeaderItems = function (classType) {\n        var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n        var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n        var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\n        if (prevNavEle) {\n            if (classType === 'add') {\n                addClass([prevNavEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([prevNavEle], cls.HIDDEN_CLASS);\n            }\n        }\n        if (nextNavEle) {\n            if (classType === 'add') {\n                addClass([nextNavEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([nextNavEle], cls.HIDDEN_CLASS);\n            }\n        }\n        if (dateRangeEle) {\n            if (classType === 'add') {\n                addClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n            }\n            else {\n                removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n            }\n        }\n    };\n    HeaderRenderer.prototype.previousNextIconHandler = function () {\n        var dates = (this.parent.currentView === 'Agenda' ?\n            [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates());\n        var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\n        var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\n        var firstDate = new Date(dates[0].getTime());\n        var lastDate = new Date(dates[dates.length - 1].getTime());\n        if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n            firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.activeViewOptions.firstDayOfWeek);\n            lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\n        }\n        else if (this.parent.currentView === 'Month') {\n            var isCustomMonth = !isNullOrUndefined(this.parent.activeViewOptions.displayDate) ||\n                this.parent.activeViewOptions.numberOfWeeks > 0;\n            firstDate = isCustomMonth ? this.parent.activeView.getStartDate() : util.firstDateOfMonth(this.parent.selectedDate);\n            lastDate = isCustomMonth ? this.parent.activeView.getEndDate() :\n                util.lastDateOfMonth(util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1));\n        }\n        if (!isNullOrUndefined(prevNavEle)) {\n            this.toolbarObj.enableItems(prevNavEle, firstDate > util.resetTime(this.parent.minDate));\n        }\n        if (!isNullOrUndefined(nextNavEle)) {\n            this.toolbarObj.enableItems(nextNavEle, lastDate < util.resetTime(this.parent.maxDate));\n        }\n        this.setCalendarMinMaxDate();\n    };\n    HeaderRenderer.prototype.getModuleName = function () {\n        return 'headerbar';\n    };\n    HeaderRenderer.prototype.destroy = function () {\n        if (this.headerPopup && !this.headerPopup.isDestroyed) {\n            this.headerPopup.destroy();\n            this.headerPopup = null;\n        }\n        if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\n            this.headerCalendar.destroy();\n            this.headerCalendar = null;\n        }\n        if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\n            this.toolbarObj.destroy();\n            this.removeEventListener();\n            remove(this.element);\n            this.toolbarObj = null;\n        }\n        this.element = null;\n        this.parent = null;\n        this.l10n = null;\n    };\n    return HeaderRenderer;\n}());\nexport { HeaderRenderer };\n","import { formatUnit } from '@syncfusion/ej2-base';\nimport { contentReady, uiUpdate, scrollUiUpdate } from '../base/constant';\n/**\n * `Scroll` module\n */\nvar Scroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Schedule} parent Accepts the Schedule instance\n     */\n    function Scroll(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} Returns the module name.\n     * @private\n     */\n    Scroll.prototype.getModuleName = function () {\n        return 'scroll';\n    };\n    /**\n     * Internal method to set the element width\n     *\n     * @returns {void}\n     * @private\n     */\n    Scroll.prototype.setWidth = function () {\n        this.parent.element.style.width = formatUnit(this.parent.width);\n    };\n    /**\n     * Internal method to set the element height\n     *\n     * @returns {void}\n     * @private\n     */\n    Scroll.prototype.setHeight = function () {\n        this.parent.element.style.height = formatUnit(this.parent.height);\n    };\n    /**\n     * Internal method to bind events\n     *\n     * @returns {void}\n     * @private\n     */\n    Scroll.prototype.addEventListener = function () {\n        this.parent.on(contentReady, this.setDimensions, this);\n        this.parent.on(uiUpdate, this.onPropertyChanged, this);\n    };\n    /**\n     * Internal method to unbind events\n     *\n     * @returns {void}\n     * @private\n     */\n    Scroll.prototype.removeEventListener = function () {\n        this.parent.off(contentReady, this.setDimensions);\n        this.parent.off(uiUpdate, this.onPropertyChanged);\n    };\n    /**\n     * Internal method to set the dimensions\n     *\n     * @returns {void}\n     * @private\n     */\n    Scroll.prototype.setDimensions = function () {\n        this.setWidth();\n        this.setHeight();\n        var data = { cssProperties: this.parent.getCssProperties(), module: this.getModuleName() };\n        this.parent.notify(scrollUiUpdate, data);\n    };\n    /**\n     * Internal method to set the dimensions dynamically\n     *\n     * @returns {void}\n     * @private\n     */\n    Scroll.prototype.onPropertyChanged = function () {\n        this.setDimensions();\n    };\n    /**\n     * Destroy the scroll module\n     *\n     * @returns {void}\n     * @private\n     */\n    Scroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return Scroll;\n}());\nexport { Scroll };\n","import { addClass, removeClass, Touch, remove, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * `touch` module is used to handle touch interactions.\n */\nvar ScheduleTouch = /** @class */ (function () {\n    function ScheduleTouch(parent) {\n        this.parent = parent;\n        this.element = this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS);\n        this.touchObj = new Touch(this.element, {\n            scroll: this.scrollHandler.bind(this),\n            swipe: this.swipeHandler.bind(this),\n            tapHold: this.tapHoldHandler.bind(this),\n            swipeSettings: { swipeThresholdDistance: 1 }\n        });\n        EventHandler.add(this.element, 'transitionend', this.onTransitionEnd, this);\n        this.touchLeftDirection = this.parent.enableRtl ? 'Right' : 'Left';\n        this.touchRightDirection = this.parent.enableRtl ? 'Left' : 'Right';\n    }\n    ScheduleTouch.prototype.scrollHandler = function (e) {\n        var blockSwipe = !this.parent.isAdaptive && e.originalEvent && e.originalEvent.target &&\n            !isNullOrUndefined(closest(e.originalEvent.target, '.' + cls.APPOINTMENT_CLASS));\n        this.parent.uiStateValues.isTouchScroll = blockSwipe && e.originalEvent.type === 'touchmove' && !this.parent.uiStateValues.action;\n        if (blockSwipe || this.parent.currentView === 'Agenda' || this.parent.uiStateValues.action || !this.parent.allowSwiping ||\n            this.parent.uiStateValues.isTapHold) {\n            return;\n        }\n        if (!this.timeStampStart) {\n            this.timeStampStart = Date.now();\n        }\n        if (this.element.classList.contains(cls.TRANSLATE_CLASS)) {\n            this.onTransitionEnd();\n        }\n        if (e.scrollDirection === 'Left' || e.scrollDirection === 'Right') {\n            var args = { requestType: 'dateNavigate', cancel: false, event: e.originalEvent };\n            this.parent.trigger(events.actionBegin, args);\n            if (args.cancel) {\n                return;\n            }\n            var scrollDiv = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            if (scrollDiv && scrollDiv.scrollWidth > scrollDiv.clientWidth) {\n                return;\n            }\n            else {\n                this.isScrollTriggered = true;\n                e.originalEvent.preventDefault();\n                e.originalEvent.stopPropagation();\n            }\n        }\n        if (e.scrollDirection === this.touchLeftDirection) {\n            if (!this.nextPanel) {\n                this.renderPanel(cls.NEXT_PANEL_CLASS, 'next');\n                this.nextPanel = {\n                    element: this.parent.activeView.getPanel(),\n                    selectedDate: new Date(this.parent.selectedDate.getTime()),\n                    renderDates: this.parent.activeView.renderDates,\n                    colLevels: this.parent.activeView.colLevels\n                };\n                this.setDimensions(this.nextPanel.element);\n            }\n            var x = this.parent.enableRtl ? e.distanceX : -e.distanceX;\n            this.element.style.transform = 'translatex(' + (this.getTranslateX(this.element) + x) + 'px)';\n        }\n        else if (e.scrollDirection === this.touchRightDirection) {\n            var prevWidth = 0;\n            if (!this.previousPanel) {\n                this.renderPanel(cls.PREVIOUS_PANEL_CLASS, 'previous');\n                this.previousPanel = {\n                    element: this.parent.activeView.getPanel(),\n                    selectedDate: new Date(this.parent.selectedDate.getTime()),\n                    renderDates: this.parent.activeView.renderDates,\n                    colLevels: this.parent.activeView.colLevels\n                };\n                this.setDimensions(this.previousPanel.element);\n                prevWidth = this.previousPanel.element.offsetWidth;\n            }\n            var x = this.parent.enableRtl ? prevWidth - e.distanceX : -prevWidth + e.distanceX;\n            this.element.style.transform = 'translatex(' + (this.getTranslateX(this.element) + x) + 'px)';\n        }\n    };\n    ScheduleTouch.prototype.swipeHandler = function (e) {\n        if (!this.isScrollTriggered || this.parent.uiStateValues.action || !this.parent.allowSwiping ||\n            this.parent.uiStateValues.isTapHold) {\n            return;\n        }\n        this.isScrollTriggered = false;\n        var swipeDate = e.swipeDirection === 'Left' ?\n            this.parent.activeView.renderDates[0] : this.parent.activeView.renderDates.slice(-1)[0];\n        if ((e.swipeDirection === 'Left' && swipeDate < this.parent.maxDate) ||\n            (e.swipeDirection === 'Right' && swipeDate >= this.parent.minDate)) {\n            var time = Date.now() - this.timeStampStart;\n            var offsetDist = (e.distanceX * (Browser.isDevice ? 6 : 1.66));\n            if (offsetDist > time || (e.distanceX > (this.parent.element.offsetWidth / 2))) {\n                this.swapPanels(e.swipeDirection);\n                if (offsetDist > time && (e.distanceX > (this.parent.element.offsetWidth / 2))) {\n                    this.element.style.transitionDuration = (((Browser.isDevice ? e.distanceX : offsetDist) / time) / 10) + 's';\n                }\n                this.confirmSwipe(e.swipeDirection);\n            }\n            else {\n                this.cancelSwipe();\n            }\n            var args = { requestType: 'dateNavigate', cancel: false, event: e.originalEvent };\n            this.parent.trigger(events.actionComplete, args);\n        }\n        else {\n            this.cancelSwipe();\n        }\n        this.timeStampStart = null;\n    };\n    ScheduleTouch.prototype.tapHoldHandler = function (e) {\n        var target = closest(e.originalEvent.target, '.' + cls.APPOINTMENT_CLASS);\n        if (!isNullOrUndefined(target)) {\n            this.parent.uiStateValues.isTapHold = true;\n            if (this.parent.isAdaptive) {\n                if (Browser.isIos) {\n                    EventHandler.add(this.element, 'touchend', this.preventEventClick, this);\n                }\n                this.parent.quickPopup.tapHoldEventPopup(e.originalEvent);\n            }\n            else if (['Agenda', 'MonthAgenda', 'Year'].indexOf(this.parent.currentView) < 0) {\n                this.parent.selectedElements = [];\n                this.parent.eventBase.getSelectedEventElements(target);\n                if (this.parent.resizeModule && closest(e.originalEvent.target, '.' + cls.EVENT_RESIZE_CLASS)) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.parent.resizeModule.resizeStart(e.originalEvent);\n                }\n            }\n        }\n    };\n    ScheduleTouch.prototype.preventEventClick = function (e) {\n        e.preventDefault();\n        EventHandler.remove(this.element, 'touchend', this.preventEventClick);\n    };\n    ScheduleTouch.prototype.renderPanel = function (clsName, nextPrevType) {\n        if (!this.currentPanel) {\n            this.currentPanel = {\n                element: this.parent.activeView.getPanel(),\n                selectedDate: new Date(this.parent.selectedDate.getTime()),\n                renderDates: this.parent.activeView.renderDates,\n                colLevels: this.parent.activeView.colLevels\n            };\n            this.setDimensions(this.currentPanel.element);\n        }\n        else {\n            this.parent.setProperties({ selectedDate: this.currentPanel.selectedDate }, true);\n        }\n        this.parent.setProperties({ selectedDate: this.parent.activeView.getNextPreviousDate(nextPrevType) }, true);\n        if (this.parent.headerModule) {\n            this.parent.headerModule.setCalendarDate(this.parent.selectedDate);\n        }\n        this.parent.activeView.getRenderDates();\n        this.parent.activeView.renderLayout(clsName);\n    };\n    ScheduleTouch.prototype.swapPanels = function (direction) {\n        if (direction === this.touchLeftDirection) {\n            var temp = this.nextPanel;\n            this.nextPanel = this.currentPanel;\n            this.currentPanel = temp;\n        }\n        else {\n            var temp = this.previousPanel;\n            this.previousPanel = this.currentPanel;\n            this.currentPanel = temp;\n        }\n    };\n    ScheduleTouch.prototype.confirmSwipe = function (swipeDirection) {\n        var _this = this;\n        var previousDate = swipeDirection === this.touchLeftDirection ?\n            this.nextPanel.selectedDate : this.previousPanel.selectedDate;\n        var args = {\n            action: 'date', cancel: false, previousDate: previousDate, currentDate: this.currentPanel.selectedDate\n        };\n        this.parent.trigger(events.navigating, args, function (navArgs) {\n            if (navArgs.cancel) {\n                _this.swapPanels(swipeDirection);\n                _this.cancelSwipe();\n            }\n            else {\n                _this.parent.activeView.setPanel(_this.currentPanel.element);\n                _this.parent.setProperties({ selectedDate: _this.currentPanel.selectedDate }, true);\n                var translateX = void 0;\n                if (_this.parent.enableRtl) {\n                    translateX = swipeDirection === _this.touchLeftDirection ?\n                        (_this.previousPanel ? _this.previousPanel.element.offsetLeft : _this.currentPanel.element.offsetWidth) : 0;\n                }\n                else {\n                    translateX = swipeDirection === _this.touchLeftDirection ? -_this.currentPanel.element.offsetLeft : 0;\n                }\n                _this.parent.activeView.renderDates = _this.currentPanel.renderDates;\n                _this.parent.activeView.colLevels = _this.currentPanel.colLevels;\n                addClass([_this.element], cls.TRANSLATE_CLASS);\n                _this.element.style.transform = 'translatex(' + translateX + 'px)';\n                if (_this.parent.headerModule) {\n                    _this.parent.headerModule.updateDateRange();\n                }\n                _this.parent.renderTemplates();\n                _this.parent.crudModule.refreshDataManager();\n            }\n        });\n    };\n    ScheduleTouch.prototype.cancelSwipe = function () {\n        this.parent.activeView.setPanel(this.currentPanel.element);\n        this.parent.setProperties({ selectedDate: this.currentPanel.selectedDate }, true);\n        this.parent.activeView.renderDates = this.currentPanel.renderDates;\n        this.parent.activeView.colLevels = this.currentPanel.colLevels;\n        addClass([this.element], cls.TRANSLATE_CLASS);\n        var prevWidth = this.previousPanel ? this.previousPanel.element.offsetWidth : 0;\n        this.element.style.transform = 'translatex(' + (this.parent.enableRtl ? prevWidth : -this.currentPanel.element.offsetLeft) + 'px)';\n    };\n    ScheduleTouch.prototype.onTransitionEnd = function () {\n        if (!isNullOrUndefined(this.element) && !this.element.classList.contains(cls.TRANSLATE_CLASS)) {\n            return;\n        }\n        removeClass([this.element], cls.TRANSLATE_CLASS);\n        this.element.style.transitionDuration = '';\n        this.element.style.transform = '';\n        if (this.previousPanel) {\n            remove(this.previousPanel.element);\n            this.previousPanel = null;\n            removeClass([this.currentPanel.element], cls.PREVIOUS_PANEL_CLASS);\n            addClass([this.currentPanel.element], cls.CURRENT_PANEL_CLASS);\n        }\n        if (this.nextPanel) {\n            remove(this.nextPanel.element);\n            this.nextPanel = null;\n            removeClass([this.currentPanel.element], cls.NEXT_PANEL_CLASS);\n            addClass([this.currentPanel.element], cls.CURRENT_PANEL_CLASS);\n        }\n        this.currentPanel = null;\n        this.parent.activeView.getPanel().style.width = '';\n    };\n    ScheduleTouch.prototype.getTranslateX = function (element) {\n        var style = window.getComputedStyle(element);\n        return new WebKitCSSMatrix(style.webkitTransform).m41;\n    };\n    ScheduleTouch.prototype.setDimensions = function (element) {\n        element.style.width = (this.parent.element.clientWidth) + 'px';\n    };\n    ScheduleTouch.prototype.resetValues = function () {\n        this.currentPanel = null;\n        this.previousPanel = null;\n        this.nextPanel = null;\n        this.timeStampStart = null;\n        this.element.style.transform = '';\n        this.element.style.transitionDuration = '';\n        util.removeChildren(this.element);\n        removeClass([this.element], cls.TRANSLATE_CLASS);\n    };\n    ScheduleTouch.prototype.destroy = function () {\n        if (this.touchObj) {\n            this.touchObj.destroy();\n            this.touchObj = null;\n        }\n        EventHandler.remove(this.element, 'transitionend', this.onTransitionEnd);\n        this.resetValues();\n    };\n    return ScheduleTouch;\n}());\nexport { ScheduleTouch };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { KeyboardEvents, closest, EventHandler, extend } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, addClass, removeClass } from '@syncfusion/ej2-base';\nimport * as event from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\nimport { cellSelect } from '../base/constant';\n/**\n * Keyboard interaction\n */\nvar KeyboardInteraction = /** @class */ (function () {\n    function KeyboardInteraction(parent) {\n        this.selectedCells = [];\n        this.keyConfigs = {\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            rightArrow: 'rightarrow',\n            leftArrow: 'leftarrow',\n            shiftDownArrow: 'shift+downarrow',\n            shiftUpArrow: 'shift+uparrow',\n            shiftRightArrow: 'shift+rightarrow',\n            shiftLeftArrow: 'shift+leftarrow',\n            ctrlLeftArrow: 'ctrl+leftarrow',\n            ctrlRightArrow: 'ctrl+rightarrow',\n            altOne: 'alt+1',\n            altTwo: 'alt+2',\n            altThree: 'alt+3',\n            altFour: 'alt+4',\n            altFive: 'alt+5',\n            altSix: 'alt+6',\n            altSeven: 'alt+7',\n            altEight: 'alt+8',\n            altNine: 'alt+9',\n            enter: 'enter',\n            escape: 'escape',\n            delete: 'delete',\n            backspace: 'backspace',\n            home: 'home',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            ctrlShiftUpArrow: 'ctrl+shift+uparrow',\n            ctrlShiftDownArrow: 'ctrl+shift+downarrow',\n            ctrlShiftLeftArrow: 'ctrl+shift+leftarrow',\n            ctrlShiftRightArrow: 'ctrl+shift+rightarrow',\n            shiftAltY: 'shift+alt+y',\n            shiftAltN: 'shift+alt+n'\n        };\n        this.parent = parent;\n        this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n        this.keyboardModule = new KeyboardEvents(this.parent.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.addEventListener();\n    }\n    KeyboardInteraction.prototype.keyActionHandler = function (e) {\n        switch (e.action) {\n            case 'downArrow':\n            case 'shiftDownArrow':\n                this.processDown(e, e.shiftKey);\n                break;\n            case 'upArrow':\n            case 'shiftUpArrow':\n                this.processUp(e, e.shiftKey);\n                break;\n            case 'leftArrow':\n            case 'shiftLeftArrow':\n                this.processLeft(e, e.shiftKey);\n                break;\n            case 'rightArrow':\n            case 'shiftRightArrow':\n                this.processRight(e, e.shiftKey);\n                break;\n            case 'ctrlLeftArrow':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), e);\n                if (this.parent.headerModule) {\n                    this.parent.headerModule.element.querySelector('.e-prev button').focus();\n                }\n                break;\n            case 'ctrlRightArrow':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), e);\n                if (this.parent.headerModule) {\n                    this.parent.headerModule.element.querySelector('.e-next button').focus();\n                }\n                break;\n            case 'altOne':\n            case 'altTwo':\n            case 'altThree':\n            case 'altFour':\n            case 'altFive':\n            case 'altSix':\n            case 'altSeven':\n            case 'altEight':\n            case 'altNine':\n                this.processViewNavigation(e);\n                break;\n            case 'enter':\n                this.processEnter(e);\n                break;\n            case 'home':\n                this.focusFirstCell();\n                break;\n            case 'tab':\n            case 'shiftTab':\n                this.processTab(e, e.shiftKey);\n                break;\n            case 'delete':\n            case 'backspace':\n                this.processDelete(e);\n                break;\n            case 'ctrlShiftUpArrow':\n            case 'ctrlShiftDownArrow':\n            case 'ctrlShiftLeftArrow':\n            case 'ctrlShiftRightArrow':\n                this.processCtrlShiftNavigationArrows(e);\n                break;\n            case 'escape':\n                this.processEscape(e);\n                break;\n            case 'fTwelve':\n                if (this.parent.allowInline && this.parent.inlineModule) {\n                    e.preventDefault();\n                    this.processFTwelve(e);\n                }\n                break;\n            case 'shiftAltY':\n                this.parent.changeDate(new Date(), e);\n                break;\n            case 'shiftAltN':\n                if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda' ||\n                    this.parent.currentView === 'Year') {\n                    return;\n                }\n                this.processShiftAltN(e);\n                break;\n        }\n    };\n    KeyboardInteraction.prototype.processShiftAltN = function (e) {\n        var selectedCells = this.parent.getSelectedCells();\n        var target = e.target;\n        var cellData = extend({}, null, true);\n        if (selectedCells.length > 0 && (closest(target, '.' + cls.WORK_CELLS_CLASS)\n            || closest(target, '.' + cls.ALLDAY_CELLS_CLASS) || closest(target, '.' + cls.HEADER_CELLS_CLASS))) {\n            cellData = this.getSelectedElements(target);\n        }\n        else if (closest(target, '.' + cls.APPOINTMENT_CLASS) && !isNullOrUndefined(this.parent.activeEventData.event)) {\n            var event_1 = this.parent.activeEventData.event;\n            cellData.startTime = event_1.StartTime;\n            cellData.endTime = event_1.EndTime;\n            cellData.isAllDay = event_1.IsAllDay;\n        }\n        else {\n            var workHour = this.parent.getStartEndTime(this.parent.workHours.start);\n            var slotInterval = this.parent.activeViewOptions.timeScale.interval /\n                this.parent.activeViewOptions.timeScale.slotCount;\n            cellData.startTime = new Date(this.parent.selectedDate);\n            cellData.startTime.setHours(workHour.getHours(), workHour.getMinutes(), 0, 0);\n            cellData.endTime = new Date(cellData.startTime.getTime() + slotInterval * 60000);\n        }\n        var args = extend(cellData, { cancel: false, event: e });\n        if (args != null) {\n            this.parent.eventWindow.openEditor(args, 'Add');\n        }\n    };\n    KeyboardInteraction.prototype.processFTwelve = function (e) {\n        var target = e.target;\n        if (target.classList.contains(cls.WORK_CELLS_CLASS) || target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            this.parent.activeCellsData = this.getSelectedElements(target);\n            var args = extend(this.parent.activeCellsData, { cancel: false, event: e });\n            var inlineArgs = {\n                element: args.element,\n                groupIndex: args.groupIndex, type: 'Cell'\n            };\n            this.parent.notify(event.inlineClick, inlineArgs);\n        }\n        if (target.classList.contains(cls.APPOINTMENT_CLASS)) {\n            target.click();\n            return;\n        }\n    };\n    KeyboardInteraction.prototype.addEventListener = function () {\n        this.parent.on(event.cellMouseDown, this.onCellMouseDown, this);\n    };\n    KeyboardInteraction.prototype.removeEventListener = function () {\n        this.parent.off(event.cellMouseDown, this.onCellMouseDown);\n    };\n    KeyboardInteraction.prototype.onCellMouseDown = function (e) {\n        if (e.event.shiftKey) {\n            return;\n        }\n        this.initialTarget = this.getClosestCell(e.event);\n        if (this.parent.activeViewOptions.readonly || this.parent.currentView === 'MonthAgenda' || !this.initialTarget) {\n            return;\n        }\n        if (e.event.target.classList.contains(cls.WORK_CELLS_CLASS) && e.event.which !== 3) {\n            this.parent.removeSelectedClass();\n            EventHandler.add(this.parent.getContentTable(), 'mousemove', this.onMouseSelection, this);\n            EventHandler.add(this.parent.getContentTable(), 'mouseup', this.onMoveUp, this);\n        }\n        if (e.event.target.classList.contains(cls.ALLDAY_CELLS_CLASS) && e.event.which !== 3) {\n            this.parent.removeSelectedClass();\n            var allDayRow = this.parent.getAllDayRow();\n            EventHandler.add(allDayRow, 'mousemove', this.onMouseSelection, this);\n            EventHandler.add(allDayRow, 'mouseup', this.onMoveUp, this);\n        }\n    };\n    KeyboardInteraction.prototype.onMouseSelection = function (e) {\n        var appointments = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n        addClass(appointments, 'e-allow-select');\n        var selectionEdges = this.parent.boundaryValidation(e.pageY, e.pageX);\n        if (selectionEdges.bottom || selectionEdges.top || selectionEdges.left || selectionEdges.right) {\n            var parent_1 = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            var yInBounds = parent_1.offsetHeight <= parent_1.scrollHeight && parent_1.scrollTop >= 0 &&\n                parent_1.scrollTop + parent_1.offsetHeight <= parent_1.scrollHeight;\n            var xInBounds = parent_1.offsetWidth <= parent_1.scrollWidth && parent_1.scrollLeft >= 0 &&\n                parent_1.scrollLeft + parent_1.offsetWidth <= parent_1.scrollWidth;\n            if (yInBounds && (selectionEdges.top || selectionEdges.bottom)) {\n                parent_1.scrollTop += selectionEdges.top ? -e.target.offsetHeight : e.target.offsetHeight;\n            }\n            if (xInBounds && (selectionEdges.left || selectionEdges.right)) {\n                parent_1.scrollLeft += selectionEdges.left ? -e.target.offsetWidth : e.target.offsetWidth;\n            }\n        }\n        var target = this.getClosestCell(e);\n        if (target) {\n            this.selectCells(true, target);\n        }\n    };\n    KeyboardInteraction.prototype.getClosestCell = function (e) {\n        return closest(e.target, '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS);\n    };\n    KeyboardInteraction.prototype.onMoveUp = function (e) {\n        var _this = this;\n        var appointments = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n        removeClass(appointments, 'e-allow-select');\n        if (e.target.classList.contains(cls.WORK_CELLS_CLASS)) {\n            EventHandler.remove(this.parent.getContentTable(), 'mousemove', this.onMouseSelection);\n            EventHandler.remove(this.parent.getContentTable(), 'mouseup', this.onMoveUp);\n        }\n        if (e.target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            var allDayRow = this.parent.getAllDayRow();\n            EventHandler.remove(allDayRow, 'mousemove', this.onMouseSelection);\n            EventHandler.remove(allDayRow, 'mouseup', this.onMoveUp);\n        }\n        if (this.isPreventAction(e)) {\n            return;\n        }\n        var queryStr = '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' + cls.HEADER_CELLS_CLASS;\n        var target = closest(e.target, queryStr);\n        var selectedCells = this.parent.getSelectedCells();\n        if (selectedCells.length > 0 && selectedCells.indexOf(target) === -1) {\n            target = selectedCells[selectedCells.length - 1];\n        }\n        if (this.parent.currentView === 'TimelineYear' && target.classList.contains(cls.OTHERMONTH_CLASS)) {\n            return;\n        }\n        this.parent.activeCellsData = this.getSelectedElements(target);\n        var cellData = {};\n        if (this.parent.eventWindow) {\n            this.parent.eventWindow.convertToEventData(this.parent.activeCellsData, cellData);\n        }\n        var args = {\n            data: cellData, element: this.parent.activeCellsData.element, event: e,\n            requestType: cellSelect, showQuickPopup: false\n        };\n        this.parent.trigger(event.select, args, function (selectArgs) {\n            var isPopupShow = selectArgs.showQuickPopup || _this.parent.quickInfoOnSelectionEnd;\n            if (isPopupShow && selectedCells.length > 1) {\n                var cellArgs = extend(_this.parent.activeCellsData, { cancel: false, event: e, name: 'cellClick' });\n                _this.parent.notify(event.cellClick, cellArgs);\n            }\n        });\n    };\n    KeyboardInteraction.prototype.processEnter = function (e) {\n        if ((this.parent.activeViewOptions.readonly && !e.target.classList.contains(cls.APPOINTMENT_CLASS))\n            || this.isPreventAction(e)) {\n            return;\n        }\n        if (this.parent.currentView === 'TimelineYear' && e.target.classList.contains(cls.OTHERMONTH_CLASS)) {\n            return;\n        }\n        var target = e.target;\n        if (closest(target, '.' + cls.POPUP_WRAPPER_CLASS)) {\n            if (target.classList.contains(cls.QUICK_POPUP_EVENT_DETAILS_CLASS) ||\n                target.classList.contains(cls.EVENT_CREATE_CLASS) ||\n                target.classList.contains(cls.EDIT_EVENT_CLASS) ||\n                target.classList.contains(cls.DELETE_EVENT_CLASS) ||\n                target.classList.contains(cls.CLOSE_CLASS)) {\n                target.click();\n                e.preventDefault();\n            }\n            else if (target.classList.contains(cls.SUBJECT_CLASS)) {\n                this.parent.element.querySelector('.' + cls.EVENT_CREATE_CLASS).click();\n                e.preventDefault();\n            }\n            return;\n        }\n        if (target.classList.contains(cls.RESOURCE_CELLS_CLASS) && target.classList.contains(cls.RESOURCE_PARENT_CLASS)) {\n            var resourceIcon = target.querySelector('.' + cls.RESOURCE_TREE_ICON_CLASS);\n            if (resourceIcon) {\n                resourceIcon.click();\n            }\n            return;\n        }\n        if (target.classList.contains(cls.WORK_CELLS_CLASS) || target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            this.parent.activeCellsData = this.getSelectedElements(target);\n            var args = extend(this.parent.activeCellsData, { cancel: false, event: e });\n            if (this.parent.allowInline) {\n                var inlineArgs = {\n                    element: args.element,\n                    groupIndex: args.groupIndex, type: 'Cell'\n                };\n                this.parent.notify(event.inlineClick, inlineArgs);\n            }\n            else {\n                if (this.parent.currentView === 'Year') {\n                    target.click();\n                }\n                else {\n                    this.parent.notify(event.cellClick, args);\n                }\n            }\n            return;\n        }\n        if (target.classList.contains(cls.INLINE_SUBJECT_CLASS) && this.parent.inlineModule) {\n            this.parent.inlineModule.inlineCrudActions(target);\n            return;\n        }\n        if (target.classList.contains(cls.APPOINTMENT_CLASS) || target.classList.contains(cls.MORE_EVENT_CLOSE_CLASS) ||\n            target.classList.contains(cls.ALLDAY_APPOINTMENT_SECTION_CLASS) || target.classList.contains(cls.MORE_INDICATOR_CLASS)) {\n            target.click();\n            return;\n        }\n        if (target.classList.contains(cls.MORE_EVENT_HEADER_DATE_CLASS)) {\n            this.parent.setProperties({ selectedDate: this.parent.getDateFromElement(target) }, true);\n            this.parent.changeView(this.parent.getNavigateView(), e);\n            this.processEscape(e);\n            return;\n        }\n    };\n    KeyboardInteraction.prototype.getSelectedElements = function (target) {\n        var cellDetails;\n        if (this.selectedCells.length > 1 && target.classList.contains(cls.SELECTED_CELL_CLASS)) {\n            var start = this.parent.getCellDetails(this.selectedCells[0]);\n            var end = this.parent.getCellDetails(this.selectedCells.slice(-1)[0]);\n            start.endTime = end.endTime;\n            start.element = target;\n            cellDetails = start;\n        }\n        else {\n            cellDetails = this.parent.getCellDetails(target);\n        }\n        return cellDetails;\n    };\n    KeyboardInteraction.prototype.getCells = function (isInverseTable, start, end) {\n        var tableEle = this.parent.getContentTable();\n        var isTimelineYear = this.parent.currentView === 'TimelineYear';\n        var query = isTimelineYear && !isInverseTable ? '.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')' : 'td';\n        var cells = [].slice.call(tableEle.querySelectorAll(query));\n        var maxRow = tableEle.rows.length;\n        var maxColumn = tableEle.rows[0].cells.length;\n        if (start && start.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            var allDayRow = this.parent.getAllDayRow();\n            cells = [].slice.call(allDayRow.cells);\n            maxRow = 1;\n            maxColumn = allDayRow.cells.length;\n        }\n        var startIndex = cells.indexOf(start);\n        var endIndex = cells.indexOf(end);\n        var inverseCells = [];\n        if (isInverseTable) {\n            for (var i = 0; i < maxColumn; i++) {\n                for (var j = 0; j < maxRow; j++) {\n                    var cell = cells[maxColumn * j + i];\n                    if (isTimelineYear && cell.classList.contains(cls.OTHERMONTH_CLASS)) {\n                        continue;\n                    }\n                    inverseCells.push(cell);\n                }\n            }\n            startIndex = inverseCells.indexOf(start);\n            endIndex = inverseCells.indexOf(end);\n        }\n        if (startIndex > endIndex) {\n            var temp = startIndex;\n            startIndex = endIndex;\n            endIndex = temp;\n        }\n        var sCells = isInverseTable ? inverseCells : cells;\n        return sCells.slice(startIndex, endIndex + 1);\n    };\n    KeyboardInteraction.prototype.focusFirstCell = function () {\n        if (this.parent.currentView === 'Agenda') {\n            var focusCell = this.parent.getContentTable().querySelector('.' + cls.AGENDA_CELLS_CLASS);\n            focusCell.setAttribute('tabindex', '0');\n            focusCell.focus();\n            return;\n        }\n        this.parent.eventBase.removeSelectedAppointmentClass();\n        if (this.parent.activeView.isTimelineView() && this.parent.currentView !== 'TimelineYear') {\n            var cell = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS +\n                ' tr:not(.' + cls.HIDDEN_CLASS + ') .' + cls.WORK_CELLS_CLASS + ':not(.' + cls.RESOURCE_GROUP_CELLS_CLASS + ')');\n            this.selectCells(false, cell);\n        }\n        else if (this.parent.currentView.indexOf('Year') > -1) {\n            var query = '.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')' + ':not(.' + cls.RESOURCE_GROUP_CELLS_CLASS + ')';\n            var isVerticalYear = this.parent.currentView === 'TimelineYear' && this.parent.activeViewOptions.orientation === 'Vertical';\n            query += isVerticalYear ? '[data-date=\"' + this.parent.activeView.startDate().getTime() + '\"]' : '';\n            this.selectCells(false, this.parent.element.querySelector(query));\n        }\n        else {\n            this.selectCells(false, this.parent.getWorkCellElements()[0]);\n        }\n    };\n    KeyboardInteraction.prototype.isInverseTableSelect = function () {\n        return this.parent.activeView.isInverseTableSelect;\n    };\n    /**\n     * Internal method to select cells\n     *\n     * @param {boolean} isMultiple Accepts to select multiple cells or not\n     * @param {HTMLTableCellElement} targetCell Accepts the target cells\n     * @returns {void}\n     * @private\n     */\n    KeyboardInteraction.prototype.selectCells = function (isMultiple, targetCell) {\n        var _this = this;\n        this.parent.removeSelectedClass();\n        var target = (targetCell instanceof Array) ? targetCell.slice(-1)[0] : targetCell;\n        if (isMultiple) {\n            var initialId_1;\n            var views_1 = ['Day', 'Week', 'WorkWeek', 'TimelineDay', 'TimelineWeek', 'TimelineWorkWeek', 'TimelineMonth', 'TimelineYear'];\n            var args = { element: targetCell, requestType: 'mousemove', allowMultipleRow: true };\n            this.parent.inlineModule.removeInlineAppointmentElement();\n            this.parent.trigger(event.select, args, function (selectArgs) {\n                var allowMultipleRow = (!selectArgs.allowMultipleRow) || (!_this.parent.allowMultiRowSelection);\n                if (allowMultipleRow) {\n                    var isTimelineYear = _this.parent.currentView === 'TimelineYear';\n                    if (isTimelineYear && _this.parent.activeViewOptions.orientation === 'Horizontal' || _this.parent.currentView === 'Month') {\n                        var isGroupYear = isTimelineYear && _this.parent.activeViewOptions.group.resources.length > 0;\n                        target = isGroupYear ? _this.initialTarget :\n                            _this.initialTarget.parentElement.children[target.cellIndex];\n                    }\n                    else if (views_1.indexOf(_this.parent.currentView) > -1) {\n                        target = target.parentElement.children[_this.initialTarget.cellIndex];\n                    }\n                }\n                var selectedCells = _this.getCells(_this.isInverseTableSelect(), _this.initialTarget, target);\n                if (_this.parent.activeViewOptions.group.resources.length > 0) {\n                    initialId_1 = _this.initialTarget.getAttribute('data-group-index');\n                    var resourceSelectedCells = [];\n                    for (var _i = 0, selectedCells_1 = selectedCells; _i < selectedCells_1.length; _i++) {\n                        var cell = selectedCells_1[_i];\n                        if (cell.getAttribute('data-group-index') === initialId_1) {\n                            resourceSelectedCells.push(cell);\n                        }\n                    }\n                    selectedCells = resourceSelectedCells;\n                }\n                if (!_this.parent.allowMultiCellSelection) {\n                    selectedCells = [_this.initialTarget];\n                }\n                _this.selectedCells = selectedCells;\n                if (selectedCells.length > 2 && !target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n                    var allDayCells = _this.getAllDayCells(selectedCells);\n                    if (_this.parent.activeViewOptions.group.resources.length > 0) {\n                        var resourceAllDayCells = [];\n                        for (var _a = 0, allDayCells_1 = allDayCells; _a < allDayCells_1.length; _a++) {\n                            var cell = allDayCells_1[_a];\n                            if (cell.getAttribute('data-group-index') === initialId_1) {\n                                resourceAllDayCells.push(cell);\n                            }\n                        }\n                        allDayCells = resourceAllDayCells;\n                    }\n                    selectedCells = selectedCells.concat(allDayCells);\n                }\n                if ((target.getAttribute('data-group-index') !== initialId_1) && _this.parent.activeViewOptions.group.resources.length > 0) {\n                    target = _this.selectedCells[_this.selectedCells.length - 1];\n                }\n                _this.parent.addSelectedClass(selectedCells, target);\n            });\n        }\n        else {\n            var args = {\n                element: target, requestType: cellSelect\n            };\n            // activeCellsData is not reset on schedule property changed(group properties)\n            // const cellData: Record<string, any> = {};\n            // const cellDetails: CellClickEventArgs = this.parent.getCellDetails(target);\n            // if (this.parent.eventWindow && cellDetails) {\n            //     if (this.parent.activeCellsData.element !== cellDetails.element) {\n            //         this.parent.activeCellsData = cellDetails;\n            //     }\n            //     this.parent.eventWindow.convertToEventData(this.parent.activeCellsData as unknown as Record<string, any>, cellData);\n            //     args.data = cellData;\n            // }\n            this.parent.trigger(event.select, args, function () {\n                _this.initialTarget = target;\n                _this.selectedCells = [target];\n                _this.parent.addSelectedClass([target], target);\n            });\n        }\n    };\n    KeyboardInteraction.prototype.selectAppointment = function (isReverse, target) {\n        var appointments = this.getAppointmentElements();\n        if (appointments.length < 0) {\n            return;\n        }\n        this.parent.eventBase.removeSelectedAppointmentClass();\n        var nextAppEle;\n        if (target.classList.contains(cls.APPOINTMENT_CLASS)) {\n            var targetIndex = appointments.indexOf(target);\n            nextAppEle = appointments[(isReverse ? targetIndex - 1 : targetIndex + 1)];\n        }\n        else {\n            nextAppEle = isReverse ? appointments[appointments.length - 1] : appointments[0];\n        }\n        if (nextAppEle) {\n            this.parent.eventBase.addSelectedAppointments([nextAppEle], true);\n            nextAppEle.focus();\n            addClass([nextAppEle], cls.AGENDA_SELECTED_CELL);\n        }\n    };\n    KeyboardInteraction.prototype.selectAppointmentElementFromWorkCell = function (isReverse, target) {\n        var _this = this;\n        this.parent.eventBase.removeSelectedAppointmentClass();\n        this.parent.removeSelectedClass();\n        if (target.classList.contains(cls.WORK_CELLS_CLASS) || target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            var appointmentElements_1 = this.getUniqueAppointmentElements();\n            var filteredElements_1 = [];\n            var selectedDate_1 = this.parent.getDateFromElement(target).getTime();\n            var selectedSeriesEvents = this.parent.eventsProcessed.filter(function (eventObject) {\n                return (!isReverse ? (eventObject[_this.parent.eventFields.startTime].getTime() >= selectedDate_1) :\n                    (eventObject[_this.parent.eventFields.startTime].getTime() <= selectedDate_1));\n            });\n            selectedSeriesEvents.filter(function (event) {\n                appointmentElements_1.filter(function (element) {\n                    if (JSON.stringify(event.Guid) === JSON.stringify(element.getAttribute('data-guid'))) {\n                        filteredElements_1.push(element);\n                    }\n                });\n            });\n            if (filteredElements_1.length > 0) {\n                var selectedElement = isReverse ? filteredElements_1[filteredElements_1.length - 1] : filteredElements_1[0];\n                var focusElements = this.getAppointmentElementsByGuid(selectedElement.getAttribute('data-guid'));\n                this.parent.eventBase.addSelectedAppointments(focusElements, true);\n                (focusElements[focusElements.length - 1]).focus();\n            }\n        }\n    };\n    KeyboardInteraction.prototype.getAllDayCells = function (cells) {\n        var allDayRow = this.parent.getAllDayRow();\n        if (!allDayRow) {\n            return [];\n        }\n        var startCell = cells[0];\n        var endCell = cells[cells.length - 1];\n        var start = this.parent.getCellDetails(startCell);\n        var end = this.parent.getCellDetails(endCell);\n        if (end.endTime.getTime() - start.startTime.getTime() >= util.MS_PER_DAY) {\n            var allDayCells = [].slice.call(allDayRow.cells);\n            return allDayCells.slice(startCell.cellIndex, endCell.cellIndex + 1);\n        }\n        return [];\n    };\n    KeyboardInteraction.prototype.getAppointmentElements = function () {\n        return [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n    };\n    KeyboardInteraction.prototype.getAppointmentElementsByGuid = function (guid) {\n        return [].slice.call(this.parent.element.querySelectorAll('div[data-guid=\"' + guid + '\"]'));\n    };\n    KeyboardInteraction.prototype.getUniqueAppointmentElements = function () {\n        var appointments = this.getAppointmentElements();\n        var appointmentElements = [];\n        appointments.map(function (value) { return value.getAttribute('data-guid'); }).filter(function (value, index, self) {\n            if (self.indexOf(value) === index) {\n                appointmentElements.push(appointments[parseInt(index.toString(), 10)]);\n            }\n        });\n        return appointmentElements;\n    };\n    KeyboardInteraction.prototype.getWorkCellFromAppointmentElement = function (target) {\n        var selectedObject = this.parent.eventBase.getEventByGuid(target.getAttribute('data-guid'));\n        return this.parent.eventBase.selectWorkCellByTime([selectedObject]);\n    };\n    KeyboardInteraction.prototype.processViewNavigation = function (e) {\n        if (isNullOrUndefined(e.code)) {\n            return;\n        }\n        var index = parseInt(e.code.slice(e.code.length - 1), 10) - 1;\n        if (!isNaN(index) && !isNullOrUndefined(this.parent.views) && index < this.parent.views.length) {\n            var view = this.parent.viewCollections[parseInt(index.toString(), 10)].option;\n            this.parent.changeView(view, e, undefined, index);\n            if (this.parent.headerModule) {\n                this.parent.headerModule.element.querySelector('.e-active-view button').focus();\n            }\n        }\n    };\n    KeyboardInteraction.prototype.isCalendarTarget = function (e) {\n        var keyTarget = e.currentTarget || e.target;\n        if (keyTarget && !isNullOrUndefined(keyTarget.querySelector('.e-header-popup.e-popup-open'))) {\n            return true;\n        }\n        return false;\n    };\n    KeyboardInteraction.prototype.cancelUpDownAction = function (isTimelineYear) {\n        var isVerticalYear = isTimelineYear && this.parent.activeViewOptions.orientation === 'Vertical';\n        var isGroup = this.parent.activeViewOptions.group.resources.length > 0;\n        if (isVerticalYear && isGroup || isTimelineYear && this.initialTarget.classList.contains(cls.OTHERMONTH_CLASS)) {\n            return true;\n        }\n        if (this.parent.activeView.isTimelineView() && !isTimelineYear || this.parent.currentView === 'MonthAgenda') {\n            return true;\n        }\n        return false;\n    };\n    KeyboardInteraction.prototype.processUp = function (e, isMultiple) {\n        var isTimelineYear = this.parent.currentView === 'TimelineYear';\n        if (isMultiple && this.cancelUpDownAction(isTimelineYear) || (this.isCalendarTarget(e))) {\n            return;\n        }\n        var target = (e.target);\n        var selectedElements = this.parent.getSelectedCells();\n        var selectedEventElements = this.parent.eventBase.getSelectedAppointments();\n        var moreEventWrapper = this.parent.element.querySelector('.' + cls.MORE_POPUP_WRAPPER_CLASS);\n        var quickPopupWrapper = this.getQuickPopupElement();\n        if (selectedElements.length > 0 && !e.target.classList.contains(cls.WORK_CELLS_CLASS)) {\n            target = selectedElements[selectedElements.length - 1];\n        }\n        if (selectedEventElements.length > 0 && !moreEventWrapper.classList.contains(cls.POPUP_OPEN) &&\n            !quickPopupWrapper.classList.contains(cls.POPUP_OPEN) &&\n            ['Day', 'Week', 'WorkWeek', 'Month'].indexOf(this.parent.currentView) !== -1) {\n            target = this.getWorkCellFromAppointmentElement(selectedEventElements[selectedEventElements.length - 1]);\n            this.parent.eventBase.removeSelectedAppointmentClass();\n        }\n        if (!target) {\n            return;\n        }\n        if (target.classList.contains(cls.WORK_CELLS_CLASS) && !this.parent.element.querySelector('.' + cls.POPUP_OPEN)) {\n            var tableRows = this.parent.getTableRows();\n            var curRowIndex = tableRows.indexOf(target.parentElement);\n            var targetCell = void 0;\n            if (isTimelineYear && isMultiple && this.parent.activeViewOptions.group.resources.length === 0) {\n                targetCell = this.isInverseTableSelect() ? this.getVerticalUpDownCell(tableRows, target, curRowIndex, true) :\n                    this.getHorizontalUpDownCell(tableRows, target, curRowIndex, true);\n            }\n            if ((curRowIndex > 0 || targetCell) && curRowIndex < tableRows.length) {\n                targetCell = targetCell ? targetCell : (tableRows[curRowIndex - 1]).cells[target.cellIndex];\n                if (this.parent.currentView === 'Year' && targetCell.classList.contains(cls.OTHERMONTH_CLASS)) {\n                    if (this.parent.activeView.getStartDate().getTime() < +targetCell.getAttribute('data-date')) {\n                        targetCell = this.getYearUpDownCell(tableRows, curRowIndex - 1, target.cellIndex, true);\n                    }\n                    else {\n                        return;\n                    }\n                }\n                e.preventDefault();\n                this.selectCells(isMultiple, targetCell);\n            }\n        }\n        else if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda') {\n            this.selectAppointment(true, target);\n        }\n    };\n    KeyboardInteraction.prototype.processDown = function (e, isMultiple) {\n        var isTimelineYear = this.parent.currentView === 'TimelineYear';\n        if (isMultiple && this.cancelUpDownAction(isTimelineYear) || (this.isCalendarTarget(e))) {\n            return;\n        }\n        var target = (e.target);\n        var selectedCells = this.parent.getSelectedCells();\n        var selectedElements = this.parent.eventBase.getSelectedAppointments();\n        var moreEventWrapper = this.parent.element.querySelector('.' + cls.MORE_POPUP_WRAPPER_CLASS);\n        var quickPopupWrapper = this.getQuickPopupElement();\n        if (selectedCells.length > 0 && !e.target.classList.contains(cls.WORK_CELLS_CLASS)) {\n            target = selectedCells[selectedCells.length - 1];\n        }\n        if (selectedElements.length > 0 && !moreEventWrapper.classList.contains(cls.POPUP_OPEN) &&\n            !quickPopupWrapper.classList.contains(cls.POPUP_OPEN) &&\n            ['Day', 'Week', 'WorkWeek', 'Month'].indexOf(this.parent.currentView) !== -1) {\n            target = this.getWorkCellFromAppointmentElement(selectedElements[selectedElements.length - 1]);\n            this.parent.eventBase.removeSelectedAppointmentClass();\n        }\n        var tableRows = this.parent.getTableRows();\n        if (!target) {\n            return;\n        }\n        if (target.classList.contains(cls.WORK_CELLS_CLASS) && !this.parent.element.querySelector('.' + cls.POPUP_OPEN)) {\n            var curRowIndex = tableRows.indexOf(target.parentElement);\n            var targetCell = void 0;\n            if (isTimelineYear && isMultiple && this.parent.activeViewOptions.group.resources.length === 0) {\n                targetCell = this.isInverseTableSelect() ? this.getVerticalUpDownCell(tableRows, target, curRowIndex, false)\n                    : this.getHorizontalUpDownCell(tableRows, target, curRowIndex, false);\n            }\n            if (curRowIndex >= 0 && ((curRowIndex < tableRows.length - 1) || targetCell)) {\n                targetCell = targetCell ? targetCell : (tableRows[curRowIndex + 1]).cells[target.cellIndex];\n                if (this.parent.currentView === 'Year' && targetCell.classList.contains(cls.OTHERMONTH_CLASS)) {\n                    if (this.parent.activeView.getEndDate().getTime() > +targetCell.getAttribute('data-date')) {\n                        targetCell = this.getYearUpDownCell(tableRows, curRowIndex + 1, target.cellIndex, false);\n                    }\n                    else {\n                        return;\n                    }\n                }\n                e.preventDefault();\n                this.selectCells(isMultiple, targetCell);\n            }\n        }\n        else if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda') {\n            this.selectAppointment(false, target);\n        }\n    };\n    KeyboardInteraction.prototype.getYearUpDownCell = function (tableRows, rowIndex, cellIndex, isUp) {\n        while (tableRows[parseInt(rowIndex.toString(), 10)] &&\n            tableRows[parseInt(rowIndex.toString(), 10)].cells[parseInt(cellIndex.toString(), 10)].classList.contains(cls.OTHERMONTH_CLASS)) {\n            rowIndex = rowIndex + (isUp ? -1 : 1);\n        }\n        return tableRows[parseInt(rowIndex.toString(), 10)].cells[parseInt(cellIndex.toString(), 10)];\n    };\n    // eslint-disable-next-line max-len\n    KeyboardInteraction.prototype.getHorizontalUpDownCell = function (tableRows, target, curRowIndex, isUp) {\n        var row = tableRows[curRowIndex + (isUp ? -1 : 1)];\n        var cell = row ? row.cells[target.cellIndex] : target;\n        if (cell.classList.contains(cls.OTHERMONTH_CLASS)) {\n            var workCell = row.querySelector('.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')');\n            var date = new Date(+workCell.getAttribute('data-date'));\n            var query = '[data-date=\"' + new Date(date.getFullYear(), date.getMonth() + 1, 0).getTime() + '\"]';\n            cell = cell.cellIndex < workCell.cellIndex ? workCell : row.querySelector(query);\n        }\n        return cell;\n    };\n    // eslint-disable-next-line max-len\n    KeyboardInteraction.prototype.getVerticalUpDownCell = function (tableRows, target, curRowIndex, isUp) {\n        var hasRow = isUp && curRowIndex > 0 || !isUp && curRowIndex < tableRows.length - 1;\n        var targetCell = hasRow ? tableRows[curRowIndex + (isUp ? -1 : 1)].cells[target.cellIndex] : undefined;\n        if (!targetCell || targetCell.classList.contains(cls.OTHERMONTH_CLASS)) {\n            var column = tableRows[parseInt(curRowIndex.toString(), 10)].cells[target.cellIndex - (isUp ? 1 : -1)];\n            if (column) {\n                var dateAttr = +target.getAttribute('data-date') - (isUp ? util.MS_PER_DAY : -util.MS_PER_DAY);\n                return this.parent.getContentTable().querySelector('.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + dateAttr + '\"]');\n            }\n            targetCell = target;\n        }\n        return targetCell;\n    };\n    KeyboardInteraction.prototype.processLeftRight = function (target) {\n        var tableEle = (this.parent.currentView === 'Year' ? target.closest('tbody') : this.parent.getContentTable());\n        var curRowIndex = target.parentNode.sectionRowIndex;\n        var key = {\n            element: tableEle,\n            rowIndex: curRowIndex,\n            columnIndex: target.cellIndex,\n            maxIndex: tableEle.rows[parseInt(curRowIndex.toString(), 10)].cells.length\n        };\n        return key;\n    };\n    KeyboardInteraction.prototype.getQuickPopupElement = function () {\n        return (this.parent.isAdaptive ? document.body : this.parent.element).querySelector('.' + cls.POPUP_WRAPPER_CLASS);\n    };\n    KeyboardInteraction.prototype.isCancelLeftRightAction = function (e, isMultiple, isTimelineYear) {\n        var prevent = this.parent.currentView === 'MonthAgenda' || isTimelineYear && this.initialTarget.classList.contains(cls.OTHERMONTH_CLASS);\n        if (this.parent.currentView === 'Agenda' || (isMultiple && prevent)) {\n            return true;\n        }\n        if (this.isPreventAction(e) && isMultiple) {\n            return true;\n        }\n        var moreEventWrapper = this.parent.element.querySelector('.' + cls.MORE_POPUP_WRAPPER_CLASS);\n        var quickPopupWrapper = this.getQuickPopupElement();\n        if (moreEventWrapper.classList.contains(cls.POPUP_OPEN) || quickPopupWrapper.classList.contains(cls.POPUP_OPEN)) {\n            return true;\n        }\n        return false;\n    };\n    KeyboardInteraction.prototype.processRight = function (e, isMultiple) {\n        var isTimelineYear = this.parent.currentView === 'TimelineYear';\n        if (this.isCancelLeftRightAction(e, isMultiple, isTimelineYear) || (this.isCalendarTarget(e))) {\n            return;\n        }\n        var selectedCells = this.parent.getSelectedCells();\n        var targetCell;\n        var selectedAppointments = this.parent.eventBase.getSelectedAppointments();\n        var target = (e.target);\n        if (selectedCells.length > 0 && !target.classList.contains(cls.WORK_CELLS_CLASS) &&\n            !target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            target = selectedCells[selectedCells.length - 1];\n        }\n        if (selectedAppointments.length > 0) {\n            target = this.getWorkCellFromAppointmentElement(selectedAppointments[selectedAppointments.length - 1]);\n            this.parent.eventBase.removeSelectedAppointmentClass();\n            if (!target) {\n                return;\n            }\n        }\n        if (target.classList.contains(cls.WORK_CELLS_CLASS) &&\n            (e.target).classList.contains(cls.WORK_CELLS_CLASS)) {\n            var key = this.processLeftRight(target);\n            var targetDate = new Date(+target.getAttribute('data-date'));\n            var isMonthEnd = this.parent.currentView === 'Year' && targetDate.getTime() === util.lastDateOfMonth(targetDate).getTime();\n            if (key.columnIndex >= 0 && key.columnIndex < key.maxIndex - 1 && !isMonthEnd) {\n                targetCell = this.calculateNextPrevDate(target, key.element.rows[key.rowIndex].cells[target.cellIndex + 1], 'right');\n                if (isTimelineYear && isMultiple && targetCell.classList.contains(cls.OTHERMONTH_CLASS)) {\n                    targetCell = this.getTimelineYearTargetCell(key, target, true);\n                }\n                if (!isNullOrUndefined(targetCell)) {\n                    this.selectCells(isMultiple, targetCell);\n                }\n            }\n            else if (key.columnIndex === key.maxIndex - 1 || isMonthEnd) {\n                if (!this.isInverseTableSelect() && key.rowIndex < key.element.rows.length - 1 && !isMonthEnd) {\n                    targetCell = this.calculateNextPrevDate(target, key.element.rows[key.rowIndex + 1].cells[0], 'right');\n                    var changeTargetCell = isTimelineYear && isMultiple && targetCell.classList.contains(cls.OTHERMONTH_CLASS);\n                    targetCell = changeTargetCell ? this.getHorizontalLeftRightCell(key, target, true) : targetCell;\n                    if (!isNullOrUndefined(targetCell)) {\n                        this.selectCells(isMultiple, targetCell);\n                    }\n                }\n                else if (!isMultiple) {\n                    if (isMonthEnd && targetDate.getTime() !== this.parent.activeView.getEndDate().getTime()) {\n                        this.selectCells(isMultiple, this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + (targetDate.getTime() + util.MS_PER_DAY) + '\"]'));\n                        return;\n                    }\n                    var rowIndex = this.isInverseTableSelect() ? key.rowIndex : 0;\n                    this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), e);\n                    var tableEle = this.parent.getContentTable();\n                    var cell = isMonthEnd ? tableEle.rows[parseInt(rowIndex.toString(), 10)].querySelector('.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')')\n                        : tableEle.rows[parseInt(rowIndex.toString(), 10)].cells[0];\n                    this.selectCells(false, cell);\n                }\n            }\n        }\n        else if (target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            var curColIndex = target.cellIndex;\n            var allDayRow = this.parent.getAllDayRow();\n            var maxColIndex = allDayRow.cells.length;\n            if (curColIndex >= 0 && curColIndex < maxColIndex - 1) {\n                this.selectCells(isMultiple, allDayRow.cells[curColIndex + 1]);\n            }\n            else if (curColIndex === maxColIndex - 1 && !isMultiple) {\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), e);\n                var allDayRow_1 = this.parent.getAllDayRow();\n                this.selectCells(false, allDayRow_1.cells[0]);\n            }\n        }\n    };\n    KeyboardInteraction.prototype.processLeft = function (e, isMultiple) {\n        var isTimelineYear = this.parent.currentView === 'TimelineYear';\n        if (this.isCancelLeftRightAction(e, isMultiple, isTimelineYear) || (this.isCalendarTarget(e))) {\n            return;\n        }\n        var target = (e.target);\n        var selectedCells = this.parent.getSelectedCells();\n        var targetCell;\n        if (selectedCells.length > 0 && !target.classList.contains(cls.WORK_CELLS_CLASS) &&\n            !target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            target = selectedCells[selectedCells.length - 1];\n        }\n        var selectedElements = this.parent.eventBase.getSelectedAppointments();\n        if (selectedElements.length > 0) {\n            target = this.getWorkCellFromAppointmentElement(selectedElements[selectedElements.length - 1]);\n            this.parent.eventBase.removeSelectedAppointmentClass();\n            if (!target) {\n                return;\n            }\n        }\n        if ((e.target).classList.contains(cls.WORK_CELLS_CLASS) &&\n            target.classList.contains(cls.WORK_CELLS_CLASS)) {\n            var key = this.processLeftRight(target);\n            var targetDate = new Date(+target.getAttribute('data-date'));\n            var isMonthStart = this.parent.currentView === 'Year' && targetDate.getTime() === util.firstDateOfMonth(targetDate).getTime();\n            if (key.columnIndex > 0 && key.columnIndex < key.maxIndex && !isMonthStart) {\n                targetCell = this.calculateNextPrevDate(target, key.element.rows[key.rowIndex].cells[target.cellIndex - 1], 'left');\n                if (isTimelineYear && isMultiple && targetCell.classList.contains(cls.OTHERMONTH_CLASS)) {\n                    targetCell = this.getTimelineYearTargetCell(key, target, false);\n                }\n                if (!isNullOrUndefined(targetCell)) {\n                    this.selectCells(isMultiple, targetCell);\n                }\n            }\n            else if (key.columnIndex === 0 || isMonthStart) {\n                if (!this.isInverseTableSelect() && key.rowIndex > 0) {\n                    targetCell = this.calculateNextPrevDate(target, key.element.rows[key.rowIndex - 1].cells[key.maxIndex - 1], 'left');\n                    var otherMonthCell = isTimelineYear && isMultiple && targetCell.classList.contains(cls.OTHERMONTH_CLASS);\n                    targetCell = otherMonthCell ? this.getHorizontalLeftRightCell(key, target, false) : targetCell;\n                    if (!isNullOrUndefined(targetCell)) {\n                        this.selectCells(isMultiple, targetCell);\n                    }\n                }\n                else if (!isMultiple) {\n                    if (isMonthStart && targetDate.getTime() !== this.parent.activeView.getStartDate().getTime()) {\n                        this.selectCells(isMultiple, this.parent.element.querySelector('[data-date=\"' + (targetDate.getTime() - util.MS_PER_DAY) + '\"]'));\n                        return;\n                    }\n                    this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), e);\n                    var tableEle = this.parent.getContentTable();\n                    var rowIndex = this.isInverseTableSelect() ? key.rowIndex : tableEle.rows.length - 1;\n                    var cell = tableEle.rows[parseInt(rowIndex.toString(), 10)].cells[key.maxIndex - 1];\n                    if (isMonthStart) {\n                        var tbody = this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n                        cell = tbody.item(tbody.length - 1).querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + this.parent.activeView.getEndDate().getTime() + '\"]');\n                    }\n                    this.selectCells(false, cell);\n                }\n            }\n        }\n        else if (target.classList.contains(cls.ALLDAY_CELLS_CLASS)) {\n            var curColIndex = target.cellIndex;\n            var allDayRow = this.parent.getAllDayRow();\n            var maxColIndex = allDayRow.cells.length;\n            if (curColIndex > 0 && curColIndex < maxColIndex) {\n                this.selectCells(isMultiple, allDayRow.cells[curColIndex - 1]);\n            }\n            else if (curColIndex === 0 && !isMultiple) {\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), e);\n                var allDayRow_2 = this.parent.getAllDayRow();\n                this.selectCells(false, allDayRow_2.cells[maxColIndex - 1]);\n            }\n        }\n    };\n    KeyboardInteraction.prototype.getTimelineYearTargetCell = function (key, target, isRight) {\n        return this.isInverseTableSelect() ? this.getVerticalLeftRightCell(target, isRight) :\n            this.getHorizontalLeftRightCell(key, target, isRight);\n    };\n    KeyboardInteraction.prototype.getHorizontalLeftRightCell = function (key, target, isRight) {\n        var row = key.element.rows[target.parentNode.sectionRowIndex + (isRight ? 1 : -1)];\n        if (row) {\n            var query = isRight ? '.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')'\n                : '[data-date=\"' + ((+target.getAttribute('data-date')) - util.MS_PER_DAY) + '\"]';\n            return row.querySelector(query);\n        }\n        return target;\n    };\n    KeyboardInteraction.prototype.getVerticalLeftRightCell = function (target, isRight) {\n        var date = new Date(+target.getAttribute('data-date'));\n        var start = new Date(date.getFullYear(), date.getMonth() + (isRight ? 1 : -1), 1);\n        var tableEle = this.parent.getContentTable();\n        var targetCell = tableEle.querySelector('[data-date=\"' + start.getTime() + '\"]');\n        if (targetCell.parentNode.sectionRowIndex > target.parentNode.sectionRowIndex) {\n            return targetCell;\n        }\n        return tableEle.querySelector('[data-date=\"' + new Date(start.getFullYear(), start.getMonth() + 1, 0).getTime() + '\"]');\n    };\n    KeyboardInteraction.prototype.calculateNextPrevDate = function (currentCell, target, type) {\n        var initialId = this.initialTarget.getAttribute('data-group-index');\n        if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.currentView === 'Month') {\n            if (currentCell && target && target.getAttribute('data-group-index') !== initialId) {\n                var currentDate = this.parent.getDateFromElement(currentCell);\n                var nextPrevDate = (type === 'right') ? new Date(currentDate.setDate(currentDate.getDate() + 1))\n                    : new Date(currentDate.setDate(currentDate.getDate() - 1));\n                target = [].slice.call(this.parent.element.querySelectorAll('td[data-date=\"'\n                    + nextPrevDate.getTime().toString() + '\"]' + '[data-group-index=\"' + initialId + '\"]'))[0];\n            }\n        }\n        return target;\n    };\n    KeyboardInteraction.prototype.getFocusableElements = function (container) {\n        var queryString = 'a[href]:not([tabindex=\"-1\"]),input:not([disabled]):not([tabindex=\"-1\"]),' +\n            'textarea:not([disabled]):not([tabindex=\"-1\"]),button:not([disabled]):not([tabindex=\"-1\"]),' +\n            'select:not([disabled]):not([tabindex=\"-1\"]),[tabindex]:not([tabindex=\"-1\"]),[contentEditable=true]:not([tabindex=\"-1\"])';\n        return [].slice.call(container.querySelectorAll(queryString));\n    };\n    KeyboardInteraction.prototype.processTabOnPopup = function (e, popupElement) {\n        var _this = this;\n        var focusableElements = this.getFocusableElements(popupElement);\n        focusableElements = focusableElements.filter(function (element) {\n            var footerEle = _this.parent.element.querySelector('.' + cls.POPUP_FOOTER_CLASS);\n            if (footerEle && footerEle.offsetParent) {\n                return !(element.classList.contains(cls.EDIT_CLASS) || element.classList.contains(cls.DELETE_CLASS));\n            }\n            else {\n                return !(element.classList.contains(cls.EDIT_EVENT_CLASS) || element.classList.contains(cls.DELETE_EVENT_CLASS));\n            }\n        });\n        var firstEle = focusableElements[0];\n        var lastEle = focusableElements[focusableElements.length - 1];\n        if (!isNullOrUndefined(lastEle) && document.activeElement === lastEle && !e.shiftKey) {\n            e.preventDefault();\n            firstEle.focus();\n        }\n        if (!isNullOrUndefined(firstEle) && document.activeElement === firstEle && e.shiftKey) {\n            e.preventDefault();\n            lastEle.focus();\n        }\n    };\n    KeyboardInteraction.prototype.processTab = function (e, isReverse) {\n        var target = e.target;\n        if (target.classList.contains(cls.INLINE_SUBJECT_CLASS) && this.parent.inlineModule) {\n            target = target.closest('.e-appointment');\n            this.parent.inlineModule.inlineCrudActions(e.target);\n        }\n        if (this.parent.currentView === 'TimelineYear' && target.classList.contains(cls.OTHERMONTH_CLASS)) {\n            if (target.classList.contains(cls.SELECTED_CELL_CLASS)) {\n                this.parent.removeSelectedClass();\n            }\n            return;\n        }\n        var popupWrapper = closest(target, '.' + cls.POPUP_WRAPPER_CLASS + ',.' + cls.MORE_POPUP_WRAPPER_CLASS);\n        if (popupWrapper && popupWrapper.classList.contains(cls.POPUP_OPEN)) {\n            if (popupWrapper.classList.contains(cls.MORE_POPUP_WRAPPER_CLASS)) {\n                this.parent.eventBase.removeSelectedAppointmentClass();\n            }\n            this.processTabOnPopup(e, popupWrapper);\n            return;\n        }\n        if (target.classList.contains(cls.ROOT)) {\n            this.parent.eventBase.removeSelectedAppointmentClass();\n            return;\n        }\n        if (target.classList.contains(cls.RESOURCE_CELLS_CLASS) && this.parent.activeView.isTimelineView()\n            && this.parent.activeViewOptions.group.resources.length > 0) {\n            var index = parseInt(target.getAttribute('data-group-index'), 10);\n            var appSelector = \".\" + cls.APPOINTMENT_CLASS + \"[data-group-index=\\\"\" + (isReverse ? index - 1 : index) + \"\\\"]\";\n            var appElements = [].slice.call(this.parent.element.querySelectorAll(appSelector));\n            if (appElements.length > 0) {\n                this.parent.eventBase.removeSelectedAppointmentClass();\n                var focusAppointment = isReverse ? appElements.slice(-1)[0] : appElements[0];\n                this.parent.eventBase.addSelectedAppointments([focusAppointment], true);\n                focusAppointment.focus();\n                e.preventDefault();\n            }\n            else if (index + 1 === this.parent.resourceBase.lastResourceLevel.length) {\n                this.parent.element.focus();\n                e.preventDefault();\n            }\n            else if (this.parent.virtualScrollModule) {\n                var virtual = this.parent.element.querySelector('.' + cls.VIRTUAL_TRACK_CLASS);\n                var averageRowHeight = Math.round(virtual.offsetHeight / this.parent.resourceBase.expandedResources.length);\n                this.parent.element.querySelector('.e-content-wrap').scrollTop = ((isReverse ? index - 1 : index + 1) * averageRowHeight);\n                this.parent.virtualScrollModule.virtualScrolling();\n            }\n            else {\n                this.setScrollPosition(index);\n            }\n            return;\n        }\n        if (target.classList.contains(cls.APPOINTMENT_CLASS)) {\n            var appElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n            var isTimelineYear = this.parent.currentView === 'TimelineYear';\n            var isTimeline = this.parent.activeView.isTimelineView() && !isTimelineYear;\n            if ((isTimeline || isTimelineYear && this.parent.activeViewOptions.orientation === 'Vertical') && this.parent.activeViewOptions.group.resources.length > 0) {\n                var index = parseInt(target.getAttribute('data-group-index'), 10);\n                appElements = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.APPOINTMENT_CLASS + \"[data-group-index=\\\"\" + index + \"\\\"]\"));\n                var resCellSelector = \".\" + cls.RESOURCE_CELLS_CLASS + \"[data-group-index=\\\"\" + (isReverse ? index : index + 1) + \"\\\"]\";\n                var resourceCell = this.parent.element.querySelector(resCellSelector);\n                if (resourceCell && (isReverse && target.getAttribute('data-guid') === appElements[0].getAttribute('data-guid') ||\n                    !isReverse && target.getAttribute('data-guid') === appElements.slice(-1)[0].getAttribute('data-guid'))) {\n                    this.parent.eventBase.removeSelectedAppointmentClass();\n                    if (this.parent.virtualScrollModule) {\n                        resourceCell.focus({ preventScroll: true });\n                    }\n                    else {\n                        resourceCell.focus();\n                    }\n                    if (this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.group.resources.length > 0 &&\n                        isNullOrUndefined(this.parent.virtualScrollModule)) {\n                        this.setScrollPosition(index);\n                    }\n                    e.preventDefault();\n                    return;\n                }\n            }\n            var selectedAppointments = this.parent.eventBase.getSelectedAppointments();\n            if (selectedAppointments.length > 0) {\n                target = selectedAppointments[selectedAppointments.length - 1];\n            }\n            this.parent.eventBase.removeSelectedAppointmentClass();\n            if (!isReverse && target.getAttribute('data-guid') === appElements[appElements.length - 1].getAttribute('data-guid') ||\n                isReverse && target.getAttribute('data-guid') === appElements[0].getAttribute('data-guid')) {\n                return;\n            }\n            if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda') {\n                this.selectAppointment(isReverse, target);\n                e.preventDefault();\n            }\n            return;\n        }\n        var selectedCells = this.parent.getSelectedCells();\n        if (selectedCells.length > 0 && !target.classList.contains(cls.APPOINTMENT_CLASS)) {\n            target = selectedCells[selectedCells.length - 1];\n            this.selectAppointmentElementFromWorkCell(isReverse, target);\n            e.preventDefault();\n            return;\n        }\n        if (target && !target.classList.contains(cls.RESOURCE_CELLS_CLASS) && this.parent.activeView.isTimelineView()\n            && this.parent.activeViewOptions.group.resources.length > 0) {\n            this.processTabOnResourceCells(target, isReverse);\n        }\n    };\n    KeyboardInteraction.prototype.processDelete = function (e) {\n        var activeEle = document.activeElement;\n        if (this.parent.currentView === 'MonthAgenda') {\n            var selectedEle = this.parent.eventBase.getSelectedEvents().element;\n            activeEle = ((selectedEle && isNullOrUndefined(selectedEle.length)) ? selectedEle : selectedEle[0]);\n        }\n        if (activeEle && activeEle.classList.contains(cls.APPOINTMENT_CLASS)) {\n            addClass([activeEle], cls.APPOINTMENT_BORDER);\n            this.parent.activeEventData = this.parent.eventBase.getSelectedEvents();\n            if (this.parent.activeViewOptions.readonly || activeEle.classList.contains(cls.READ_ONLY) ||\n                !this.parent.eventSettings.allowDeleting) {\n                return;\n            }\n            this.parent.quickPopup.deleteClick(e);\n        }\n    };\n    KeyboardInteraction.prototype.processCtrlShiftNavigationArrows = function (e) {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && document.activeElement.classList.contains(cls.APPOINTMENT_CLASS)) {\n            var groupIndex = parseInt(document.activeElement.getAttribute('data-group-index'), 10);\n            var index = (e.action === 'ctrlShiftLeftArrow' || e.action === 'ctrlShiftUpArrow') ? groupIndex - 1 : groupIndex + 1;\n            index = index < 0 ? 0 : index > this.parent.resourceBase.lastResourceLevel.length ?\n                this.parent.resourceBase.lastResourceLevel.length : index;\n            var eventEle = [];\n            while (eventEle.length === 0 && index >= 0 && index <= this.parent.resourceBase.lastResourceLevel.length) {\n                eventEle = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.APPOINTMENT_CLASS + \"[data-group-index=\\\"\" + index + \"\\\"]\"));\n                index = (e.action === 'ctrlShiftLeftArrow' || e.action === 'ctrlShiftUpArrow') ? index - 1 : index + 1;\n            }\n            var nextAppEle = eventEle[0];\n            if (nextAppEle) {\n                this.parent.eventBase.removeSelectedAppointmentClass();\n                this.parent.eventBase.addSelectedAppointments([nextAppEle], true);\n                nextAppEle.focus();\n            }\n        }\n        else if (this.parent.activeViewOptions.group.resources.length > 0 &&\n            !document.activeElement.classList.contains(cls.APPOINTMENT_CLASS)) {\n            var index = this.parent.resourceBase.renderedResources[0].groupIndex;\n            var appSelector = \".\" + cls.APPOINTMENT_CLASS + \"[data-group-index=\\\"\" + index + \"\\\"]\";\n            var appElements = [].slice.call(this.parent.element.querySelectorAll(appSelector));\n            if (appElements.length > 0) {\n                this.parent.eventBase.removeSelectedAppointmentClass();\n                var focusAppointment = appElements[0];\n                this.parent.eventBase.addSelectedAppointments([focusAppointment], true);\n                focusAppointment.focus();\n                e.preventDefault();\n            }\n        }\n    };\n    KeyboardInteraction.prototype.processEscape = function (event) {\n        this.parent.quickPopup.onClosePopup(event);\n        this.parent.quickPopup.morePopup.hide();\n        if (this.parent.headerModule) {\n            this.parent.headerModule.hideHeaderPopup();\n        }\n        if (this.parent.inlineModule) {\n            this.parent.inlineModule.removeInlineAppointmentElement();\n        }\n    };\n    KeyboardInteraction.prototype.isPreventAction = function (e) {\n        var target = closest(e.target, '.' + cls.RESOURCE_GROUP_CELLS_CLASS);\n        if (this.parent.activeView.isTimelineView() && !isNullOrUndefined(target)) {\n            return true;\n        }\n        return false;\n    };\n    KeyboardInteraction.prototype.processTabOnResourceCells = function (target, isReverse) {\n        var tabElements = [].slice.call(this.parent.element.querySelectorAll('[tabIndex=\"0\"]'));\n        var currentTabIndex = tabElements.indexOf(target);\n        var nextTabElement = !isReverse ? tabElements[currentTabIndex + 1] : tabElements[currentTabIndex - 1];\n        if (nextTabElement && nextTabElement.classList.contains(cls.RESOURCE_CELLS_CLASS)) {\n            var groupIndex = parseInt(nextTabElement.getAttribute('data-group-index'), 10);\n            if (this.parent.virtualScrollModule) {\n                var resColWrap_1 = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n                var resCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.RESOURCE_CELLS_CLASS));\n                resCells.forEach(function (element) {\n                    if (element.getBoundingClientRect().top < resColWrap_1.getBoundingClientRect().top) {\n                        element.setAttribute('tabindex', '-1');\n                    }\n                });\n            }\n            else {\n                this.setScrollPosition(groupIndex);\n            }\n        }\n    };\n    KeyboardInteraction.prototype.setScrollPosition = function (index) {\n        var workCell = this.parent.element.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-group-index=\\\"\" + index + \"\\\"]\");\n        if (workCell) {\n            this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS).scrollTop = workCell.offsetTop;\n        }\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} Returns the module name.\n     */\n    KeyboardInteraction.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * To destroy the keyboard module.\n     *\n     * @returns {void}\n     * @private\n     */\n    KeyboardInteraction.prototype.destroy = function () {\n        this.removeEventListener();\n        this.selectedCells = [];\n        this.keyboardModule.destroy();\n    };\n    return KeyboardInteraction;\n}());\nexport { KeyboardInteraction };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * data module is used to generate query and data source.\n *\n * @private\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module\n     *\n     * @param {Schedule} parent Accepts the schedule element instance\n     * @param {Object | DataManager} dataSource Accepts the datasource as JSON objects or DataManager\n     * @param {Query} query Accepts the query to process the data\n     * @private\n     */\n    function Data(parent, dataSource, query) {\n        this.parent = parent;\n        this.initDataManager(dataSource, query);\n    }\n    /**\n     * The function used to initialize dataManager and query\n     *\n     * @param {Object | DataManager} dataSource Accepts the datasource as JSON objects or DataManager\n     * @param {Query} query Accepts the query to process the data\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.initDataManager = function (dataSource, query) {\n        this.dataManager = dataSource instanceof DataManager ? dataSource : new DataManager(dataSource);\n        this.query = query instanceof Query ? query : new Query();\n    };\n    /**\n     * The function used to generate updated Query from schedule model\n     *\n     * @param {Date} startDate Accepts the start date\n     * @param {Date} endDate Accepts the end date\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.generateQuery = function (startDate, endDate) {\n        var query = this.query.clone();\n        if (this.parent && startDate && endDate) {\n            if (this.parent.activeViewOptions && this.parent.activeViewOptions.enableLazyLoading &&\n                !isNullOrUndefined(this.parent.activeViewOptions.group.resources) &&\n                this.parent.activeViewOptions.group.resources.length > 0 && this.parent.resourceBase &&\n                this.parent.resourceBase.resourceCollection.length > 0 && this.parent.resourceBase.renderedResources.length > 0) {\n                var resIdCollection_1 = [];\n                this.parent.resourceBase.resourceCollection.forEach(function () { return resIdCollection_1.push([]); });\n                this.parent.resourceBase.renderedResources.forEach(function (resource) {\n                    resIdCollection_1.forEach(function (resId, index) {\n                        var groupId = resource.groupOrder[parseInt(index.toString(), 10)];\n                        if (groupId && resId.indexOf(groupId) < 0) {\n                            resId.push(groupId);\n                        }\n                    });\n                });\n                this.parent.resourceBase.resourceCollection.forEach(function (resource, index) {\n                    query.addParams(resource.field, resIdCollection_1[parseInt(index.toString(), 10)].toString());\n                });\n            }\n            if (this.parent.timezone) {\n                startDate = this.parent.tzModule.remove(new Date(+startDate.getTime()), this.parent.timezone);\n                endDate = this.parent.tzModule.remove(new Date(+endDate.getTime()), this.parent.timezone);\n            }\n            if (this.parent.eventSettings.includeFiltersInQuery) {\n                var dateQuery = this.getStartEndQuery(startDate, endDate);\n                var recurrenceQuery = new Predicate(this.parent.eventFields.recurrenceRule, 'notequal', null).and(new Predicate(this.parent.eventFields.recurrenceRule, 'notequal', ''));\n                return query.where(dateQuery.or(recurrenceQuery));\n            }\n            query.addParams('StartDate', startDate.toISOString());\n            query.addParams('EndDate', endDate.toISOString());\n        }\n        return query;\n    };\n    /**\n     * The function used to generate updated Query from schedule model\n     *\n     * @param {Date} startDate Accepts the start date\n     * @param {Date} endDate Accepts the end date\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.getStartEndQuery = function (startDate, endDate) {\n        var fieldMapping = this.parent.eventFields;\n        var dateQuery = new Predicate(fieldMapping.startTime, 'greaterthanorequal', startDate)\n            .and(new Predicate(fieldMapping.endTime, 'greaterthanorequal', startDate))\n            .and(new Predicate(fieldMapping.startTime, 'lessthan', endDate))\n            .or(new Predicate(fieldMapping.startTime, 'lessthanorequal', startDate)\n            .and(new Predicate(fieldMapping.endTime, 'greaterthan', startDate)));\n        return dateQuery;\n    };\n    /**\n     * The function used to get dataSource by executing given Query\n     *\n     * @param  {Query} query - A Query that specifies to generate dataSource\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.getData = function (query) {\n        return this.dataManager.executeQuery(query);\n    };\n    /**\n     * To destroy the crud module.\n     *\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.destroy = function () {\n        this.dataManager = null;\n        this.query = null;\n    };\n    return Data;\n}());\nexport { Data };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { HijriParser, isNullOrUndefined } from '@syncfusion/ej2-base';\n/** @private */\nvar Gregorian = /** @class */ (function () {\n    function Gregorian() {\n    }\n    Gregorian.prototype.firstDateOfMonth = function (date) {\n        return new Date(date.getFullYear(), date.getMonth());\n    };\n    Gregorian.prototype.lastDateOfMonth = function (dt) {\n        return new Date(dt.getFullYear(), dt.getMonth() + 1, 0);\n    };\n    Gregorian.prototype.isMonthStart = function (date) {\n        return (date.getDate() === 1);\n    };\n    Gregorian.prototype.getLeapYearDaysCount = function () {\n        return 366;\n    };\n    Gregorian.prototype.getYearDaysCount = function (date, interval) {\n        return ((date.getFullYear() + interval) % 4 === 0) ? 366 : 365;\n    };\n    Gregorian.prototype.getDate = function (date) {\n        return date.getDate();\n    };\n    Gregorian.prototype.getMonth = function (date) {\n        return (date.getMonth() + 1);\n    };\n    Gregorian.prototype.getFullYear = function (date) {\n        return date.getFullYear();\n    };\n    Gregorian.prototype.getYearLastDate = function (date, interval) {\n        return new Date(date.getFullYear() + interval, 0, 0);\n    };\n    Gregorian.prototype.getMonthDaysCount = function (date) {\n        return this.lastDateOfMonth(date).getDate();\n    };\n    Gregorian.prototype.getMonthStartDate = function (date) {\n        return new Date(date.getFullYear(), date.getMonth(), 1, date.getHours(), date.getMinutes());\n    };\n    Gregorian.prototype.getMonthEndDate = function (date) {\n        date.setDate(1);\n        return new Date(date.setMonth(date.getMonth() + 1));\n    };\n    Gregorian.prototype.getExpectedDays = function (date, days) {\n        return days;\n    };\n    Gregorian.prototype.setDate = function (dateObj, date) {\n        dateObj.setDate(date);\n    };\n    Gregorian.prototype.setValidDate = function (date, interval, startDate, monthValue, beginDate) {\n        if (!isNullOrUndefined(beginDate)) {\n            date.setMonth((beginDate ? monthValue : date.getMonth()) + interval);\n        }\n        else {\n            date.setMonth(date.getMonth() + interval, startDate);\n        }\n    };\n    Gregorian.prototype.setMonth = function (date, interval, startDate) {\n        date.setDate(1);\n        date.setFullYear(date.getFullYear());\n        date.setMonth(interval - 1);\n        var maxDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n        date.setDate(Math.min(startDate, maxDay));\n    };\n    Gregorian.prototype.addYears = function (date, interval) {\n        date.setFullYear(date.getFullYear() + interval);\n    };\n    Gregorian.prototype.isSameMonth = function (date1, date2) {\n        return (date1.getMonth() === date2.getMonth());\n    };\n    Gregorian.prototype.checkMonth = function (date, months) {\n        return (months.indexOf(date.getMonth() + 1) === -1);\n    };\n    Gregorian.prototype.compareMonth = function (date1, date2) {\n        return (date1.getMonth() > date2.getMonth());\n    };\n    Gregorian.prototype.isSameYear = function (date1, date2) {\n        return (date1.getFullYear() === date2.getFullYear());\n    };\n    Gregorian.prototype.isLastMonth = function (date) {\n        return (date.getMonth() === 11);\n    };\n    Gregorian.prototype.isLeapYear = function (year, interval) {\n        return ((year + interval) % 4 === 0);\n    };\n    return Gregorian;\n}());\nexport { Gregorian };\n/** @private */\nvar Islamic = /** @class */ (function () {\n    function Islamic() {\n    }\n    Islamic.prototype.firstDateOfMonth = function (date) {\n        var hDate = this.getHijriDate(date);\n        var gDate = HijriParser.toGregorian(hDate.year, hDate.month, 1);\n        return gDate;\n    };\n    Islamic.prototype.lastDateOfMonth = function (date) {\n        var hDate = this.getHijriDate(date);\n        var daysInMonth = this.getDaysInMonth(hDate.month, hDate.year);\n        var gDate = HijriParser.toGregorian(hDate.year, hDate.month, daysInMonth);\n        var finalGDate = new Date(gDate.getTime());\n        finalGDate = new Date(finalGDate.setDate(finalGDate.getDate() + 1));\n        var finalHDate = this.getHijriDate(finalGDate);\n        if (hDate.month === finalHDate.month) {\n            return finalGDate;\n        }\n        finalHDate = this.getHijriDate(gDate);\n        if (hDate.month === finalHDate.month) {\n            return gDate;\n        }\n        return new Date(gDate.setDate(gDate.getDate() - 1));\n    };\n    Islamic.prototype.isMonthStart = function (date) {\n        var hijriDate = this.getHijriDate(date);\n        return (hijriDate.date === 1);\n    };\n    Islamic.prototype.getLeapYearDaysCount = function () {\n        return 355;\n    };\n    Islamic.prototype.getYearDaysCount = function (date, interval) {\n        var hDate = this.getHijriDate(date);\n        return this.isLeapYear(hDate.year, interval) ? 355 : 354;\n    };\n    Islamic.prototype.getDate = function (date) {\n        var hijriDate = this.getHijriDate(date);\n        return hijriDate.date;\n    };\n    Islamic.prototype.getMonth = function (date) {\n        var hDate = this.getHijriDate(date);\n        return hDate.month;\n    };\n    Islamic.prototype.getFullYear = function (date) {\n        var hDate = this.getHijriDate(date);\n        return hDate.year;\n    };\n    Islamic.prototype.getYearLastDate = function (date, interval) {\n        var hDate = this.getHijriDate(date);\n        var gDate = HijriParser.toGregorian(hDate.year + interval, 1, 0);\n        return gDate;\n    };\n    Islamic.prototype.getMonthDaysCount = function (date) {\n        var maxDate = this.lastDateOfMonth(date);\n        var hijriDate = this.getHijriDate(maxDate);\n        return hijriDate.date;\n    };\n    Islamic.prototype.getMonthStartDate = function (date) {\n        var firstDate = this.firstDateOfMonth(date);\n        return new Date(firstDate.getFullYear(), firstDate.getMonth(), firstDate.getDate(), date.getHours(), date.getMinutes());\n    };\n    Islamic.prototype.getMonthEndDate = function (date) {\n        var lastDate = this.lastDateOfMonth(date);\n        lastDate.setDate(lastDate.getDate() + 1);\n        return new Date(lastDate.setMonth(lastDate.getMonth()));\n    };\n    Islamic.prototype.getExpectedDays = function (date, days) {\n        var hDate = this.getHijriDate(date);\n        var day = [];\n        for (var i = 0; i < days.length; i++) {\n            var gDate = HijriParser.toGregorian(hDate.year, hDate.month, days[parseInt(i.toString(), 10)]);\n            day.push(gDate.getDate());\n        }\n        return day;\n    };\n    Islamic.prototype.setDate = function (dateObj, date) {\n        var hDate = this.getHijriDate(dateObj);\n        var gDate = HijriParser.toGregorian(hDate.year, hDate.month, date);\n        this.updateDateObj(dateObj, gDate);\n    };\n    Islamic.prototype.setValidDate = function (date, interval, startDate, monthValue, beginDate) {\n        var firstDate = (!isNullOrUndefined(beginDate)) ? this.firstDateOfMonth(beginDate) : date;\n        var hDate = this.getHijriDate(firstDate);\n        var gDate = HijriParser.toGregorian(hDate.year, hDate.month + interval, startDate);\n        this.updateDateObj(date, gDate);\n    };\n    Islamic.prototype.setMonth = function (date, interval, startDate) {\n        var hDate = this.getHijriDate(date);\n        var gDate = HijriParser.toGregorian(hDate.year, interval, startDate);\n        this.updateDateObj(date, gDate);\n    };\n    Islamic.prototype.addYears = function (date, interval, monthValue) {\n        var hDate = this.getHijriDate(date);\n        var gDate = HijriParser.toGregorian(hDate.year + interval, monthValue, 1);\n        this.updateDateObj(date, gDate);\n    };\n    Islamic.prototype.isSameMonth = function (date1, date2) {\n        var currentHijri = this.getHijriDate(date1);\n        var tempHijri = this.getHijriDate(date2);\n        return (currentHijri.month === tempHijri.month);\n    };\n    Islamic.prototype.checkMonth = function (date, months) {\n        var hDate = this.getHijriDate(date);\n        return (months.indexOf(hDate.month) === -1);\n    };\n    Islamic.prototype.compareMonth = function (date1, date2) {\n        var hDate = this.getHijriDate(date1);\n        var hDate1 = this.getHijriDate(date2);\n        return (hDate.month > hDate1.month);\n    };\n    Islamic.prototype.isSameYear = function (date1, date2) {\n        var hDate = this.getHijriDate(date1);\n        var hDate1 = this.getHijriDate(date2);\n        return (hDate.year === hDate1.year);\n    };\n    Islamic.prototype.isLastMonth = function (date) {\n        var hDate = this.getHijriDate(date);\n        return (hDate.month === 12);\n    };\n    Islamic.prototype.updateDateObj = function (date, gDate) {\n        date.setFullYear(gDate.getFullYear(), gDate.getMonth(), gDate.getDate());\n    };\n    Islamic.prototype.isLeapYear = function (year, interval) {\n        return (14 + 11 * (year + interval)) % 30 < 11;\n    };\n    Islamic.prototype.getDaysInMonth = function (month, year) {\n        var length = 0;\n        length = 29 + ((month + 1) % 2);\n        if (month === 11 && this.isLeapYear(year, 0)) {\n            length++;\n        }\n        return length;\n    };\n    Islamic.prototype.getHijriDate = function (date) {\n        return HijriParser.getHijriDate(date);\n    };\n    return Islamic;\n}());\nexport { Islamic };\n","/**\n * Time zone\n */\nvar Timezone = /** @class */ (function () {\n    function Timezone() {\n        this.timezoneData = [];\n        this.timezoneData = this.getTimezoneData();\n    }\n    Timezone.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    Timezone.prototype.convert = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    Timezone.prototype.add = function (date, timezone) {\n        return this.convert(date, date.getTimezoneOffset(), timezone);\n    };\n    Timezone.prototype.remove = function (date, timezone) {\n        return this.convert(date, timezone, date.getTimezoneOffset());\n    };\n    Timezone.prototype.removeLocalOffset = function (date) {\n        return new Date(date.getTime() - (date.getTimezoneOffset() * 60000));\n    };\n    Timezone.prototype.getLocalTimezoneName = function () {\n        return window.Intl ? Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC' : 'UTC';\n    };\n    Timezone.prototype.getTimezoneData = function () {\n        return timezoneData;\n    };\n    return Timezone;\n}());\nexport { Timezone };\nexport var timezoneData = [\n    { Value: 'Pacific/Niue', Text: '(UTC-11:00) Niue' },\n    { Value: 'Pacific/Pago_Pago', Text: '(UTC-11:00) Pago Pago' },\n    { Value: 'Pacific/Honolulu', Text: '(UTC-10:00) Hawaii Time' },\n    { Value: 'Pacific/Rarotonga', Text: '(UTC-10:00) Rarotonga' },\n    { Value: 'Pacific/Tahiti', Text: '(UTC-10:00) Tahiti' },\n    { Value: 'Pacific/Marquesas', Text: '(UTC-09:30) Marquesas' },\n    { Value: 'America/Anchorage', Text: '(UTC-09:00) Alaska Time' },\n    { Value: 'Pacific/Gambier', Text: '(UTC-09:00) Gambier' },\n    { Value: 'America/Los_Angeles', Text: '(UTC-08:00) Pacific Time' },\n    { Value: 'America/Tijuana', Text: '(UTC-08:00) Pacific Time - Tijuana' },\n    { Value: 'America/Vancouver', Text: '(UTC-08:00) Pacific Time - Vancouver' },\n    { Value: 'America/Whitehorse', Text: '(UTC-08:00) Pacific Time - Whitehorse' },\n    { Value: 'Pacific/Pitcairn', Text: '(UTC-08:00) Pitcairn' },\n    { Value: 'America/Denver', Text: '(UTC-07:00) Mountain Time' },\n    { Value: 'America/Phoenix', Text: '(UTC-07:00) Mountain Time - Arizona' },\n    { Value: 'America/Mazatlan', Text: '(UTC-07:00) Mountain Time - Chihuahua, Mazatlan' },\n    { Value: 'America/Dawson_Creek', Text: '(UTC-07:00) Mountain Time - Dawson Creek' },\n    { Value: 'America/Edmonton', Text: '(UTC-07:00) Mountain Time - Edmonton' },\n    { Value: 'America/Hermosillo', Text: '(UTC-07:00) Mountain Time - Hermosillo' },\n    { Value: 'America/Yellowknife', Text: '(UTC-07:00) Mountain Time - Yellowknife' },\n    { Value: 'America/Belize', Text: '(UTC-06:00) Belize' },\n    { Value: 'America/Chicago', Text: '(UTC-06:00) Central Time' },\n    { Value: 'America/Mexico_City', Text: '(UTC-06:00) Central Time - Mexico City' },\n    { Value: 'America/Regina', Text: '(UTC-06:00) Central Time - Regina' },\n    { Value: 'America/Tegucigalpa', Text: '(UTC-06:00) Central Time - Tegucigalpa' },\n    { Value: 'America/Winnipeg', Text: '(UTC-06:00) Central Time - Winnipeg' },\n    { Value: 'America/Costa_Rica', Text: '(UTC-06:00) Costa Rica' },\n    { Value: 'America/El_Salvador', Text: '(UTC-06:00) El Salvador' },\n    { Value: 'Pacific/Galapagos', Text: '(UTC-06:00) Galapagos' },\n    { Value: 'America/Guatemala', Text: '(UTC-06:00) Guatemala' },\n    { Value: 'America/Managua', Text: '(UTC-06:00) Managua' },\n    { Value: 'America/Cancun', Text: '(UTC-05:00) America Cancun' },\n    { Value: 'America/Bogota', Text: '(UTC-05:00) Bogota' },\n    { Value: 'Pacific/Easter', Text: '(UTC-05:00) Easter Island' },\n    { Value: 'America/New_York', Text: '(UTC-05:00) Eastern Time' },\n    { Value: 'America/Iqaluit', Text: '(UTC-05:00) Eastern Time - Iqaluit' },\n    { Value: 'America/Toronto', Text: '(UTC-05:00) Eastern Time - Toronto' },\n    { Value: 'America/Guayaquil', Text: '(UTC-05:00) Guayaquil' },\n    { Value: 'America/Havana', Text: '(UTC-05:00) Havana' },\n    { Value: 'America/Jamaica', Text: '(UTC-05:00) Jamaica' },\n    { Value: 'America/Lima', Text: '(UTC-05:00) Lima' },\n    { Value: 'America/Nassau', Text: '(UTC-05:00) Nassau' },\n    { Value: 'America/Panama', Text: '(UTC-05:00) Panama' },\n    { Value: 'America/Port-au-Prince', Text: '(UTC-05:00) Port-au-Prince' },\n    { Value: 'America/Rio_Branco', Text: '(UTC-05:00) Rio Branco' },\n    { Value: 'America/Halifax', Text: '(UTC-04:00) Atlantic Time - Halifax' },\n    { Value: 'America/Barbados', Text: '(UTC-04:00) Barbados' },\n    { Value: 'Atlantic/Bermuda', Text: '(UTC-04:00) Bermuda' },\n    { Value: 'America/Boa_Vista', Text: '(UTC-04:00) Boa Vista' },\n    { Value: 'America/Caracas', Text: '(UTC-04:00) Caracas' },\n    { Value: 'America/Curacao', Text: '(UTC-04:00) Curacao' },\n    { Value: 'America/Grand_Turk', Text: '(UTC-04:00) Grand Turk' },\n    { Value: 'America/Guyana', Text: '(UTC-04:00) Guyana' },\n    { Value: 'America/La_Paz', Text: '(UTC-04:00) La Paz' },\n    { Value: 'America/Manaus', Text: '(UTC-04:00) Manaus' },\n    { Value: 'America/Martinique', Text: '(UTC-04:00) Martinique' },\n    { Value: 'America/Port_of_Spain', Text: '(UTC-04:00) Port of Spain' },\n    { Value: 'America/Porto_Velho', Text: '(UTC-04:00) Porto Velho' },\n    { Value: 'America/Puerto_Rico', Text: '(UTC-04:00) Puerto Rico' },\n    { Value: 'America/Santo_Domingo', Text: '(UTC-04:00) Santo Domingo' },\n    { Value: 'America/Thule', Text: '(UTC-04:00) Thule' },\n    { Value: 'America/St_Johns', Text: '(UTC-03:30) Newfoundland Time - St. Johns' },\n    { Value: 'America/Araguaina', Text: '(UTC-03:00) Araguaina' },\n    { Value: 'America/Asuncion', Text: '(UTC-03:00) Asuncion' },\n    { Value: 'America/Belem', Text: '(UTC-03:00) Belem' },\n    { Value: 'America/Argentina/Buenos_Aires', Text: '(UTC-03:00) Buenos Aires' },\n    { Value: 'America/Campo_Grande', Text: '(UTC-03:00) Campo Grande' },\n    { Value: 'America/Cayenne', Text: '(UTC-03:00) Cayenne' },\n    { Value: 'America/Cuiaba', Text: '(UTC-03:00) Cuiaba' },\n    { Value: 'America/Fortaleza', Text: '(UTC-03:00) Fortaleza' },\n    { Value: 'America/Godthab', Text: '(UTC-03:00) Godthab' },\n    { Value: 'America/Maceio', Text: '(UTC-03:00) Maceio' },\n    { Value: 'America/Miquelon', Text: '(UTC-03:00) Miquelon' },\n    { Value: 'America/Montevideo', Text: '(UTC-03:00) Montevideo' },\n    { Value: 'Antarctica/Palmer', Text: '(UTC-03:00) Palmer' },\n    { Value: 'America/Paramaribo', Text: '(UTC-03:00) Paramaribo' },\n    { Value: 'America/Punta_Arenas', Text: '(UTC-03:00) Punta Arenas' },\n    { Value: 'America/Recife', Text: '(UTC-03:00) Recife' },\n    { Value: 'Antarctica/Rothera', Text: '(UTC-03:00) Rothera' },\n    { Value: 'America/Bahia', Text: '(UTC-03:00) Salvador' },\n    { Value: 'America/Santiago', Text: '(UTC-03:00) Santiago' },\n    { Value: 'Atlantic/Stanley', Text: '(UTC-03:00) Stanley' },\n    { Value: 'America/Noronha', Text: '(UTC-02:00) Noronha' },\n    { Value: 'America/Sao_Paulo', Text: '(UTC-02:00) Sao Paulo' },\n    { Value: 'Atlantic/South_Georgia', Text: '(UTC-02:00) South Georgia' },\n    { Value: 'Atlantic/Azores', Text: '(UTC-01:00) Azores' },\n    { Value: 'Atlantic/Cape_Verde', Text: '(UTC-01:00) Cape Verde' },\n    { Value: 'America/Scoresbysund', Text: '(UTC-01:00) Scoresbysund' },\n    { Value: 'Africa/Abidjan', Text: '(UTC+00:00) Abidjan' },\n    { Value: 'Africa/Accra', Text: '(UTC+00:00) Accra' },\n    { Value: 'Africa/Bissau', Text: '(UTC+00:00) Bissau' },\n    { Value: 'Atlantic/Canary', Text: '(UTC+00:00) Canary Islands' },\n    { Value: 'Africa/Casablanca', Text: '(UTC+00:00) Casablanca' },\n    { Value: 'America/Danmarkshavn', Text: '(UTC+00:00) Danmarkshavn' },\n    { Value: 'Europe/Dublin', Text: '(UTC+00:00) Dublin' },\n    { Value: 'Africa/El_Aaiun', Text: '(UTC+00:00) El Aaiun' },\n    { Value: 'Atlantic/Faroe', Text: '(UTC+00:00) Faeroe' },\n    { Value: 'Etc/UTC', Text: '(UTC+00:00) UTC (no daylight saving)' },\n    { Value: 'Europe/Lisbon', Text: '(UTC+00:00) Lisbon' },\n    { Value: 'Europe/London', Text: '(UTC+00:00) London' },\n    { Value: 'Africa/Monrovia', Text: '(UTC+00:00) Monrovia' },\n    { Value: 'Atlantic/Reykjavik', Text: '(UTC+00:00) Reykjavik' },\n    { Value: 'UTC', Text: 'UTC' },\n    { Value: 'Africa/Algiers', Text: '(UTC+01:00) Algiers' },\n    { Value: 'Europe/Amsterdam', Text: '(UTC+01:00) Amsterdam' },\n    { Value: 'Europe/Andorra', Text: '(UTC+01:00) Andorra' },\n    { Value: 'Europe/Berlin', Text: '(UTC+01:00) Berlin' },\n    { Value: 'Europe/Brussels', Text: '(UTC+01:00) Brussels' },\n    { Value: 'Europe/Budapest', Text: '(UTC+01:00) Budapest' },\n    { Value: 'Europe/Belgrade', Text: '(UTC+01:00) Central European Time - Belgrade' },\n    { Value: 'Europe/Prague', Text: '(UTC+01:00) Central European Time - Prague' },\n    { Value: 'Africa/Ceuta', Text: '(UTC+01:00) Ceuta' },\n    { Value: 'Europe/Copenhagen', Text: '(UTC+01:00) Copenhagen' },\n    { Value: 'Europe/Gibraltar', Text: '(UTC+01:00) Gibraltar' },\n    { Value: 'Africa/Lagos', Text: '(UTC+01:00) Lagos' },\n    { Value: 'Europe/Luxembourg', Text: '(UTC+01:00) Luxembourg' },\n    { Value: 'Europe/Madrid', Text: '(UTC+01:00) Madrid' },\n    { Value: 'Europe/Malta', Text: '(UTC+01:00) Malta' },\n    { Value: 'Europe/Monaco', Text: '(UTC+01:00) Monaco' },\n    { Value: 'Africa/Ndjamena', Text: '(UTC+01:00) Ndjamena' },\n    { Value: 'Europe/Oslo', Text: '(UTC+01:00) Oslo' },\n    { Value: 'Europe/Paris', Text: '(UTC+01:00) Paris' },\n    { Value: 'Europe/Rome', Text: '(UTC+01:00) Rome' },\n    { Value: 'Europe/Stockholm', Text: '(UTC+01:00) Stockholm' },\n    { Value: 'Europe/Tirane', Text: '(UTC+01:00) Tirane' },\n    { Value: 'Africa/Tunis', Text: '(UTC+01:00) Tunis' },\n    { Value: 'Europe/Vienna', Text: '(UTC+01:00) Vienna' },\n    { Value: 'Europe/Warsaw', Text: '(UTC+01:00) Warsaw' },\n    { Value: 'Europe/Zurich', Text: '(UTC+01:00) Zurich' },\n    { Value: 'Asia/Amman', Text: '(UTC+02:00) Amman' },\n    { Value: 'Europe/Athens', Text: '(UTC+02:00) Athens' },\n    { Value: 'Asia/Beirut', Text: '(UTC+02:00) Beirut' },\n    { Value: 'Europe/Bucharest', Text: '(UTC+02:00) Bucharest' },\n    { Value: 'Africa/Cairo', Text: '(UTC+02:00) Cairo' },\n    { Value: 'Europe/Chisinau', Text: '(UTC+02:00) Chisinau' },\n    { Value: 'Asia/Damascus', Text: '(UTC+02:00) Damascus' },\n    { Value: 'Asia/Gaza', Text: '(UTC+02:00) Gaza' },\n    { Value: 'Europe/Helsinki', Text: '(UTC+02:00) Helsinki' },\n    { Value: 'Asia/Jerusalem', Text: '(UTC+02:00) Jerusalem' },\n    { Value: 'Africa/Johannesburg', Text: '(UTC+02:00) Johannesburg' },\n    { Value: 'Africa/Khartoum', Text: '(UTC+02:00) Khartoum' },\n    { Value: 'Europe/Kiev', Text: '(UTC+02:00) Kiev' },\n    { Value: 'Africa/Maputo', Text: '(UTC+02:00) Maputo' },\n    { Value: 'Europe/Kaliningrad', Text: '(UTC+02:00) Moscow-01 - Kaliningrad' },\n    { Value: 'Asia/Nicosia', Text: '(UTC+02:00) Nicosia' },\n    { Value: 'Europe/Riga', Text: '(UTC+02:00) Riga' },\n    { Value: 'Europe/Sofia', Text: '(UTC+02:00) Sofia' },\n    { Value: 'Europe/Tallinn', Text: '(UTC+02:00) Tallinn' },\n    { Value: 'Africa/Tripoli', Text: '(UTC+02:00) Tripoli' },\n    { Value: 'Europe/Vilnius', Text: '(UTC+02:00) Vilnius' },\n    { Value: 'Africa/Windhoek', Text: '(UTC+02:00) Windhoek' },\n    { Value: 'Asia/Baghdad', Text: '(UTC+03:00) Baghdad' },\n    { Value: 'Europe/Istanbul', Text: '(UTC+03:00) Istanbul' },\n    { Value: 'Europe/Minsk', Text: '(UTC+03:00) Minsk' },\n    { Value: 'Europe/Moscow', Text: '(UTC+03:00) Moscow+00 - Moscow' },\n    { Value: 'Africa/Nairobi', Text: '(UTC+03:00) Nairobi' },\n    { Value: 'Asia/Qatar', Text: '(UTC+03:00) Qatar' },\n    { Value: 'Asia/Riyadh', Text: '(UTC+03:00) Riyadh' },\n    { Value: 'Antarctica/Syowa', Text: '(UTC+03:00) Syowa' },\n    { Value: 'Asia/Tehran', Text: '(UTC+03:30) Tehran' },\n    { Value: 'Asia/Baku', Text: '(UTC+04:00) Baku' },\n    { Value: 'Asia/Dubai', Text: '(UTC+04:00) Dubai' },\n    { Value: 'Indian/Mahe', Text: '(UTC+04:00) Mahe' },\n    { Value: 'Indian/Mauritius', Text: '(UTC+04:00) Mauritius' },\n    { Value: 'Europe/Samara', Text: '(UTC+04:00) Moscow+01 - Samara' },\n    { Value: 'Indian/Reunion', Text: '(UTC+04:00) Reunion' },\n    { Value: 'Asia/Tbilisi', Text: '(UTC+04:00) Tbilisi' },\n    { Value: 'Asia/Yerevan', Text: '(UTC+04:00) Yerevan' },\n    { Value: 'Asia/Kabul', Text: '(UTC+04:30) Kabul' },\n    { Value: 'Asia/Aqtau', Text: '(UTC+05:00) Aqtau' },\n    { Value: 'Asia/Aqtobe', Text: '(UTC+05:00) Aqtobe' },\n    { Value: 'Asia/Ashgabat', Text: '(UTC+05:00) Ashgabat' },\n    { Value: 'Asia/Dushanbe', Text: '(UTC+05:00) Dushanbe' },\n    { Value: 'Asia/Karachi', Text: '(UTC+05:00) Karachi' },\n    { Value: 'Indian/Kerguelen', Text: '(UTC+05:00) Kerguelen' },\n    { Value: 'Indian/Maldives', Text: '(UTC+05:00) Maldives' },\n    { Value: 'Antarctica/Mawson', Text: '(UTC+05:00) Mawson' },\n    { Value: 'Asia/Yekaterinburg', Text: '(UTC+05:00) Moscow+02 - Yekaterinburg' },\n    { Value: 'Asia/Tashkent', Text: '(UTC+05:00) Tashkent' },\n    { Value: 'Asia/Colombo', Text: '(UTC+05:30) Colombo' },\n    { Value: 'Asia/Kolkata', Text: '(UTC+05:30) India Standard Time' },\n    { Value: 'Asia/Katmandu', Text: '(UTC+05:45) Katmandu' },\n    { Value: 'Asia/Almaty', Text: '(UTC+06:00) Almaty' },\n    { Value: 'Asia/Bishkek', Text: '(UTC+06:00) Bishkek' },\n    { Value: 'Indian/Chagos', Text: '(UTC+06:00) Chagos' },\n    { Value: 'Asia/Dhaka', Text: '(UTC+06:00) Dhaka' },\n    { Value: 'Asia/Omsk', Text: '(UTC+06:00) Moscow+03 - Omsk' },\n    { Value: 'Asia/Thimphu', Text: '(UTC+06:00) Thimphu' },\n    { Value: 'Antarctica/Vostok', Text: '(UTC+06:00) Vostok' },\n    { Value: 'Indian/Cocos', Text: '(UTC+06:30) Cocos' },\n    { Value: 'Asia/Yangon', Text: '(UTC+06:30) Rangoon' },\n    { Value: 'Asia/Bangkok', Text: '(UTC+07:00) Bangkok' },\n    { Value: 'Indian/Christmas', Text: '(UTC+07:00) Christmas' },\n    { Value: 'Antarctica/Davis', Text: '(UTC+07:00) Davis' },\n    { Value: 'Asia/Saigon', Text: '(UTC+07:00) Hanoi' },\n    { Value: 'Asia/Hovd', Text: '(UTC+07:00) Hovd' },\n    { Value: 'Asia/Jakarta', Text: '(UTC+07:00) Jakarta' },\n    { Value: 'Asia/Krasnoyarsk', Text: '(UTC+07:00) Moscow+04 - Krasnoyarsk' },\n    { Value: 'Asia/Brunei', Text: '(UTC+08:00) Brunei' },\n    { Value: 'Asia/Shanghai', Text: '(UTC+08:00) China Time - Beijing' },\n    { Value: 'Asia/Choibalsan', Text: '(UTC+08:00) Choibalsan' },\n    { Value: 'Asia/Hong_Kong', Text: '(UTC+08:00) Hong Kong' },\n    { Value: 'Asia/Kuala_Lumpur', Text: '(UTC+08:00) Kuala Lumpur' },\n    { Value: 'Asia/Macau', Text: '(UTC+08:00) Macau' },\n    { Value: 'Asia/Makassar', Text: '(UTC+08:00) Makassar' },\n    { Value: 'Asia/Manila', Text: '(UTC+08:00) Manila' },\n    { Value: 'Asia/Irkutsk', Text: '(UTC+08:00) Moscow+05 - Irkutsk' },\n    { Value: 'Asia/Singapore', Text: '(UTC+08:00) Singapore' },\n    { Value: 'Asia/Taipei', Text: '(UTC+08:00) Taipei' },\n    { Value: 'Asia/Ulaanbaatar', Text: '(UTC+08:00) Ulaanbaatar' },\n    { Value: 'Australia/Perth', Text: '(UTC+08:00) Western Time - Perth' },\n    { Value: 'Asia/Pyongyang', Text: '(UTC+08:30) Pyongyang' },\n    { Value: 'Asia/Dili', Text: '(UTC+09:00) Dili' },\n    { Value: 'Asia/Jayapura', Text: '(UTC+09:00) Jayapura' },\n    { Value: 'Asia/Yakutsk', Text: '(UTC+09:00) Moscow+06 - Yakutsk' },\n    { Value: 'Pacific/Palau', Text: '(UTC+09:00) Palau' },\n    { Value: 'Asia/Seoul', Text: '(UTC+09:00) Seoul' },\n    { Value: 'Asia/Tokyo', Text: '(UTC+09:00) Tokyo' },\n    { Value: 'Australia/Darwin', Text: '(UTC+09:30) Central Time - Darwin' },\n    { Value: 'Antarctica/DumontDUrville', Text: '(UTC+10:00) Dumont D\"Urville' },\n    { Value: 'Australia/Brisbane', Text: '(UTC+10:00) Eastern Time - Brisbane' },\n    { Value: 'Pacific/Guam', Text: '(UTC+10:00) Guam' },\n    { Value: 'Asia/Vladivostok', Text: '(UTC+10:00) Moscow+07 - Vladivostok' },\n    { Value: 'Pacific/Port_Moresby', Text: '(UTC+10:00) Port Moresby' },\n    { Value: 'Pacific / Chuuk', Text: '(UTC+10:00) Truk' },\n    { Value: 'Australia/Adelaide', Text: '(UTC+10:30) Central Time - Adelaide' },\n    { Value: 'Antarctica/Casey', Text: '(UTC+11:00) Casey' },\n    { Value: 'Australia/Hobart', Text: '(UTC+11:00) Eastern Time - Hobart' },\n    { Value: 'Australia/Sydney', Text: '(UTC+11:00) Eastern Time - Melbourne, Sydney' },\n    { Value: 'Pacific/Efate', Text: '(UTC+11:00) Efate' },\n    { Value: 'Pacific/Guadalcanal', Text: '(UTC+11:00) Guadalcanal' },\n    { Value: 'Pacific/Kosrae', Text: '(UTC+11:00) Kosrae' },\n    { Value: 'Asia/Magadan', Text: '(UTC+11:00) Moscow+08 - Magadan' },\n    { Value: 'Pacific / Norfolk', Text: '(UTC+11:00) Norfolk' },\n    { Value: 'Pacific/Noumea', Text: '(UTC+11:00) Noumea' },\n    { Value: 'Pacific/Pohnpei', Text: '(UTC+11:00) Ponape' },\n    { Value: 'Pacific/Funafuti', Text: '(UTC+12:00) Funafuti' },\n    { Value: 'Pacific/Kwajalein', Text: '(UTC+12:00) Kwajalein' },\n    { Value: 'Pacific/Majuro', Text: '(UTC+12:00) Majuro' },\n    { Value: 'Asia/Kamchatka', Text: '(UTC+12:00) Moscow+09 - Petropavlovsk - Kamchatskiy' },\n    { Value: 'Pacific / Nauru', Text: '(UTC+12:00) Nauru' },\n    { Value: 'Pacific/Tarawa', Text: '(UTC+12:00) Tarawa' },\n    { Value: 'Pacific/Wake', Text: '(UTC+12:00) Wake' },\n    { Value: 'Pacific/Wallis', Text: '(UTC+12:00) Wallis' },\n    { Value: 'Pacific/Auckland', Text: '(UTC+13:00) Auckland' },\n    { Value: 'Pacific/Enderbury', Text: '(UTC+13:00) Enderbury' },\n    { Value: 'Pacific/Fakaofo', Text: '(UTC+13:00) Fakaofo' },\n    { Value: 'Pacific/Fiji', Text: '(UTC+13:00) Fiji' },\n    { Value: 'Pacific/Tongatapu', Text: '(UTC+13:00) Tongatapu' },\n    { Value: 'Pacific/Apia', Text: '(UTC+14:00) Apia' },\n    { Value: 'Pacific/Kiritimati', Text: '(UTC+14:00) Kiritimati' }\n];\n","/* eslint-disable max-len */\nimport { isNullOrUndefined, getDefaultDateObject, getValue, cldrData } from '@syncfusion/ej2-base';\nimport { MS_PER_DAY, addDays, resetTime, capitalizeFirstWord } from '../schedule/base/util';\nimport { Islamic, Gregorian } from '../common/calendar-util';\nimport { Timezone } from '../schedule/timezone/timezone';\n/**\n * Date Generator from Recurrence Rule\n */\n/**\n * Generate Summary from Recurrence Rule\n *\n * @param {string} rule Accepts the Recurrence rule\n * @param {L10n} localeObject Accepts the locale object\n * @param {string} locale Accepts the locale name\n * @param {CalendarType} calendarType Accepts the calendar type\n * @returns {string} Returns the summary string from given recurrence rule\n */\nexport function generateSummary(rule, localeObject, locale, calendarType) {\n    if (calendarType === void 0) { calendarType = 'Gregorian'; }\n    var ruleObject = extractObjectFromRule(rule);\n    var summary = localeObject.getConstant(EVERY) + ' ';\n    var cldrObj;\n    var cldrObj1;\n    var calendarMode = calendarType.toLowerCase();\n    if (locale === 'en' || locale === 'en-US') {\n        var nameSpace1 = 'months.stand-alone.abbreviated';\n        var nameSpace = 'days.stand-alone.abbreviated';\n        cldrObj1 = (getValue(nameSpace1, getDefaultDateObject(calendarMode)));\n        cldrObj = (getValue(nameSpace, getDefaultDateObject(calendarMode)));\n    }\n    else {\n        var nameSpace1 = 'main.' + locale + '.dates.calendars.' + calendarMode + '.months.stand-alone.abbreviated';\n        var nameSpace = 'main.' + locale + '.dates.calendars.' + calendarMode + '.days.stand-alone.abbreviated';\n        cldrObj1 =\n            (getValue(nameSpace1, cldrData));\n        cldrObj =\n            (getValue(nameSpace, cldrData));\n    }\n    if (ruleObject.interval > 1) {\n        summary += ruleObject.interval + ' ';\n    }\n    switch (ruleObject.freq) {\n        case 'DAILY':\n            summary += localeObject.getConstant(DAYS);\n            break;\n        case 'WEEKLY':\n            summary += localeObject.getConstant(WEEKS) + ' ' + localeObject.getConstant(ON) + ' ';\n            ruleObject.day.forEach(function (day, index) {\n                summary += capitalizeFirstWord(getValue(DAYINDEXOBJECT[\"\" + day], cldrObj), 'single');\n                summary += (((ruleObject.day.length - 1) === index) ? '' : ', ');\n            });\n            break;\n        case 'MONTHLY':\n            summary += localeObject.getConstant(MONTHS) + ' ' + localeObject.getConstant(ON) + ' ';\n            summary += getMonthSummary(ruleObject, cldrObj, localeObject);\n            break;\n        case 'YEARLY':\n            summary += localeObject.getConstant(YEARS) + ' ' + localeObject.getConstant(ON) + ' ';\n            summary += capitalizeFirstWord(getValue((ruleObject.month[0]).toString(), cldrObj1), 'single') + ' ';\n            summary += getMonthSummary(ruleObject, cldrObj, localeObject);\n            break;\n    }\n    if (ruleObject.count) {\n        summary += ', ' + (ruleObject.count) + ' ' + localeObject.getConstant(TIMES);\n    }\n    else if (ruleObject.until) {\n        var tempDate = ruleObject.until;\n        summary += ', ' + localeObject.getConstant(UNTIL)\n            + ' ' + tempDate.getDate()\n            + ' ' + capitalizeFirstWord(getValue((tempDate.getMonth() + 1).toString(), cldrObj1), 'single')\n            + ' ' + tempDate.getFullYear();\n    }\n    return summary;\n}\n/**\n * Generates Month summary\n *\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @param {string[]} cldrObj Accepts the collections of month name from calendar\n * @param {L10n} localeObj Accepts the locale object\n * @returns {string} Returns the month summary string from given recurrence rule object\n * @private\n */\nfunction getMonthSummary(ruleObject, cldrObj, localeObj) {\n    var summary = '';\n    if (ruleObject.monthDay.length) {\n        summary += ruleObject.monthDay[0];\n    }\n    else if (ruleObject.day) {\n        var pos = ruleObject.setPosition - 1;\n        summary += localeObj.getConstant(WEEKPOS[pos > -1 ? pos : (WEEKPOS.length - 1)])\n            + ' ' + capitalizeFirstWord(getValue(DAYINDEXOBJECT[ruleObject.day[0]], cldrObj), 'single');\n    }\n    return summary;\n}\n/**\n * Generates the date collections from the given recurrence rule\n *\n * @param {Date} startDate Accepts the rule start date\n * @param {string} rule Accepts the recurrence rule\n * @param {string} excludeDate Accepts the exception dates in string format\n * @param {number} startDayOfWeek Accepts the start day index of week\n * @param {number} maximumCount Accepts the maximum number count to generate date collections\n * @param {Date} viewDate Accepts the current date instead of start date\n * @param {CalendarType} calendarMode Accepts the calendar type\n * @param {string} newTimezone Accepts the timezone name\n * @returns {number[]} Returns the collection of dates\n */\nexport function generate(startDate, rule, excludeDate, startDayOfWeek, maximumCount, viewDate, calendarMode, newTimezone) {\n    if (maximumCount === void 0) { maximumCount = MAXOCCURRENCE; }\n    if (viewDate === void 0) { viewDate = null; }\n    if (calendarMode === void 0) { calendarMode = 'Gregorian'; }\n    if (newTimezone === void 0) { newTimezone = null; }\n    var ruleObject = extractObjectFromRule(rule);\n    var cacheDate;\n    calendarUtil = getCalendarUtil(calendarMode);\n    var data = [];\n    var modifiedDate = new Date(startDate.getTime());\n    tempExcludeDate = [];\n    var tempDate = isNullOrUndefined(excludeDate) ? [] : excludeDate.split(',');\n    var tz = new Timezone();\n    tempDate.forEach(function (content) {\n        var parsedDate = getDateFromRecurrenceDateString(content);\n        if (newTimezone) {\n            parsedDate = tz.add(new Date(parsedDate.getTime()), newTimezone);\n        }\n        tempExcludeDate.push(new Date(parsedDate.getTime()).setHours(0, 0, 0, 0));\n    });\n    ruleObject.recExceptionCount = !isNullOrUndefined(ruleObject.count) ? tempExcludeDate.length : 0;\n    if (viewDate && viewDate > startDate && !ruleObject.count) {\n        tempViewDate = new Date(new Date(viewDate.getTime()).setHours(0, 0, 0));\n    }\n    else {\n        tempViewDate = null;\n    }\n    if (!ruleObject.until && tempViewDate) {\n        cacheDate = new Date(tempViewDate.getTime());\n        cacheDate.setDate(tempViewDate.getDate() + maximumCount * (ruleObject.interval));\n        ruleObject.until = cacheDate;\n    }\n    if (ruleObject.until && startDate > ruleObject.until) {\n        return data;\n    }\n    maxOccurrence = maximumCount;\n    startDayOfWeek = startDayOfWeek || 0;\n    setFirstDayOfWeek(DAYINDEX[parseInt(startDayOfWeek.toString(), 10)]);\n    if (ruleObject.until) {\n        var end = resetTime(ruleObject.until);\n        ruleObject.until = new Date(end.getFullYear(), end.getMonth(), end.getDate(), 23, 59, 59);\n    }\n    switch (ruleObject.freq) {\n        case 'DAILY':\n            dailyType(modifiedDate, ruleObject.until, data, ruleObject);\n            break;\n        case 'WEEKLY':\n            weeklyType(modifiedDate, ruleObject.until, data, ruleObject, startDayOfWeek);\n            break;\n        case 'MONTHLY':\n            monthlyType(modifiedDate, ruleObject.until, data, ruleObject);\n            break;\n        case 'YEARLY':\n            yearlyType(modifiedDate, ruleObject.until, data, ruleObject);\n    }\n    return data;\n}\n/**\n * Generate date object from given date string\n *\n * @param {string} recDateString Accepts the exception date as string\n * @returns {Date} Returns the date from exception date string\n */\nexport function getDateFromRecurrenceDateString(recDateString) {\n    return new Date(recDateString.substr(0, 4) +\n        '-' + recDateString.substr(4, 2) +\n        '-' + recDateString.substr(6, 5) +\n        ':' + recDateString.substr(11, 2) +\n        ':' + recDateString.substr(13));\n}\n/**\n * Internal method to handle exclude date\n *\n * @param {number[]} data Accepts the exception date collections\n * @param {number} date Accepts the new exclude date\n * @returns {void}\n * @private\n */\nfunction excludeDateHandler(data, date) {\n    var zeroIndex = new Date(date).setHours(0, 0, 0, 0);\n    if (tempExcludeDate.indexOf(zeroIndex) === -1 && (!tempViewDate || zeroIndex >= tempViewDate.getTime())) {\n        data.push(date);\n    }\n}\n/**\n * Internal method for get date count\n *\n * @param {Date} startDate Accepts the date\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {number} Returns the number of date count\n * @private\n */\nfunction getDateCount(startDate, ruleObject) {\n    var count = maxOccurrence;\n    if (ruleObject.count) {\n        count = ruleObject.count;\n    }\n    else if (ruleObject.until) {\n        if (ruleObject.freq === 'DAILY' || ruleObject.freq === 'WEEKLY') {\n            count = Math.floor((ruleObject.until.getTime() - startDate.getTime()) / MS_PER_DAY) + 1;\n        }\n        else if (ruleObject.freq === 'MONTHLY' || ruleObject.freq === 'YEARLY') {\n            count = Math.floor(((ruleObject.until.getMonth() + 12 * ruleObject.until.getFullYear()) -\n                (startDate.getMonth() + 12 * startDate.getFullYear())) / ruleObject.interval) +\n                (ruleObject.day.length > 1 ? (Math.floor((ruleObject.until.getTime() - startDate.getTime()) / MS_PER_DAY) + 1) : 1);\n            if (ruleObject.freq === 'YEARLY') {\n                count = ruleObject.month.length > 1 ? (count * ruleObject.month.length) : count;\n            }\n        }\n    }\n    return count;\n}\n/**\n *  Internal method for daily type recurrence rule\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction dailyType(startDate, endDate, data, ruleObject) {\n    var tempDate = new Date(startDate.getTime());\n    var interval = ruleObject.interval;\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var state;\n    var expectedDays = ruleObject.day;\n    while (compareDates(tempDate, endDate)) {\n        state = true;\n        state = validateRules(tempDate, ruleObject);\n        if (state && (expectedDays.indexOf(DAYINDEX[tempDate.getDay()]) > -1 || expectedDays.length === 0)) {\n            excludeDateHandler(data, tempDate.getTime());\n            if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n                break;\n            }\n        }\n        tempDate.setDate(tempDate.getDate() + interval);\n        if (tempDate.getHours() !== startDate.getHours()) {\n            tempDate.setHours(startDate.getHours());\n        }\n    }\n}\n/**\n * Internal method for weekly type recurrence rule\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @param {number} startDayOfWeek Accepts the start day index of week\n * @returns {void}\n * @private\n */\nfunction weeklyType(startDate, endDate, data, ruleObject, startDayOfWeek) {\n    var tempDate = new Date(startDate.getTime());\n    if (!ruleObject.day.length) {\n        ruleObject.day.push(DAYINDEX[startDate.getDay()]);\n    }\n    var interval = ruleObject.interval;\n    var expectedDays = ruleObject.day;\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var weekState = true;\n    var wkstIndex;\n    var weekCollection = [];\n    if (expectedDays.length > 1) {\n        if (isNullOrUndefined(ruleObject.wkst) || ruleObject.wkst === '') {\n            ruleObject.wkst = dayIndex[0];\n        }\n        wkstIndex = DAYINDEX.indexOf(ruleObject.wkst);\n        while (compareDates(tempDate, endDate)) {\n            var startDateDiff = DAYINDEX.indexOf(DAYINDEX[tempDate.getDay()]) - wkstIndex;\n            startDateDiff = startDateDiff === -1 ? 6 : startDateDiff;\n            var weekstartDate = addDays(tempDate, -startDateDiff);\n            var weekendDate = addDays(weekstartDate, 6);\n            var compareTempDate = new Date(tempDate.getTime());\n            weekendDate = resetTime(weekendDate);\n            compareTempDate = resetTime(compareTempDate);\n            while (weekendDate >= compareTempDate) {\n                if (expectedDays.indexOf(DAYINDEX[tempDate.getDay()]) > -1) {\n                    weekCollection.push([tempDate.getTime()]);\n                }\n                if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n                    break;\n                }\n                tempDate.setDate(tempDate.getDate() + 1);\n                if (tempDate.getHours() !== startDate.getHours()) {\n                    tempDate.setHours(startDate.getHours());\n                }\n                compareTempDate = new Date(tempDate.getTime());\n                compareTempDate = resetTime(compareTempDate);\n            }\n            tempDate.setDate(tempDate.getDate() - 1);\n            if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n                break;\n            }\n            tempDate.setDate((tempDate.getDate()) + 1 + ((interval - 1) * 7));\n            insertDataCollection(weekCollection, weekState, startDate, endDate, data, ruleObject);\n            weekCollection = [];\n        }\n    }\n    else {\n        tempDate = getStartDateForWeek(startDate, ruleObject.day);\n        if (interval > 1 && dayIndex.indexOf(ruleObject.day[0]) < (startDate.getDay() - startDayOfWeek)) {\n            tempDate.setDate(tempDate.getDate() + ((interval - 1) * 7));\n        }\n        while (compareDates(tempDate, endDate)) {\n            weekState = validateRules(tempDate, ruleObject);\n            if (weekState && (expectedDays.indexOf(DAYINDEX[tempDate.getDay()]) > -1)) {\n                excludeDateHandler(data, tempDate.getTime());\n            }\n            if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n                break;\n            }\n            tempDate.setDate(tempDate.getDate() + (interval * 7));\n        }\n        insertDataCollection(weekCollection, weekState, startDate, endDate, data, ruleObject);\n        weekCollection = [];\n    }\n}\n/**\n *  Internal method for monthly type recurrence rule\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction monthlyType(startDate, endDate, data, ruleObject) {\n    // Set monthday value if BYDAY, BYMONTH and Month day property is not set based on start date\n    if (!ruleObject.month.length && !ruleObject.day.length && !ruleObject.monthDay.length) {\n        ruleObject.monthDay.push(startDate.getDate());\n        if (ruleObject.freq === 'YEARLY') {\n            ruleObject.month.push(startDate.getMonth() + 1);\n        }\n    }\n    else if (ruleObject.month.length > 0 && !ruleObject.day.length && !ruleObject.monthDay.length) {\n        ruleObject.monthDay.push(startDate.getDate());\n    }\n    var ruleType = validateMonthlyRuleType(ruleObject);\n    switch (ruleType) {\n        case 'day':\n            switch (ruleObject.freq) {\n                case 'MONTHLY':\n                    monthlyDayTypeProcessforMonthFreq(startDate, endDate, data, ruleObject);\n                    break;\n                case 'YEARLY':\n                    monthlyDayTypeProcess(startDate, endDate, data, ruleObject);\n                    break;\n            }\n            break;\n        case 'both':\n        case 'date':\n            switch (ruleObject.freq) {\n                case 'MONTHLY':\n                    monthlyDateTypeProcessforMonthFreq(startDate, endDate, data, ruleObject);\n                    break;\n                case 'YEARLY':\n                    monthlyDateTypeProcess(startDate, endDate, data, ruleObject);\n                    break;\n            }\n            break;\n    }\n}\n/**\n * Internal method for yearly type recurrence rule\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction yearlyType(startDate, endDate, data, ruleObject) {\n    var typeValue = checkYearlyType(ruleObject);\n    switch (typeValue) {\n        case 'MONTH':\n            monthlyType(startDate, endDate, data, ruleObject);\n            break;\n        case 'WEEKNO':\n            processWeekNo(startDate, endDate, data, ruleObject);\n            break;\n        case 'YEARDAY':\n            processYearDay(startDate, endDate, data, ruleObject);\n            break;\n    }\n}\n/**\n * Internal method for process week no\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction processWeekNo(startDate, endDate, data, ruleObject) {\n    var stDate = calendarUtil.getYearLastDate(startDate, 0);\n    var tempDate;\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var state;\n    var startDay;\n    var firstWeekSpan;\n    var weekNos = ruleObject.weekNo;\n    var weekNo;\n    var maxDate;\n    var minDate;\n    var weekCollection = [];\n    var expectedDays = ruleObject.day;\n    while (compareDates(stDate, endDate)) {\n        startDay = dayIndex.indexOf(DAYINDEX[stDate.getDay()]);\n        firstWeekSpan = (6 - startDay) + 1;\n        for (var index = 0; index < weekNos.length; index++) {\n            weekNo = weekNos[parseInt(index.toString(), 10)];\n            weekNo = (weekNo > 0) ? weekNo : 53 + weekNo + 1;\n            maxDate = (weekNo === 1) ? firstWeekSpan : firstWeekSpan + ((weekNo - 1) * 7);\n            minDate = (weekNo === 1) ? firstWeekSpan - 7 : firstWeekSpan + ((weekNo - 2) * 7);\n            while (minDate < maxDate) {\n                tempDate = new Date(stDate.getTime() + (MS_PER_DAY * minDate));\n                if (expectedDays.length === 0 || expectedDays.indexOf(DAYINDEX[tempDate.getDay()]) > -1) {\n                    if (isNullOrUndefined(ruleObject.setPosition)) {\n                        insertDateCollection(state, startDate, endDate, data, ruleObject, tempDate.getTime());\n                    }\n                    else {\n                        weekCollection.push([tempDate.getTime()]);\n                    }\n                }\n                minDate++;\n            }\n        }\n        if (!isNullOrUndefined(ruleObject.setPosition)) {\n            insertDatasIntoExistingCollection(weekCollection, state, startDate, endDate, data, ruleObject);\n        }\n        if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n            return;\n        }\n        stDate = calendarUtil.getYearLastDate(tempDate, ruleObject.interval);\n        weekCollection = [];\n    }\n}\n/**\n * Internal method for process year day\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction processYearDay(startDate, endDate, data, ruleObject) {\n    var stDate = calendarUtil.getYearLastDate(startDate, 0);\n    var tempDate;\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var state;\n    var dateCollection = [];\n    var date;\n    var expectedDays = ruleObject.day;\n    while (compareDates(stDate, endDate)) {\n        for (var index = 0; index < ruleObject.yearDay.length; index++) {\n            date = ruleObject.yearDay[parseInt(index.toString(), 10)];\n            tempDate = new Date(stDate.getTime());\n            if ((date === calendarUtil.getLeapYearDaysCount() || date === -calendarUtil.getLeapYearDaysCount()) &&\n                (!calendarUtil.isLeapYear(calendarUtil.getFullYear(tempDate), 1))) {\n                tempDate.setDate(tempDate.getDate() + 1);\n                continue;\n            }\n            tempDate.setDate(tempDate.getDate() + ((date < 0) ?\n                calendarUtil.getYearDaysCount(tempDate, 1) + 1 + date : date));\n            if (expectedDays.length === 0 || expectedDays.indexOf(DAYINDEX[tempDate.getDay()]) > -1) {\n                if (ruleObject.setPosition == null) {\n                    insertDateCollection(state, startDate, endDate, data, ruleObject, tempDate.getTime());\n                }\n                else {\n                    dateCollection.push([tempDate.getTime()]);\n                }\n            }\n        }\n        if (!isNullOrUndefined(ruleObject.setPosition)) {\n            insertDatasIntoExistingCollection(dateCollection, state, startDate, endDate, data, ruleObject);\n        }\n        if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n            return;\n        }\n        stDate = calendarUtil.getYearLastDate(tempDate, ruleObject.interval);\n        dateCollection = [];\n    }\n}\n/**\n * Internal method to check yearly type\n *\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {YearRuleType} Returns the Yearly rule type object\n * @private\n */\nfunction checkYearlyType(ruleObject) {\n    if (ruleObject.yearDay.length) {\n        return 'YEARDAY';\n    }\n    else if (ruleObject.weekNo.length) {\n        return 'WEEKNO';\n    }\n    return 'MONTH';\n}\n/**\n * Internal method to initialize recurrence rule variables\n *\n * @param {Date} startDate Accepts the start date\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {RuleData} Return the rule data object\n * @private\n */\nfunction initializeRecRuleVariables(startDate, ruleObject) {\n    var ruleData = {\n        monthCollection: [],\n        index: 0,\n        tempDate: new Date(startDate.getTime()),\n        mainDate: new Date(startDate.getTime()),\n        expectedCount: getDateCount(startDate, ruleObject),\n        monthInit: 0,\n        dateCollection: []\n    };\n    if (ruleObject.month.length) {\n        calendarUtil.setMonth(ruleData.tempDate, ruleObject.month[0], ruleData.tempDate.getDate());\n    }\n    return ruleData;\n}\n/**\n * Internal method for process monthly date type recurrence rule\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction monthlyDateTypeProcess(startDate, endDate, data, ruleObject) {\n    if (ruleObject.month.length) {\n        monthlyDateTypeProcessforMonthFreq(startDate, endDate, data, ruleObject);\n        return;\n    }\n    var ruleData = initializeRecRuleVariables(startDate, ruleObject);\n    var currentMonthDate;\n    ruleData.tempDate = ruleData.mainDate = calendarUtil.getMonthStartDate(ruleData.tempDate);\n    while (compareDates(ruleData.tempDate, endDate)) {\n        currentMonthDate = new Date(ruleData.tempDate.getTime());\n        while (calendarUtil.isSameYear(currentMonthDate, ruleData.tempDate) &&\n            (ruleData.expectedCount && (data.length + ruleObject.recExceptionCount) <= ruleData.expectedCount)) {\n            if (ruleObject.month.length === 0 || (ruleObject.month.length > 0\n                && !calendarUtil.checkMonth(ruleData.tempDate, ruleObject.month))) {\n                processDateCollectionForByMonthDay(ruleObject, ruleData, endDate, false);\n                ruleData.beginDate = new Date(ruleData.tempDate.getTime());\n                ruleData.monthInit = setNextValidDate(ruleData.tempDate, ruleObject, ruleData.monthInit, ruleData.beginDate);\n            }\n            else {\n                calendarUtil.setValidDate(ruleData.tempDate, 1, 1);\n                ruleData.tempDate = getStartDateForWeek(ruleData.tempDate, ruleObject.day);\n                break;\n            }\n        }\n        ruleData.tempDate.setFullYear(currentMonthDate.getFullYear(), currentMonthDate.getMonth(), currentMonthDate.getDate());\n        insertDataCollection(ruleData.dateCollection, ruleData.state, startDate, endDate, data, ruleObject);\n        if (calendarUtil.isLastMonth(ruleData.tempDate)) {\n            calendarUtil.setValidDate(ruleData.tempDate, 1, 1);\n            ruleData.tempDate = getStartDateForWeek(ruleData.tempDate, ruleObject.day);\n        }\n        if (ruleData.expectedCount && (data.length + ruleObject.recExceptionCount) >= ruleData.expectedCount) {\n            return;\n        }\n        ruleData.tempDate.setFullYear(ruleData.tempDate.getFullYear() + ruleObject.interval - 1);\n        ruleData.tempDate = getStartDateForWeek(ruleData.tempDate, ruleObject.day);\n        ruleData.monthInit = setNextValidDate(ruleData.tempDate, ruleObject, ruleData.monthInit, ruleData.beginDate);\n        ruleData.dateCollection = [];\n    }\n}\n/**\n * Internal method for process monthly date type with month frequency from recurrence rule\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction monthlyDateTypeProcessforMonthFreq(startDate, endDate, data, ruleObject) {\n    var ruleData = initializeRecRuleVariables(startDate, ruleObject);\n    ruleData.tempDate = ruleData.mainDate = calendarUtil.getMonthStartDate(ruleData.tempDate);\n    if (((ruleObject.freq === 'MONTHLY' && ruleObject.interval === 12) || (ruleObject.freq === 'YEARLY')) &&\n        calendarUtil.getMonthDaysCount(startDate) < ruleObject.monthDay[0]) {\n        return;\n    }\n    while (compareDates(ruleData.tempDate, endDate)) {\n        ruleData.beginDate = new Date(ruleData.tempDate.getTime());\n        processDateCollectionForByMonthDay(ruleObject, ruleData, endDate, true, startDate, data);\n        if (!isNullOrUndefined(ruleObject.setPosition)) {\n            insertDatasIntoExistingCollection(ruleData.dateCollection, ruleData.state, startDate, endDate, data, ruleObject);\n        }\n        if (ruleData.expectedCount && (data.length + ruleObject.recExceptionCount) >= ruleData.expectedCount) {\n            return;\n        }\n        ruleData.monthInit = setNextValidDate(ruleData.tempDate, ruleObject, ruleData.monthInit, ruleData.beginDate);\n        ruleData.dateCollection = [];\n    }\n}\n/**\n * To process date collection for Monthly & Yearly based on BYMONTH Day property\n *\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @param {RuleData} recRuleVariables Accepts the rule data\n * @param {Date} endDate Accepts the end date\n * @param {boolean} isByMonth Accepts the boolean to validate either month or not\n * @param {Date} startDate Accepts the start date\n * @param {number[]} data Accepts the collection of dates\n * @returns {void}\n * @private\n */\nfunction processDateCollectionForByMonthDay(ruleObject, recRuleVariables, endDate, isByMonth, startDate, data) {\n    for (var index = 0; index < ruleObject.monthDay.length; index++) {\n        recRuleVariables.date = ruleObject.monthDay[parseInt(index.toString(), 10)];\n        recRuleVariables.tempDate = calendarUtil.getMonthStartDate(recRuleVariables.tempDate);\n        var maxDate = calendarUtil.getMonthDaysCount(recRuleVariables.tempDate);\n        recRuleVariables.date = recRuleVariables.date > 0 ? recRuleVariables.date : (maxDate + recRuleVariables.date + 1);\n        if (validateProperDate(recRuleVariables.tempDate, recRuleVariables.date, recRuleVariables.mainDate)\n            && (recRuleVariables.date > 0)) {\n            calendarUtil.setDate(recRuleVariables.tempDate, recRuleVariables.date);\n            if (endDate && recRuleVariables.tempDate > endDate) {\n                return;\n            }\n            if (ruleObject.day.length === 0 || ruleObject.day.indexOf(DAYINDEX[recRuleVariables.tempDate.getDay()]) > -1) {\n                if (isByMonth && isNullOrUndefined(ruleObject.setPosition) && (recRuleVariables.expectedCount\n                    && (data.length + ruleObject.recExceptionCount) < recRuleVariables.expectedCount)) {\n                    insertDateCollection(recRuleVariables.state, startDate, endDate, data, ruleObject, recRuleVariables.tempDate.getTime());\n                }\n                else {\n                    recRuleVariables.dateCollection.push([recRuleVariables.tempDate.getTime()]);\n                }\n            }\n        }\n    }\n}\n/**\n * Internal method to set next valid date\n *\n * @param {Date} tempDate Accepts the date\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @param {number} monthInit Accepts the initial month\n * @param {Date} beginDate Accepts the initial date\n * @param {number} interval Accepts the interval duration\n * @returns {number} Returnx the next valid date\n * @private\n */\nfunction setNextValidDate(tempDate, ruleObject, monthInit, beginDate, interval) {\n    if (beginDate === void 0) { beginDate = null; }\n    var monthData = beginDate ? beginDate.getMonth() : 0;\n    var startDate = calendarUtil.getMonthStartDate(tempDate);\n    interval = isNullOrUndefined(interval) ? ruleObject.interval : interval;\n    tempDate.setFullYear(startDate.getFullYear());\n    tempDate.setMonth(startDate.getMonth());\n    tempDate.setDate(startDate.getDate());\n    if (ruleObject.month.length) {\n        monthInit++;\n        monthInit = monthInit % ruleObject.month.length;\n        calendarUtil.setMonth(tempDate, ruleObject.month[parseInt(monthInit.toString(), 10)], 1);\n        if (monthInit === 0) {\n            calendarUtil.addYears(tempDate, interval, ruleObject.month[0]);\n        }\n    }\n    else {\n        if (beginDate && (beginDate.getFullYear() < tempDate.getFullYear())) {\n            monthData = tempDate.getMonth() - 1;\n        }\n        calendarUtil.setValidDate(tempDate, interval, 1, monthData, beginDate);\n    }\n    return monthInit;\n}\n/**\n * To get month collection when BYDAY property having more than one value in list.\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction getMonthCollection(startDate, endDate, data, ruleObject) {\n    var expectedDays = ruleObject.day;\n    var tempDate = new Date(startDate.getTime());\n    tempDate = calendarUtil.getMonthStartDate(tempDate);\n    var monthCollection = [];\n    var dateCollection = [];\n    var dates = [];\n    var index;\n    var state;\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var monthInit = 0;\n    var beginDate;\n    if (ruleObject.month.length) {\n        calendarUtil.setMonth(tempDate, ruleObject.month[0], 1);\n    }\n    tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n    while (compareDates(tempDate, endDate)\n        && (expectedCount && (data.length + ruleObject.recExceptionCount) < expectedCount)) {\n        var currentMonthDate = new Date(tempDate.getTime());\n        var isHavingNumber = expectedDays.map(function (item) { return HASNUMBER.test(item); });\n        if (isHavingNumber.indexOf(true) > -1) {\n            for (var j = 0; j <= expectedDays.length - 1; j++) {\n                var expectedDaysArray = expectedDays[parseInt(j.toString(), 10)].match(SPLITNUMBERANDSTRING);\n                var position = parseInt(expectedDaysArray[0], 10);\n                tempDate = new Date(tempDate.getTime());\n                tempDate = calendarUtil.getMonthStartDate(tempDate);\n                tempDate = getStartDateForWeek(tempDate, expectedDays);\n                currentMonthDate.setFullYear(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate());\n                while (calendarUtil.isSameYear(currentMonthDate, tempDate) && calendarUtil.isSameMonth(currentMonthDate, tempDate)) {\n                    if (expectedDaysArray[expectedDaysArray.length - 1] === DAYINDEX[currentMonthDate.getDay()]) {\n                        monthCollection.push([currentMonthDate.getTime()]);\n                    }\n                    currentMonthDate.setDate(currentMonthDate.getDate() + (1));\n                }\n                currentMonthDate.setDate(currentMonthDate.getDate() - (1));\n                if (expectedDaysArray[0].indexOf('-') > -1) {\n                    index = monthCollection.length - (-1 * position);\n                }\n                else {\n                    index = position - 1;\n                }\n                index = isNaN(index) ? 0 : index;\n                if (monthCollection.length > 0) {\n                    if (isNullOrUndefined(ruleObject.setPosition)) {\n                        insertDatasIntoExistingCollection(monthCollection, state, startDate, endDate, data, ruleObject, index);\n                    }\n                    else {\n                        dateCollection = [(filterDateCollectionByIndex(monthCollection, index, dates))];\n                    }\n                }\n                if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n                    return;\n                }\n                monthCollection = [];\n            }\n            if (!isNullOrUndefined(ruleObject.setPosition)) {\n                insertDateCollectionBasedonBySetPos(dateCollection, state, startDate, endDate, data, ruleObject);\n                dates = [];\n            }\n            monthInit = setNextValidDate(tempDate, ruleObject, monthInit, beginDate);\n            tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n            monthCollection = [];\n        }\n        else {\n            var weekCollection = [];\n            var dayCycleData = processWeekDays(expectedDays);\n            currentMonthDate.setFullYear(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate());\n            var initialDate = new Date(tempDate.getTime());\n            beginDate = new Date(tempDate.getTime());\n            while (calendarUtil.isSameMonth(initialDate, tempDate)) {\n                weekCollection.push(tempDate.getTime());\n                if (expectedDays.indexOf(DAYINDEX[tempDate.getDay()]) > -1) {\n                    monthCollection.push(weekCollection);\n                    weekCollection = [];\n                }\n                tempDate.setDate(tempDate.getDate()\n                    + dayCycleData[DAYINDEX[tempDate.getDay()]]);\n            }\n            index = ((ruleObject.setPosition < 1) ? (monthCollection.length + ruleObject.setPosition) : ruleObject.setPosition - 1);\n            if (isNullOrUndefined(ruleObject.setPosition)) {\n                index = 0;\n                var datas = [];\n                for (var week = 0; week < monthCollection.length; week++) {\n                    for (var row = 0; row < monthCollection[parseInt(week.toString(), 10)].length; row++) {\n                        datas.push(monthCollection[parseInt(week.toString(), 10)][parseInt(row.toString(), 10)]);\n                    }\n                }\n                monthCollection = [datas];\n            }\n            if (monthCollection.length > 0) {\n                insertDatasIntoExistingCollection(monthCollection, state, startDate, endDate, data, ruleObject, index);\n            }\n            if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n                return;\n            }\n            monthInit = setNextValidDate(tempDate, ruleObject, monthInit, beginDate);\n            tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n            monthCollection = [];\n        }\n    }\n}\n/**\n * To process monday day type for FREQ=MONTHLY\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction monthlyDayTypeProcessforMonthFreq(startDate, endDate, data, ruleObject) {\n    var expectedDays = ruleObject.day;\n    // When BYDAY property having more than 1 value.\n    if (expectedDays.length > 1) {\n        getMonthCollection(startDate, endDate, data, ruleObject);\n        return;\n    }\n    var tempDate = new Date(startDate.getTime());\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var monthCollection = [];\n    var beginDate;\n    var monthInit = 0;\n    tempDate = calendarUtil.getMonthStartDate(tempDate);\n    if (ruleObject.month.length) {\n        calendarUtil.setMonth(tempDate, ruleObject.month[0], 1);\n    }\n    tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n    while (compareDates(tempDate, endDate) && (expectedCount && (data.length + ruleObject.recExceptionCount) < expectedCount)) {\n        beginDate = new Date(tempDate.getTime());\n        var currentMonthDate = new Date(tempDate.getTime());\n        while (calendarUtil.isSameMonth(tempDate, currentMonthDate)) {\n            monthCollection.push([currentMonthDate.getTime()]);\n            currentMonthDate.setDate(currentMonthDate.getDate() + (7));\n        }\n        // To filter date collection based on BYDAY Index, then BYSETPOS and to insert datas into existing collection\n        insertDateCollectionBasedonIndex(monthCollection, startDate, endDate, data, ruleObject);\n        monthInit = setNextValidDate(tempDate, ruleObject, monthInit, beginDate);\n        tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n        monthCollection = [];\n    }\n}\n/**\n * To process monday day type for FREQ=YEARLY\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction monthlyDayTypeProcess(startDate, endDate, data, ruleObject) {\n    var expectedDays = ruleObject.day;\n    var isHavingNumber = expectedDays.map(function (item) { return HASNUMBER.test(item); });\n    // If BYDAY property having more than 1 value in list\n    if (expectedDays.length > 1 && isHavingNumber.indexOf(true) > -1) {\n        processDateCollectionforByDayWithInteger(startDate, endDate, data, ruleObject);\n        return;\n    }\n    else if (ruleObject.month.length && expectedDays.length === 1 && isHavingNumber.indexOf(true) > -1) {\n        monthlyDayTypeProcessforMonthFreq(startDate, endDate, data, ruleObject);\n        return;\n    }\n    var tempDate = new Date(startDate.getTime());\n    var currentMonthDate;\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var interval = ruleObject.interval;\n    var monthCollection = [];\n    if (ruleObject.month.length) {\n        calendarUtil.setMonth(tempDate, ruleObject.month[0], tempDate.getDate());\n    }\n    // Set the date as start date of the yeear if yearly freq having ByDay property alone\n    if (isNullOrUndefined(ruleObject.setPosition) && ruleObject.month.length === 0 && ruleObject.weekNo.length === 0) {\n        tempDate.setFullYear(startDate.getFullYear(), 0, 1);\n    }\n    tempDate = calendarUtil.getMonthStartDate(tempDate);\n    tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n    while (compareDates(tempDate, endDate)) {\n        currentMonthDate = new Date(tempDate.getTime());\n        while (calendarUtil.isSameYear(currentMonthDate, tempDate) &&\n            (expectedCount && (data.length + ruleObject.recExceptionCount) <= expectedCount)) {\n            currentMonthDate = new Date(tempDate.getTime());\n            while (calendarUtil.isSameYear(currentMonthDate, tempDate)) {\n                if (ruleObject.month.length === 0 || (ruleObject.month.length > 0\n                    && !calendarUtil.checkMonth(tempDate, ruleObject.month))) {\n                    if (expectedDays.length > 1) {\n                        if (calendarUtil.compareMonth(currentMonthDate, tempDate)) {\n                            calendarUtil.setValidDate(tempDate, 1, 1);\n                            tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n                            break;\n                        }\n                        if (expectedDays.indexOf(DAYINDEX[currentMonthDate.getDay()]) > -1) {\n                            monthCollection.push([currentMonthDate.getTime()]);\n                        }\n                        currentMonthDate.setDate(currentMonthDate.getDate() + (1));\n                    }\n                    else {\n                        // If BYDAY property having 1 value in list\n                        if (currentMonthDate.getFullYear() > tempDate.getFullYear()) {\n                            calendarUtil.setValidDate(tempDate, 1, 1);\n                            tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n                            break;\n                        }\n                        var newstr = getDayString(expectedDays[0]);\n                        if (DAYINDEX[currentMonthDate.getDay()] === newstr\n                            && new Date(currentMonthDate.getFullYear(), currentMonthDate.getMonth(), 0)\n                                > new Date(startDate.getFullYear())) {\n                            monthCollection.push([currentMonthDate.getTime()]);\n                        }\n                        currentMonthDate.setDate(currentMonthDate.getDate() + (7));\n                    }\n                }\n                else {\n                    calendarUtil.setValidDate(tempDate, 1, 1);\n                    tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n                    break;\n                }\n            }\n        }\n        tempDate.setFullYear(currentMonthDate.getFullYear(), currentMonthDate.getMonth(), currentMonthDate.getDate());\n        // To filter date collection based on BYDAY Index, then BYSETPOS and to insert datas into existing collection\n        insertDateCollectionBasedonIndex(monthCollection, startDate, endDate, data, ruleObject);\n        if (calendarUtil.isLastMonth(tempDate)) {\n            calendarUtil.setValidDate(tempDate, 1, 1);\n            tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n        }\n        tempDate.setFullYear(tempDate.getFullYear() + interval - 1);\n        if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n            return;\n        }\n        tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n        monthCollection = [];\n    }\n}\n/**\n * To process the recurrence rule when BYDAY property having values with integer\n *\n * @param {Date} startDate Accepts the strat date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of dates\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction processDateCollectionforByDayWithInteger(startDate, endDate, data, ruleObject) {\n    var expectedDays = ruleObject.day;\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var tempDate = new Date(startDate.getTime());\n    var interval = ruleObject.interval;\n    var monthCollection = [];\n    var dateCollection = [];\n    var index;\n    var state;\n    var monthInit = 0;\n    var currentMonthDate;\n    var currentDate;\n    var beginDate;\n    tempDate = calendarUtil.getMonthStartDate(tempDate);\n    var datas = [];\n    if (ruleObject.month.length) {\n        calendarUtil.setMonth(tempDate, ruleObject.month[0], 1);\n    }\n    tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n    while (compareDates(tempDate, endDate)) {\n        currentMonthDate = new Date(tempDate.getTime());\n        for (var i = 0; i <= ruleObject.month.length; i++) {\n            for (var j = 0; j <= expectedDays.length - 1; j++) {\n                tempDate = calendarUtil.getMonthStartDate(tempDate);\n                tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n                monthCollection = [];\n                while (calendarUtil.isSameYear(currentMonthDate, tempDate) &&\n                    (expectedCount && (data.length + ruleObject.recExceptionCount) <= expectedCount)) {\n                    while (calendarUtil.isSameYear(currentMonthDate, tempDate)) {\n                        currentMonthDate = new Date(tempDate.getTime());\n                        if (ruleObject.month.length === 0 ||\n                            (ruleObject.month.length > 0 && ruleObject.month[parseInt(i.toString(), 10)] === calendarUtil.getMonth(currentMonthDate))) {\n                            var expectedDaysArray = expectedDays[parseInt(j.toString(), 10)].match(SPLITNUMBERANDSTRING);\n                            var position = parseInt(expectedDaysArray[0], 10);\n                            currentDate = new Date(tempDate.getTime());\n                            while (calendarUtil.isSameYear(currentDate, tempDate)\n                                && calendarUtil.isSameMonth(currentDate, tempDate)) {\n                                if (expectedDaysArray[expectedDaysArray.length - 1] === DAYINDEX[currentDate.getDay()]) {\n                                    monthCollection.push([currentDate.getTime()]);\n                                }\n                                currentDate.setDate(currentDate.getDate() + (1));\n                            }\n                            currentDate.setDate(currentDate.getDate() - (1));\n                            if (expectedDaysArray[0].indexOf('-') > -1) {\n                                index = monthCollection.length - (-1 * position);\n                            }\n                            else {\n                                index = position - 1;\n                            }\n                            index = isNaN(index) ? 0 : index;\n                        }\n                        monthInit = setNextValidDate(tempDate, ruleObject, monthInit, beginDate, 1);\n                        tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n                    }\n                }\n                tempDate = j === 0 && currentDate ? new Date(currentDate.getTime()) : new Date(currentMonthDate.getTime());\n                if (monthCollection.length > 0) {\n                    if (isNullOrUndefined(ruleObject.setPosition)) {\n                        insertDatasIntoExistingCollection(monthCollection, state, startDate, endDate, data, ruleObject, index);\n                    }\n                    else {\n                        dateCollection = [(filterDateCollectionByIndex(monthCollection, index, datas))];\n                    }\n                }\n                if (expectedCount && (data.length + ruleObject.recExceptionCount) >= expectedCount) {\n                    return;\n                }\n            }\n        }\n        if (!isNullOrUndefined(ruleObject.setPosition)) {\n            insertDateCollectionBasedonBySetPos(dateCollection, state, startDate, endDate, data, ruleObject);\n            datas = [];\n        }\n        if (calendarUtil.isLastMonth(tempDate)) {\n            calendarUtil.setValidDate(tempDate, 1, 1);\n            tempDate.setFullYear(tempDate.getFullYear() + interval - 1);\n        }\n        else {\n            tempDate.setFullYear(tempDate.getFullYear() + interval);\n        }\n        tempDate = getStartDateForWeek(tempDate, ruleObject.day);\n        if (ruleObject.month.length) {\n            calendarUtil.setMonth(tempDate, ruleObject.month[0], tempDate.getDate());\n        }\n    }\n}\n/**\n * To get recurrence collection if BYSETPOS is null\n *\n * @param {number[]} monthCollection Accepts the month collection dates\n * @param {string[]} expectedDays Accepts the exception dates\n * @returns {RuleData} Returns the rule data object\n * @private\n */\nfunction getRecurrenceCollection(monthCollection, expectedDays) {\n    var index;\n    var recurrenceCollectionObject = { monthCollection: [], index: 0 };\n    if (expectedDays.length === 1) {\n        // To split numeric value from BYDAY property value\n        var expectedDaysArrays = expectedDays[0].match(SPLITNUMBERANDSTRING);\n        var arrPosition = void 0;\n        if (expectedDaysArrays.length > 1) {\n            arrPosition = parseInt(expectedDaysArrays[0], 10);\n            index = ((arrPosition < 1) ? (monthCollection.length + arrPosition) : arrPosition - 1);\n        }\n        else {\n            index = 0;\n            monthCollection = getDateCollectionforBySetPosNull(monthCollection);\n        }\n    }\n    else {\n        index = 0;\n        monthCollection = getDateCollectionforBySetPosNull(monthCollection);\n    }\n    recurrenceCollectionObject.monthCollection = monthCollection;\n    recurrenceCollectionObject.index = index;\n    return recurrenceCollectionObject;\n}\n/**\n * Internal method to process the data collections\n *\n * @param {number[]} dateCollection Accepts the date collections\n * @param {boolean} state Accepts the state\n * @param {Date} startDate Accepts the start date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of numbers\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction insertDataCollection(dateCollection, state, startDate, endDate, data, ruleObject) {\n    var index = ((ruleObject.setPosition < 1) ?\n        (dateCollection.length + ruleObject.setPosition) : ruleObject.setPosition - 1);\n    if (isNullOrUndefined(ruleObject.setPosition)) {\n        index = 0;\n        dateCollection = getDateCollectionforBySetPosNull(dateCollection);\n    }\n    if (dateCollection.length > 0) {\n        insertDatasIntoExistingCollection(dateCollection, state, startDate, endDate, data, ruleObject, index);\n    }\n}\n/**\n * To process month collection if BYSETPOS is null\n *\n * @param {number[]} monthCollection Accepts the month date collections\n * @returns {number[]} Returns the month date collections\n * @private\n */\nfunction getDateCollectionforBySetPosNull(monthCollection) {\n    var datas = [];\n    for (var week = 0; week < monthCollection.length; week++) {\n        for (var row = 0; row < monthCollection[parseInt(week.toString(), 10)].length; row++) {\n            datas.push(new Date(monthCollection[parseInt(week.toString(), 10)][parseInt(row.toString(), 10)]).getTime());\n        }\n    }\n    monthCollection = datas.length > 0 ? [datas] : [];\n    return monthCollection;\n}\n/**\n * To filter date collection based on BYDAY Index, then BYSETPOS and to insert datas into existing collection\n *\n * @param {number[]} monthCollection Accepts the month date collections\n * @param {Date} startDate Accepts the start date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the date collections\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction insertDateCollectionBasedonIndex(monthCollection, startDate, endDate, data, ruleObject) {\n    var expectedDays = ruleObject.day;\n    var state;\n    var datas = [];\n    var dateCollection = [];\n    var recurrenceCollections = getRecurrenceCollection(monthCollection, expectedDays);\n    monthCollection = recurrenceCollections.monthCollection;\n    var index = recurrenceCollections.index;\n    if (ruleObject.setPosition != null) {\n        dateCollection = [(filterDateCollectionByIndex(monthCollection, index, datas))];\n        insertDateCollectionBasedonBySetPos(dateCollection, state, startDate, endDate, data, ruleObject);\n    }\n    else {\n        if (monthCollection.length > 0) {\n            insertDatasIntoExistingCollection(monthCollection, state, startDate, endDate, data, ruleObject, index);\n        }\n    }\n    datas = [];\n}\n/**\n * To filter date collection when BYDAY property having values with number\n *\n * @param {number[]} monthCollection Accepts the date collections\n * @param {number} index Accepts the index of date collections\n * @param {number[]} datas Accepts the collection of dates\n * @returns {number[]} Returns the collection of dates\n * @private\n */\nfunction filterDateCollectionByIndex(monthCollection, index, datas) {\n    for (var week = 0; week < monthCollection[parseInt(index.toString(), 10)].length; week++) {\n        datas.push(monthCollection[parseInt(index.toString(), 10)][parseInt(week.toString(), 10)]);\n    }\n    return datas;\n}\n/**\n * To insert processed date collection in final array element\n *\n * @param {boolean} state Accepts the state of the recurrence rule\n * @param {Date} startDate Accepts the start date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of date\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @param {number} dayData Accepts the date index\n * @returns {void}\n * @private\n */\nfunction insertDateCollection(state, startDate, endDate, data, ruleObject, dayData) {\n    var expectedCount = getDateCount(startDate, ruleObject);\n    var chDate = new Date(dayData);\n    state = validateRules(chDate, ruleObject);\n    if ((chDate >= startDate) && compareDates(chDate, endDate) && state\n        && expectedCount && (data.length + ruleObject.recExceptionCount) < expectedCount) {\n        excludeDateHandler(data, dayData);\n    }\n}\n/**\n * Return the last week number of given month and year.\n *\n * @param {number} year Accepts the Year in number format\n * @param {number} startDayOfWeek Accepts the start date\n * @param {number[]} monthCollection Accepts the collection of dates\n * @param {number} week Accepts the week in number format\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {number} returns week number\n * @private\n */\nfunction weekCount(year, startDayOfWeek, monthCollection, week, ruleObject) {\n    var firstDayOfWeek = startDayOfWeek || 0;\n    var firstOfMonth = new Date(year, ruleObject.month[0] - 1, 1);\n    var lastOfMonth = new Date(year, ruleObject.month[0], 0);\n    var numberOfDaysInMonth = lastOfMonth.getDate();\n    var firstWeekDay = (firstOfMonth.getDay() - firstDayOfWeek + 7) % 7;\n    var used = firstWeekDay + numberOfDaysInMonth;\n    var count = Math.ceil(used / 7) - 1;\n    var dayData = monthCollection[parseInt(week.toString(), 10)][parseInt(count.toString(), 10)];\n    var chDate = new Date(dayData);\n    var state = validateRules(chDate, ruleObject);\n    return (state) ? count : count - 1;\n}\n/**\n * To process date collection based on Byset position after process the collection based on BYDAY property value index: EX:BYDAY=1SUm-1SU\n *\n * @param {number[]} monthCollection Accepts the collection of dates\n * @param {boolean} state Accepts the state of the recurrence rule\n * @param {Date} startDate Accepts the start date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of date\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {void}\n * @private\n */\nfunction insertDateCollectionBasedonBySetPos(monthCollection, state, startDate, endDate, data, ruleObject) {\n    if (monthCollection.length > 0) {\n        for (var week = 0; week < monthCollection.length; week++) {\n            monthCollection[parseInt(week.toString(), 10)].sort();\n            var expectedDays = ruleObject.day;\n            var isHavingNumber = expectedDays.map(function (item) { return HASNUMBER.test(item); });\n            var weekIndex = (ruleObject.freq === 'YEARLY' && (ruleObject.validRules.indexOf('BYMONTH') > -1) &&\n                !(isHavingNumber.indexOf(true) > -1)) ?\n                weekCount(new Date(monthCollection[0][0]).getFullYear(), 0, monthCollection, week, ruleObject)\n                : (monthCollection[parseInt(week.toString(), 10)].length + ruleObject.setPosition);\n            var index = ((ruleObject.setPosition < 1) ? weekIndex : ruleObject.setPosition - 1);\n            var dayData = monthCollection[parseInt(week.toString(), 10)][parseInt(index.toString(), 10)];\n            insertDateCollection(state, startDate, endDate, data, ruleObject, dayData);\n        }\n    }\n}\n/**\n * To insert datas into existing collection which is processed from previous loop.\n *\n * @param {number[]} monthCollection Accepts the collection of dates\n * @param {boolean} state Accepts the state of the recurrence rule\n * @param {Date} startDate Accepts the start date\n * @param {Date} endDate Accepts the end date\n * @param {number[]} data Accepts the collection of date\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @param {number} index Accepts the index value\n * @returns {void}\n * @private\n */\nfunction insertDatasIntoExistingCollection(monthCollection, state, startDate, endDate, data, ruleObject, index) {\n    if (monthCollection.length > 0) {\n        index = !isNullOrUndefined(index) ? index :\n            ((ruleObject.setPosition < 1)\n                ? (monthCollection.length + ruleObject.setPosition) : ruleObject.setPosition - 1);\n        monthCollection[parseInt(index.toString(), 10)].sort();\n        for (var week = 0; week < monthCollection[parseInt(index.toString(), 10)].length; week++) {\n            var dayData = monthCollection[parseInt(index.toString(), 10)][parseInt(week.toString(), 10)];\n            insertDateCollection(state, startDate, endDate, data, ruleObject, dayData);\n        }\n    }\n}\n/**\n * Internal method to compare dates\n *\n * @param {Date} startDate Accepts the start date\n * @param {Date} endDate Accepts the end date\n * @returns {boolean} Returns the result of checking start and end dates\n * @private\n */\nfunction compareDates(startDate, endDate) {\n    return endDate ? (startDate <= endDate) : true;\n}\n/**\n * Internal method to get day string\n *\n * @param {string} expectedDays Accepts the exception date string\n * @returns {string} Returns the valid string\n * @private\n */\nfunction getDayString(expectedDays) {\n    // To get BYDAY value without numeric value\n    var newstr = expectedDays.replace(REMOVENUMBERINSTRING, '');\n    return newstr;\n}\n/**\n * Internal method to check day index\n *\n * @param {number} day Accepts the day index\n * @param {string[]} expectedDays Accepts the exception dates\n * @returns {boolean} Returns the index date\n * @private\n */\nfunction checkDayIndex(day, expectedDays) {\n    var sortedExpectedDays = [];\n    expectedDays.forEach(function (element) {\n        var expectedDaysNumberSplit = element.match(SPLITNUMBERANDSTRING);\n        if (expectedDaysNumberSplit.length === 2) {\n            sortedExpectedDays.push(expectedDaysNumberSplit[1]);\n        }\n        else {\n            sortedExpectedDays.push(expectedDaysNumberSplit[0]);\n        }\n    });\n    return (sortedExpectedDays.indexOf(DAYINDEX[parseInt(day.toString(), 10)]) === -1);\n}\n/**\n * Internal method to get start date of week\n *\n * @param {Date} startDate Accepts the start date\n * @param {string[]} expectedDays Accepts the exception dates\n * @returns {Date} Return the week start date\n * @private\n */\nfunction getStartDateForWeek(startDate, expectedDays) {\n    var tempDate = new Date(startDate.getTime());\n    var newstr;\n    if (expectedDays.length > 0) {\n        var expectedDaysArr = [];\n        for (var i = 0; i <= expectedDays.length - 1; i++) {\n            newstr = getDayString(expectedDays[parseInt(i.toString(), 10)]);\n            expectedDaysArr.push(newstr);\n        }\n        if (expectedDaysArr.indexOf(DAYINDEX[tempDate.getDay()]) === -1) {\n            do {\n                tempDate.setDate(tempDate.getDate() + 1);\n            } while (expectedDaysArr.indexOf(DAYINDEX[tempDate.getDay()]) === -1);\n        }\n    }\n    return tempDate;\n}\n/**\n * Method to generate recurrence rule object from given rule\n *\n * @param {string} rules Accepts the recurrence rule\n * @returns {RecRule} Returns the recurrence rule object\n */\nexport function extractObjectFromRule(rules) {\n    var ruleObject = {\n        freq: null,\n        interval: 1,\n        count: null,\n        until: null,\n        day: [],\n        wkst: null,\n        month: [],\n        weekNo: [],\n        monthDay: [],\n        yearDay: [],\n        setPosition: null,\n        validRules: []\n    };\n    var rulesList = rules.split(';');\n    var splitData = [];\n    var temp;\n    rulesList.forEach(function (data) {\n        splitData = data.split('=');\n        switch (splitData[0]) {\n            case 'UNTIL':\n                temp = splitData[1];\n                ruleObject.until = getDateFromRecurrenceDateString(temp);\n                break;\n            case 'BYDAY':\n                ruleObject.day = splitData[1].split(',');\n                ruleObject.validRules.push(splitData[0]);\n                break;\n            case 'BYMONTHDAY':\n                ruleObject.monthDay = splitData[1].split(',').map(Number);\n                ruleObject.validRules.push(splitData[0]);\n                break;\n            case 'BYMONTH':\n                ruleObject.month = splitData[1].split(',').map(Number);\n                ruleObject.validRules.push(splitData[0]);\n                break;\n            case 'BYYEARDAY':\n                ruleObject.yearDay = splitData[1].split(',').map(Number);\n                ruleObject.validRules.push(splitData[0]);\n                break;\n            case 'BYWEEKNO':\n                ruleObject.weekNo = splitData[1].split(',').map(Number);\n                ruleObject.validRules.push(splitData[0]);\n                break;\n            case 'INTERVAL':\n                ruleObject.interval = parseInt(splitData[1], 10);\n                break;\n            case 'COUNT':\n                ruleObject.count = parseInt(splitData[1], 10);\n                break;\n            case 'BYSETPOS':\n                ruleObject.setPosition = parseInt(splitData[1], 10) > 4 ? -1 : parseInt(splitData[1], 10);\n                break;\n            case 'FREQ':\n                ruleObject.freq = splitData[1];\n                break;\n            case 'WKST':\n                ruleObject.wkst = splitData[1];\n                break;\n        }\n    });\n    if ((ruleObject.freq === 'MONTHLY') && (ruleObject.monthDay.length === 0)) {\n        var index = ruleObject.validRules.indexOf('BYDAY');\n        ruleObject.validRules.splice(index, 1);\n    }\n    return ruleObject;\n}\n/**\n * Internal method to validate proper date\n *\n * @param {Date} tempDate Accepts the date value\n * @param {number} data Accepts the data value\n * @param {Date} startDate Accepts the start date\n * @returns {boolean} Returns the result of date validate\n * @private\n */\nfunction validateProperDate(tempDate, data, startDate) {\n    var maxDate = calendarUtil.getMonthDaysCount(tempDate);\n    return (data <= maxDate) && (tempDate >= startDate);\n}\n/**\n * Internal method to process week days\n *\n * @param {string[]} expectedDays Accepts the expection dates\n * @returns {Object} Returns the weekdays object\n * @private\n */\nfunction processWeekDays(expectedDays) {\n    var dayCycle = {};\n    expectedDays.forEach(function (element, index) {\n        if (index === expectedDays.length - 1) {\n            var startIndex = dayIndex.indexOf(element);\n            var temp = startIndex;\n            while (temp % 7 !== dayIndex.indexOf(expectedDays[0])) {\n                temp++;\n            }\n            dayCycle[\"\" + element] = temp - startIndex;\n        }\n        else {\n            dayCycle[\"\" + element] = dayIndex.indexOf(expectedDays[(index + 1)]) - dayIndex.indexOf(element);\n        }\n    });\n    return dayCycle;\n}\n/**\n * Internal method to check date\n *\n * @param {Date} tempDate Accepts the date value\n * @param {number[]} expectedDate Accepts the exception dates\n * @returns {boolean} Returns the boolean value\n * @private\n */\nfunction checkDate(tempDate, expectedDate) {\n    var temp = expectedDate.slice(0);\n    var data;\n    var maxDate = calendarUtil.getMonthDaysCount(tempDate);\n    data = temp.shift();\n    while (data) {\n        if (data < 0) {\n            data = data + maxDate + 1;\n        }\n        if (data === tempDate.getDate()) {\n            return false;\n        }\n        data = temp.shift();\n    }\n    return true;\n}\n/**\n * Internal method to check the year value\n *\n * @param {Date} tempDate Accepts the date value\n * @param {number[]} expectedyearDay Accepts the exception dates in year\n * @returns {boolean} Returns the boolean value\n * @private\n */\nfunction checkYear(tempDate, expectedyearDay) {\n    var temp = expectedyearDay.slice(0);\n    var data;\n    var yearDay = getYearDay(tempDate);\n    data = temp.shift();\n    while (data) {\n        if (data < 0) {\n            data = data + calendarUtil.getYearDaysCount(tempDate, 0) + 1;\n        }\n        if (data === yearDay) {\n            return false;\n        }\n        data = temp.shift();\n    }\n    return true;\n}\n/**\n * Internal method to get the year day\n *\n * @param {Date} currentDate Accepts the date value\n * @returns {number} Returns the boolean value\n * @private\n */\nfunction getYearDay(currentDate) {\n    if (!startDateCollection[calendarUtil.getFullYear(currentDate)]) {\n        startDateCollection[calendarUtil.getFullYear(currentDate)] = calendarUtil.getYearLastDate(currentDate, 0);\n    }\n    var tempDate = startDateCollection[calendarUtil.getFullYear(currentDate)];\n    var diff = currentDate.getTime() - tempDate.getTime();\n    return Math.ceil(diff / MS_PER_DAY);\n}\n/**\n * Internal method to validate monthly rule type\n *\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {MonthlyType} Returns the monthly type object\n * @private\n */\nfunction validateMonthlyRuleType(ruleObject) {\n    if (ruleObject.monthDay.length && !ruleObject.day.length) {\n        return 'date';\n    }\n    else if (!ruleObject.monthDay.length && ruleObject.day.length) {\n        return 'day';\n    }\n    return 'both';\n}\n/**\n * Internal method to re-order the week days based on first day of week\n *\n * @param {string[]} days Accepts the week days value\n * @returns {void}\n * @private\n */\nfunction rotate(days) {\n    var data = days.shift();\n    days.push(data);\n}\n/**\n * Internal method to set first day of week\n *\n * @param {string} day Accepts the first day string\n * @returns {void}\n * @private\n */\nfunction setFirstDayOfWeek(day) {\n    while (dayIndex[0] !== day) {\n        rotate(dayIndex);\n    }\n}\n/**\n * Internal method to validate recurrence rule\n *\n * @param {Date} tempDate Accepts the date value\n * @param {RecRule} ruleObject Accepts the recurrence rule object\n * @returns {boolean} Returns the boolean value\n * @private\n */\nfunction validateRules(tempDate, ruleObject) {\n    var state = true;\n    var expectedDays = ruleObject.day;\n    var expectedMonth = ruleObject.month;\n    var expectedDate = calendarUtil.getExpectedDays(tempDate, ruleObject.monthDay);\n    var expectedyearDay = ruleObject.yearDay;\n    ruleObject.validRules.forEach(function (rule) {\n        switch (rule) {\n            case 'BYDAY':\n                if (checkDayIndex(tempDate.getDay(), expectedDays)) {\n                    state = false;\n                }\n                break;\n            case 'BYMONTH':\n                if (calendarUtil.checkMonth(tempDate, expectedMonth)) {\n                    state = false;\n                }\n                break;\n            case 'BYMONTHDAY':\n                if (checkDate(tempDate, expectedDate)) {\n                    state = false;\n                }\n                break;\n            case 'BYYEARDAY':\n                if (checkYear(tempDate, expectedyearDay)) {\n                    state = false;\n                }\n                break;\n        }\n    });\n    return state;\n}\n/**\n * Internal method to get calendar util\n *\n * @param {CalendarType} calendarMode Accepts the calendar type object\n * @returns {CalendarUtil} Returns the calendar util object\n * @private\n */\nexport function getCalendarUtil(calendarMode) {\n    if (calendarMode === 'Islamic') {\n        return new Islamic();\n    }\n    return new Gregorian();\n}\nvar startDateCollection = {};\nvar tempExcludeDate;\nvar dayIndex = ['SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'];\nvar maxOccurrence;\nvar tempViewDate;\nvar calendarUtil;\nvar DAYINDEX = ['SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'];\nvar MAXOCCURRENCE = 43;\nvar WEEKPOS = ['first', 'second', 'third', 'fourth', 'last'];\nvar TIMES = 'summaryTimes';\nvar ON = 'summaryOn';\nvar EVERY = 'every';\nvar UNTIL = 'summaryUntil';\nvar DAYS = 'summaryDay';\nvar WEEKS = 'summaryWeek';\nvar MONTHS = 'summaryMonth';\nvar YEARS = 'summaryYear';\nvar DAYINDEXOBJECT = {\n    SU: 'sun',\n    MO: 'mon',\n    TU: 'tue',\n    WE: 'wed',\n    TH: 'thu',\n    FR: 'fri',\n    SA: 'sat'\n};\n// To check string has number\nvar HASNUMBER = /\\d/;\n// To find the numbers in string\nvar REMOVENUMBERINSTRING = /[^A-Z]+/;\n// To split number and string\nvar SPLITNUMBERANDSTRING = /[a-z]+|[^a-z]+/gi;\n/**\n * Method to generate string from date\n *\n * @param {Date} date Accepts the date value\n * @returns {string} Returns the string value\n */\nexport function getRecurrenceStringFromDate(date) {\n    return [date.getUTCFullYear(),\n        roundDateValues(date.getUTCMonth() + 1),\n        roundDateValues(date.getUTCDate()),\n        'T',\n        roundDateValues(date.getUTCHours()),\n        roundDateValues(date.getUTCMinutes()),\n        roundDateValues(date.getUTCSeconds()),\n        'Z'].join('');\n}\n/**\n * Internal method to round the date values\n *\n * @param {string | number} date Accepts the date value in either string or number format\n * @returns {string} Returns the date value in string format\n * @private\n */\nfunction roundDateValues(date) {\n    return ('0' + date).slice(-2);\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable max-len */\nimport { isNullOrUndefined, closest, extend, EventHandler, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { createElement, prepend, append, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\nimport { generate, getDateFromRecurrenceDateString } from '../../recurrence-editor/date-generator';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\nimport * as event from '../base/constant';\n/**\n * EventBase for appointment rendering\n */\nvar EventBase = /** @class */ (function () {\n    /**\n     * Constructor for EventBase\n     *\n     * @param {Schedule} parent Accepts the schedule instance\n     */\n    function EventBase(parent) {\n        this.slots = [];\n        this.isDoubleTapped = false;\n        this.parent = parent;\n    }\n    EventBase.prototype.processData = function (events, timeZonePropChanged, oldTimezone) {\n        var _this = this;\n        var start = this.parent.activeView.startDate();\n        var end = this.parent.activeView.endDate();\n        var fields = this.parent.eventFields;\n        var processed = [];\n        var temp = 1;\n        var generateID = false;\n        var resourceCollection = this.parent.resourceBase ? this.parent.resourceBase.resourceCollection : [];\n        if (events.length > 0 && isNullOrUndefined(events[0][fields.id])) {\n            generateID = true;\n        }\n        var _loop_1 = function (event_1) {\n            if (generateID) {\n                event_1[fields.id] = temp++;\n            }\n            event_1 = this_1.updateEventDateTime(event_1);\n            if (timeZonePropChanged) {\n                this_1.processTimezoneChange(event_1, oldTimezone);\n            }\n            else if (!this_1.parent.isPrinting && !this_1.parent.uiStateValues.isPreventTimezone) {\n                event_1 = this_1.processTimezone(event_1);\n            }\n            for (var level = 0; level < resourceCollection.length; level++) {\n                if (event_1[resourceCollection[parseInt(level.toString(), 10)].field] === null || event_1[resourceCollection[parseInt(level.toString(), 10)].field] === 0) {\n                    event_1[resourceCollection[parseInt(level.toString(), 10)].field] = undefined;\n                }\n            }\n            if (!isNullOrUndefined(event_1[fields.recurrenceRule]) && event_1[fields.recurrenceRule] === '') {\n                event_1[fields.recurrenceRule] = null;\n            }\n            if (!isNullOrUndefined(event_1[fields.recurrenceRule]) && isNullOrUndefined(event_1[fields.recurrenceID]) &&\n                !(this_1.parent.crudModule && this_1.parent.crudModule.crudObj.isCrudAction)) {\n                processed = processed.concat(this_1.generateOccurrence(event_1, null, true));\n            }\n            else {\n                if (this_1.parent.crudModule && this_1.parent.crudModule.crudObj.isCrudAction) {\n                    if (!isNullOrUndefined(event_1[fields.recurrenceRule]) && isNullOrUndefined(event_1[fields.recurrenceID])) {\n                        var recurrenceEvent = this_1.generateOccurrence(event_1, null, true);\n                        var _loop_2 = function (occurrence) {\n                            var app = this_1.parent.eventsProcessed.filter(function (data) {\n                                return data[fields.startTime].getTime() - occurrence[fields.startTime].getTime() === 0 &&\n                                    data[fields.id] === occurrence[fields.id];\n                            });\n                            occurrence.Guid = (app.length > 0) ? app[0].Guid : this_1.generateGuid();\n                            processed.push(occurrence);\n                        };\n                        for (var _i = 0, recurrenceEvent_1 = recurrenceEvent; _i < recurrenceEvent_1.length; _i++) {\n                            var occurrence = recurrenceEvent_1[_i];\n                            _loop_2(occurrence);\n                        }\n                    }\n                    else {\n                        var app = this_1.parent.eventsProcessed.filter(function (data) {\n                            return data[_this.parent.eventFields.id] === event_1[_this.parent.eventFields.id];\n                        });\n                        event_1.Guid = (app.length > 0) ? app[0].Guid : this_1.generateGuid();\n                        processed.push(event_1);\n                    }\n                }\n                else {\n                    event_1.Guid = this_1.generateGuid();\n                    processed.push(event_1);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n            var event_1 = events_1[_i];\n            _loop_1(event_1);\n        }\n        this.parent.eventsProcessed = [];\n        var eventData = processed.filter(function (data) {\n            return !data[_this.parent.eventFields.isBlock];\n        });\n        this.parent.eventsProcessed = this.filterEvents(start, end, eventData);\n        var blockData = processed.filter(function (data) {\n            return data[_this.parent.eventFields.isBlock];\n        });\n        for (var _a = 0, blockData_1 = blockData; _a < blockData_1.length; _a++) {\n            var eventObj = blockData_1[_a];\n            if (eventObj[fields.isAllDay]) {\n                var isDifferentDate = util.resetTime(new Date(eventObj[fields.startTime].getTime())) <\n                    util.resetTime(new Date(eventObj[fields.endTime].getTime()));\n                if (!isDifferentDate) {\n                    eventObj[fields.startTime] = util.resetTime(eventObj[fields.startTime]);\n                    eventObj[fields.endTime] = util.addDays(util.resetTime(eventObj[fields.endTime]), 1);\n                }\n            }\n        }\n        this.parent.blockProcessed = blockData;\n        return eventData;\n    };\n    EventBase.prototype.updateEventDateTime = function (eventData) {\n        if (typeof eventData[this.parent.eventFields.startTime] === 'string') {\n            eventData[this.parent.eventFields.startTime] = util.getDateFromString(eventData[this.parent.eventFields.startTime]);\n        }\n        if (typeof eventData[this.parent.eventFields.endTime] === 'string') {\n            eventData[this.parent.eventFields.endTime] = util.getDateFromString(eventData[this.parent.eventFields.endTime]);\n        }\n        return eventData;\n    };\n    EventBase.prototype.getProcessedEvents = function (eventCollection) {\n        if (eventCollection === void 0) { eventCollection = this.parent.eventsData; }\n        var processed = [];\n        for (var _i = 0, eventCollection_1 = eventCollection; _i < eventCollection_1.length; _i++) {\n            var event_2 = eventCollection_1[_i];\n            if (!isNullOrUndefined(event_2[this.parent.eventFields.recurrenceRule]) &&\n                isNullOrUndefined(event_2[this.parent.eventFields.recurrenceID])) {\n                processed = processed.concat(this.generateOccurrence(event_2));\n            }\n            else {\n                processed.push(event_2);\n            }\n        }\n        return processed;\n    };\n    EventBase.prototype.timezonePropertyChange = function (oldTimezone) {\n        var data = this.parent.eventsData.concat(this.parent.blockData);\n        var processed = this.processData(data, true, oldTimezone);\n        this.parent.notify(event.dataReady, { processedData: processed });\n    };\n    EventBase.prototype.timezoneConvert = function (eventData) {\n        var fields = this.parent.eventFields;\n        eventData[fields.startTimezone] = eventData[fields.startTimezone] || eventData[fields.endTimezone];\n        eventData[fields.endTimezone] = eventData[fields.endTimezone] || eventData[fields.startTimezone];\n        if (this.parent.timezone) {\n            var startTz = eventData[fields.startTimezone];\n            var endTz = eventData[fields.endTimezone];\n            eventData[fields.startTime] = this.parent.tzModule.convert(eventData[fields.startTime], this.parent.timezone, startTz);\n            eventData[fields.endTime] = this.parent.tzModule.convert(eventData[fields.endTime], this.parent.timezone, endTz);\n        }\n    };\n    EventBase.prototype.processTimezoneChange = function (event, oldTimezone) {\n        var fields = this.parent.eventFields;\n        if (event[fields.isAllDay]) {\n            return;\n        }\n        if (oldTimezone && this.parent.timezone) {\n            event[fields.startTime] = this.parent.tzModule.convert(event[fields.startTime], oldTimezone, this.parent.timezone);\n            event[fields.endTime] = this.parent.tzModule.convert(event[fields.endTime], oldTimezone, this.parent.timezone);\n        }\n        else if (!oldTimezone && this.parent.timezone) {\n            event[fields.startTime] = this.parent.tzModule.add(event[fields.startTime], this.parent.timezone);\n            event[fields.endTime] = this.parent.tzModule.add(event[fields.endTime], this.parent.timezone);\n        }\n        else if (oldTimezone && !this.parent.timezone) {\n            event[fields.startTime] = this.parent.tzModule.remove(event[fields.startTime], oldTimezone);\n            event[fields.endTime] = this.parent.tzModule.remove(event[fields.endTime], oldTimezone);\n        }\n    };\n    EventBase.prototype.processTimezone = function (event, isReverse) {\n        if (isReverse === void 0) { isReverse = false; }\n        var fields = this.parent.eventFields;\n        if (event[fields.isAllDay]) {\n            return event;\n        }\n        if (event[fields.startTimezone] || event[fields.endTimezone]) {\n            var startTimezone = event[fields.startTimezone] || event[fields.endTimezone];\n            var endTimezone = event[fields.endTimezone] || event[fields.startTimezone];\n            if (isReverse) {\n                if (this.parent.timezone) {\n                    event[fields.startTime] = this.parent.tzModule.convert(event[fields.startTime], startTimezone, this.parent.timezone);\n                    event[fields.endTime] = this.parent.tzModule.convert(event[fields.endTime], endTimezone, this.parent.timezone);\n                    event[fields.startTime] = this.parent.tzModule.remove(event[fields.startTime], this.parent.timezone);\n                    event[fields.endTime] = this.parent.tzModule.remove(event[fields.endTime], this.parent.timezone);\n                }\n                else {\n                    event[fields.startTime] = this.parent.tzModule.remove(event[fields.startTime], startTimezone);\n                    event[fields.endTime] = this.parent.tzModule.remove(event[fields.endTime], endTimezone);\n                }\n            }\n            else {\n                event[fields.startTime] = this.parent.tzModule.add(event[fields.startTime], startTimezone);\n                event[fields.endTime] = this.parent.tzModule.add(event[fields.endTime], endTimezone);\n                if (this.parent.timezone) {\n                    event[fields.startTime] = this.parent.tzModule.convert(event[fields.startTime], startTimezone, this.parent.timezone);\n                    event[fields.endTime] = this.parent.tzModule.convert(event[fields.endTime], endTimezone, this.parent.timezone);\n                }\n            }\n        }\n        else if (this.parent.timezone) {\n            if (isReverse) {\n                event[fields.startTime] = this.parent.tzModule.remove(event[fields.startTime], this.parent.timezone);\n                event[fields.endTime] = this.parent.tzModule.remove(event[fields.endTime], this.parent.timezone);\n            }\n            else {\n                event[fields.startTime] = this.parent.tzModule.add(event[fields.startTime], this.parent.timezone);\n                event[fields.endTime] = this.parent.tzModule.add(event[fields.endTime], this.parent.timezone);\n            }\n        }\n        return event;\n    };\n    EventBase.prototype.filterBlockEvents = function (eventObj) {\n        var fields = this.parent.eventFields;\n        var eStart = eventObj[fields.startTime];\n        var eEnd = eventObj[fields.endTime];\n        var resourceData;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var data = this.getGroupIndexFromEvent(eventObj);\n            resourceData = this.parent.resourceBase.lastResourceLevel[parseInt(data.toString(), 10)];\n        }\n        var blockEvents = extend([], this.parent.blockProcessed, null, true);\n        for (var _i = 0, blockEvents_1 = blockEvents; _i < blockEvents_1.length; _i++) {\n            var eventObj_1 = blockEvents_1[_i];\n            if (eventObj_1[fields.isAllDay]) {\n                var isDifferentTime = eventObj_1[fields.endTime].getTime() >\n                    util.resetTime(new Date(eventObj_1[fields.endTime].getTime())).getTime();\n                if (isDifferentTime) {\n                    eventObj_1[fields.startTime] = util.resetTime(eventObj_1[fields.startTime]);\n                    eventObj_1[fields.endTime] = util.addDays(util.resetTime(eventObj_1[fields.endTime]), 1);\n                }\n            }\n        }\n        return this.filterEvents(eStart, eEnd, blockEvents, resourceData);\n    };\n    EventBase.prototype.filterEvents = function (startDate, endDate, appointments, resourceTdData) {\n        if (appointments === void 0) { appointments = this.parent.eventsProcessed; }\n        var predicate = this.parent.dataModule.getStartEndQuery(startDate, endDate);\n        var filter = new DataManager({ json: appointments }).executeLocal(new Query().where(predicate));\n        if (resourceTdData) {\n            filter = this.filterEventsByResource(resourceTdData, filter);\n        }\n        return this.sortByTime(filter);\n    };\n    EventBase.prototype.filterEventsByRange = function (eventCollection, startDate, endDate) {\n        var _this = this;\n        var filteredEvents = [];\n        if (startDate && endDate) {\n            filteredEvents = this.filterEvents(startDate, endDate, eventCollection);\n        }\n        else if (startDate && !endDate) {\n            filteredEvents = eventCollection.filter(function (e) { return e[_this.parent.eventFields.startTime] >= startDate; });\n        }\n        else if (!startDate && endDate) {\n            filteredEvents = eventCollection.filter(function (e) { return e[_this.parent.eventFields.endTime] <= endDate; });\n        }\n        else {\n            filteredEvents = eventCollection;\n        }\n        return this.sortByTime(filteredEvents);\n    };\n    EventBase.prototype.filterEventsByResource = function (resourceTdData, appointments) {\n        if (appointments === void 0) { appointments = this.parent.eventsProcessed; }\n        var predicate = {};\n        var resourceCollection = this.parent.resourceBase.resourceCollection;\n        for (var level = 0; level < resourceCollection.length; level++) {\n            predicate[resourceCollection[parseInt(level.toString(), 10)].field] = resourceTdData.groupOrder[parseInt(level.toString(), 10)];\n        }\n        var keys = Object.keys(predicate);\n        var filteredCollection = appointments.filter(function (eventObj) { return keys.every(function (key) {\n            if (eventObj[\"\" + key] instanceof Array) {\n                return eventObj[\"\" + key].indexOf(predicate[\"\" + key]) > -1;\n            }\n            else {\n                return eventObj[\"\" + key] === predicate[\"\" + key];\n            }\n        }); });\n        return filteredCollection;\n    };\n    EventBase.prototype.sortByTime = function (appointmentsCollection) {\n        if (this.parent.eventSettings.sortComparer && (typeof (this.parent.eventSettings.sortComparer) === 'function' || typeof (this.parent.eventSettings.sortComparer) === 'string')) {\n            appointmentsCollection = this.customSorting(appointmentsCollection);\n        }\n        else {\n            var fieldMappings_1 = this.parent.eventFields;\n            appointmentsCollection.sort(function (a, b) {\n                var d1 = a[fieldMappings_1.startTime];\n                var d2 = b[fieldMappings_1.startTime];\n                return d1.getTime() - d2.getTime();\n            });\n        }\n        return appointmentsCollection;\n    };\n    EventBase.prototype.sortByDateTime = function (appointments) {\n        if (this.parent.eventSettings.sortComparer && (typeof (this.parent.eventSettings.sortComparer) === 'function' || typeof (this.parent.eventSettings.sortComparer) === 'string')) {\n            appointments = this.customSorting(appointments);\n        }\n        else {\n            var fieldMapping_1 = this.parent.eventFields;\n            appointments.sort(function (object1, object2) {\n                var d3 = object1[fieldMapping_1.startTime];\n                var d4 = object2[fieldMapping_1.startTime];\n                var d5 = object1[fieldMapping_1.endTime];\n                var d6 = object2[fieldMapping_1.endTime];\n                var d1 = d5.getTime() - d3.getTime();\n                var d2 = d6.getTime() - d4.getTime();\n                return (d3.getTime() - d4.getTime() || d2 - d1);\n            });\n        }\n        return appointments;\n    };\n    EventBase.prototype.customSorting = function (appointments) {\n        if (typeof (this.parent.eventSettings.sortComparer) === 'function') {\n            return this.parent.eventSettings.sortComparer.call(this.parent, appointments);\n        }\n        else if (typeof (this.parent.eventSettings.sortComparer) === 'string') {\n            var splits = this.parent.eventSettings.sortComparer.split('.');\n            var sortFn = void 0;\n            if (!isNullOrUndefined(window)) {\n                sortFn = window[splits[splits.length - 1]];\n            }\n            if (sortFn) {\n                return sortFn(appointments);\n            }\n        }\n        return appointments;\n    };\n    EventBase.prototype.getSmallestMissingNumber = function (array) {\n        var large = Math.max.apply(Math, array);\n        for (var i = 0; i < large; i++) {\n            if (array.indexOf(i) === -1) {\n                return i;\n            }\n        }\n        return large + 1;\n    };\n    EventBase.prototype.splitEventByDay = function (event) {\n        var eventFields = this.parent.eventFields;\n        var data = [];\n        var eventStartTime = event[eventFields.startTime];\n        var eventEndTime = event[eventFields.endTime];\n        var isDifferentDate = util.resetTime(new Date(eventStartTime.getTime())) <\n            util.resetTime(new Date(eventEndTime.getTime()));\n        if (isDifferentDate) {\n            var start = new Date(eventStartTime.getTime());\n            var end = util.addDays(util.resetTime(new Date(eventStartTime.getTime())), 1);\n            var endDate = (eventEndTime.getHours() === 0 && eventEndTime.getMinutes() === 0) ?\n                eventEndTime : util.addDays(eventEndTime, 1);\n            var index = 1;\n            var eventLength = util.getDaysCount(eventStartTime.getTime(), endDate.getTime());\n            while (end <= eventEndTime && start.getTime() !== end.getTime()) {\n                var app = extend({}, event);\n                app[eventFields.startTime] = start;\n                app[eventFields.endTime] = end;\n                app.data = { index: index, count: eventLength };\n                app.Guid = this.generateGuid();\n                app.isSpanned = true;\n                data.push(app);\n                start = end;\n                if ((util.resetTime(new Date(start.getTime())).getTime() === util.resetTime(new Date(eventEndTime.getTime())).getTime())\n                    && !(end.getTime() === eventEndTime.getTime())) {\n                    end = new Date(start.getTime());\n                    end = new Date(end.setHours(eventEndTime.getHours(), eventEndTime.getMinutes(), eventEndTime.getSeconds()));\n                }\n                else {\n                    end = util.addDays(util.resetTime(new Date(start.getTime())), 1);\n                }\n                index++;\n            }\n        }\n        else {\n            data.push(event);\n        }\n        return data;\n    };\n    EventBase.prototype.splitEvent = function (event, dateRender) {\n        var fields = this.parent.eventFields;\n        var start = util.resetTime(event[fields.startTime]).getTime();\n        var end = util.resetTime(event[fields.endTime]).getTime();\n        if (util.getDateInMs(event[fields.endTime]) <= 0) {\n            var temp = util.addDays(util.resetTime(event[fields.endTime]), -1).getTime();\n            end = start > temp ? start : temp;\n        }\n        var orgStart = start;\n        var orgEnd = end;\n        var ranges = [];\n        if (start !== end) {\n            if (start < dateRender[0].getTime()) {\n                start = dateRender[0].getTime();\n            }\n            if (end > dateRender[dateRender.length - 1].getTime()) {\n                end = dateRender[dateRender.length - 1].getTime();\n            }\n            var cStart = start;\n            for (var level = 0; level < this.slots.length; level++) {\n                var slot = this.slots[parseInt(level.toString(), 10)];\n                if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek'\n                    || this.parent.activeViewOptions.group.byDate || this.parent.activeViewOptions.showWeekend) {\n                    var slotDates = [];\n                    for (var _i = 0, slot_1 = slot; _i < slot_1.length; _i++) {\n                        var s = slot_1[_i];\n                        slotDates.push(new Date(s));\n                    }\n                    var renderedDates = this.getRenderedDates(slotDates);\n                    if (!isNullOrUndefined(renderedDates) && renderedDates.length > 0) {\n                        slot = [];\n                        for (var _a = 0, renderedDates_1 = renderedDates; _a < renderedDates_1.length; _a++) {\n                            var date = renderedDates_1[_a];\n                            slot.push(date.getTime());\n                        }\n                    }\n                }\n                if (typeof (slot) === 'number') {\n                    var temp = slot;\n                    slot = [];\n                    slot.push(temp);\n                }\n                var firstSlot = slot[0];\n                cStart = (cStart <= firstSlot && end >= firstSlot) ? firstSlot : cStart;\n                if (cStart > end || firstSlot > end) {\n                    break;\n                }\n                if (!this.parent.activeViewOptions.group.byDate && this.parent.activeViewOptions.showWeekend &&\n                    this.parent.currentView !== 'WorkWeek' && this.parent.currentView !== 'TimelineWorkWeek') {\n                    var startIndex = slot.indexOf(cStart);\n                    if (startIndex !== -1) {\n                        var endIndex = slot.indexOf(end);\n                        var hasBreak = endIndex !== -1;\n                        endIndex = hasBreak ? endIndex : slot.length - 1;\n                        var count = ((endIndex - startIndex) + 1);\n                        var isLeft = (slot[parseInt(startIndex.toString(), 10)] !== orgStart);\n                        var isRight = (slot[parseInt(endIndex.toString(), 10)] !== orgEnd);\n                        ranges.push(this.cloneEventObject(event, slot[parseInt(startIndex.toString(), 10)], slot[parseInt(endIndex.toString(), 10)], count, isLeft, isRight));\n                        if (hasBreak) {\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.dateInRange(cStart, slot[0], slot[slot.length - 1])) {\n                        var availSlot = [];\n                        for (var i = 0; i < slot.length; i++) {\n                            if (this.dateInRange(slot[parseInt(i.toString(), 10)], orgStart, orgEnd)) {\n                                availSlot.push(slot[parseInt(i.toString(), 10)]);\n                            }\n                        }\n                        if (availSlot.length > 0) {\n                            if (!this.parent.activeViewOptions.group.byDate) {\n                                var isLeft = (availSlot[0] !== orgStart);\n                                var isRight = (availSlot[availSlot.length - 1] !== orgEnd);\n                                ranges.push(this.cloneEventObject(event, availSlot[0], availSlot[availSlot.length - 1], availSlot.length, isLeft, isRight));\n                            }\n                            else {\n                                for (var _b = 0, availSlot_1 = availSlot; _b < availSlot_1.length; _b++) {\n                                    var slot_2 = availSlot_1[_b];\n                                    ranges.push(this.cloneEventObject(event, slot_2, slot_2, 1, (slot_2 !== orgStart), (slot_2 !== orgEnd)));\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            ranges.push(this.cloneEventObject(event, start, end, 1, false, false));\n        }\n        return ranges;\n    };\n    EventBase.prototype.cloneEventObject = function (event, start, end, count, isLeft, isRight) {\n        var fields = this.parent.eventFields;\n        var e = extend({}, event, null, true);\n        var data = { count: count, isLeft: isLeft, isRight: isRight };\n        data[fields.startTime] = event[fields.startTime];\n        data[fields.endTime] = event[fields.endTime];\n        e.data = data;\n        e[fields.startTime] = new Date(start);\n        e[fields.endTime] = new Date(end);\n        return e;\n    };\n    EventBase.prototype.dateInRange = function (date, start, end) {\n        return start <= date && date <= end;\n    };\n    EventBase.prototype.getSelectedEventElements = function (target) {\n        this.removeSelectedAppointmentClass();\n        if (this.parent.selectedElements.length <= 0) {\n            this.parent.selectedElements.push(target);\n        }\n        else {\n            var isAlreadySelected = this.parent.selectedElements.filter(function (element) {\n                return element.getAttribute('data-guid') === target.getAttribute('data-guid');\n            });\n            if (isAlreadySelected.length <= 0) {\n                var elementSelector = 'div[data-guid=\"' + target.getAttribute('data-guid') + '\"]';\n                var focusElements = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n                for (var _i = 0, focusElements_1 = focusElements; _i < focusElements_1.length; _i++) {\n                    var element = focusElements_1[_i];\n                    this.parent.selectedElements.push(element);\n                }\n            }\n            else {\n                var selectedElements = this.parent.selectedElements.filter(function (element) {\n                    return element.getAttribute('data-guid') !== target.getAttribute('data-guid');\n                });\n                this.parent.selectedElements = selectedElements;\n            }\n        }\n        if (target && this.parent.selectedElements.length > 0) {\n            this.addSelectedAppointments(this.parent.selectedElements, false);\n        }\n        return this.parent.selectedElements;\n    };\n    EventBase.prototype.getSelectedEvents = function () {\n        var _this = this;\n        var eventSelect = [];\n        var elementSelect = [];\n        var selectAppointments = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_BORDER));\n        selectAppointments.filter(function (element) {\n            var isAlreadyAdded = eventSelect.filter(function (event) {\n                return event.Guid === element.getAttribute('data-guid');\n            });\n            if (isAlreadyAdded.length === 0) {\n                eventSelect.push(_this.getEventByGuid(element.getAttribute('data-guid')));\n            }\n            elementSelect.push(element);\n        });\n        return {\n            event: eventSelect.length > 1 ? eventSelect : eventSelect[0],\n            element: elementSelect.length > 1 ? elementSelect : elementSelect[0]\n        };\n    };\n    EventBase.prototype.removeSelectedAppointmentClass = function () {\n        var selectedAppointments = this.getSelectedAppointments();\n        removeClass(selectedAppointments, cls.APPOINTMENT_BORDER);\n        if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda') {\n            removeClass(selectedAppointments, cls.AGENDA_SELECTED_CELL);\n        }\n    };\n    EventBase.prototype.addSelectedAppointments = function (cells, preventFocus) {\n        if (this.parent.currentView !== 'MonthAgenda') {\n            this.parent.removeSelectedClass();\n        }\n        addClass(cells, cls.APPOINTMENT_BORDER);\n        if (cells.length > 0 && !preventFocus) {\n            cells[cells.length - 1].focus();\n        }\n    };\n    EventBase.prototype.getSelectedAppointments = function () {\n        return [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_BORDER + ',.' + cls.APPOINTMENT_CLASS + ':focus'));\n    };\n    EventBase.prototype.focusElement = function (isFocused) {\n        if (this.parent.eventWindow.dialogObject && this.parent.eventWindow.dialogObject.visible) {\n            return;\n        }\n        var activeEle = document.activeElement;\n        var selectedCell = this.parent.getSelectedCells();\n        if (selectedCell.length > 0 && ((activeEle && (this.parent.element.contains(activeEle) ||\n            selectedCell.indexOf(activeEle) !== -1)) || isFocused)) {\n            if (this.parent.keyboardInteractionModule) {\n                var target = ((!isNullOrUndefined(this.parent.activeCellsData) &&\n                    this.parent.activeCellsData.element) || selectedCell[selectedCell.length - 1]);\n                this.parent.keyboardInteractionModule.selectCells(target instanceof Array, target);\n            }\n            return;\n        }\n        var selectedAppointments = this.getSelectedAppointments();\n        if (selectedAppointments.length > 0) {\n            if (this.parent.activeEventData && this.parent.activeEventData.element && selectedAppointments.indexOf(this.parent.activeEventData.element) > -1) {\n                this.parent.activeEventData.element.focus();\n                return;\n            }\n            selectedAppointments[selectedAppointments.length - 1].focus();\n            return;\n        }\n    };\n    EventBase.prototype.selectWorkCellByTime = function (eventsData) {\n        var target;\n        if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda') {\n            return target;\n        }\n        if (eventsData.length > 0) {\n            var selectedObject = eventsData[eventsData.length - 1];\n            var eventStartTime = selectedObject[this.parent.eventFields.startTime];\n            var nearestTime = void 0;\n            var isAllDay = this.isAllDayAppointment(selectedObject);\n            if (this.parent.currentView === 'Month' || isAllDay || !this.parent.activeViewOptions.timeScale.enable) {\n                nearestTime = new Date(+eventStartTime).setHours(0, 0, 0, 0);\n            }\n            else {\n                nearestTime = this.findNearestSlot(eventStartTime);\n            }\n            var targetArea = void 0;\n            if (isAllDay && ['Day', 'Week', 'WorkWeek'].indexOf(this.parent.currentView) !== -1) {\n                targetArea = this.parent.getAllDayRow();\n            }\n            else {\n                targetArea = this.parent.getContentTable();\n            }\n            var queryString = '[data-date=\"' + new Date(nearestTime).getTime() + '\"]';\n            if (!isNullOrUndefined(this.parent.activeViewOptions.group.resources) &&\n                this.parent.activeViewOptions.group.resources.length > 0) {\n                queryString += '[data-group-index=\"' + this.getGroupIndexFromEvent(selectedObject) + '\"]';\n            }\n            target = targetArea.querySelector(queryString);\n            if (target) {\n                this.parent.activeCellsData = this.parent.getCellDetails(target);\n                if (this.parent.keyboardInteractionModule) {\n                    this.parent.keyboardInteractionModule.selectCells(false, target);\n                }\n                return target;\n            }\n        }\n        return target;\n    };\n    EventBase.prototype.findNearestSlot = function (appointmentTime) {\n        var msMajorInterval = this.parent.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n        var msInterval = msMajorInterval / this.parent.activeViewOptions.timeScale.slotCount;\n        var numberOfSlots = Math.round(util.MS_PER_DAY / msInterval);\n        var startTime = new Date(appointmentTime);\n        startTime.setHours(0, 0, 0, 0);\n        var slots = Array.from({ length: numberOfSlots }, function (_, i) {\n            var slotTime = new Date(startTime.getTime() + i * msInterval);\n            return slotTime;\n        });\n        var nearestSlot = slots.reduce(function (nearest, slot) {\n            var difference = Math.abs(appointmentTime.getTime() - slot.getTime());\n            if (!nearest || difference < Math.abs(appointmentTime.getTime() - nearest.getTime())) {\n                return slot;\n            }\n            return nearest;\n        }, null);\n        return Math.trunc(nearestSlot.getTime() / 1000) * 1000;\n    };\n    EventBase.prototype.getGroupIndexFromEvent = function (eventData) {\n        var levelIndex;\n        var resource;\n        var levelName;\n        var idField;\n        for (var i = this.parent.resourceBase.resourceCollection.length - 1; i >= 0; i--) {\n            var resourceData = eventData[this.parent.resourceBase.resourceCollection[parseInt(i.toString(), 10)].field];\n            if (!isNullOrUndefined(resourceData)) {\n                resource = this.parent.resourceBase.resourceCollection[parseInt(i.toString(), 10)];\n                levelIndex = i;\n                levelName = resource.name;\n                idField = resource.field;\n                break;\n            }\n        }\n        if (isNullOrUndefined(levelName) && isNullOrUndefined(levelIndex)) {\n            levelName = this.parent.resourceCollection.slice(-1)[0].name;\n            levelIndex = this.parent.resourceCollection.length - 1;\n            idField = this.parent.resourceCollection.slice(-1)[0].field;\n            resource = this.parent.resourceCollection.filter(function (e, index) {\n                if (e.name === levelName) {\n                    levelIndex = index;\n                    return e;\n                }\n                return null;\n            })[0];\n        }\n        var id = ((eventData[\"\" + idField] instanceof Array) ?\n            eventData[\"\" + idField][0] : eventData[\"\" + idField]);\n        if (levelIndex > 0) {\n            var parentField = this.parent.resourceCollection[levelIndex - 1].field;\n            return this.parent.resourceBase.getIndexFromResourceId(id, levelName, resource, eventData, parentField);\n        }\n        else {\n            return this.parent.resourceBase.getIndexFromResourceId(id, levelName, resource);\n        }\n    };\n    EventBase.prototype.isAllDayAppointment = function (event) {\n        var fieldMapping = this.parent.eventFields;\n        var isAllDay = event[fieldMapping.isAllDay];\n        var isFullDay = ((util.getUniversalTime(event[fieldMapping.endTime]) - util.getUniversalTime(event[fieldMapping.startTime]))\n            / util.MS_PER_DAY) >= 1;\n        return (isAllDay || (this.parent.eventSettings.spannedEventPlacement !== 'TimeSlot' && isFullDay)) ? true : false;\n    };\n    EventBase.prototype.addEventListener = function () {\n        this.parent.on(event.documentClick, this.appointmentBorderRemove, this);\n    };\n    EventBase.prototype.removeEventListener = function () {\n        this.parent.off(event.documentClick, this.appointmentBorderRemove);\n    };\n    EventBase.prototype.appointmentBorderRemove = function (event) {\n        var element = event.event.target;\n        if (closest(element, '.' + cls.APPOINTMENT_CLASS)) {\n            if (this.parent.currentView !== 'MonthAgenda') {\n                this.parent.removeSelectedClass();\n            }\n        }\n        else if (!closest(element, '.' + cls.POPUP_OPEN)) {\n            if (this.parent.uiStateValues.isTapHold && closest(element, '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS)) {\n                return;\n            }\n            this.parent.uiStateValues.isTapHold = false;\n            this.removeSelectedAppointmentClass();\n            this.parent.selectedElements = [];\n        }\n    };\n    EventBase.prototype.wireAppointmentEvents = function (element, event, isPreventCrud) {\n        if (isPreventCrud === void 0) { isPreventCrud = false; }\n        var isReadOnly = (!isNullOrUndefined(event)) ? event[this.parent.eventFields.isReadonly] : false;\n        EventHandler.add(element, 'click', this.eventClick, this);\n        if (!this.parent.isAdaptive && !this.parent.activeViewOptions.readonly && !isReadOnly) {\n            EventHandler.add(element, 'touchend', this.eventTouchClick, this);\n            EventHandler.add(element, 'dblclick', this.eventDoubleClick, this);\n        }\n        if (!this.parent.activeViewOptions.readonly && !isReadOnly && !isPreventCrud) {\n            if (this.parent.resizeModule) {\n                this.parent.resizeModule.wireResizeEvent(element);\n            }\n            if (this.parent.dragAndDropModule) {\n                this.parent.dragAndDropModule.wireDragEvent(element);\n            }\n        }\n    };\n    EventBase.prototype.eventTouchClick = function (e) {\n        var _this = this;\n        if (this.parent.uiStateValues.isTouchScroll || this.parent.uiStateValues.isTapHold || this.parent.uiStateValues.action) {\n            this.parent.uiStateValues.isTouchScroll = this.parent.uiStateValues.isTapHold = false;\n            return;\n        }\n        setTimeout(function () { return _this.isDoubleTapped = false; }, 250);\n        e.preventDefault();\n        if (this.isDoubleTapped) {\n            this.eventDoubleClick(e);\n        }\n        else if (!this.isDoubleTapped) {\n            this.isDoubleTapped = true;\n            this.eventClick(e);\n        }\n    };\n    EventBase.prototype.renderResizeHandler = function (element, spanEvent, isReadOnly) {\n        if (!this.parent.resizeModule || !this.parent.allowResizing || this.parent.activeViewOptions.readonly || isReadOnly) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(spanEvent); _i < _a.length; _i++) {\n            var resizeEdge = _a[_i];\n            var resizeHandler = createElement('div', { className: cls.EVENT_RESIZE_CLASS });\n            switch (resizeEdge) {\n                case 'isLeft':\n                    if (!spanEvent.isLeft) {\n                        resizeHandler.appendChild(createElement('div', { className: 'e-left-right-resize' }));\n                        addClass([resizeHandler], this.parent.enableRtl ? cls.RIGHT_RESIZE_HANDLER : cls.LEFT_RESIZE_HANDLER);\n                        prepend([resizeHandler], element);\n                    }\n                    break;\n                case 'isRight':\n                    if (!spanEvent.isRight) {\n                        resizeHandler.appendChild(createElement('div', { className: 'e-left-right-resize' }));\n                        addClass([resizeHandler], this.parent.enableRtl ? cls.LEFT_RESIZE_HANDLER : cls.RIGHT_RESIZE_HANDLER);\n                        append([resizeHandler], element);\n                    }\n                    break;\n                case 'isTop':\n                    if (!spanEvent.isTop) {\n                        resizeHandler.appendChild(createElement('div', { className: 'e-top-bottom-resize' }));\n                        addClass([resizeHandler], cls.TOP_RESIZE_HANDLER);\n                        prepend([resizeHandler], element);\n                    }\n                    break;\n                case 'isBottom':\n                    if (!spanEvent.isBottom) {\n                        resizeHandler.appendChild(createElement('div', { className: 'e-top-bottom-resize' }));\n                        addClass([resizeHandler], cls.BOTTOM_RESIZE_HANDLER);\n                        append([resizeHandler], element);\n                    }\n                    break;\n            }\n        }\n    };\n    EventBase.prototype.eventClick = function (eventData) {\n        var _this = this;\n        var target = eventData.target;\n        if (target.classList.contains(cls.DRAG_CLONE_CLASS) || target.classList.contains(cls.RESIZE_CLONE_CLASS) ||\n            target.classList.contains(cls.INLINE_SUBJECT_CLASS)) {\n            return;\n        }\n        if ((eventData.ctrlKey || eventData.metaKey) && eventData.which === 1 && this.parent.keyboardInteractionModule) {\n            this.parent.quickPopup.quickPopup.hide();\n            this.parent.selectedElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_BORDER));\n            var target_1 = closest(eventData.target, '.' + cls.APPOINTMENT_CLASS);\n            this.getSelectedEventElements(target_1);\n            this.activeEventData(eventData, false);\n            var selectArgs = {\n                data: this.parent.activeEventData.event,\n                element: this.parent.activeEventData.element,\n                event: eventData, requestType: 'eventSelect'\n            };\n            this.parent.trigger(event.select, selectArgs);\n            var args = extend(this.parent.activeEventData, { cancel: false, originalEvent: eventData });\n            this.parent.trigger(event.eventClick, args);\n        }\n        else {\n            this.removeSelectedAppointmentClass();\n            this.activeEventData(eventData, true);\n            var selectEventArgs = {\n                data: this.parent.activeEventData.event,\n                element: this.parent.activeEventData.element,\n                event: eventData, requestType: 'eventSelect'\n            };\n            this.parent.trigger(event.select, selectEventArgs);\n            var args = extend(this.parent.activeEventData, { cancel: false, originalEvent: eventData });\n            this.parent.trigger(event.eventClick, args, function (eventClickArgs) {\n                if (eventClickArgs.cancel) {\n                    _this.removeSelectedAppointmentClass();\n                    _this.parent.selectedElements = [];\n                    if (_this.parent.quickPopup) {\n                        _this.parent.quickPopup.quickPopupHide();\n                    }\n                }\n                else {\n                    if (_this.parent.currentView === 'Agenda' || _this.parent.currentView === 'MonthAgenda') {\n                        addClass([_this.parent.activeEventData.element], cls.AGENDA_SELECTED_CELL);\n                    }\n                    if (_this.parent.allowInline) {\n                        var inlineArgs = {\n                            data: eventClickArgs.event,\n                            element: eventClickArgs.element,\n                            type: 'Event'\n                        };\n                        _this.parent.notify(event.inlineClick, inlineArgs);\n                    }\n                    else {\n                        _this.parent.notify(event.eventClick, eventClickArgs);\n                    }\n                }\n            });\n        }\n    };\n    EventBase.prototype.eventDoubleClick = function (eventData) {\n        var _this = this;\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide(true);\n        }\n        if (eventData.type === 'touchend') {\n            this.activeEventData(eventData, true);\n        }\n        this.removeSelectedAppointmentClass();\n        this.parent.selectedElements = [];\n        if (this.parent.activeEventData.element.classList.contains(cls.INLINE_APPOINTMENT_CLASS) ||\n            this.parent.activeEventData.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS)) {\n            return;\n        }\n        var args = extend(this.parent.activeEventData, { cancel: false, originalEvent: eventData });\n        this.parent.trigger(event.eventDoubleClick, args, function (eventDoubleClickArgs) {\n            if (!eventDoubleClickArgs.cancel) {\n                if (!isNullOrUndefined(_this.parent.activeEventData.event) &&\n                    isNullOrUndefined(_this.parent.activeEventData.event[_this.parent.eventFields.recurrenceID])) {\n                    _this.parent.eventWindow.openEditor(_this.parent.activeEventData.event, 'Save');\n                }\n                else {\n                    _this.parent.currentAction = 'EditOccurrence';\n                    _this.parent.quickPopup.openRecurrenceAlert();\n                }\n            }\n        });\n    };\n    EventBase.prototype.getEventByGuid = function (guid) {\n        return this.parent.eventsProcessed.filter(function (data) { return data.Guid === guid; })[0];\n    };\n    EventBase.prototype.getEventById = function (id) {\n        var _this = this;\n        return this.parent.eventsData.filter(function (data) {\n            return data[_this.parent.eventFields.id] === id;\n        })[0];\n    };\n    EventBase.prototype.generateGuid = function () {\n        return 'xyxxxxyx-xxxy-yxxx-xyxx-xxyxxxxyyxxx'.replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16 | 0;\n            var v = (c === 'x') ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    };\n    EventBase.prototype.getEventIDType = function () {\n        if (this.parent.eventsData.length !== 0) {\n            return typeof (this.parent.eventsData[0][this.parent.eventFields.id]);\n        }\n        if (this.parent.blockData.length !== 0) {\n            return typeof (this.parent.blockData[0][this.parent.eventFields.id]);\n        }\n        return 'string';\n    };\n    EventBase.prototype.getEventMaxID = function (resourceId) {\n        var _this = this;\n        if (this.parent.eventsData.length < 1 && this.parent.blockData.length < 1) {\n            return 1;\n        }\n        var eventId;\n        var idType = this.getEventIDType();\n        if (idType === 'string') {\n            eventId = this.generateGuid();\n        }\n        if (idType === 'number') {\n            var datas = this.parent.eventsData.concat(this.parent.blockData);\n            var appIds = datas.map(function (event) { return event[_this.parent.eventFields.id]; });\n            var maxId = appIds.reduce(function (a, b) { return Math.max(a, b); });\n            maxId = isNullOrUndefined(resourceId) ? maxId : maxId + resourceId;\n            eventId = maxId + 1;\n        }\n        return eventId;\n    };\n    EventBase.prototype.activeEventData = function (eventData, isMultiple) {\n        var _this = this;\n        var target = closest(eventData.target, '.' + cls.APPOINTMENT_CLASS);\n        var guid = target.getAttribute('data-guid');\n        if (isMultiple) {\n            this.addSelectedAppointments([].slice.call(this.parent.element.querySelectorAll('div[data-guid=\"' + guid + '\"]')), true);\n            target.focus();\n        }\n        var eventObject = this.getEventByGuid(guid);\n        if (eventObject && eventObject.isSpanned) {\n            eventObject = this.parent.eventsData.filter(function (obj) {\n                return obj[_this.parent.eventFields.id] === eventObject[_this.parent.eventFields.id];\n            })[0];\n        }\n        this.parent.activeEventData = { event: eventObject, element: target };\n    };\n    EventBase.prototype.generateOccurrence = function (event, viewDate, isMaxCount) {\n        var _this = this;\n        var startDate = event[this.parent.eventFields.startTime];\n        var endDate = event[this.parent.eventFields.endTime];\n        var eventRule = event[this.parent.eventFields.recurrenceRule];\n        var timeZoneDiff = endDate.getTimezoneOffset() - startDate.getTimezoneOffset();\n        var duration = (endDate.getTime() - startDate.getTime()) - (timeZoneDiff * 60000);\n        viewDate = new Date((viewDate || this.parent.activeView.startDate()).getTime() - duration);\n        var exception = event[this.parent.eventFields.recurrenceException];\n        var maxCount;\n        if (this.parent.currentView !== 'Agenda' && isMaxCount) {\n            maxCount = util.getDateCount(viewDate, this.parent.activeView.endDate()) + 1;\n        }\n        var newTimezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n        var firstDay = this.parent.activeViewOptions.firstDayOfWeek;\n        var calendarMode = this.parent.calendarMode;\n        if (event[this.parent.eventFields.recurrenceRule] && this.isDayBasedRecurrence(event) &&\n            this.parent.timezone && event[this.parent.eventFields.startTimezone] && event[this.parent.eventFields.endTimezone]) {\n            startDate = this.parent.tzModule.convert(event[this.parent.eventFields.startTime], this.parent.timezone, event[this.parent.eventFields.startTimezone]);\n        }\n        var dates = generate(startDate, eventRule, exception, firstDay, maxCount, viewDate, calendarMode, newTimezone);\n        if (this.parent.currentView === 'Agenda' && eventRule.indexOf('COUNT') === -1 && eventRule.indexOf('UNTIL') === -1) {\n            if (isNullOrUndefined(event.generatedDates)) {\n                event.generatedDates = { start: new Date(dates[0]), end: new Date(dates[dates.length - 1]) };\n            }\n            else {\n                if (dates[0] < event.generatedDates.start.getTime()) {\n                    event.generatedDates.start = new Date(dates[0]);\n                }\n                if (dates[dates.length - 1] > event.generatedDates.end.getTime()) {\n                    event.generatedDates.end = new Date(dates[dates.length - 1]);\n                }\n            }\n        }\n        var isDSTAdjusted = false;\n        var convertedDates = [];\n        if (event[this.parent.eventFields.recurrenceRule] && this.isDayBasedRecurrence(event) &&\n            this.parent.timezone && event[this.parent.eventFields.startTimezone] && event[this.parent.eventFields.endTimezone]) {\n            isDSTAdjusted = true;\n            convertedDates.push.apply(convertedDates, dates.map(function (date) {\n                return _this.parent.tzModule.convert(new Date(date), event[_this.parent.eventFields.startTimezone], _this.parent.timezone).getTime();\n            }));\n        }\n        convertedDates = convertedDates.length > 0 ? convertedDates : dates;\n        var occurrenceCollection = [];\n        for (var _i = 0, convertedDates_1 = convertedDates; _i < convertedDates_1.length; _i++) {\n            var date = convertedDates_1[_i];\n            var clonedObject = extend({}, event, null, true);\n            date = !isDSTAdjusted ? this.getDSTAdjustedTime(date, clonedObject) : date;\n            clonedObject[this.parent.eventFields.startTime] = new Date(date);\n            clonedObject[this.parent.eventFields.endTime] = new Date(new Date(date).setMilliseconds(duration));\n            clonedObject[this.parent.eventFields.recurrenceID] = clonedObject[this.parent.eventFields.id];\n            delete clonedObject[this.parent.eventFields.recurrenceException];\n            delete clonedObject[this.parent.eventFields.followingID];\n            clonedObject.Guid = this.generateGuid();\n            occurrenceCollection.push(clonedObject);\n        }\n        return occurrenceCollection;\n    };\n    EventBase.prototype.isDayBasedRecurrence = function (event) {\n        return (event[this.parent.eventFields.recurrenceRule].includes('BYMONTHDAY')\n            || event[this.parent.eventFields.recurrenceRule].includes('BYDAY'));\n    };\n    EventBase.prototype.getDSTAdjustedTime = function (date, event) {\n        var occurDate = date;\n        if (this.parent.timezone &&\n            (event[this.parent.eventFields.startTimezone] || event[this.parent.eventFields.endTimezone])) {\n            var eventOffset = this.getDSTDiff(event[this.parent.eventFields.startTime], new Date(date), event[this.parent.eventFields.startTimezone]);\n            var schOffset = this.getDSTDiff(event[this.parent.eventFields.startTime], new Date(date), this.parent.timezone);\n            occurDate = (new Date(date).getTime() - (eventOffset - schOffset) * 60000);\n        }\n        return occurDate;\n    };\n    EventBase.prototype.getDSTDiff = function (startDate, occurDate, timezone) {\n        var startOffset = this.parent.tzModule.offset(new Date(startDate), timezone);\n        var occurOffset = this.parent.tzModule.offset(new Date(occurDate), timezone);\n        return startOffset - occurOffset;\n    };\n    EventBase.prototype.getParentEvent = function (eventObj, isParent) {\n        if (isParent === void 0) { isParent = false; }\n        var parentEvent;\n        do {\n            eventObj = this.getFollowingEvent(eventObj);\n            if (eventObj) {\n                parentEvent = extend({}, eventObj, null, true);\n            }\n        } while (eventObj && isParent);\n        if (isParent && parentEvent) {\n            var collection = this.getEventCollections(parentEvent);\n            var followObj = collection.follow.slice(-1)[0];\n            if (collection.occurrence.length > 0 && !parentEvent[this.parent.eventFields.recurrenceException]) {\n                followObj = collection.occurrence.slice(-1)[0];\n            }\n            if (followObj) {\n                parentEvent[this.parent.eventFields.recurrenceRule] = followObj[this.parent.eventFields.recurrenceRule];\n            }\n        }\n        return parentEvent;\n    };\n    EventBase.prototype.getEventCollections = function (parentObj, childObj) {\n        var followingCollection = [];\n        var occurrenceCollection = [];\n        var followingEvent = parentObj;\n        do {\n            followingEvent = this.getFollowingEvent(followingEvent, true);\n            if (followingEvent) {\n                followingCollection.push(followingEvent);\n            }\n            occurrenceCollection = occurrenceCollection.concat(this.getOccurrenceEvent(followingEvent || parentObj));\n        } while (followingEvent);\n        var collections = {};\n        if (childObj) {\n            var fields_1 = this.parent.eventFields;\n            collections = {\n                follow: followingCollection.filter(function (eventData) {\n                    return eventData[fields_1.startTime] >= childObj[fields_1.startTime];\n                }),\n                occurrence: occurrenceCollection.filter(function (eventData) {\n                    return eventData[fields_1.startTime] >= childObj[fields_1.startTime];\n                })\n            };\n        }\n        else {\n            collections = { follow: followingCollection, occurrence: occurrenceCollection };\n        }\n        return collections;\n    };\n    EventBase.prototype.getFollowingEvent = function (parentObj, isReverse) {\n        var fields = this.parent.eventFields;\n        var fieldValue;\n        if (isReverse) {\n            fieldValue = parentObj[fields.id];\n        }\n        else {\n            fieldValue = (parentObj[fields.recurrenceID] || parentObj[fields.followingID]);\n        }\n        var parentApp = this.parent.eventsData.filter(function (data) {\n            return data[isReverse ? fields.followingID : fields.id] === fieldValue;\n        });\n        return parentApp.shift();\n    };\n    EventBase.prototype.isFollowingEvent = function (parentObj, childObj) {\n        var parentStart = parentObj[this.parent.eventFields.startTime];\n        var childStart = childObj[this.parent.eventFields.startTime];\n        return parentStart.getHours() === childStart.getHours() && parentStart.getMinutes() === childStart.getMinutes() &&\n            parentStart.getSeconds() === childStart.getSeconds();\n    };\n    EventBase.prototype.getOccurrenceEvent = function (eventObj, isGuid, isFollowing) {\n        if (isGuid === void 0) { isGuid = false; }\n        if (isFollowing === void 0) { isFollowing = false; }\n        var idField = isGuid ? 'Guid' : (isFollowing) ? this.parent.eventFields.followingID : this.parent.eventFields.recurrenceID;\n        var fieldKey = isGuid ? 'Guid' : this.parent.eventFields.id;\n        var dataSource = isGuid ? this.parent.eventsProcessed : this.parent.eventsData;\n        return dataSource.filter(function (data) { return data[\"\" + idField] === eventObj[\"\" + fieldKey]; });\n    };\n    EventBase.prototype.getOccurrencesByID = function (id) {\n        var fields = this.parent.eventFields;\n        var occurrenceCollection = [];\n        var parentObject = this.parent.eventsData.filter(function (obj) { return obj[fields.id] === id; });\n        for (var _i = 0, parentObject_1 = parentObject; _i < parentObject_1.length; _i++) {\n            var event_3 = parentObject_1[_i];\n            if (!isNullOrUndefined(event_3[fields.recurrenceRule])) {\n                occurrenceCollection = occurrenceCollection.concat(this.generateOccurrence(event_3));\n            }\n        }\n        return occurrenceCollection;\n    };\n    EventBase.prototype.getOccurrencesByRange = function (startTime, endTime) {\n        var fields = this.parent.eventFields;\n        var occurrenceCollection = [];\n        for (var _i = 0, _a = this.parent.eventsData; _i < _a.length; _i++) {\n            var event_4 = _a[_i];\n            if (!isNullOrUndefined(event_4[fields.recurrenceRule])) {\n                occurrenceCollection = occurrenceCollection.concat(this.generateOccurrence(event_4));\n            }\n        }\n        var filter = occurrenceCollection.filter(function (obj) {\n            return obj[fields.startTime] >= startTime && obj[fields.endTime] <= endTime && !isNullOrUndefined(obj[fields.recurrenceID]);\n        });\n        return filter;\n    };\n    EventBase.prototype.getDeletedOccurrences = function (recurrenceData) {\n        var fields = this.parent.eventFields;\n        var parentObject;\n        var deletedOccurrences = [];\n        if (typeof recurrenceData === 'string' || typeof recurrenceData === 'number') {\n            parentObject = this.parent.eventsData.filter(function (obj) {\n                return obj[fields.id] === recurrenceData;\n            })[0];\n        }\n        else {\n            parentObject = extend({}, recurrenceData, null, true);\n        }\n        if (parentObject[fields.recurrenceException]) {\n            var exDateString_1 = parentObject[fields.recurrenceException].split(',');\n            var _loop_3 = function (i, len) {\n                var edited = this_2.parent.eventsData.filter(function (eventObj) {\n                    return eventObj[fields.recurrenceID] === parentObject[fields.id] && eventObj[fields.recurrenceException] === exDateString_1[parseInt(i.toString(), 10)];\n                });\n                if (edited.length === 0) {\n                    var exDate = getDateFromRecurrenceDateString(exDateString_1[parseInt(i.toString(), 10)]);\n                    var childObject = extend({}, recurrenceData, null, true);\n                    childObject[fields.recurrenceID] = parentObject[fields.id];\n                    delete childObject[fields.followingID];\n                    childObject[fields.recurrenceException] = exDateString_1[parseInt(i.toString(), 10)];\n                    var startDate = new Date(exDate.getTime());\n                    var time = parentObject[fields.endTime].getTime() - parentObject[fields.startTime].getTime();\n                    var endDate = new Date(startDate.getTime());\n                    endDate.setMilliseconds(time);\n                    childObject[fields.startTime] = new Date(startDate.getTime());\n                    childObject[fields.endTime] = new Date(endDate.getTime());\n                    deletedOccurrences.push(childObject);\n                }\n            };\n            var this_2 = this;\n            for (var i = 0, len = exDateString_1.length; i < len; i++) {\n                _loop_3(i, len);\n            }\n        }\n        return deletedOccurrences;\n    };\n    EventBase.prototype.applyResourceColor = function (element, data, type, index, alpha) {\n        if (!this.parent.resourceBase) {\n            return;\n        }\n        var alphaColor = function (color, alpha) {\n            color = color.replace('#', '');\n            var r = parseInt(color.substring(0, color.length / 3), 16);\n            var g = parseInt(color.substring(color.length / 3, 2 * color.length / 3), 16);\n            var b = parseInt(color.substring(2 * color.length / 3, 3 * color.length / 3), 16);\n            return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n        };\n        // index refers groupOrder\n        var color = this.parent.resourceBase.getResourceColor(data, index);\n        if (color) {\n            element.style[type] = !isNullOrUndefined(alpha) ? alphaColor(color, alpha) : color;\n        }\n    };\n    EventBase.prototype.createBlockAppointmentElement = function (record, resIndex, isResourceEventTemplate) {\n        var eventSubject = (record[this.parent.eventFields.subject] || this.parent.eventSettings.fields.subject.default);\n        var appointmentWrapper = createElement('div', {\n            className: cls.BLOCK_APPOINTMENT_CLASS,\n            attrs: {\n                'data-id': 'Appointment_' + record[this.parent.eventFields.id],\n                'aria-disabled': 'true'\n            }\n        });\n        var templateElement;\n        if (!isNullOrUndefined(this.parent.activeViewOptions.eventTemplate)) {\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.eventTemplateName;\n            var templateId = scheduleId + viewName + 'eventTemplate';\n            var templateName = isResourceEventTemplate && this.parent.currentView.indexOf('Year') === -1 ?\n                this.parent.getEventTemplateName(resIndex) : 'eventTemplate';\n            templateElement = this.parent.getAppointmentTemplate()(record, this.parent, templateName, templateId, false, undefined, undefined, this.parent.root);\n        }\n        else {\n            var appointmentSubject = createElement('div', { className: cls.SUBJECT_CLASS });\n            this.parent.sanitize(eventSubject, appointmentSubject);\n            templateElement = [appointmentSubject];\n        }\n        append(templateElement, appointmentWrapper);\n        this.setWrapperAttributes(appointmentWrapper, resIndex);\n        return appointmentWrapper;\n    };\n    EventBase.prototype.setWrapperAttributes = function (appointmentWrapper, resIndex) {\n        if (!isNullOrUndefined(this.cssClass)) {\n            addClass([appointmentWrapper], this.cssClass);\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            appointmentWrapper.setAttribute('data-group-index', resIndex.toString());\n        }\n    };\n    EventBase.prototype.getReadonlyAttribute = function (event) {\n        return (event[this.parent.eventFields.isReadonly] || this.parent.readonly).toString();\n    };\n    EventBase.prototype.isBlockRange = function (eventData) {\n        var eventCollection = (eventData instanceof Array) ? eventData : [eventData];\n        var isBlockAlert = false;\n        var fields = this.parent.eventFields;\n        for (var _i = 0, _a = eventCollection; _i < _a.length; _i++) {\n            var event_5 = _a[_i];\n            var dataCol = [];\n            if (!isNullOrUndefined(event_5[fields.recurrenceRule]) &&\n                (isNullOrUndefined(event_5[fields.recurrenceID]) || event_5[fields.id] === event_5[fields.recurrenceID])) {\n                dataCol = this.generateOccurrence(event_5);\n            }\n            else {\n                dataCol.push(event_5);\n            }\n            for (var _b = 0, dataCol_1 = dataCol; _b < dataCol_1.length; _b++) {\n                var data = dataCol_1[_b];\n                var filterBlockEvents = this.filterBlockEvents(data);\n                if (filterBlockEvents.length > 0) {\n                    isBlockAlert = true;\n                    break;\n                }\n            }\n        }\n        this.parent.uiStateValues.isBlock = isBlockAlert;\n        return isBlockAlert;\n    };\n    EventBase.prototype.getFilterEventsList = function (dataSource, query) {\n        return new DataManager(dataSource).executeLocal(new Query().where(query));\n    };\n    EventBase.prototype.getSeriesEvents = function (parentEvent, startTime) {\n        var fields = this.parent.eventFields;\n        startTime = isNullOrUndefined(startTime) ? parentEvent[fields.startTime] : startTime;\n        var deleteFutureEditEvents;\n        var futureEvents;\n        var deleteFutureEditEventList = [];\n        var delId = parentEvent[fields.id];\n        var followingId = parentEvent[fields.followingID];\n        var deleteFutureEvent;\n        var startTimeQuery = this.parent.currentAction === 'EditSeries' ? 'greaterthan' : 'greaterthanorequal';\n        do {\n            deleteFutureEvent = ((new Predicate(fields.followingID, 'equal', delId))).\n                and(new Predicate(fields.startTime, startTimeQuery, startTime));\n            futureEvents = this.getFilterEventsList(this.parent.eventsData, deleteFutureEvent);\n            deleteFutureEditEvents = futureEvents.slice(-1)[0];\n            if (!isNullOrUndefined(deleteFutureEditEvents) && deleteFutureEditEvents[fields.id] !== followingId) {\n                deleteFutureEditEventList.push(deleteFutureEditEvents);\n                delId = deleteFutureEditEvents[fields.id];\n                followingId = deleteFutureEditEvents[fields.followingID];\n            }\n            else {\n                followingId = null;\n            }\n        } while (futureEvents.length === 1 && !isNullOrUndefined(deleteFutureEditEvents[fields.followingID]));\n        return deleteFutureEditEventList;\n    };\n    EventBase.prototype.getEditedOccurrences = function (deleteFutureEditEventList, startTime) {\n        var fields = this.parent.eventFields;\n        var deleteRecurrenceEventList = [];\n        var delEditedEvents;\n        for (var _i = 0, deleteFutureEditEventList_1 = deleteFutureEditEventList; _i < deleteFutureEditEventList_1.length; _i++) {\n            var event_6 = deleteFutureEditEventList_1[_i];\n            var delEventQuery = new Predicate(fields.recurrenceID, 'equal', event_6[fields.id]).\n                or(new Predicate(fields.recurrenceID, 'equal', event_6[fields.followingID]).\n                and(new Predicate(fields.recurrenceID, 'notequal', undefined)).\n                and(new Predicate(fields.recurrenceID, 'notequal', null)));\n            if (this.parent.currentAction === 'EditFollowingEvents' || this.parent.currentAction === 'DeleteFollowingEvents') {\n                delEventQuery = delEventQuery.and(new Predicate(fields.startTime, 'greaterthanorequal', startTime));\n            }\n            delEditedEvents = this.getFilterEventsList(this.parent.eventsData, delEventQuery);\n            deleteRecurrenceEventList = deleteRecurrenceEventList.concat(delEditedEvents);\n        }\n        return deleteRecurrenceEventList;\n    };\n    EventBase.prototype.getRenderedDates = function (dateRender) {\n        var firstDate = 0;\n        var lastDate = dateRender.length;\n        var filteredDates;\n        var maxDate = isNullOrUndefined(this.parent.maxDate) ? new Date(2099, 11, 31) : this.parent.maxDate;\n        var minDate = isNullOrUndefined(this.parent.minDate) ? new Date(1900, 0, 1) : this.parent.minDate;\n        if (dateRender[0] < minDate && dateRender[dateRender.length - 1] > maxDate) {\n            for (var i = 0; i < dateRender.length; i++) {\n                if (util.resetTime(dateRender[parseInt(i.toString(), 10)]).getTime() === util.resetTime(new Date(minDate)).getTime()) {\n                    firstDate = i;\n                }\n                if (util.resetTime(dateRender[parseInt(i.toString(), 10)]).getTime() === util.resetTime(new Date(maxDate)).getTime()) {\n                    lastDate = i;\n                }\n            }\n            filteredDates = dateRender.filter(function (date) { return date >= dateRender[parseInt(firstDate.toString(), 10)] && date <= dateRender[parseInt(lastDate.toString(), 10)]; });\n        }\n        return filteredDates;\n    };\n    EventBase.prototype.isValidEvent = function (eventObj, start, end, schedule) {\n        var isHourRange = end.getTime() > schedule.startHour.getTime() && start.getTime() < schedule.endHour.getTime();\n        var isSameRange = schedule.startHour.getTime() <= start.getTime() &&\n            eventObj[this.parent.eventFields.startTime].getTime() >= schedule.startHour.getTime() &&\n            eventObj[this.parent.eventFields.endTime].getTime() < schedule.endHour.getTime() && start.getTime() === end.getTime();\n        return isHourRange || isSameRange;\n    };\n    EventBase.prototype.allDayExpandScroll = function (dateHeader) {\n        var indentHeight = 0;\n        var headerRows = [].slice.call(this.parent.element.querySelectorAll('.' + cls.HEADER_ROW_CLASS));\n        headerRows.forEach(function (element) {\n            var tdEle = [].slice.call(element.children);\n            tdEle.forEach(function (ele) { ele.style.top = indentHeight + 'px'; });\n            indentHeight += element.offsetHeight;\n        });\n        indentHeight = dateHeader.offsetHeight - indentHeight;\n        this.parent.element.querySelector('.' + cls.ALLDAY_CELLS_CLASS).style.height = (indentHeight / 12) + 'em';\n        if (this.parent.uiStateValues.expand) {\n            addClass([dateHeader], cls.ALLDAY_APPOINTMENT_SCROLL);\n        }\n        else {\n            removeClass([dateHeader], cls.ALLDAY_APPOINTMENT_SCROLL);\n        }\n    };\n    EventBase.prototype.updateEventMinimumDuration = function (startEndHours, startTime, endTime) {\n        if (startTime.getTime() < endTime.getTime() || (startTime.getTime() === endTime.getTime() &&\n            (startEndHours.startHour.getTime() < endTime.getTime() && startEndHours.endHour.getTime() > startTime.getTime()) &&\n            this.parent.currentView.indexOf('Timeline') === -1)) {\n            var eventDuration = (util.getUniversalTime(endTime) - util.getUniversalTime(startTime)) / util.MS_PER_MINUTE;\n            if (eventDuration < this.parent.eventSettings.minimumEventDuration) {\n                var tempEnd = new Date(startTime);\n                tempEnd.setMinutes(tempEnd.getMinutes() + this.parent.eventSettings.minimumEventDuration);\n                endTime = tempEnd;\n                if (endTime.getTime() > startEndHours.endHour.getTime()) {\n                    var tempStart = new Date(startEndHours.endHour.getTime());\n                    tempStart.setMinutes(tempStart.getMinutes() - this.parent.eventSettings.minimumEventDuration);\n                    startTime = tempStart;\n                    endTime = startEndHours.endHour;\n                }\n            }\n        }\n        return { startDate: startTime, endDate: endTime };\n    };\n    EventBase.prototype.createEventWrapper = function (type, index) {\n        if (type === void 0) { type = ''; }\n        if (index === void 0) { index = 0; }\n        var tr = createElement('tr');\n        var levels = this.parent.activeView.colLevels.slice(-1)[0];\n        var className = this.parent.isReact && this.parent.activeViewOptions.eventTemplate ?\n            ' ' + cls.APPOINTMENT_WRAPPER_HIDDEN_CLASS : '';\n        for (var i = 0, len = levels.length; i < len; i++) {\n            var col = levels[parseInt(i.toString(), 10)];\n            var appointmentWrap = createElement('td', {\n                className: (type === 'allDay') ? cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS + className : (type === 'timeIndicator') ?\n                    cls.TIMELINE_WRAPPER_CLASS : cls.DAY_WRAPPER_CLASS + className, attrs: { 'data-date': col.date.getTime().toString() }\n            });\n            if (!isNullOrUndefined(col.groupIndex)) {\n                appointmentWrap.setAttribute('data-group-index', col.groupIndex.toString());\n            }\n            if (type === '') {\n                var innerWrapper = createElement('div', {\n                    id: cls.APPOINTMENT_WRAPPER_CLASS + '-' + index.toString(),\n                    className: cls.APPOINTMENT_WRAPPER_CLASS\n                });\n                appointmentWrap.appendChild(innerWrapper);\n            }\n            tr.appendChild(appointmentWrap);\n            index = index + 1;\n        }\n        return tr;\n    };\n    EventBase.prototype.getPageCoordinates = function (e) {\n        if (isNullOrUndefined(e)) {\n            return e;\n        }\n        var eventArgs = e.event;\n        return eventArgs && eventArgs.changedTouches ? eventArgs.changedTouches[0] : e.changedTouches ? e.changedTouches[0] :\n            eventArgs || e;\n    };\n    EventBase.prototype.renderSpannedIcon = function (element, spanEvent) {\n        var iconElement = createElement('div', { className: cls.EVENT_INDICATOR_CLASS + ' ' + cls.ICON });\n        if (spanEvent.isLeft) {\n            var iconLeft = iconElement.cloneNode();\n            addClass([iconLeft], cls.EVENT_ICON_LEFT_CLASS);\n            prepend([iconLeft], element);\n        }\n        if (spanEvent.isRight) {\n            var iconRight = iconElement.cloneNode();\n            addClass([iconRight], cls.EVENT_ICON_RIGHT_CLASS);\n            append([iconRight], element);\n        }\n        if (spanEvent.isTop) {\n            var iconTop = iconElement.cloneNode();\n            addClass([iconTop], cls.EVENT_ICON_UP_CLASS);\n            prepend([iconTop], element);\n        }\n        if (spanEvent.isBottom) {\n            var iconBottom = iconElement.cloneNode();\n            addClass([iconBottom], cls.EVENT_ICON_DOWN_CLASS);\n            append([iconBottom], element);\n        }\n    };\n    EventBase.prototype.addCellHeight = function (selector, eventHeight, eventGap, headerHeight, indHeight, isScrollUpdate) {\n        if (isScrollUpdate === void 0) { isScrollUpdate = true; }\n        if (this.parent.activeViewOptions.maxEventsPerRow && !this.parent.rowAutoHeight) {\n            var rows = [].slice.call(this.parent.element.querySelectorAll(selector));\n            var weekNumberRows = this.parent.showWeekNumber\n                ? [].slice.call(this.parent.element.querySelectorAll('.' + cls.WEEK_NUMBER_WRAPPER_CLASS + ' tbody tr'))\n                : [];\n            for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n                var row = rows_1[_i];\n                var height = (this.parent.activeViewOptions.maxEventsPerRow *\n                    ((eventHeight + (this.parent.currentView === 'Month' ? eventGap : 2)))) + headerHeight + indHeight;\n                if (weekNumberRows.length > 0) {\n                    setStyleAttribute(weekNumberRows[rows.indexOf(row)].firstElementChild, { 'height': height + 'px' });\n                }\n                setStyleAttribute(row.firstElementChild, { 'height': height + 'px' });\n            }\n            if (!this.parent.enablePersistence && !this.parent.activeViewOptions.allowVirtualScrolling && isScrollUpdate) {\n                this.parent.notify(event.contentReady, {});\n            }\n        }\n    };\n    EventBase.prototype.unWireEvents = function () {\n        var appElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n        for (var _i = 0, appElements_1 = appElements; _i < appElements_1.length; _i++) {\n            var element = appElements_1[_i];\n            EventHandler.clearEvents(element);\n        }\n    };\n    EventBase.prototype.destroy = function () {\n        this.unWireEvents();\n        this.parent = null;\n    };\n    return EventBase;\n}());\nexport { EventBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, createElement, extend, EventHandler, Animation, formatUnit, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, setStyleAttribute, remove, removeClass, addClass } from '@syncfusion/ej2-base';\nimport { EventBase } from './event-base';\nimport * as util from '../base/util';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Vertical view appointment rendering\n */\nvar VerticalEvent = /** @class */ (function (_super) {\n    __extends(VerticalEvent, _super);\n    function VerticalEvent(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.dateRender = [];\n        _this.renderedEvents = [];\n        _this.renderedAllDayEvents = [];\n        _this.overlapEvents = [];\n        _this.moreEvents = [];\n        _this.overlapList = [];\n        _this.allDayEvents = [];\n        _this.slotCount = _this.parent.activeViewOptions.timeScale.slotCount;\n        _this.interval = _this.parent.activeViewOptions.timeScale.interval;\n        _this.allDayLevel = 0;\n        _this.startHour = _this.getStartEndHours(_this.parent.activeViewOptions.startHour);\n        _this.endHour = _this.getStartEndHours(_this.parent.activeViewOptions.endHour);\n        _this.element = _this.parent.activeView.getPanel();\n        _this.fields = _this.parent.eventFields;\n        _this.animation = new Animation({ progress: _this.animationUiUpdate.bind(_this) });\n        _this.addEventListener();\n        return _this;\n    }\n    VerticalEvent.prototype.renderAppointments = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.parent)) {\n            return;\n        }\n        if (this.parent.dragAndDropModule) {\n            this.parent.dragAndDropModule.setDragArea();\n        }\n        this.isResourceEventTemplate = this.parent.isSpecificResourceEvents();\n        var wrapperElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.BLOCK_APPOINTMENT_CLASS +\n            ',.' + cls.APPOINTMENT_CLASS + ',.' + cls.ROW_COUNT_WRAPPER_CLASS));\n        var isDragging = (this.parent.crudModule && this.parent.crudModule.crudObj.isCrudAction) ? true : false;\n        var hideWrapper = function (wrapper) {\n            if (_this.parent.isReact && !isNullOrUndefined(_this.parent.activeViewOptions.eventTemplate)) {\n                var appWrapper = closest(wrapper, '.' + cls.DAY_WRAPPER_CLASS + ',.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS);\n                if (appWrapper && !appWrapper.classList.contains(cls.APPOINTMENT_WRAPPER_HIDDEN_CLASS)) {\n                    addClass([appWrapper], cls.APPOINTMENT_WRAPPER_HIDDEN_CLASS);\n                }\n            }\n        };\n        for (var _i = 0, wrapperElements_1 = wrapperElements; _i < wrapperElements_1.length; _i++) {\n            var wrapper = wrapperElements_1[_i];\n            if (isDragging && !(wrapper.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS) ||\n                wrapper.classList.contains(cls.ROW_COUNT_WRAPPER_CLASS))) {\n                var groupIndex = parseInt(wrapper.getAttribute('data-group-index'), 10);\n                for (var j = 0, len = this.parent.crudModule.crudObj.sourceEvent.length; j < len; j++) {\n                    if (groupIndex === this.parent.crudModule.crudObj.sourceEvent[parseInt(j.toString(), 10)].groupIndex ||\n                        groupIndex === this.parent.crudModule.crudObj.targetEvent[parseInt(j.toString(), 10)].groupIndex) {\n                        hideWrapper(wrapper);\n                        remove(wrapper);\n                    }\n                }\n            }\n            else {\n                hideWrapper(wrapper);\n                remove(wrapper);\n            }\n        }\n        if (!this.element.querySelector('.' + cls.WORK_CELLS_CLASS)) {\n            return;\n        }\n        if (this.parent.virtualScrollModule) {\n            this.parent.virtualScrollModule.updateFocusedWorkCell();\n        }\n        this.allDayElement = [].slice.call(this.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\n        this.setAllDayRowHeight(0);\n        if (this.parent.eventsProcessed.length === 0 && this.parent.blockProcessed.length === 0) {\n            return;\n        }\n        var expandCollapse = this.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_SECTION_CLASS);\n        EventHandler.remove(expandCollapse, 'click', this.rowExpandCollapse);\n        EventHandler.add(expandCollapse, 'click', this.rowExpandCollapse, this);\n        this.renderedEvents = [];\n        this.renderedAllDayEvents = [];\n        this.initializeValues();\n        this.processBlockEvents();\n        this.renderEvents('normalEvents');\n        if (this.allDayEvents.length > 0) {\n            this.allDayEvents = this.allDayEvents.filter(function (item, index, arr) {\n                return index === arr.map(function (item) { return item.Guid; }).indexOf(item.Guid);\n            });\n            removeClass(this.allDayElement, cls.ALLDAY_ROW_ANIMATE_CLASS);\n            this.slots.push(this.parent.activeView.renderDates.map(function (date) { return +date; }));\n            this.renderEvents('allDayEvents');\n            this.animation.animate(this.allDayElement[0]);\n        }\n        this.parent.notify(events.contentReady, {});\n        addClass(this.allDayElement, cls.ALLDAY_ROW_ANIMATE_CLASS);\n        if (isDragging) {\n            this.parent.crudModule.crudObj.isCrudAction = false;\n        }\n        this.parent.renderTemplates(function () {\n            if (_this.parent && _this.parent.isReact && _this.parent.activeViewOptions.eventTemplate) {\n                var wraps = [].slice.call(_this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_WRAPPER_HIDDEN_CLASS));\n                removeClass(wraps, cls.APPOINTMENT_WRAPPER_HIDDEN_CLASS);\n            }\n        });\n    };\n    VerticalEvent.prototype.initializeValues = function () {\n        this.resources = (this.parent.activeViewOptions.group.resources.length > 0) ? this.parent.uiStateValues.isGroupAdaptive ?\n            [this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]] :\n            this.parent.resourceBase.lastResourceLevel : [];\n        if (this.resources.length > 0 && this.parent.activeViewOptions.allowVirtualScrolling && this.parent.virtualScrollModule) {\n            this.resources = this.parent.resourceBase.renderedResources;\n        }\n        this.cellHeight =\n            parseFloat(this.parent.getElementHeight(this.parent.element.querySelector('.e-content-wrap tbody tr')).toFixed(2));\n        this.dateRender[0] = this.parent.activeView.renderDates;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            for (var i = 0, len = this.resources.length; i < len; i++) {\n                this.dateRender[parseInt(i.toString(), 10)] = this.resources[parseInt(i.toString(), 10)].renderDates;\n            }\n        }\n    };\n    VerticalEvent.prototype.getHeight = function (start, end) {\n        var appHeight = (util.getUniversalTime(end) - util.getUniversalTime(start)) /\n            util.MS_PER_MINUTE * (this.cellHeight * this.slotCount) / this.interval;\n        appHeight = (appHeight <= 0) ? this.cellHeight : appHeight;\n        return appHeight;\n    };\n    VerticalEvent.prototype.appendEvent = function (eventObj, appointmentElement, index, appLeft) {\n        var appointmentWrap = this.element.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS + '[id=\"' + cls.APPOINTMENT_WRAPPER_CLASS + '-' + index + '\"]');\n        if (this.parent.enableRtl) {\n            setStyleAttribute(appointmentElement, { 'right': appLeft });\n        }\n        else {\n            setStyleAttribute(appointmentElement, { 'left': appLeft });\n        }\n        var eventType = appointmentElement.classList.contains(cls.BLOCK_APPOINTMENT_CLASS) ? 'blockEvent' : 'event';\n        var args = {\n            data: extend({}, eventObj, null, true),\n            element: appointmentElement, cancel: false, type: eventType\n        };\n        this.parent.trigger(events.eventRendered, args, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                appointmentWrap.appendChild(appointmentElement);\n            }\n        });\n    };\n    VerticalEvent.prototype.processBlockEvents = function () {\n        var resources = this.getResourceList();\n        var dateCount = this.getStartCount();\n        for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n            var resource = resources_1[_i];\n            var renderDates = this.dateRender[parseInt(resource.toString(), 10)];\n            for (var day = 0, length_1 = renderDates.length; day < length_1; day++) {\n                var startDate = new Date(renderDates[parseInt(day.toString(), 10)].getTime());\n                var endDate = util.resetTime(util.addDays(renderDates[parseInt(day.toString(), 10)], 1));\n                var filterEvents = this.filterEvents(startDate, endDate, this.parent.blockProcessed, this.resources[parseInt(resource.toString(), 10)]);\n                for (var _a = 0, filterEvents_1 = filterEvents; _a < filterEvents_1.length; _a++) {\n                    var event_1 = filterEvents_1[_a];\n                    if (this.parent.resourceBase) {\n                        this.setValues(event_1, resource);\n                    }\n                    this.renderBlockEvents(event_1, day, resource, dateCount);\n                    this.cssClass = null;\n                    this.groupOrder = null;\n                }\n                dateCount += 1;\n            }\n        }\n    };\n    VerticalEvent.prototype.renderBlockEvents = function (eventObj, dayIndex, resource, dayCount) {\n        var spannedData = this.isSpannedEvent(eventObj, dayIndex, resource);\n        var eStart = spannedData[this.fields.startTime];\n        var eEnd = spannedData[this.fields.endTime];\n        var currentDate = util.resetTime(new Date(this.dateRender[parseInt(resource.toString(), 10)][parseInt(dayIndex.toString(), 10)].getTime()));\n        var schedule = util.getStartEndHours(currentDate, this.startHour, this.endHour);\n        if (eStart <= eEnd && this.isValidEvent(eventObj, eStart, eEnd, schedule) && this.isWorkDayAvailable(resource, eStart)) {\n            var blockTop = void 0;\n            var blockHeight = void 0;\n            if (spannedData[this.fields.isAllDay]) {\n                var contentWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS + ' table');\n                blockHeight = formatUnit(contentWrap.offsetHeight);\n                blockTop = formatUnit(0);\n            }\n            else {\n                blockHeight = formatUnit(this.getHeight(eStart, eEnd));\n                blockTop = formatUnit(this.getTopValue(eStart));\n            }\n            var appointmentElement = this.createBlockAppointmentElement(eventObj, resource, this.isResourceEventTemplate);\n            setStyleAttribute(appointmentElement, { 'width': '100%', 'height': blockHeight, 'top': blockTop });\n            var index = this.getDayIndex(dayIndex, resource, dayCount);\n            this.appendEvent(eventObj, appointmentElement, index, '0px');\n        }\n    };\n    VerticalEvent.prototype.renderEvents = function (eventType) {\n        removeClass(this.allDayElement, cls.ALLDAY_ROW_ANIMATE_CLASS);\n        var eventCollection = (eventType === 'allDayEvents') ? this.sortByDateTime(this.allDayEvents) : undefined;\n        var resources = this.getResourceList();\n        var dateCount = this.getStartCount();\n        var isRender;\n        var appHeight = eventType === 'allDayEvents' ? this.parent.getElementHeightFromClass(this.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS), cls.APPOINTMENT_CLASS) : 0;\n        var allDayRowTop = eventType === 'allDayEvents' && this.allDayElement.length > 0 ? this.allDayElement[0].offsetTop : 0;\n        var _loop_1 = function (resource) {\n            isRender = true;\n            if (this_1.parent.crudModule && this_1.parent.crudModule.crudObj.isCrudAction && eventType !== 'allDayEvents'\n                && !this_1.parent.uiStateValues.isGroupAdaptive) {\n                if (this_1.parent.crudModule.crudObj.sourceEvent.filter(function (data) { return data.groupIndex === resource; }).length === 0 &&\n                    this_1.parent.crudModule.crudObj.targetEvent.filter(function (data) { return data.groupIndex === resource; }).length === 0) {\n                    isRender = false;\n                }\n            }\n            this_1.slots = [];\n            var renderDates = this_1.dateRender[parseInt(resource.toString(), 10)];\n            var renderedDate = this_1.getRenderedDates(renderDates) || renderDates;\n            this_1.slots.push(renderDates.map(function (date) { return +date; }));\n            for (var day = 0, length_2 = renderDates.length; day < length_2 &&\n                renderDates[parseInt(day.toString(), 10)] <= renderedDate[renderedDate.length - 1]; day++) {\n                this_1.renderedEvents = [];\n                var startDate = new Date(renderDates[parseInt(day.toString(), 10)].getTime());\n                var endDate = util.resetTime(util.addDays(renderDates[parseInt(day.toString(), 10)], 1));\n                var filterEvents = this_1.filterEvents(startDate, endDate, eventCollection, this_1.resources[parseInt(resource.toString(), 10)]);\n                if (isRender) {\n                    for (var _i = 0, filterEvents_2 = filterEvents; _i < filterEvents_2.length; _i++) {\n                        var event_2 = filterEvents_2[_i];\n                        if (this_1.parent.resourceBase) {\n                            this_1.setValues(event_2, resource);\n                        }\n                        if (eventType === 'allDayEvents') {\n                            this_1.renderAllDayEvents(event_2, day, resource, dateCount, false, allDayRowTop, appHeight);\n                        }\n                        else {\n                            if (this_1.isAllDayAppointment(event_2)) {\n                                this_1.allDayEvents.push(extend({}, event_2, null, true));\n                            }\n                            else {\n                                if (this_1.parent.eventSettings.enableMaxHeight) {\n                                    if (this_1.getOverlapIndex(event_2, day, false, resource) > 0) {\n                                        continue;\n                                    }\n                                }\n                                this_1.renderNormalEvents(event_2, day, resource, dateCount);\n                            }\n                        }\n                        this_1.cssClass = null;\n                        this_1.groupOrder = null;\n                    }\n                }\n                else {\n                    for (var _a = 0, filterEvents_3 = filterEvents; _a < filterEvents_3.length; _a++) {\n                        var event_3 = filterEvents_3[_a];\n                        if (this_1.isAllDayAppointment(event_3)) {\n                            this_1.allDayEvents.push(extend({}, event_3, null, true));\n                        }\n                    }\n                }\n                dateCount += 1;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, resources_2 = resources; _i < resources_2.length; _i++) {\n            var resource = resources_2[_i];\n            _loop_1(resource);\n        }\n    };\n    VerticalEvent.prototype.getStartCount = function () {\n        return this.parent.virtualScrollModule && this.parent.activeViewOptions.allowVirtualScrolling && this.parent.timeScale.enable ?\n            parseInt(this.element.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS).getAttribute('id').split('-').slice(-1)[0], 10) : 0;\n    };\n    VerticalEvent.prototype.getDayIndex = function (dayIndex, resource, dayCount) {\n        var _this = this;\n        if (!this.parent.activeViewOptions.group.byDate) {\n            return dayCount;\n        }\n        if (this.parent.activeViewOptions.group.byDate && !this.parent.activeViewOptions.group.hideNonWorkingDays) {\n            var renderedIndex = this.parent.resourceBase.lastResourceLevel[0].renderDates.indexOf(this.dateRender[parseInt(resource.toString(), 10)][parseInt(dayIndex.toString(), 10)]);\n            return (this.resources.length * renderedIndex) + resource;\n        }\n        var dateIndex = 0;\n        var firstColumn = this.parent.activeView.colLevels[0];\n        var currentDate = this.dateRender[parseInt(resource.toString(), 10)][parseInt(dayIndex.toString(), 10)].getTime();\n        var currentResources = [];\n        for (var i = 0; i < firstColumn.length; i++) {\n            currentResources = this.parent.resourceBase.resourceDateTree[parseInt(i.toString(), 10)];\n            if (currentDate === firstColumn[parseInt(i.toString(), 10)].date.getTime()) {\n                break;\n            }\n            dateIndex = dateIndex + firstColumn[parseInt(i.toString(), 10)].colSpan;\n        }\n        var resIndex = currentResources.findIndex(function (x) { return x.groupOrder.toString() ===\n            _this.resources[parseInt(resource.toString(), 10)].groupOrder.toString(); });\n        if (resIndex < 0) {\n            return dateIndex;\n        }\n        return dateIndex + resIndex;\n    };\n    VerticalEvent.prototype.setValues = function (event, resourceIndex) {\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.cssClass = this.resources[parseInt(resourceIndex.toString(), 10)].cssClass;\n            this.groupOrder = this.resources[parseInt(resourceIndex.toString(), 10)].groupOrder;\n        }\n        else {\n            this.cssClass = this.parent.resourceBase.getCssClass(event);\n        }\n    };\n    VerticalEvent.prototype.getResourceList = function () {\n        // eslint-disable-next-line prefer-spread\n        var resources = Array.apply(null, {\n            length: (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) ?\n                this.resources.length : 1\n        }).map(function (value, index) { return index; });\n        return resources;\n    };\n    // eslint-disable-next-line max-len\n    VerticalEvent.prototype.createAppointmentElement = function (record, isAllDay, data, resource) {\n        var fieldMapping = this.parent.eventFields;\n        var recordSubject = (record[fieldMapping.subject] || this.parent.eventSettings.fields.subject.default\n            || this.parent.localeObj.getConstant('addTitle'));\n        var appointmentWrapper = createElement('div', {\n            className: cls.APPOINTMENT_CLASS,\n            attrs: {\n                'data-id': 'Appointment_' + record[fieldMapping.id],\n                'data-guid': record.Guid,\n                'role': 'button',\n                'tabindex': '0',\n                'aria-disabled': this.parent.eventBase.getReadonlyAttribute(record),\n                'aria-label': this.parent.getAnnouncementString(record)\n            }\n        });\n        if (record[this.fields.isReadonly]) {\n            addClass([appointmentWrapper], 'e-read-only');\n        }\n        var appointmentDetails = createElement('div', { className: cls.APPOINTMENT_DETAILS });\n        appointmentWrapper.appendChild(appointmentDetails);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var resourceIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex : resource;\n            appointmentWrapper.setAttribute('data-group-index', resourceIndex.toString());\n        }\n        var templateElement;\n        var eventData = data;\n        if (!isNullOrUndefined(this.parent.activeViewOptions.eventTemplate)) {\n            var elementId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.eventTemplateName;\n            var templateId = elementId + viewName + 'eventTemplate';\n            var resIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex : resource;\n            var templateName = this.isResourceEventTemplate ? this.parent.getEventTemplateName(resIndex) : 'eventTemplate';\n            templateElement = this.parent.getAppointmentTemplate()(record, this.parent, templateName, templateId, false, undefined, undefined, this.parent.root);\n        }\n        else {\n            var appointmentSubject = createElement('div', { className: cls.SUBJECT_CLASS });\n            this.parent.sanitize(recordSubject, appointmentSubject);\n            if (isAllDay) {\n                if (record[fieldMapping.isAllDay]) {\n                    templateElement = [appointmentSubject];\n                }\n                else {\n                    templateElement = [];\n                    var appointmentStartTime = createElement('div', {\n                        className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                        innerHTML: this.parent.getTimeString(record[fieldMapping.startTime])\n                    });\n                    var appointmentEndTime = createElement('div', {\n                        className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                        innerHTML: this.parent.getTimeString(record[fieldMapping.endTime])\n                    });\n                    addClass([appointmentSubject], 'e-text-center');\n                    if (!eventData.isLeft) {\n                        templateElement.push(appointmentStartTime);\n                    }\n                    templateElement.push(appointmentSubject);\n                    if (!eventData.isRight) {\n                        templateElement.push(appointmentEndTime);\n                    }\n                }\n            }\n            else {\n                var timeStr = this.parent.getTimeString(record[fieldMapping.startTime]) + ' - ' +\n                    this.parent.getTimeString(record[fieldMapping.endTime]);\n                var appointmentTime = createElement('div', {\n                    className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                    innerHTML: timeStr\n                });\n                var appointmentLocation = createElement('div', { className: cls.LOCATION_CLASS });\n                this.parent.sanitize((record[fieldMapping.location] || this.parent.eventSettings.fields.location.default || ''), appointmentLocation);\n                templateElement = [appointmentSubject, appointmentTime, appointmentLocation];\n            }\n        }\n        append(templateElement, appointmentDetails);\n        if (!this.parent.isAdaptive &&\n            (!isNullOrUndefined(record[fieldMapping.recurrenceRule]) || !isNullOrUndefined(record[fieldMapping.recurrenceID]))) {\n            var iconClass = (record[fieldMapping.id] === record[fieldMapping.recurrenceID]) ?\n                cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n            var recurrenceIcon = createElement('div', { className: cls.ICON + ' ' + iconClass });\n            if (isAllDay) {\n                appointmentDetails.appendChild(recurrenceIcon);\n            }\n            else {\n                appointmentWrapper.appendChild(recurrenceIcon);\n            }\n        }\n        this.parent.eventBase.renderSpannedIcon(isAllDay ? appointmentDetails : appointmentWrapper, eventData);\n        if (!isNullOrUndefined(this.cssClass)) {\n            addClass([appointmentWrapper], this.cssClass);\n        }\n        this.applyResourceColor(appointmentWrapper, record, 'backgroundColor', this.groupOrder);\n        this.renderResizeHandler(appointmentWrapper, eventData, record[this.fields.isReadonly]);\n        return appointmentWrapper;\n    };\n    VerticalEvent.prototype.createMoreIndicator = function (allDayRow, count, currentDay) {\n        var index = currentDay + count;\n        var countWrapper = allDayRow[parseInt(index.toString(), 10)];\n        if (countWrapper.childElementCount <= 0) {\n            var innerCountWrap = createElement('div', {\n                className: cls.ROW_COUNT_WRAPPER_CLASS,\n                id: cls.ROW_COUNT_WRAPPER_CLASS + '-' + index.toString()\n            });\n            var moreIndicatorElement = createElement('div', {\n                className: cls.MORE_INDICATOR_CLASS,\n                attrs: { 'tabindex': '0', 'data-index': index.toString(), 'data-count': '1' },\n                innerHTML: '+1&nbsp;' + (this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant('more'))\n            });\n            innerCountWrap.appendChild(moreIndicatorElement);\n            countWrapper.appendChild(innerCountWrap);\n            EventHandler.add(moreIndicatorElement, 'click', this.rowExpandCollapse, this);\n        }\n        else {\n            var countCell = countWrapper.querySelector('.' + cls.MORE_INDICATOR_CLASS);\n            var moreCount = parseInt(countCell.getAttribute('data-count'), 10) + 1;\n            countCell.setAttribute('data-count', moreCount.toString());\n            countCell.innerHTML = '+' + this.parent.globalize.formatNumber(moreCount) + '&nbsp;' + (this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant('more'));\n        }\n    };\n    VerticalEvent.prototype.isSpannedEvent = function (record, day, resource) {\n        var currentDate = util.resetTime(this.dateRender[parseInt(resource.toString(), 10)][parseInt(day.toString(), 10)]);\n        var renderedDate = this.getRenderedDates(this.dateRender[parseInt(resource.toString(), 10)]) || [currentDate];\n        var currentDay = renderedDate.filter(function (date) { return date.getDay() === day; });\n        if (currentDay.length === 0) {\n            currentDate = util.resetTime(renderedDate[0]);\n        }\n        var field = this.parent.eventFields;\n        var schedule = util.getStartEndHours(currentDate, this.startHour, this.endHour);\n        var event = extend({}, record, null, true);\n        event.isSpanned = {\n            isBottom: false, isTop: false,\n            isSameDuration: event[field.startTime].getTime() === event[field.endTime].getTime()\n        };\n        if (record[field.startTime].getTime() < schedule.startHour.getTime()) {\n            event[field.startTime] = schedule.startHour;\n            event.isSpanned.isTop = true;\n        }\n        if (record[field.endTime].getTime() > schedule.endHour.getTime()) {\n            event[field.endTime] = schedule.endHour;\n            event.isSpanned.isBottom = true;\n        }\n        var eventDates = this.updateEventMinimumDuration(schedule, event[field.startTime], event[field.endTime]);\n        event[field.startTime] = eventDates.startDate;\n        event[field.endTime] = eventDates.endDate;\n        return event;\n    };\n    VerticalEvent.prototype.isWorkDayAvailable = function (resource, start) {\n        if (this.parent.activeViewOptions.group.hideNonWorkingDays && this.resources.length > 0) {\n            var workDays = this.resources[parseInt(resource.toString(), 10)].\n                resourceData[this.resources[parseInt(resource.toString(), 10)].resource.workDaysField] ||\n                this.parent.activeViewOptions.workDays;\n            return workDays && workDays.indexOf(start.getDay()) >= 0;\n        }\n        return true;\n    };\n    // eslint-disable-next-line max-len\n    VerticalEvent.prototype.renderAllDayEvents = function (eventObj, dayIndex, resource, dayCount, inline, cellTop, eventHeight) {\n        var _this = this;\n        var currentDates = this.getRenderedDates(this.dateRender[parseInt(resource.toString(), 10)]) ||\n            this.dateRender[parseInt(resource.toString(), 10)];\n        if (this.parent.activeViewOptions.group.byDate) {\n            this.slots[0] = [this.dateRender[parseInt(resource.toString(), 10)][parseInt(dayIndex.toString(), 10)].getTime()];\n            currentDates = [this.dateRender[parseInt(resource.toString(), 10)][parseInt(dayIndex.toString(), 10)]];\n        }\n        var record = this.splitEvent(eventObj, currentDates)[0];\n        var eStart = new Date(record[this.parent.eventFields.startTime].getTime());\n        var eEnd = new Date(record[this.parent.eventFields.endTime].getTime());\n        var appWidth = 0;\n        var topValue = 1;\n        var isDateRange = currentDates[0].getTime() <= eStart.getTime() &&\n            util.addDays(currentDates.slice(-1)[0], 1).getTime() >= eStart.getTime();\n        if (eStart <= eEnd && isDateRange && this.isWorkDayAvailable(resource, eStart)) {\n            var isAlreadyRendered = [];\n            if (this.renderedAllDayEvents[parseInt(resource.toString(), 10)]) {\n                isAlreadyRendered = this.renderedAllDayEvents[parseInt(resource.toString(), 10)].filter(function (event) {\n                    return event.Guid === eventObj.Guid;\n                });\n                if (this.parent.activeViewOptions.group.byDate) {\n                    isAlreadyRendered = isAlreadyRendered.filter(function (event) {\n                        return event[_this.parent.eventFields.startTime] >= currentDates[parseInt(dayIndex.toString(), 10)] &&\n                            event[_this.parent.eventFields.endTime] <=\n                                util.addDays(new Date(+currentDates[parseInt(dayIndex.toString(), 10)]), 1);\n                    });\n                }\n            }\n            if (isAlreadyRendered.length === 0) {\n                var allDayDifference_1 = record.data.count;\n                var allDayIndex_1 = this.getOverlapIndex(record, dayIndex, true, resource);\n                record.Index = allDayIndex_1;\n                this.allDayLevel = (this.allDayLevel < allDayIndex_1) ? allDayIndex_1 : this.allDayLevel;\n                var widthAdjustment = record.data.isRight ? 0 :\n                    this.parent.currentView === 'Day' ? 4 : 7;\n                if (allDayDifference_1 >= 0) {\n                    appWidth = (allDayDifference_1 * 100) - widthAdjustment;\n                }\n                if (isNullOrUndefined(this.renderedAllDayEvents[parseInt(resource.toString(), 10)])) {\n                    this.renderedAllDayEvents[parseInt(resource.toString(), 10)] = [];\n                }\n                this.renderedAllDayEvents[parseInt(resource.toString(), 10)].push(extend({}, record, null, true));\n                var allDayRow_1 = [].slice.call(this.element.querySelector('.' + cls.ALLDAY_ROW_CLASS).children);\n                var wIndex_1 = this.getDayIndex(dayIndex, resource, dayCount);\n                var eventWrapper_1 = this.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS +\n                    ':nth-child(' + (wIndex_1 + 1) + ')');\n                var appointmentElement_1;\n                if (inline) {\n                    appointmentElement_1 = this.parent.inlineModule.createInlineAppointmentElement(eventObj);\n                }\n                else {\n                    appointmentElement_1 = this.createAppointmentElement(eventObj, true, record.data, resource);\n                }\n                addClass([appointmentElement_1], cls.ALLDAY_APPOINTMENT_CLASS);\n                var eventData = extend({}, record.data, null, true);\n                eventObj.data = eventData;\n                var args = { data: eventObj, element: appointmentElement_1, cancel: false };\n                this.parent.trigger(events.eventRendered, args, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        eventWrapper_1.appendChild(appointmentElement_1);\n                        topValue += (allDayIndex_1 === 0 ? cellTop : (cellTop + (allDayIndex_1 * eventHeight))) + 1;\n                        setStyleAttribute(appointmentElement_1, { 'width': appWidth + '%', 'top': formatUnit(topValue) });\n                        if (allDayIndex_1 > 1) {\n                            _this.moreEvents.push(appointmentElement_1);\n                            for (var count = 0, length_3 = allDayDifference_1; count < length_3; count++) {\n                                _this.createMoreIndicator(allDayRow_1, count, wIndex_1);\n                            }\n                        }\n                        _this.allDayElement[0].setAttribute('data-count', _this.allDayLevel.toString());\n                        var allDayRowHeight = ((!_this.parent.uiStateValues.expand && _this.allDayLevel > 2) ?\n                            (3 * eventHeight) : ((_this.allDayLevel + 1) * eventHeight)) + 4;\n                        _this.setAllDayRowHeight(allDayRowHeight);\n                        _this.addOrRemoveClass();\n                        _this.wireAppointmentEvents(appointmentElement_1, eventObj);\n                    }\n                });\n            }\n        }\n    };\n    VerticalEvent.prototype.renderNormalEvents = function (eventObj, dayIndex, resource, dayCount, inline) {\n        var record = this.isSpannedEvent(eventObj, dayIndex, resource);\n        var eStart = record[this.fields.startTime];\n        var eEnd = record[this.fields.endTime];\n        var appWidth = '0%';\n        var appLeft = '0%';\n        var topValue = 0;\n        var currentDate = util.resetTime(new Date(this.dateRender[parseInt(resource.toString(), 10)][parseInt(dayIndex.toString(), 10)].getTime()));\n        var schedule = util.getStartEndHours(currentDate, this.startHour, this.endHour);\n        var isValidEvent = this.isValidEvent(eventObj, eStart, eEnd, schedule);\n        if ((eStart.getTime() < this.parent.minDate.getTime()) || (eEnd.getTime() > this.parent.maxDate.getTime())) {\n            return;\n        }\n        if (eStart <= eEnd && isValidEvent && this.isWorkDayAvailable(resource, eStart)) {\n            var appHeight = record.isSpanned.isSameDuration ? this.cellHeight : this.getHeight(eStart, eEnd);\n            if (eStart.getTime() >= schedule.startHour.getTime()) {\n                topValue = this.getTopValue(eStart);\n            }\n            var appIndex = this.getOverlapIndex(record, dayIndex, false, resource);\n            record.Index = appIndex;\n            this.overlapList.push(record);\n            if (this.overlapList.length > 1) {\n                if (isNullOrUndefined(this.overlapEvents[parseInt(appIndex.toString(), 10)])) {\n                    this.overlapEvents[parseInt(appIndex.toString(), 10)] = [];\n                }\n                this.overlapEvents[parseInt(appIndex.toString(), 10)].push(record);\n            }\n            else {\n                this.overlapEvents = [];\n                this.overlapEvents.push([record]);\n            }\n            appWidth = this.getEventWidth();\n            var argsData = {\n                index: appIndex, left: appLeft, width: appWidth,\n                day: dayCount, dayIndex: dayIndex, record: record, resource: resource\n            };\n            var tempData = this.adjustOverlapElements(argsData);\n            appWidth = (tempData.appWidth);\n            if (isNullOrUndefined(this.renderedEvents[parseInt(resource.toString(), 10)])) {\n                this.renderedEvents[parseInt(resource.toString(), 10)] = [];\n            }\n            this.renderedEvents[parseInt(resource.toString(), 10)].push(extend({}, record, null, true));\n            var appointmentElement = void 0;\n            if (inline) {\n                appointmentElement = this.parent.inlineModule.createInlineAppointmentElement(eventObj);\n            }\n            else {\n                appointmentElement = this.createAppointmentElement(eventObj, false, record.isSpanned, resource);\n            }\n            setStyleAttribute(appointmentElement, {\n                'width': (this.parent.eventSettings.enableMaxHeight ? '100%' : tempData.appWidth),\n                'height': appHeight + 'px', 'top': topValue + 'px'\n            });\n            var iconHeight = appointmentElement.querySelectorAll('.' + cls.EVENT_INDICATOR_CLASS).length * 15;\n            var maxHeight = appHeight - 40 - iconHeight;\n            var subjectElement = appointmentElement.querySelector('.' + cls.SUBJECT_CLASS);\n            if (!this.parent.isAdaptive && subjectElement) {\n                subjectElement.style.maxHeight = formatUnit(maxHeight);\n            }\n            var index = this.getDayIndex(dayIndex, resource, dayCount);\n            var eventData = {};\n            eventData[this.fields.startTime] = eventObj[this.fields.startTime];\n            eventData[this.fields.endTime] = eventObj[this.fields.endTime];\n            record.data = eventData;\n            this.appendEvent(record, appointmentElement, index, tempData.appLeft);\n            this.wireAppointmentEvents(appointmentElement, eventObj);\n        }\n    };\n    VerticalEvent.prototype.getEventWidth = function () {\n        var width = this.parent.currentView === 'Day' ? 97 : 94;\n        var tempWidth = ((width - this.overlapEvents.length) / this.overlapEvents.length);\n        return (tempWidth < 0 ? 0 : tempWidth) + '%';\n    };\n    VerticalEvent.prototype.getEventLeft = function (appWidth, index) {\n        var tempLeft = (parseFloat(appWidth) + 1) * index;\n        return (tempLeft > 99 ? 99 : tempLeft) + '%';\n    };\n    VerticalEvent.prototype.getStartEndHours = function (startEndTime) {\n        if (!isNullOrUndefined(startEndTime) && startEndTime !== '') {\n            var startEndDate = new Date(2000, 0, 0, 0);\n            var timeString = startEndTime.split(':');\n            if (timeString.length === 2) {\n                startEndDate.setHours(parseInt(timeString[0], 10), parseInt(timeString[1], 10), 0);\n            }\n            return startEndDate;\n        }\n        return null;\n    };\n    VerticalEvent.prototype.getTopValue = function (date) {\n        var startHour = this.getStartEndHours(this.parent.activeViewOptions.startHour);\n        var diffInMinutes = ((date.getHours() - startHour.getHours()) * 60) + (date.getMinutes() - startHour.getMinutes());\n        return (this.parent.activeViewOptions.timeScale.enable) ? ((diffInMinutes * this.cellHeight * this.slotCount) / this.interval) : 0;\n    };\n    VerticalEvent.prototype.getOverlapIndex = function (record, day, isAllDay, resource) {\n        var _this = this;\n        var fieldMapping = this.parent.eventFields;\n        var eventsList = [];\n        var appIndex = -1;\n        this.overlapEvents = [];\n        if (isAllDay) {\n            if (!isNullOrUndefined(this.renderedAllDayEvents[parseInt(resource.toString(), 10)])) {\n                var date_1 = util.resetTime(new Date(this.dateRender[parseInt(resource.toString(), 10)][parseInt(day.toString(), 10)].getTime()));\n                eventsList = this.renderedAllDayEvents[parseInt(resource.toString(), 10)].filter(function (app) {\n                    return util.resetTime(app[fieldMapping.startTime]).getTime() <= date_1.getTime() &&\n                        util.resetTime(app[fieldMapping.endTime]).getTime() >= date_1.getTime();\n                });\n                if (this.parent.activeViewOptions.group.resources.length > 0) {\n                    eventsList = this.filterEventsByResource(this.resources[parseInt(resource.toString(), 10)], eventsList);\n                }\n            }\n        }\n        else {\n            var appointmentList_1 = !isNullOrUndefined(this.renderedEvents[parseInt(resource.toString(), 10)]) ?\n                this.renderedEvents[parseInt(resource.toString(), 10)] : [];\n            var appointment_1 = [];\n            var recordStart_1 = record[fieldMapping.startTime];\n            var recordEnd_1 = record[fieldMapping.endTime];\n            this.overlapList = appointmentList_1.filter(function (data) {\n                return (data[fieldMapping.endTime] > recordStart_1 && data[fieldMapping.startTime] <= recordEnd_1) ||\n                    (data[fieldMapping.startTime] >= recordEnd_1 && data[fieldMapping.endTime] <= recordStart_1) ||\n                    (data[fieldMapping.endTime].getTime() === data[fieldMapping.startTime].getTime() &&\n                        data[fieldMapping.startTime].getTime() === recordStart_1.getTime() && data[fieldMapping.endTime] < recordEnd_1);\n            });\n            if (this.parent.activeViewOptions.group.resources.length > 0) {\n                this.overlapList = this.filterEventsByResource(this.resources[parseInt(resource.toString(), 10)], this.overlapList);\n            }\n            var queue_1 = [];\n            this.overlapList.forEach(function (obj) {\n                queue_1.push(obj);\n                var filterList = [];\n                var processedIds = new Set();\n                var _loop_2 = function () {\n                    var currentObj = queue_1.shift();\n                    var overlaps = appointmentList_1.filter(function (data) {\n                        return data[fieldMapping.endTime] > currentObj[fieldMapping.startTime] &&\n                            data[fieldMapping.startTime] <= currentObj[fieldMapping.endTime] &&\n                            !processedIds.has(data[fieldMapping.id]);\n                    });\n                    overlaps.forEach(function (overlap) {\n                        filterList.push(overlap);\n                        processedIds.add(overlap[fieldMapping.id]);\n                        queue_1.push(overlap);\n                    });\n                    if (processedIds.size < appointmentList_1.length - 1) {\n                        return \"break\";\n                    }\n                };\n                while (queue_1.length > 0) {\n                    var state_1 = _loop_2();\n                    if (state_1 === \"break\")\n                        break;\n                }\n                if (_this.parent.activeViewOptions.group.resources.length > 0) {\n                    filterList = _this.filterEventsByResource(_this.resources[parseInt(resource.toString(), 10)], filterList);\n                }\n                var collection = filterList.filter(function (val) {\n                    return _this.overlapList.indexOf(val) === -1;\n                });\n                if (collection.length > 0) {\n                    appointment_1 = appointment_1.concat(collection);\n                }\n            });\n            for (var i = 0; i < appointment_1.length - 1; i++) {\n                for (var j = i + 1; j < appointment_1.length; j++) {\n                    if (appointment_1[parseInt(i.toString(), 10)][fieldMapping.id] ===\n                        appointment_1[parseInt(j.toString(), 10)][fieldMapping.id]) {\n                        appointment_1.splice(j, 1);\n                        j--;\n                    }\n                }\n            }\n            this.overlapList = this.overlapList.concat(appointment_1);\n            eventsList = this.overlapList;\n            for (var _i = 0, eventsList_1 = eventsList; _i < eventsList_1.length; _i++) {\n                var event_4 = eventsList_1[_i];\n                var record_1 = event_4;\n                var index = record_1.Index;\n                if (isNullOrUndefined(this.overlapEvents[parseInt(index.toString(), 10)])) {\n                    this.overlapEvents[parseInt(index.toString(), 10)] = [event_4];\n                }\n                else {\n                    this.overlapEvents[parseInt(index.toString(), 10)].push(event_4);\n                }\n            }\n        }\n        if (!isAllDay) {\n            eventsList = eventsList.filter(function (obj) { return (obj[fieldMapping.startTime] === record[fieldMapping.startTime] &&\n                obj[fieldMapping.endTime] > record[fieldMapping.endTime] || obj[fieldMapping.endTime] > record[fieldMapping.startTime] &&\n                obj[fieldMapping.startTime] < record[fieldMapping.endTime] || obj[fieldMapping.endTime] === record[fieldMapping.startTime]\n                && obj[fieldMapping.startTime] === record[fieldMapping.endTime]) ||\n                ((obj[fieldMapping.startTime].getTime() === record[fieldMapping.startTime].getTime() &&\n                    obj[fieldMapping.endTime].getTime() === record[fieldMapping.endTime].getTime())\n                    || (obj[fieldMapping.startTime].getTime() === record[fieldMapping.startTime].getTime() &&\n                        obj[fieldMapping.endTime].getTime() < record[fieldMapping.endTime].getTime() ||\n                        obj[fieldMapping.endTime].getTime() > record[fieldMapping.endTime].getTime())); });\n        }\n        if (eventsList.length > 0) {\n            var appLevel = eventsList.map(function (obj) { return obj.Index; });\n            appIndex = (appLevel.length > 0) ? this.getSmallestMissingNumber(appLevel) : 0;\n        }\n        return (appIndex === -1) ? 0 : appIndex;\n    };\n    VerticalEvent.prototype.adjustOverlapElements = function (args) {\n        var data = { appWidth: args.width, appLeft: args.left };\n        for (var i = 0, length1 = this.overlapEvents.length; i < length1; i++) {\n            if (!isNullOrUndefined(this.overlapEvents[parseInt(i.toString(), 10)])) {\n                for (var j = 0, length2 = this.overlapEvents[parseInt(i.toString(), 10)].length; j < length2; j++) {\n                    var dayCount = this.getDayIndex(args.dayIndex, args.resource, args.day);\n                    var element = this.element.querySelector('#e-appointment-wrapper-' + dayCount);\n                    if (element && element.childElementCount > 0) {\n                        var eleGuid = this.overlapEvents[parseInt(i.toString(), 10)][parseInt(j.toString(), 10)].Guid;\n                        if (element.querySelectorAll('div[data-guid=\"' + eleGuid + '\"]').length > 0 && eleGuid !== args.record.Guid) {\n                            var apps = element.querySelector('div[data-guid=\"' + eleGuid + '\"]');\n                            if (parseFloat(args.width) <= parseFloat(apps.style.width)) {\n                                if (this.parent.enableRtl) {\n                                    apps.style.right = this.getEventLeft(args.width, i);\n                                }\n                                else {\n                                    apps.style.left = this.getEventLeft(args.width, i);\n                                }\n                                apps.style.width = ((parseFloat(args.width))) + '%';\n                                data.appWidth = apps.style.width;\n                            }\n                            else {\n                                data.appWidth = apps.style.width;\n                            }\n                        }\n                        else {\n                            var appWidth = args.width;\n                            if (isNullOrUndefined(this.overlapEvents[i - 1])) {\n                                appWidth = this.getEventWidth();\n                            }\n                            data.appWidth = appWidth;\n                            data.appLeft = this.getEventLeft(appWidth, args.index);\n                        }\n                    }\n                }\n            }\n        }\n        return data;\n    };\n    VerticalEvent.prototype.setAllDayRowHeight = function (height) {\n        var dateHeader = this.parent.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        if (this.parent.height === 'auto' || !this.parent.enableAllDayScroll) {\n            addClass([dateHeader], cls.ALLDAY_APPOINTMENT_AUTO);\n        }\n        var allDayRow = this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS);\n        allDayRow.style.height = '';\n        if (this.parent.uiStateValues.expand && this.parent.height !== 'auto' && this.parent.enableAllDayScroll) {\n            allDayRow.style.height = (height / 12) + 'em';\n            this.parent.eventBase.allDayExpandScroll(dateHeader);\n        }\n        else {\n            for (var _i = 0, _a = this.allDayElement; _i < _a.length; _i++) {\n                var element = _a[_i];\n                element.style.height = (height / 12) + 'em';\n            }\n            removeClass([dateHeader], cls.ALLDAY_APPOINTMENT_SCROLL);\n        }\n    };\n    VerticalEvent.prototype.addOrRemoveClass = function () {\n        var _this = this;\n        this.moreEvents.filter(function (element) {\n            if (!_this.parent.uiStateValues.expand && _this.allDayLevel > 2) {\n                addClass([element], cls.EVENT_COUNT_CLASS);\n                element.setAttribute('tabindex', '-1');\n            }\n            else {\n                removeClass([element], cls.EVENT_COUNT_CLASS);\n                element.setAttribute('tabindex', '0');\n            }\n        });\n        var moreEventCount = this.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_SECTION_CLASS);\n        if (this.parent.uiStateValues.expand) {\n            removeClass([moreEventCount], cls.APPOINTMENT_ROW_EXPAND_CLASS);\n            addClass([moreEventCount], cls.APPOINTMENT_ROW_COLLAPSE_CLASS);\n        }\n        else {\n            removeClass([moreEventCount], cls.APPOINTMENT_ROW_COLLAPSE_CLASS);\n            addClass([moreEventCount], cls.APPOINTMENT_ROW_EXPAND_CLASS);\n        }\n        if (this.allDayLevel > 2) {\n            removeClass([moreEventCount], cls.DISABLE_CLASS);\n        }\n        else {\n            addClass([moreEventCount], cls.DISABLE_CLASS);\n        }\n        var countCell = [].slice.call(this.element.querySelectorAll('.' + cls.ROW_COUNT_WRAPPER_CLASS));\n        countCell.forEach(function (element) {\n            if (!_this.parent.uiStateValues.expand && _this.allDayLevel > 2) {\n                removeClass([element], cls.DISABLE_CLASS);\n            }\n            else {\n                addClass([element], cls.DISABLE_CLASS);\n            }\n        });\n    };\n    VerticalEvent.prototype.getEventHeight = function () {\n        var eventElement = createElement('div', { className: cls.APPOINTMENT_CLASS, styles: 'visibility:hidden' });\n        var eventWrapper = this.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS + ':first-child');\n        eventWrapper.appendChild(eventElement);\n        var height = eventElement.offsetHeight;\n        remove(eventElement);\n        return height;\n    };\n    VerticalEvent.prototype.rowExpandCollapse = function () {\n        var target = this.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_SECTION_CLASS);\n        this.parent.uiStateValues.expand = target.classList.contains(cls.APPOINTMENT_ROW_EXPAND_CLASS);\n        var rowHeight;\n        if (this.parent.uiStateValues.expand) {\n            target.setAttribute('title', this.parent.localeObj.getConstant('collapseAllDaySection'));\n            target.setAttribute('aria-label', this.parent.localeObj.getConstant('collapseAllDaySection'));\n            rowHeight = ((this.allDayLevel + 1) * this.getEventHeight()) + 4;\n        }\n        else {\n            target.setAttribute('title', this.parent.localeObj.getConstant('expandAllDaySection'));\n            target.setAttribute('aria-label', this.parent.localeObj.getConstant('expandAllDaySection'));\n            rowHeight = (3 * this.getEventHeight()) + 4;\n            this.parent.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS).scrollTop = 0;\n        }\n        this.setAllDayRowHeight(rowHeight);\n        this.animation.animate(this.allDayElement[0]);\n        this.addOrRemoveClass();\n        this.animation.animate(target);\n    };\n    VerticalEvent.prototype.animationUiUpdate = function () {\n        this.parent.notify(events.contentReady, {});\n    };\n    VerticalEvent.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        this.allDayElement = null;\n        this.renderedAllDayEvents = null;\n        this.renderedEvents = null;\n        this.slotCount = null;\n        this.interval = null;\n        this.startHour = null;\n        this.endHour = null;\n        this.element = null;\n        this.fields = null;\n        this.animation = null;\n        _super.prototype.destroy.call(this);\n    };\n    return VerticalEvent;\n}(EventBase));\nexport { VerticalEvent };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, prepend, createElement, extend, EventHandler, closest, addClass } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, setStyleAttribute, remove } from '@syncfusion/ej2-base';\nimport { EventBase } from './event-base';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nvar EVENT_GAP = 0;\n/**\n * Month view events render\n */\nvar MonthEvent = /** @class */ (function (_super) {\n    __extends(MonthEvent, _super);\n    function MonthEvent(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.renderedEvents = [];\n        _this.monthHeaderHeight = 0;\n        _this.moreIndicatorHeight = 19;\n        _this.renderType = 'day';\n        _this.element = _this.parent.activeView.getPanel();\n        _this.fields = _this.parent.eventFields;\n        _this.maxHeight = _this.parent.eventSettings.enableMaxHeight && !_this.parent.eventSettings.enableIndicator\n            && !_this.parent.rowAutoHeight;\n        _this.withIndicator = _this.parent.eventSettings.enableMaxHeight && _this.parent.eventSettings.enableIndicator\n            && !_this.parent.rowAutoHeight;\n        _this.maxOrIndicator = (_this.maxHeight || _this.withIndicator);\n        _this.moreIndicatorHeight =\n            (_this.parent.rowAutoHeight && _this.parent.eventSettings.ignoreWhitespace) ? 0 : _this.moreIndicatorHeight;\n        _this.addEventListener();\n        return _this;\n    }\n    MonthEvent.prototype.removeEventWrapper = function (appElement) {\n        if (appElement.length > 0) {\n            appElement = (this.parent.currentView === 'Month' || (!this.parent.activeView.isTimelineView() &&\n                !this.parent.activeViewOptions.timeScale.enable)) ? appElement : [appElement[0]];\n            for (var _i = 0, appElement_1 = appElement; _i < appElement_1.length; _i++) {\n                var wrap = appElement_1[_i];\n                if (wrap.parentElement && wrap.parentElement.parentNode) {\n                    remove(wrap.parentElement);\n                }\n            }\n        }\n    };\n    MonthEvent.prototype.renderAppointments = function () {\n        if (this.parent.dragAndDropModule) {\n            this.parent.dragAndDropModule.setDragArea();\n        }\n        this.isResourceEventTemplate = this.parent.isSpecificResourceEvents();\n        var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (this.parent.rowAutoHeight) {\n            this.parent.uiStateValues.top = conWrap.scrollTop;\n            this.parent.uiStateValues.left = conWrap.scrollLeft;\n        }\n        var appointmentWrapper = [].slice.call(this.element.querySelectorAll('.' + cls.APPOINTMENT_WRAPPER_CLASS));\n        if (this.parent.crudModule && this.parent.crudModule.crudObj.isCrudAction) {\n            for (var i = 0, len = this.parent.crudModule.crudObj.sourceEvent.length; i < len; i++) {\n                var appElement = [].slice.call(this.element.querySelectorAll('.e-appointment-wrapper ' + '[data-group-index=\"' +\n                    this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex + '\"]'));\n                this.removeEventWrapper(appElement);\n                if (this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)] &&\n                    this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex !==\n                        this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex) {\n                    var ele = [].slice.call(this.element.querySelectorAll('.e-appointment-wrapper ' + '[data-group-index=\"' +\n                        this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex + '\"]'));\n                    this.removeEventWrapper(ele);\n                }\n            }\n        }\n        else {\n            for (var _i = 0, appointmentWrapper_1 = appointmentWrapper; _i < appointmentWrapper_1.length; _i++) {\n                var wrap = appointmentWrapper_1[_i];\n                remove(wrap);\n            }\n        }\n        this.removeHeightProperty(cls.CONTENT_TABLE_CLASS);\n        if (!this.element.querySelector('.' + cls.WORK_CELLS_CLASS)) {\n            return;\n        }\n        if (this.parent.currentView === 'Month') {\n            var wrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            var cellTd = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n            cellTd.appendChild(wrapper);\n            this.monthHeaderHeight = wrapper.offsetTop - cellTd.offsetTop;\n            cellTd.removeChild(wrapper);\n        }\n        this.eventHeight = this.parent.getElementHeightFromClass(this.element, cls.APPOINTMENT_CLASS);\n        var selector = '.' + cls.CONTENT_TABLE_CLASS + ' tbody tr';\n        this.addCellHeight(selector, this.eventHeight, (this.parent.currentView === 'Month' ? EVENT_GAP : 2), this.monthHeaderHeight, this.moreIndicatorHeight);\n        var scrollTop = conWrap.scrollTop;\n        if (this.parent.rowAutoHeight && this.parent.virtualScrollModule && !this.parent.virtualScrollModule.isHorizontalScroll\n            && !isNullOrUndefined(this.parent.currentAction)) {\n            conWrap.scrollTop = conWrap.scrollTop - 1;\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.renderResourceEvents();\n            if (this.parent.virtualScrollModule) {\n                this.parent.virtualScrollModule.updateFocusedWorkCell();\n            }\n        }\n        else {\n            this.renderEventsHandler(this.parent.activeView.renderDates, this.parent.activeViewOptions.workDays);\n        }\n        if (this.parent.rowAutoHeight) {\n            this.updateBlockElements();\n            var data = {\n                cssProperties: this.parent.getCssProperties(),\n                module: this.parent.getModuleName(),\n                isPreventScrollUpdate: true,\n                scrollPosition: { left: this.parent.uiStateValues.left, top: this.parent.uiStateValues.top }\n            };\n            if (this.parent.virtualScrollModule && !this.parent.virtualScrollModule.isHorizontalScroll) {\n                if (this.parent.currentAction) {\n                    conWrap.scrollTop = scrollTop;\n                    this.parent.currentAction = null;\n                }\n                else {\n                    this.parent.virtualScrollModule.updateVirtualScrollHeight();\n                }\n            }\n            if (!this.parent.enablePersistence) {\n                this.parent.notify(events.contentReady, {});\n            }\n            this.parent.notify(events.scrollUiUpdate, data);\n            if (this.parent.currentView === 'Month' && this.parent.showWeekNumber) {\n                var totalCells_1 = [].slice.call(this.parent.element.querySelectorAll('.e-content-wrap table tr td:first-child'));\n                var weekNumberCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WEEK_NUMBER_CLASS));\n                weekNumberCells.forEach(function (cell, i) {\n                    var height = totalCells_1[parseInt(i.toString(), 10)].offsetHeight;\n                    setStyleAttribute(cell, { 'height': height + 'px' });\n                });\n                this.parent.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS).scrollTop =\n                    this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS).scrollTop;\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    MonthEvent.prototype.renderEventsHandler = function (dateRender, workDays, resData) {\n        this.renderedEvents = [];\n        var eventsList;\n        var blockList;\n        var resIndex = 0;\n        if (resData) {\n            resIndex = resData.groupIndex;\n            this.cssClass = resData.cssClass;\n            this.groupOrder = resData.groupOrder;\n            eventsList = this.parent.eventBase.filterEventsByResource(resData, this.parent.eventsProcessed);\n            blockList = this.parent.eventBase.filterEventsByResource(resData, this.parent.blockProcessed);\n            this.workCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS + '[data-group-index=\"' + resIndex + '\"]'));\n        }\n        else {\n            eventsList = this.parent.eventsProcessed;\n            blockList = this.parent.blockProcessed;\n            this.workCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n        }\n        this.sortByDateTime(eventsList);\n        this.sortByDateTime(blockList);\n        if (this.parent.currentView === 'Month' && this.parent.rowAutoHeight && this.parent.activeViewOptions.group.resources.length === 0) {\n            var totalCells = [].slice.call(this.parent.element.querySelectorAll('.e-content-wrap table tr td:first-child'));\n            var height_1 = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).clientHeight / totalCells.length;\n            totalCells.forEach(function (cell) {\n                setStyleAttribute(cell, { 'height': height_1 + 'px' });\n            });\n        }\n        var cellDetail = this.workCells[this.parent.activeView.isTimelineView() ? 0 : this.workCells.length - 1];\n        this.cellWidth = this.parent.getElementWidth(cellDetail);\n        this.cellHeight = this.parent.getElementHeight(cellDetail);\n        this.dateRender = dateRender;\n        var filteredDates = this.getRenderedDates(dateRender);\n        this.getSlotDates(workDays || this.parent.activeViewOptions.workDays);\n        this.processBlockEvents(blockList, resIndex, resData);\n        var events = [];\n        for (var _i = 0, eventsList_1 = eventsList; _i < eventsList_1.length; _i++) {\n            var event_1 = eventsList_1[_i];\n            if (this.parent.resourceBase && !resData) {\n                this.cssClass = this.parent.resourceBase.getCssClass(event_1);\n            }\n            events = events.concat(this.splitEvent(event_1, filteredDates || this.dateRender));\n        }\n        for (var level = 0; level < this.slots.length; level++) {\n            this.renderedEvents = [];\n            var slot = this.slots[parseInt(level.toString(), 10)];\n            var endDate = util.addDays(new Date(slot[slot.length - 1]), 1);\n            var spannedEvents = this.filterEvents(new Date(slot[0]), endDate, events);\n            for (var _a = 0, spannedEvents_1 = spannedEvents; _a < spannedEvents_1.length; _a++) {\n                var event_2 = spannedEvents_1[_a];\n                if (this.maxHeight) {\n                    var sDate = this.parent.currentView === 'Month' ? event_2[this.fields.startTime] :\n                        this.getStartTime(event_2, event_2.data);\n                    if (this.getIndex(sDate) > 0) {\n                        continue;\n                    }\n                }\n                this.updateIndicatorIcon(event_2);\n                this.renderEvents(event_2, resIndex, eventsList);\n            }\n        }\n        this.cssClass = null;\n        this.groupOrder = null;\n    };\n    MonthEvent.prototype.processBlockEvents = function (blockEvents, resIndex, resData) {\n        for (var _i = 0, blockEvents_1 = blockEvents; _i < blockEvents_1.length; _i++) {\n            var event_3 = blockEvents_1[_i];\n            if (this.parent.resourceBase && !resData) {\n                this.cssClass = this.parent.resourceBase.getCssClass(event_3);\n            }\n            var blockSpannedList = [];\n            if (this.renderType === 'day' && !event_3[this.fields.isAllDay]) {\n                var temp = extend({}, event_3, null, true);\n                var isSameDate = this.isSameDate(temp[this.fields.startTime], temp[this.fields.endTime]);\n                temp.isBlockIcon = isSameDate;\n                if (!isSameDate && util.getDateInMs(temp[this.fields.startTime]) > 0) {\n                    var e = extend({}, event_3, null, true);\n                    e[this.fields.endTime] = util.addDays(util.resetTime(new Date(event_3[this.fields.startTime] + '')), 1);\n                    e.isBlockIcon = true;\n                    temp[this.fields.startTime] = e[this.fields.endTime];\n                    blockSpannedList.push(e);\n                }\n                isSameDate = this.isSameDate(temp[this.fields.startTime], temp[this.fields.endTime]);\n                if (!isSameDate && util.getDateInMs(temp[this.fields.endTime]) > 0) {\n                    var e = extend({}, event_3, null, true);\n                    e[this.fields.startTime] = util.resetTime(new Date(event_3[this.fields.endTime] + ''));\n                    e.isBlockIcon = true;\n                    blockSpannedList.push(e);\n                    temp[this.fields.endTime] = e[this.fields.startTime];\n                }\n                blockSpannedList.push(temp);\n            }\n            else {\n                blockSpannedList.push(event_3);\n            }\n            for (var _a = 0, blockSpannedList_1 = blockSpannedList; _a < blockSpannedList_1.length; _a++) {\n                var blockEvent = blockSpannedList_1[_a];\n                var spannedEvents = this.splitEvent(blockEvent, this.dateRender);\n                for (var _b = 0, spannedEvents_2 = spannedEvents; _b < spannedEvents_2.length; _b++) {\n                    var event_4 = spannedEvents_2[_b];\n                    this.renderBlockEvents(event_4, resIndex, !!blockEvent.isBlockIcon);\n                }\n            }\n        }\n    };\n    MonthEvent.prototype.isSameDate = function (start, end) {\n        return new Date(+start).setHours(0, 0, 0, 0) === new Date(+end).setHours(0, 0, 0, 0);\n    };\n    MonthEvent.prototype.renderBlockEvents = function (event, resIndex, isIcon) {\n        var eventData = event.data;\n        var startTime = this.getStartTime(event, eventData);\n        var endTime = this.getEndTime(event, eventData);\n        var day = this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(startTime.getTime())));\n        if (day < 0 || startTime > endTime) {\n            return;\n        }\n        var cellTd = this.getCellTd(day);\n        var position = this.getPosition(startTime, endTime, event[this.fields.isAllDay], day);\n        if (!isIcon) {\n            var diffInDays = eventData.count;\n            var appWidth = this.getEventWidth(startTime, endTime, event[this.fields.isAllDay], diffInDays);\n            appWidth = (appWidth <= 0) ? this.cellWidth : appWidth;\n            var appLeft = (this.parent.enableRtl) ? 0 : position;\n            var appRight = (this.parent.enableRtl) ? position : 0;\n            var appHeight = this.cellHeight - this.monthHeaderHeight;\n            var appTop = this.getRowTop(resIndex);\n            var blockElement = this.createBlockAppointmentElement(event, resIndex, this.isResourceEventTemplate);\n            setStyleAttribute(blockElement, {\n                'width': appWidth + 'px', 'height': appHeight + 'px', 'left': appLeft + 'px',\n                'right': appRight + 'px', 'top': appTop + 'px'\n            });\n            this.renderEventElement(event, blockElement, cellTd);\n        }\n        else {\n            this.renderBlockIndicator(cellTd, position, resIndex);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.renderBlockIndicator = function (cellTd, position, resIndex) {\n        var blockIndicator = createElement('div', { className: 'e-icons ' + cls.BLOCK_INDICATOR_CLASS });\n        if (isNullOrUndefined(cellTd.querySelector('.' + cls.BLOCK_INDICATOR_CLASS))) {\n            cellTd.appendChild(blockIndicator);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.getStartTime = function (event, eventData) {\n        return event[this.fields.startTime];\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.getEndTime = function (event, eventData) {\n        return event[this.fields.endTime];\n    };\n    MonthEvent.prototype.getCellTd = function (day) {\n        return this.workCells[parseInt(day.toString(), 10)];\n    };\n    MonthEvent.prototype.getEventWidth = function (startDate, endDate, isAllDay, count) {\n        return count * this.cellWidth - 1;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.getPosition = function (startTime, endTime, isAllDay, day) {\n        return 0;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.getRowTop = function (resIndex) {\n        return 0;\n    };\n    MonthEvent.prototype.updateIndicatorIcon = function (event) {\n        if (this.parent.currentView.indexOf('Timeline') === -1 || this.parent.currentView === 'TimelineMonth'\n            || event[this.fields.isAllDay]) {\n            return;\n        }\n        var cloneData = event.data;\n        var start = this.parent.activeView.getStartHour();\n        var end = this.parent.activeView.getEndHour();\n        var startHour = util.getStartEndHours(event[this.fields.startTime], start, end);\n        var endHour = util.getStartEndHours(event[this.fields.endTime], start, end);\n        var actualStartTime = cloneData[this.fields.startTime];\n        var actualEndTime = cloneData[this.fields.endTime];\n        cloneData.isLeft = cloneData.isLeft || actualStartTime.getTime() < startHour.startHour.getTime();\n        cloneData.isRight = cloneData.isRight || actualEndTime.getTime() > endHour.endHour.getTime();\n        if (util.resetTime(actualStartTime).getTime() !== util.resetTime(actualEndTime).getTime()) {\n            var actualStartHour = startHour.startHour;\n            var actualEndHour = endHour.endHour;\n            var startTime = new Date(util.resetTime(actualStartTime));\n            startTime.setHours(actualEndHour.getHours(), actualEndHour.getMinutes(), actualEndHour.getSeconds());\n            cloneData.isLeft = cloneData.isLeft || actualStartTime.getTime() >= (actualStartHour.getDate() === startHour.endHour.getDate() ?\n                startTime.getTime() : util.addDays(startTime, 1).getTime());\n            if (actualEndTime.getTime() !== util.resetTime(actualEndTime).getTime()) {\n                var endTime = new Date(util.resetTime(actualEndTime));\n                cloneData.isRight = cloneData.isRight || actualEndTime.getTime() <=\n                    endTime.setHours(actualStartHour.getHours(), actualStartHour.getMinutes(), actualStartHour.getSeconds());\n            }\n        }\n    };\n    MonthEvent.prototype.renderResourceEvents = function () {\n        var resources = this.parent.uiStateValues.isGroupAdaptive ?\n            [this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]] :\n            this.parent.resourceBase.renderedResources;\n        if (this.parent.crudModule && this.parent.crudModule.crudObj.isCrudAction) {\n            for (var i = 0, len = this.parent.crudModule.crudObj.sourceEvent.length; i < len; i++) {\n                var sourceRes = this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)];\n                if (!this.parent.uiStateValues.isGroupAdaptive ||\n                    (this.parent.uiStateValues.groupIndex === sourceRes.groupIndex && this.parent.uiStateValues.isGroupAdaptive)) {\n                    this.renderEventsHandler(sourceRes.renderDates, sourceRes.workDays, sourceRes);\n                }\n                if (this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex !==\n                    this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex) {\n                    var target = this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)];\n                    this.renderEventsHandler(target.renderDates, target.workDays, target);\n                }\n            }\n            this.parent.crudModule.crudObj.isCrudAction = false;\n        }\n        else {\n            for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n                var slotData = resources_1[_i];\n                this.renderEventsHandler(slotData.renderDates, slotData.workDays, slotData);\n            }\n        }\n    };\n    MonthEvent.prototype.getSlotDates = function (workDays) {\n        this.slots = [];\n        var dates = this.dateRender.map(function (date) { return +date; });\n        var noOfDays = !this.parent.activeViewOptions.showWeekend || (this.parent.activeViewOptions.group.byDate &&\n            this.parent.activeViewOptions.group.hideNonWorkingDays) ? workDays.length : util.WEEK_LENGTH;\n        while (dates.length > 0) {\n            this.slots.push(dates.splice(0, noOfDays));\n        }\n    };\n    MonthEvent.prototype.createAppointmentElement = function (record, resIndex, isCloneElement) {\n        if (isCloneElement === void 0) { isCloneElement = false; }\n        var eventSubject = (record[this.fields.subject] || this.parent.eventSettings.fields.subject.default ||\n            this.parent.localeObj.getConstant('addTitle'));\n        var newRecord = extend({}, record, record.data, true);\n        var attrs = {\n            'data-id': 'Appointment_' + record[this.fields.id],\n            'role': 'button', 'tabindex': '0',\n            'aria-disabled': this.parent.eventBase.getReadonlyAttribute(record),\n            'aria-label': this.parent.getAnnouncementString(newRecord, eventSubject)\n        };\n        if (!isCloneElement) {\n            attrs['data-guid'] = record.Guid;\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            attrs['data-group-index'] = resIndex.toString();\n        }\n        var appointmentWrapper = createElement('div', { className: cls.APPOINTMENT_CLASS, attrs: attrs });\n        if (!isNullOrUndefined(this.cssClass)) {\n            addClass([appointmentWrapper], this.cssClass);\n        }\n        if (record[this.fields.isReadonly]) {\n            addClass([appointmentWrapper], 'e-read-only');\n        }\n        var appointmentDetails = createElement('div', { className: cls.APPOINTMENT_DETAILS });\n        appointmentWrapper.appendChild(appointmentDetails);\n        var templateElement;\n        var eventData = record.data;\n        var eventObj = this.getEventData(record);\n        if (!isNullOrUndefined(this.parent.activeViewOptions.eventTemplate)) {\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.eventTemplateName;\n            var templateId = scheduleId + viewName + 'eventTemplate';\n            var eventTemplate = this.isResourceEventTemplate ? this.parent.getEventTemplateName(resIndex) : 'eventTemplate';\n            templateElement = this.parent.getAppointmentTemplate()(eventObj, this.parent, eventTemplate, templateId, false, undefined, undefined, this.parent.root);\n        }\n        else {\n            var eventLocation = (record[this.fields.location] || this.parent.eventSettings.fields.location.default || '');\n            var appointmentSubject = createElement('div', { className: cls.SUBJECT_CLASS });\n            this.parent.sanitize((eventSubject + (eventLocation ? '; ' + eventLocation : '')), appointmentSubject);\n            var appointmentStartTime = createElement('div', {\n                className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                innerHTML: this.parent.getTimeString(eventData[this.fields.startTime])\n            });\n            var appointmentEndTime = createElement('div', {\n                className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                innerHTML: this.parent.getTimeString(eventData[this.fields.endTime])\n            });\n            if (this.parent.currentView === 'Month') {\n                if (record[this.fields.isAllDay]) {\n                    templateElement = [appointmentSubject];\n                    addClass([appointmentSubject], 'e-text-center');\n                }\n                else if (eventData.count <= 1 && !eventData.isLeft && !eventData.isRight) {\n                    templateElement = [appointmentStartTime, appointmentSubject];\n                }\n                else {\n                    templateElement = [];\n                    addClass([appointmentSubject], 'e-text-center');\n                    if (!eventData.isLeft) {\n                        templateElement.push(appointmentStartTime);\n                    }\n                    templateElement.push(appointmentSubject);\n                    if (!eventData.isRight) {\n                        templateElement.push(appointmentEndTime);\n                    }\n                }\n            }\n            else {\n                var innerElement = void 0;\n                if (record[this.fields.isAllDay]) {\n                    var allDayString = createElement('div', {\n                        className: cls.APPOINTMENT_TIME, innerHTML: this.parent.localeObj.getConstant('allDay')\n                    });\n                    innerElement = [appointmentSubject, allDayString];\n                }\n                else {\n                    var timeString = this.parent.getTimeString(eventData[this.fields.startTime])\n                        + ' - ' + this.parent.getTimeString(eventData[this.fields.endTime]);\n                    var appTime = createElement('div', {\n                        className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''), innerHTML: timeString\n                    });\n                    var appLocation = createElement('div', { className: cls.LOCATION_CLASS });\n                    this.parent.sanitize(eventLocation, appLocation);\n                    innerElement = [appointmentSubject, appTime, appLocation];\n                }\n                var wrap = createElement('div', { className: 'e-inner-wrap' });\n                append(innerElement, wrap);\n                templateElement = [wrap];\n            }\n        }\n        append(templateElement, appointmentDetails);\n        this.appendEventIcons(record, appointmentDetails);\n        this.renderResizeHandler(appointmentWrapper, record.data, record[this.fields.isReadonly]);\n        return appointmentWrapper;\n    };\n    MonthEvent.prototype.appendEventIcons = function (record, appointmentDetails) {\n        var eventData = record.data;\n        if (!isNullOrUndefined(record[this.fields.recurrenceRule]) || !isNullOrUndefined(record[this.fields.recurrenceID])) {\n            var iconClass = (record[this.fields.id] === record[this.fields.recurrenceID]) ?\n                cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n            appointmentDetails.appendChild(createElement('div', {\n                className: cls.ICON + ' ' + iconClass + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : '')\n            }));\n        }\n        if (eventData.isLeft) {\n            var iconLeft = createElement('div', {\n                className: cls.EVENT_INDICATOR_CLASS + ' ' + cls.ICON + ' ' + cls.EVENT_ICON_LEFT_CLASS\n            });\n            prepend([iconLeft], appointmentDetails);\n        }\n        if (eventData.isRight) {\n            var iconRight = createElement('div', {\n                className: cls.EVENT_INDICATOR_CLASS + ' ' + cls.ICON + ' ' + cls.EVENT_ICON_RIGHT_CLASS\n            });\n            append([iconRight], appointmentDetails);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.renderEvents = function (event, resIndex, eventsList) {\n        var startTime = event[this.fields.startTime];\n        var endTime = event[this.fields.endTime];\n        var day = this.parent.getIndexOfDate(this.dateRender, util.resetTime(startTime));\n        if ((day < 0) || (startTime.getTime() < this.parent.minDate.getTime()) || (endTime.getTime() > this.parent.maxDate.getTime())) {\n            return;\n        }\n        var eventsPerRow = this.parent.rowAutoHeight ? 1 : this.parent.activeViewOptions.maxEventsPerRow;\n        var overlapCount = this.getIndex(startTime);\n        event.Index = overlapCount;\n        var diffInDays = event.data.count;\n        if (startTime.getTime() <= endTime.getTime()) {\n            var appWidth = (diffInDays * this.cellWidth) - 5;\n            var cellTd = this.workCells[parseInt(day.toString(), 10)];\n            var appTop = (overlapCount * (this.eventHeight + EVENT_GAP));\n            var height = this.monthHeaderHeight + ((overlapCount + 1) * (this.eventHeight + EVENT_GAP)) + this.moreIndicatorHeight;\n            var enableAppRender = this.parent.activeViewOptions.maxEventsPerRow && !this.parent.rowAutoHeight &&\n                !this.parent.eventSettings.enableIndicator ? overlapCount < eventsPerRow : this.maxOrIndicator ? overlapCount < 1\n                ? true : false : this.cellHeight > height;\n            if (this.parent.rowAutoHeight || enableAppRender) {\n                this.renderedEvents.push(extend({}, event, null, true));\n                var appointmentElement = void 0;\n                if (this.inlineValue) {\n                    appointmentElement = this.parent.inlineModule.createInlineAppointmentElement();\n                }\n                else {\n                    appointmentElement = this.createAppointmentElement(event, resIndex);\n                }\n                this.applyResourceColor(appointmentElement, event, 'backgroundColor', this.groupOrder);\n                this.wireAppointmentEvents(appointmentElement, event);\n                setStyleAttribute(appointmentElement, { 'width': appWidth + 'px', 'top': appTop + 'px' });\n                this.renderEventElement(event, appointmentElement, cellTd);\n                if (this.parent.rowAutoHeight) {\n                    var firstChild = cellTd.parentElement.firstElementChild;\n                    this.updateCellHeight(firstChild, height);\n                }\n            }\n            else {\n                for (var i = 0; i < diffInDays; i++) {\n                    if (this.workCells[day + i]) {\n                        var indicator = this.workCells[day + i].querySelector('.' + cls.MORE_INDICATOR_CLASS);\n                        if (indicator) {\n                            var count = parseInt(indicator.getAttribute('data-count'), 10) + 1;\n                            indicator.setAttribute('data-count', count.toString());\n                            indicator.setAttribute('aria-label', count + ' ' + this.parent.localeObj.getConstant('moreEvents'));\n                            indicator.innerHTML = this.getMoreIndicatorText(count);\n                        }\n                        else {\n                            var startDate = new Date(this.dateRender[day + i].getTime());\n                            var endDate = util.addDays(this.dateRender[day + i], 1);\n                            var groupIndex = this.workCells[day + i].getAttribute('data-group-index');\n                            var moreIndicatorElement = this.getMoreIndicatorElement(1, startDate, endDate);\n                            if (!isNullOrUndefined(groupIndex)) {\n                                moreIndicatorElement.setAttribute('data-group-index', groupIndex);\n                            }\n                            moreIndicatorElement.style.top = (this.cellHeight - this.monthHeaderHeight - this.moreIndicatorHeight) + 'px';\n                            moreIndicatorElement.style.width = this.cellWidth - 2 + 'px';\n                            this.renderElement(this.workCells[day + i], moreIndicatorElement);\n                            EventHandler.add(moreIndicatorElement, 'click', this.moreIndicatorClick, this);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MonthEvent.prototype.updateCellHeight = function (cell, height) {\n        if ((height > cell.offsetHeight)) {\n            setStyleAttribute(cell, { 'height': height + 'px' });\n        }\n    };\n    MonthEvent.prototype.updateBlockElements = function () {\n        var blockElement = [].slice.call(this.element.querySelectorAll('.' + cls.BLOCK_APPOINTMENT_CLASS));\n        for (var _i = 0, blockElement_1 = blockElement; _i < blockElement_1.length; _i++) {\n            var element = blockElement_1[_i];\n            var target = closest(element, 'tr');\n            this.monthHeaderHeight = element.offsetParent.offsetTop - target.offsetTop;\n            element.style.height = ((target.offsetHeight - 1) - this.monthHeaderHeight) + 'px';\n            var firstChild = target.firstElementChild;\n            var width = Math.round(element.offsetWidth / firstChild.offsetWidth);\n            element.style.width = (firstChild.offsetWidth * width) + 'px';\n        }\n    };\n    // eslint-disable-next-line max-len\n    MonthEvent.prototype.getFilteredEvents = function (startDate, endDate, groupIndex, eventsList) {\n        var filteredEvents;\n        if (isNullOrUndefined(groupIndex)) {\n            filteredEvents = this.filterEvents(startDate, endDate);\n        }\n        else {\n            var data = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)];\n            filteredEvents = this.filterEvents(startDate, endDate, isNullOrUndefined(eventsList) ? undefined : eventsList, data);\n        }\n        return filteredEvents;\n    };\n    MonthEvent.prototype.getOverlapEvents = function (date, appointments) {\n        var appointmentsList = [];\n        var dateTime = util.resetTime(date).getTime();\n        for (var _i = 0, appointments_1 = appointments; _i < appointments_1.length; _i++) {\n            var app = appointments_1[_i];\n            if ((util.resetTime(app[this.fields.startTime]).getTime() <= dateTime) &&\n                (util.resetTime(app[this.fields.endTime]).getTime() >= dateTime)) {\n                appointmentsList.push(app);\n            }\n        }\n        return appointmentsList;\n    };\n    MonthEvent.prototype.getIndex = function (date) {\n        var appIndex = -1;\n        var appointments = this.renderedEvents;\n        if (appointments.length > 0) {\n            var appointmentsList = this.getOverlapEvents(date, appointments);\n            var appLevel = appointmentsList.map(function (obj) { return obj.Index; });\n            appIndex = (appLevel.length > 0) ? this.getSmallestMissingNumber(appLevel) : 0;\n        }\n        return (appIndex === -1) ? 0 : appIndex;\n    };\n    MonthEvent.prototype.moreIndicatorClick = function (event) {\n        var _this = this;\n        var target = closest(event.target, '.' + cls.MORE_INDICATOR_CLASS);\n        var startDate = new Date(parseInt(target.getAttribute('data-start-date'), 10));\n        var endDate = new Date(parseInt(target.getAttribute('data-end-date'), 10));\n        var groupIndex = target.getAttribute('data-group-index');\n        var moreArgs = {\n            cancel: false, event: event, element: target, isPopupOpen: true,\n            startTime: startDate, endTime: endDate, viewName: this.parent.getNavigateView()\n        };\n        if (groupIndex) {\n            moreArgs.groupIndex = parseInt(groupIndex, 10);\n        }\n        this.parent.trigger(events.moreEventsClick, moreArgs, function (clickArgs) {\n            if (!clickArgs.cancel) {\n                if (clickArgs.isPopupOpen) {\n                    var filteredEvents = _this.getFilteredEvents(startDate, endDate, groupIndex);\n                    var moreArgs_1 = { date: startDate, event: filteredEvents, element: event.target };\n                    _this.parent.quickPopup.moreEventClick(moreArgs_1, endDate, groupIndex);\n                }\n                else {\n                    _this.parent.setProperties({ selectedDate: startDate }, true);\n                    _this.parent.changeView(clickArgs.viewName, event);\n                }\n            }\n        });\n    };\n    MonthEvent.prototype.renderEventElement = function (event, appointmentElement, cellTd) {\n        var _this = this;\n        var eventType = appointmentElement.classList.contains(cls.BLOCK_APPOINTMENT_CLASS) ? 'blockEvent' : 'event';\n        var isAppointment = appointmentElement.classList.contains(cls.APPOINTMENT_CLASS);\n        var eventObj = this.parent.currentView === 'Month' ? this.getSpannedTime(event) : this.getEventData(event);\n        var args = { data: eventObj, element: appointmentElement, cancel: false, type: eventType };\n        this.parent.trigger(events.eventRendered, args, function (eventArgs) {\n            if (eventArgs.cancel) {\n                _this.renderedEvents.pop();\n            }\n            else {\n                _this.renderElement(cellTd, appointmentElement, isAppointment);\n            }\n        });\n    };\n    MonthEvent.prototype.getSpannedTime = function (event) {\n        var eventObj = extend({}, event, null, true);\n        if ((eventObj[this.fields.startTime]).getDate() === (eventObj.data[this.fields.startTime]).getDate()) {\n            eventObj[this.fields.startTime] = eventObj.data[this.fields.startTime];\n        }\n        if ((eventObj[this.fields.endTime]).getDate() === (eventObj.data[this.fields.endTime]).getDate()) {\n            eventObj[this.fields.endTime] = eventObj.data[this.fields.endTime];\n        }\n        return eventObj;\n    };\n    MonthEvent.prototype.getEventData = function (event) {\n        var eventObj = extend({}, event, null, true);\n        eventObj[this.fields.startTime] = event.data[this.fields.startTime];\n        eventObj[this.fields.endTime] = event.data[this.fields.endTime];\n        return eventObj;\n    };\n    MonthEvent.prototype.renderElement = function (cellTd, element, isAppointment) {\n        if (isAppointment === void 0) { isAppointment = false; }\n        if (this.maxOrIndicator && isAppointment) {\n            this.setMaxEventHeight(element, cellTd);\n        }\n        var wrapperEle = cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n        if (wrapperEle) {\n            wrapperEle.appendChild(element);\n        }\n        else {\n            var wrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            wrapper.appendChild(element);\n            cellTd.appendChild(wrapper);\n        }\n    };\n    MonthEvent.prototype.getMoreIndicatorElement = function (count, startDate, endDate) {\n        var moreIndicatorElement = createElement('div', {\n            className: cls.MORE_INDICATOR_CLASS,\n            innerHTML: this.getMoreIndicatorText(count),\n            attrs: {\n                'role': 'button',\n                'tabindex': '0',\n                'aria-label': this.parent.globalize.formatNumber(count) + ' ' + this.parent.localeObj.getConstant('moreEvents'),\n                'data-count': count.toString(),\n                'data-start-date': startDate.getTime().toString(),\n                'data-end-date': endDate.getTime().toString()\n            }\n        });\n        return moreIndicatorElement;\n    };\n    MonthEvent.prototype.getMoreIndicatorText = function (count) {\n        return '+' + this.parent.globalize.formatNumber(count) + '&nbsp;' + (this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant('more'));\n    };\n    MonthEvent.prototype.removeHeightProperty = function (selector) {\n        var rows = [].slice.call(this.element.querySelectorAll('.' + selector + ' tbody tr'));\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            row.firstElementChild.style.height = '';\n        }\n    };\n    MonthEvent.prototype.setMaxEventHeight = function (event, cell) {\n        var headerHeight = util.getOuterHeight(cell.querySelector('.' + cls.DATE_HEADER_CLASS));\n        var height = (cell.offsetHeight - headerHeight) - (this.maxHeight ? 0 : this.moreIndicatorHeight);\n        setStyleAttribute(event, { 'height': height + 'px', 'align-items': 'center' });\n    };\n    MonthEvent.prototype.destroy = function () {\n        this.element = null;\n        this.fields = null;\n        this.maxHeight = null;\n        this.withIndicator = null;\n        this.maxOrIndicator = null;\n        this.moreIndicatorHeight = null;\n        this.removeEventListener();\n        _super.prototype.destroy.call(this);\n    };\n    return MonthEvent;\n}(EventBase));\nexport { MonthEvent };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable max-len */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, setStyleAttribute, extend, EventHandler, createElement } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\nimport { MonthEvent } from './month';\nvar EVENT_GAP = 2;\nvar BLOCK_INDICATOR_WIDTH = 22;\nvar BLOCK_INDICATOR_HEIGHT = 18;\n/**\n * Timeline view events render\n */\nvar TimelineEvent = /** @class */ (function (_super) {\n    __extends(TimelineEvent, _super);\n    function TimelineEvent(parent, type) {\n        var _this = _super.call(this, parent) || this;\n        _this.startHour = _this.parent.activeView.getStartHour();\n        _this.endHour = _this.parent.activeView.getEndHour();\n        _this.slotCount = _this.parent.activeViewOptions.timeScale.slotCount;\n        _this.interval = _this.parent.activeViewOptions.timeScale.interval;\n        _this.day = 0;\n        _this.rowIndex = 0;\n        _this.cellTops = [];\n        _this.renderType = type;\n        _this.eventContainers = [].slice.call(_this.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n        var tr = [].slice.call(_this.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr'));\n        _this.dayLength = tr.length === 0 ? 0 : tr[0].children.length;\n        _this.content = _this.parent.element.querySelector('.' + cls.SCHEDULE_TABLE_CLASS + '.' + cls.CONTENT_TABLE_CLASS);\n        return _this;\n    }\n    TimelineEvent.prototype.getSlotDates = function () {\n        this.slots = [];\n        this.slots.push(this.parent.activeView.renderDates.map(function (date) { return +date; }));\n        if (this.parent.activeViewOptions.headerRows.length > 0 &&\n            this.parent.activeViewOptions.headerRows.slice(-1)[0].option !== 'Hour') {\n            this.renderType = 'day';\n            var workCell = this.content.querySelector('.' + cls.WORK_CELLS_CLASS);\n            this.cellWidth = this.parent.getElementWidth(workCell) / +(workCell.getAttribute('colspan') || 1);\n            this.slotsPerDay = 1;\n        }\n        else {\n            this.slotsPerDay = (this.dayLength / this.dateRender.length);\n        }\n    };\n    TimelineEvent.prototype.getOverlapEvents = function (date, appointments) {\n        var appointmentsList = [];\n        if (this.renderType === 'day') {\n            for (var _i = 0, appointments_1 = appointments; _i < appointments_1.length; _i++) {\n                var app = appointments_1[_i];\n                if ((util.resetTime(app[this.fields.startTime]).getTime() <= util.resetTime(new Date(date.getTime())).getTime()) &&\n                    (util.resetTime(app[this.fields.endTime]).getTime() >= util.resetTime(new Date(date.getTime())).getTime())) {\n                    appointmentsList.push(app);\n                }\n            }\n        }\n        else {\n            for (var _a = 0, appointments_2 = appointments; _a < appointments_2.length; _a++) {\n                var app = appointments_2[_a];\n                var eventData = app.data;\n                if ((eventData.trimStartTime.getTime() <= date.getTime() &&\n                    eventData.trimEndTime.getTime() > date.getTime()) ||\n                    (eventData.trimStartTime.getTime() === date.getTime() &&\n                        eventData.trimEndTime.getTime() === date.getTime())) {\n                    appointmentsList.push(app);\n                }\n            }\n        }\n        return appointmentsList;\n    };\n    TimelineEvent.prototype.getSortComparerIndex = function (startDate, endDate) {\n        var appIndex = -1;\n        var appointments = this.renderedEvents;\n        if (appointments.length > 0) {\n            var appointmentsList = this.getOverlapSortComparerEvents(startDate, endDate, appointments);\n            var appLevel = appointmentsList.map(function (obj) { return obj.Index; });\n            appIndex = (appLevel.length > 0) ? this.getSmallestMissingNumber(appLevel) : 0;\n        }\n        return (appIndex === -1) ? 0 : appIndex;\n    };\n    TimelineEvent.prototype.getOverlapSortComparerEvents = function (startDate, endDate, appointmentsCollection) {\n        var appointments = [];\n        var _loop_1 = function (app) {\n            if (this_1.renderType === 'day') {\n                var start_1 = util.resetTime(startDate).getTime();\n                var end_1 = util.resetTime(endDate).getTime();\n                var appStart_1 = util.resetTime(app[this_1.fields.startTime]).getTime();\n                var appEnd_1 = util.resetTime(app[this_1.fields.endTime]).getTime();\n                var isEndOverlap = function () {\n                    var endTime = (end_1 - (util.getDateInMs(endDate) <= 0 ? util.MS_PER_DAY : 0));\n                    endTime = start_1 > endTime ? start_1 : endTime;\n                    return appEnd_1 >= endTime && appStart_1 <= endTime;\n                };\n                if (appStart_1 <= start_1 && appEnd_1 >= start_1 || isEndOverlap() || appStart_1 > start_1 && appEnd_1 < end_1) {\n                    appointments.push(app);\n                }\n            }\n            else {\n                var eventData = app.data;\n                if (((eventData.trimStartTime.getTime() <= startDate.getTime()) && (startDate.getTime() < eventData.trimEndTime.getTime())) ||\n                    ((startDate.getTime() <= eventData.trimStartTime.getTime()) && (eventData.trimStartTime.getTime() < endDate.getTime()))) {\n                    appointments.push(app);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, appointmentsCollection_1 = appointmentsCollection; _i < appointmentsCollection_1.length; _i++) {\n            var app = appointmentsCollection_1[_i];\n            _loop_1(app);\n        }\n        return appointments;\n    };\n    TimelineEvent.prototype.renderResourceEvents = function () {\n        this.removeHeightProperty(cls.RESOURCE_COLUMN_TABLE_CLASS);\n        var selector = '.' + cls.RESOURCE_COLUMN_TABLE_CLASS + ' tbody tr';\n        this.addCellHeight(selector, this.eventHeight, EVENT_GAP, this.moreIndicatorHeight, 0, false);\n        var resources = this.parent.uiStateValues.isGroupAdaptive ?\n            [this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]] :\n            this.parent.resourceBase.renderedResources;\n        if (this.parent.crudModule && this.parent.crudModule.crudObj.isCrudAction) {\n            for (var i = 0, len = this.parent.crudModule.crudObj.sourceEvent.length; i < len; i++) {\n                var source = this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)];\n                this.rowIndex = source.groupIndex;\n                if (!this.parent.uiStateValues.isGroupAdaptive ||\n                    (this.parent.uiStateValues.groupIndex === source.groupIndex && this.parent.uiStateValues.isGroupAdaptive)) {\n                    this.renderEventsHandler(this.parent.activeView.renderDates, this.parent.activeViewOptions.workDays, source);\n                }\n                if (this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)] && this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex !==\n                    this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex) {\n                    var target = this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)];\n                    this.rowIndex = target.groupIndex;\n                    this.renderEventsHandler(this.parent.activeView.renderDates, this.parent.activeViewOptions.workDays, target);\n                }\n            }\n            this.parent.crudModule.crudObj.isCrudAction = false;\n        }\n        else {\n            for (var i = 0; i < resources.length; i++) {\n                this.rowIndex = i;\n                this.renderEventsHandler(this.parent.activeView.renderDates, this.parent.activeViewOptions.workDays, resources[parseInt(i.toString(), 10)]);\n            }\n        }\n    };\n    TimelineEvent.prototype.renderEvents = function (event, resIndex, appointmentsList) {\n        var startTime = event[this.fields.startTime];\n        var endTime = event[this.fields.endTime];\n        if ((startTime.getTime() < this.parent.minDate.getTime()) || (endTime.getTime() > this.parent.maxDate.getTime())) {\n            return;\n        }\n        var eventData = event.data;\n        startTime = this.getStartTime(event, eventData);\n        endTime = this.getEndTime(event, eventData);\n        var startEndHours = util.getStartEndHours(event[this.fields.startTime], this.startHour, this.endHour);\n        var eventDates = this.updateEventMinimumDuration(startEndHours, startTime, endTime);\n        startTime = eventDates.startDate;\n        endTime = eventDates.endDate;\n        this.day = this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(startTime.getTime())));\n        if (this.day < 0) {\n            return;\n        }\n        var cellTd = this.getCellTd();\n        var eventsPerRow = this.parent.rowAutoHeight ? 1 : this.parent.activeViewOptions.maxEventsPerRow;\n        var overlapCount = (isNullOrUndefined(this.parent.eventSettings.sortComparer)) ? this.getIndex(startTime) : this.getSortComparerIndex(startTime, endTime);\n        event.Index = overlapCount;\n        var appHeight = this.eventHeight;\n        var diffInDays = eventData.count;\n        var eventObj = extend({}, event, null, true);\n        eventObj[this.fields.startTime] = eventData[this.fields.startTime];\n        eventObj[this.fields.endTime] = eventData[this.fields.endTime];\n        var currentDate = util.resetTime(new Date(this.dateRender[this.day].getTime()));\n        var schedule = util.getStartEndHours(currentDate, this.startHour, this.endHour);\n        var isValidEvent = true;\n        if (this.isDayProcess() || eventObj[this.fields.isAllDay]) {\n            isValidEvent = true;\n        }\n        else {\n            isValidEvent = this.isValidEvent(eventObj, startTime, endTime, schedule);\n        }\n        if (startTime <= endTime && isValidEvent) {\n            var appWidth = this.getEventWidth(startTime, endTime, event[this.fields.isAllDay], diffInDays);\n            appWidth = this.renderType === 'day' ? appWidth - 2 : appWidth;\n            var appLeft = 0;\n            var appRight = 0;\n            var position = this.getPosition(startTime, endTime, event[this.fields.isAllDay], this.day);\n            appWidth = (appWidth <= 0) ? this.cellWidth : appWidth; // appWidth 0 when start and end time as same\n            this.renderedEvents.push(extend({}, event, null, true));\n            if (isNullOrUndefined(this.cellTops[parseInt(resIndex.toString(), 10)])) {\n                this.cellTops[parseInt(resIndex.toString(), 10)] = this.getRowTop(resIndex);\n            }\n            var top_1 = this.cellTops[parseInt(resIndex.toString(), 10)];\n            var appTop = (top_1 + (this.maxHeight ? 0 : EVENT_GAP)) + (overlapCount * (appHeight + EVENT_GAP));\n            appLeft = (this.parent.enableRtl) ? 0 : position;\n            appRight = (this.parent.enableRtl) ? position : 0;\n            var height = ((overlapCount + 1) * (appHeight + EVENT_GAP)) + this.moreIndicatorHeight;\n            var renderApp = this.parent.activeViewOptions.maxEventsPerRow && !this.parent.rowAutoHeight && !this.parent.eventSettings.enableIndicator\n                ? overlapCount < eventsPerRow : this.maxOrIndicator ? overlapCount < 1 ? true : false : this.cellHeight > height;\n            if (this.parent.rowAutoHeight || renderApp) {\n                var appointmentElement = void 0;\n                if (isNullOrUndefined(this.inlineValue)) {\n                    appointmentElement = this.createAppointmentElement(event, resIndex);\n                }\n                else {\n                    appointmentElement = this.parent.inlineModule.createInlineAppointmentElement();\n                }\n                this.applyResourceColor(appointmentElement, event, 'backgroundColor', this.groupOrder);\n                setStyleAttribute(appointmentElement, {\n                    'width': appWidth + 'px', 'left': appLeft + 'px', 'right': appRight + 'px', 'top': appTop + 'px'\n                });\n                this.wireAppointmentEvents(appointmentElement, event);\n                if (this.parent.rowAutoHeight) {\n                    var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n                    var conWidth = this.parent.getElementWidth(conWrap);\n                    var isWithoutScroll = conWrap.offsetHeight === conWrap.clientHeight &&\n                        conWrap.offsetWidth === conWrap.clientWidth;\n                    this.renderEventElement(event, appointmentElement, cellTd);\n                    var firstChild = this.getFirstChild(resIndex);\n                    this.updateCellHeight(firstChild, height);\n                    if (isWithoutScroll &&\n                        (conWrap.offsetWidth > conWrap.clientWidth || conWidth !== this.parent.getElementWidth(conWrap))) {\n                        this.adjustAppointments(conWidth);\n                    }\n                }\n                else {\n                    this.renderEventElement(event, appointmentElement, cellTd);\n                }\n            }\n            else {\n                for (var i = 0; i < diffInDays; i++) {\n                    var moreIndicator = cellTd.querySelector('.' + cls.MORE_INDICATOR_CLASS);\n                    var appPos = (this.parent.enableRtl) ? appRight : appLeft;\n                    appPos = (Math.floor(appPos / this.cellWidth) * this.cellWidth);\n                    var interval = this.interval / this.slotCount;\n                    var startDate = (this.parent.activeViewOptions.option === 'TimelineMonth' || this.renderType === 'day' || i !== 0) ?\n                        new Date(this.dateRender[this.day + i].getTime()) : new Date(startTime);\n                    var endDate = util.addDays(this.dateRender[this.day + i], 1);\n                    if (this.parent.activeViewOptions.option === 'TimelineMonth' || this.renderType === 'day') {\n                        var position_1 = this.getPosition(startDate, endDate, event[this.fields.isAllDay], (this.day + i));\n                        this.renderTimelineMoreIndicator(startTime, startDate, endDate, appHeight, interval, resIndex, appointmentsList, top_1, appLeft, appRight, cellTd, moreIndicator, appPos, position_1);\n                    }\n                    else {\n                        var slotCount = (util.getUniversalTime(endTime) - util.getUniversalTime(startTime)) / util.MS_PER_MINUTE *\n                            this.slotCount / this.interval;\n                        for (var k = 0; k < slotCount; k++) {\n                            startDate = (k === 0) ? new Date(startDate.getTime()) : new Date(startDate.getTime() + (60000 * interval));\n                            if (slotCount < 1) {\n                                startDate = this.adjustToNearestTimeSlot(startDate, interval);\n                            }\n                            endDate = new Date(startDate.getTime() + (60000 * interval));\n                            if (slotCount >= 1 && endDate.getTime() > endTime.getTime()) {\n                                break;\n                            }\n                            var position_2 = this.getPosition(startDate, endDate, false, (this.day + i));\n                            if (appPos > position_2) {\n                                break;\n                            }\n                            appPos = position_2;\n                            this.renderTimelineMoreIndicator(startTime, startDate, endDate, appHeight, interval, resIndex, appointmentsList, top_1, appLeft, appRight, cellTd, moreIndicator, appPos, position_2);\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    TimelineEvent.prototype.adjustToNearestTimeSlot = function (inputTime, interval) {\n        // Parse the input time\n        var parsedTime = new Date(inputTime);\n        // Get the minutes of the input time in milliseconds\n        var minutesInMilliseconds = parsedTime.getHours() * 60 * 60 * 1000 + parsedTime.getMinutes() * 60 * 1000;\n        // Calculate the adjusted time in milliseconds (nearest time slot)\n        var adjustedMinutesInMilliseconds = Math.floor(minutesInMilliseconds / (interval * 60 * 1000)) * (interval * 60 * 1000);\n        // Create a new Date object with the adjusted time\n        var adjustedTime = new Date(parsedTime.getTime());\n        adjustedTime.setHours(adjustedMinutesInMilliseconds / (60 * 60 * 1000) % 24);\n        adjustedTime.setMinutes((adjustedMinutesInMilliseconds % (60 * 60 * 1000)) / (60 * 1000));\n        // Return the adjusted time in string format\n        return adjustedTime;\n    };\n    TimelineEvent.prototype.renderTimelineMoreIndicator = function (startTime, startDate, endDate, appHeight, interval, resIndex, appointmentsList, top, appLeft, appRight, cellTd, moreIndicator, appPos, position) {\n        appLeft = (this.parent.enableRtl) ? appRight = position : position;\n        appPos = (this.parent.enableRtl) ? appRight : appLeft;\n        appPos = (Math.floor(appPos / this.cellWidth) * this.cellWidth);\n        if ((cellTd && isNullOrUndefined(moreIndicator)) ||\n            (!this.isAlreadyAvail(appPos, cellTd))) {\n            var startDateTime = (this.parent.activeViewOptions.option === 'TimelineMonth' || this.renderType === 'day') ? new Date(+startTime) : startDate;\n            var slotStartTime = (new Date(startDateTime.setMinutes(Math.floor(startDateTime.getMinutes() / interval) * interval)));\n            var slotEndTime = new Date(slotStartTime.getTime() + (60000 * interval));\n            var groupIndex = void 0;\n            if (this.parent.activeViewOptions.group.resources.length > 0 && !isNullOrUndefined(resIndex)) {\n                groupIndex = resIndex.toString();\n            }\n            var filterEvents = this.getFilterEvents(startDate, endDate, slotStartTime, slotEndTime, groupIndex, appointmentsList);\n            var appArea = this.cellHeight - this.moreIndicatorHeight;\n            appHeight = this.withIndicator ? appArea - EVENT_GAP : appHeight;\n            var renderedAppCount = Math.floor(appArea / (appHeight + EVENT_GAP));\n            var count = this.parent.activeViewOptions.maxEventsPerRow && !this.parent.eventSettings.enableIndicator\n                ? filterEvents.length - this.parent.activeViewOptions.maxEventsPerRow : (filterEvents.length - renderedAppCount) <= 0 ? 1\n                : filterEvents.length - renderedAppCount;\n            var moreIndicatorElement = void 0;\n            if (this.renderType === 'day') {\n                moreIndicatorElement = this.getMoreIndicatorElement(count, startDate, endDate);\n            }\n            else {\n                moreIndicatorElement = this.getMoreIndicatorElement(count, slotStartTime, slotEndTime);\n            }\n            if (!isNullOrUndefined(groupIndex)) {\n                moreIndicatorElement.setAttribute('data-group-index', groupIndex);\n            }\n            moreIndicatorElement.style.top = top + appArea + 'px';\n            moreIndicatorElement.style.width = this.cellWidth + 'px';\n            moreIndicatorElement.style.left = (Math.floor(appLeft / this.cellWidth) * this.cellWidth) + 'px';\n            moreIndicatorElement.style.right = (Math.floor(appRight / this.cellWidth) * this.cellWidth) + 'px';\n            this.renderElement(cellTd, moreIndicatorElement);\n            EventHandler.add(moreIndicatorElement, 'click', this.moreIndicatorClick, this);\n        }\n    };\n    TimelineEvent.prototype.updateCellHeight = function (cell, height) {\n        var cellHeight = cell.style.height === '' ? this.cellHeight : parseInt(cell.style.height, 10);\n        if (height > cellHeight) {\n            setStyleAttribute(cell, { 'height': height + 'px' });\n            if (this.parent.activeViewOptions.group.resources.length > 0) {\n                var resourceCell = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_TABLE_CLASS + ' ' + 'tbody td[data-group-index=\"' +\n                    cell.getAttribute('data-group-index') + '\"]');\n                if (resourceCell) {\n                    setStyleAttribute(resourceCell, { 'height': height + 'px' });\n                }\n            }\n            var monthHeader = this.parent.element.querySelector('.e-month-header-wrapper table tr:nth-child(' +\n                (cell.parentElement.rowIndex + 1) + ') td');\n            if (monthHeader) {\n                setStyleAttribute(monthHeader, { 'height': height + 'px' });\n            }\n        }\n    };\n    TimelineEvent.prototype.adjustAppointments = function (conWidth) {\n        var _this = this;\n        var tr = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr');\n        var actualCellWidth = this.parent.getElementWidth(this.workCells[0]);\n        this.cellWidth = actualCellWidth / +(this.workCells[0].getAttribute('colspan') || 1);\n        var currentPercentage = (actualCellWidth * tr.children.length) / (conWidth / 100);\n        var apps = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n        apps.forEach(function (app) {\n            if (_this.parent.enableRtl && app.style.right !== '0px') {\n                app.style.right = ((parseFloat(app.style.right) / 100) * currentPercentage) + 'px';\n            }\n            else if (app.style.left !== '0px') {\n                app.style.left = ((parseFloat(app.style.left) / 100) * currentPercentage) + 'px';\n            }\n            app.style.width = ((parseFloat(app.style.width) / 100) * currentPercentage) + 'px';\n        });\n    };\n    TimelineEvent.prototype.getFirstChild = function (index) {\n        var query = '.' + cls.CONTENT_TABLE_CLASS + ' tbody td';\n        var groupIndex = '';\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            groupIndex = '[data-group-index=\"' + index.toString() + '\"]';\n        }\n        var td = this.parent.element.querySelector(query + groupIndex);\n        return td;\n    };\n    TimelineEvent.prototype.updateBlockElements = function () {\n        var blockElement = [].slice.call(this.element.querySelectorAll('.' + cls.BLOCK_APPOINTMENT_CLASS));\n        for (var _i = 0, blockElement_1 = blockElement; _i < blockElement_1.length; _i++) {\n            var element = blockElement_1[_i];\n            var resIndex = parseInt(element.getAttribute('data-group-index'), 10);\n            var firstChild = this.getFirstChild(resIndex);\n            element.style.height = firstChild.offsetHeight + 'px';\n            var width = element.offsetWidth / firstChild.offsetWidth;\n            element.style.width = (firstChild.offsetWidth * width) + 'px';\n        }\n        var blockIndicator = [].slice.call(this.element.querySelectorAll('.' + cls.BLOCK_INDICATOR_CLASS));\n        for (var _a = 0, blockIndicator_1 = blockIndicator; _a < blockIndicator_1.length; _a++) {\n            var element = blockIndicator_1[_a];\n            var resIndex = parseInt(element.getAttribute('data-group-index'), 10);\n            element.style.top = this.getRowTop(resIndex) +\n                this.getFirstChild(resIndex).offsetHeight - BLOCK_INDICATOR_HEIGHT + 'px';\n        }\n    };\n    TimelineEvent.prototype.getStartTime = function (event, eventData) {\n        var startTime = event[this.fields.startTime];\n        var schedule = util.getStartEndHours(startTime, this.startHour, this.endHour);\n        if (this.isDayProcess()) {\n            startTime = event[this.fields.startTime];\n        }\n        else {\n            if (schedule.startHour.getTime() >= eventData[this.fields.startTime]) {\n                startTime = schedule.startHour;\n            }\n            else if (schedule.endHour.getTime() <= eventData[this.fields.startTime]) {\n                startTime = this.getNextDay(schedule.startHour, eventData);\n            }\n            else {\n                startTime = eventData[this.fields.startTime];\n            }\n        }\n        // To overcome the overflow\n        eventData.trimStartTime = (event[this.fields.isAllDay]) ? schedule.startHour : eventData[this.fields.startTime];\n        return startTime;\n    };\n    TimelineEvent.prototype.getNextDay = function (startTime, eventData) {\n        var startDate;\n        for (var i = 1; i <= this.dateRender.length; i++) {\n            startDate = util.addDays(startTime, i);\n            if (this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(startTime.getTime()))) !== -1) {\n                eventData.count = eventData.count - 1;\n                return startDate;\n            }\n        }\n        return startDate;\n    };\n    TimelineEvent.prototype.getEndTime = function (event, eventData) {\n        var endTime = event[this.fields.endTime];\n        var schedule = util.getStartEndHours(endTime, this.startHour, this.endHour);\n        if (this.isDayProcess()) {\n            endTime = eventData[this.fields.endTime];\n        }\n        else {\n            endTime = eventData[this.fields.endTime];\n            if (schedule.endHour.getTime() <= eventData[this.fields.endTime] || event[this.fields.isAllDay]) {\n                endTime = schedule.endHour;\n            }\n            if (schedule.startHour.getTime() >= eventData[this.fields.endTime].getTime() && !event[this.fields.isAllDay]) {\n                endTime = this.getPreviousDay(schedule.startHour, schedule.endHour, eventData);\n            }\n        }\n        // To overcome the overflow\n        eventData.trimEndTime = (event[this.fields.isAllDay]) ? schedule.endHour : eventData[this.fields.endTime];\n        return endTime;\n    };\n    TimelineEvent.prototype.getPreviousDay = function (startTime, endTime, eventData) {\n        for (var i = 1; i <= this.dateRender.length; i++) {\n            var endDate = util.addDays(endTime, -i);\n            if (this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(startTime.getTime()))) !== -1) {\n                endDate = util.resetTime(new Date(endDate.getTime()));\n                endDate.setHours(endTime.getHours(), endTime.getMinutes(), endTime.getSeconds());\n                var count = eventData.count;\n                var actualEndTime = eventData[this.fields.endTime];\n                eventData.count = actualEndTime.getHours() !== 0 || actualEndTime.getMinutes() !== 0 ? count - 1 : count;\n                return endDate;\n            }\n        }\n        return eventData[this.fields.endTime];\n    };\n    TimelineEvent.prototype.getEventWidth = function (startDate, endDate, isAllDay, count) {\n        if (this.renderType === 'day' || isAllDay) {\n            return (count * this.slotsPerDay) * this.cellWidth;\n        }\n        if (this.isSameDay(startDate, endDate)) {\n            return this.getSameDayEventsWidth(startDate, endDate);\n        }\n        else {\n            return this.getSpannedEventsWidth(startDate, endDate, count);\n        }\n    };\n    TimelineEvent.prototype.getSameDayEventsWidth = function (startDate, endDate) {\n        return ((util.getUniversalTime(endDate) - util.getUniversalTime(startDate)) /\n            util.MS_PER_MINUTE * (this.cellWidth * this.slotCount) / this.getIntervalInMinutes(startDate));\n    };\n    TimelineEvent.prototype.getSpannedEventsWidth = function (startDate, endDate, diffInDays) {\n        var width = (diffInDays * this.slotsPerDay) * this.cellWidth;\n        var endWidth;\n        var start = util.getStartEndHours(util.resetTime(new Date(startDate.getTime())), this.startHour, this.endHour);\n        var startWidth = this.getSameDayEventsWidth(start.startHour, startDate);\n        if (this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(endDate.getTime()))) === -1) {\n            endWidth = 0;\n        }\n        else {\n            var end = util.getStartEndHours(util.resetTime(new Date(endDate.getTime())), this.startHour, this.endHour);\n            endWidth = this.getSameDayEventsWidth(endDate, end.endHour);\n            endWidth = ((this.slotsPerDay * this.cellWidth) === endWidth) ? 0 : endWidth;\n        }\n        var spannedWidth = startWidth + endWidth;\n        return (width > spannedWidth) ? width - spannedWidth : width - startWidth;\n    };\n    TimelineEvent.prototype.isSameDay = function (startTime, endTime) {\n        var startDay = this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(startTime.getTime())));\n        var endDay = this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(endTime.getTime())));\n        return (startDay === endDay);\n    };\n    TimelineEvent.prototype.getAppointmentLeft = function (schedule, startTime, day) {\n        var slotTd = (this.isSameDay(startTime, schedule.startHour)) ?\n            ((util.getUniversalTime(startTime) - util.getUniversalTime(schedule.startHour)) /\n                (util.MS_PER_MINUTE * this.getIntervalInMinutes(startTime))) * this.slotCount : 0;\n        if (day === 0) {\n            return slotTd;\n        }\n        else {\n            var daySlot = Math.round((((util.getUniversalTime(schedule.endHour) - util.getUniversalTime(schedule.startHour)) /\n                util.MS_PER_MINUTE) / this.getIntervalInMinutes(startTime)) * this.slotCount);\n            return (daySlot * day) + slotTd;\n        }\n    };\n    TimelineEvent.prototype.getPosition = function (startTime, endTime, isAllDay, day) {\n        if (this.renderType === 'day' || isAllDay) {\n            return (day * this.slotsPerDay) * this.cellWidth;\n        }\n        var currentDate = util.resetTime(new Date(this.dateRender[parseInt(day.toString(), 10)].getTime()));\n        var schedule = util.getStartEndHours(currentDate, this.startHour, this.endHour);\n        var cellIndex;\n        if (schedule.endHour.getTime() <= endTime.getTime() && schedule.startHour.getTime() >= startTime.getTime()) {\n            cellIndex = this.getAppointmentLeft(schedule, schedule.startHour, day);\n        }\n        else if (schedule.endHour.getTime() <= endTime.getTime()) {\n            cellIndex = this.getAppointmentLeft(schedule, startTime, day);\n        }\n        else if (schedule.startHour.getTime() >= startTime.getTime()) {\n            cellIndex = this.getAppointmentLeft(schedule, schedule.startHour, day);\n        }\n        else {\n            cellIndex = this.getAppointmentLeft(schedule, startTime, day);\n        }\n        return cellIndex * this.cellWidth;\n    };\n    TimelineEvent.prototype.getFilterEvents = function (startDate, endDate, startTime, endTime, gIndex, eventsList) {\n        if (this.renderType === 'day') {\n            return this.getFilteredEvents(startDate, endDate, gIndex, eventsList);\n        }\n        else {\n            return this.getFilteredEvents(startTime, endTime, gIndex, eventsList);\n        }\n    };\n    TimelineEvent.prototype.getIntervalInMinutes = function (startDate) {\n        if (this.slotsPerDay !== 1) {\n            return this.interval;\n        }\n        var hoursRange = util.getStartEndHours(util.resetTime(new Date(startDate.getTime())), this.startHour, this.endHour);\n        return (hoursRange.endHour.getTime() - hoursRange.startHour.getTime()) / util.MS_PER_MINUTE;\n    };\n    TimelineEvent.prototype.isAlreadyAvail = function (appPos, cellTd) {\n        var moreIndicator = [].slice.call(cellTd.querySelectorAll('.' + cls.MORE_INDICATOR_CLASS));\n        for (var i = 0; i < moreIndicator.length; i++) {\n            var indicatorPos = void 0;\n            if (moreIndicator) {\n                indicatorPos = (this.parent.enableRtl) ? moreIndicator[parseInt(i.toString(), 10)].style.right : moreIndicator[parseInt(i.toString(), 10)].style.left;\n            }\n            if (parseInt(indicatorPos, 10) === Math.floor(appPos)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    TimelineEvent.prototype.getRowTop = function (resIndex) {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            return this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS +\n                ' ' + 'tbody td[data-group-index=\"' + resIndex.toString() + '\"]').offsetTop;\n        }\n        return 0;\n    };\n    TimelineEvent.prototype.getCellTd = function () {\n        var wrapIndex = this.parent.uiStateValues.isGroupAdaptive ? 0 : this.rowIndex;\n        return this.eventContainers[parseInt(wrapIndex.toString(), 10)];\n    };\n    TimelineEvent.prototype.renderBlockIndicator = function (cellTd, position, resIndex) {\n        // No need to render block icon for Year, Month and Week header rows\n        if (this.parent.headerRows.length > 0 &&\n            (this.parent.headerRows[this.parent.headerRows.length - 1].option !== 'Hour' ||\n                this.parent.headerRows[this.parent.headerRows.length - 1].option !== 'Date')) {\n            return;\n        }\n        position = (Math.floor(position / this.cellWidth) * this.cellWidth) + this.cellWidth - BLOCK_INDICATOR_WIDTH;\n        if (!this.isAlreadyAvail(position, cellTd)) {\n            var blockIndicator = createElement('div', { className: 'e-icons ' + cls.BLOCK_INDICATOR_CLASS });\n            if (this.parent.activeViewOptions.group.resources.length > 0) {\n                blockIndicator.setAttribute('data-group-index', resIndex.toString());\n            }\n            if (this.parent.enableRtl) {\n                blockIndicator.style.right = position + 'px';\n            }\n            else {\n                blockIndicator.style.left = position + 'px';\n            }\n            blockIndicator.style.top = this.getRowTop(resIndex) + this.cellHeight - BLOCK_INDICATOR_HEIGHT + 'px';\n            this.renderElement(cellTd, blockIndicator);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    TimelineEvent.prototype.setMaxEventHeight = function (event, cell) {\n        setStyleAttribute(event, {\n            'height': (this.cellHeight - (this.maxHeight ? 0 : EVENT_GAP) - (this.maxHeight ? 0 : this.moreIndicatorHeight)) + 'px'\n        });\n    };\n    TimelineEvent.prototype.isDayProcess = function () {\n        if (this.parent.currentView === 'TimelineMonth' || !this.parent.activeViewOptions.timeScale.enable ||\n            (this.parent.activeViewOptions.headerRows.length > 0 &&\n                this.parent.activeViewOptions.headerRows.slice(-1)[0].option !== 'Hour')) {\n            return true;\n        }\n        return false;\n    };\n    TimelineEvent.prototype.destroy = function () {\n        this.renderType = null;\n        this.eventContainers = null;\n        this.dayLength = null;\n        this.content = null;\n        _super.prototype.destroy.call(this);\n        this.parent = null;\n    };\n    return TimelineEvent;\n}(MonthEvent));\nexport { TimelineEvent };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, closest, remove, removeClass, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport { MonthEvent } from '../event-renderer/month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\n/**\n * Inline Edit interactions\n */\nvar InlineEdit = /** @class */ (function () {\n    function InlineEdit(parent) {\n        this.parent = parent;\n        this.parent.on(events.inlineClick, this.inlineEdit, this);\n    }\n    InlineEdit.prototype.inlineEdit = function (args) {\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        if (args.type === 'Cell') {\n            var moreWrapper = this.parent.element.querySelector('.' + cls.MORE_POPUP_WRAPPER_CLASS);\n            if (moreWrapper && moreWrapper.classList.contains(cls.POPUP_OPEN)) {\n                this.parent.quickPopup.morePopup.hide();\n            }\n            this.removeInlineAppointmentElement();\n            this.cellEdit(args);\n        }\n        else {\n            if (this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS) !==\n                args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS)) {\n                this.removeInlineAppointmentElement();\n            }\n            this.eventEdit(args);\n        }\n    };\n    InlineEdit.prototype.cellEdit = function (args) {\n        var saveObj = this.generateEventData();\n        var cellIndex = args.element.cellIndex;\n        var count = this.getEventDaysCount(saveObj);\n        if (count > 1) {\n            count = Math.round(count);\n            count--;\n            cellIndex = cellIndex - count;\n        }\n        var start = util.resetTime(new Date('' + saveObj[this.parent.eventFields.startTime])).getTime();\n        var end = util.resetTime(new Date('' + saveObj[this.parent.eventFields.endTime])).getTime();\n        var resIndex = args.groupIndex || 0;\n        var isVertical = this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek';\n        if (this.parent.activeViewOptions.timeScale.enable && isVertical) {\n            var dayIndex = saveObj[this.parent.eventFields.startTime].getDay();\n            this.createVerticalViewInline(saveObj, dayIndex, resIndex, cellIndex);\n        }\n        else if (this.parent.currentView === 'Month' || (!this.parent.activeViewOptions.timeScale.enable && isVertical)) {\n            this.createMonthViewInline(saveObj, resIndex, start, end);\n        }\n        else {\n            this.createTimelineViewInline(saveObj, start, end, resIndex);\n        }\n        var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (inlineSubject) {\n            inlineSubject.focus();\n        }\n    };\n    InlineEdit.prototype.eventEdit = function (args) {\n        var inlineSubject = args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        var subject;\n        if (inlineSubject) {\n            subject = inlineSubject.value;\n        }\n        else {\n            var subEle = args.element.querySelector('.' + cls.SUBJECT_CLASS);\n            if (!isNullOrUndefined(subEle)) {\n                addClass([subEle], cls.DISABLE_CLASS);\n                subject = subEle.innerText;\n            }\n            else {\n                subject = args.data[this.parent.eventFields.subject];\n            }\n            inlineSubject = createElement('input', { className: cls.INLINE_SUBJECT_CLASS, attrs: { value: subject } });\n            if (closest(args.element, '.' + cls.MORE_POPUP_WRAPPER_CLASS)) {\n                args.element.insertBefore(inlineSubject, subEle);\n            }\n            else if (['Agenda', 'MonthAgenda'].indexOf(this.parent.currentView) > -1) {\n                var subjectWrap = args.element.querySelector('.' + cls.SUBJECT_WRAP);\n                if (isNullOrUndefined(subjectWrap)) {\n                    subjectWrap = createElement('div', { className: cls.SUBJECT_WRAP });\n                    args.element.prepend(subjectWrap);\n                }\n                subjectWrap.insertBefore(inlineSubject, subjectWrap.firstChild);\n            }\n            else {\n                var elementSelector = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek', 'TimelineMonth'].indexOf(this.parent.currentView) > -1 ?\n                    '.e-inner-wrap' : '.e-appointment-details';\n                var innerWrapElement = args.element.querySelector(elementSelector);\n                if (isNullOrUndefined(innerWrapElement)) {\n                    args.element.querySelector('.e-appointment-details').prepend(inlineSubject);\n                }\n                else {\n                    innerWrapElement.prepend(inlineSubject);\n                }\n            }\n            inlineSubject.focus();\n        }\n        inlineSubject.setSelectionRange(subject.length, subject.length);\n    };\n    InlineEdit.prototype.createVerticalViewInline = function (saveObj, dayIndex, resIndex, daysCount) {\n        var _a;\n        var count = this.getEventDaysCount(saveObj);\n        var verticalEvent = new VerticalEvent(this.parent);\n        verticalEvent.initializeValues();\n        var index = verticalEvent.dateRender[parseInt(resIndex.toString(), 10)].map(function (date) { return date.getDay(); }).indexOf(dayIndex);\n        if (count >= 1) {\n            verticalEvent.allDayElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\n            (_a = verticalEvent.slots).push.apply(_a, this.parent.activeView.renderDates.map(function (date) { return +date; }));\n            var allDayElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_APPOINTMENT_CLASS));\n            var allDayLevel = 0;\n            if (allDayElements.length > 0) {\n                allDayLevel = Math.floor(this.parent.getElementHeight(this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS)) /\n                    allDayElements[0].offsetHeight) - 1;\n            }\n            verticalEvent.allDayLevel = allDayLevel;\n            var appHeight = this.parent.getElementHeightFromClass(this.parent.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS), cls.APPOINTMENT_CLASS);\n            var cellTop = verticalEvent.allDayElement.length > 0 ? verticalEvent.allDayElement[0].offsetTop : 0;\n            verticalEvent.renderAllDayEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline, cellTop, appHeight);\n        }\n        else {\n            verticalEvent.renderNormalEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline);\n        }\n    };\n    InlineEdit.prototype.createMonthViewInline = function (saveObj, index, start, end) {\n        var count = this.getEventDaysCount(saveObj);\n        var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n        var monthEvent = new MonthEvent(this.parent);\n        monthEvent.dateRender = this.parent.activeView.renderDates;\n        monthEvent.inlineValue = this.parent.allowInline;\n        var renderDates = this.parent.activeView.renderDates;\n        var workDays = this.parent.activeViewOptions.workDays;\n        var monthCellSelector = '.' + cls.WORK_CELLS_CLASS;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            monthCellSelector += '[data-group-index=\"' + index + '\"]';\n            var resourceData = this.parent.resourceBase.lastResourceLevel[parseInt(index.toString(), 10)];\n            renderDates = resourceData.renderDates;\n            workDays = resourceData.workDays;\n        }\n        monthEvent.dateRender = renderDates;\n        monthEvent.workCells = [].slice.call(this.parent.element.querySelectorAll(monthCellSelector));\n        monthEvent.cellWidth = monthEvent.workCells[0].offsetWidth;\n        monthEvent.cellHeight = monthEvent.workCells[0].offsetHeight;\n        monthEvent.eventHeight =\n            this.parent.getElementHeightFromClass(this.parent.monthModule.element || monthEvent.element, cls.APPOINTMENT_CLASS);\n        monthEvent.getSlotDates(workDays);\n        var filteredDates = monthEvent.getRenderedDates(renderDates);\n        var spannedEvents = monthEvent.splitEvent(saveObject, filteredDates || renderDates);\n        for (var _i = 0, spannedEvents_1 = spannedEvents; _i < spannedEvents_1.length; _i++) {\n            var eventData = spannedEvents_1[_i];\n            monthEvent.renderEvents(eventData, index);\n        }\n        var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        inlineSubject.focus();\n    };\n    InlineEdit.prototype.createTimelineViewInline = function (saveObj, start, end, resIndex) {\n        var count = this.getEventDaysCount(saveObj);\n        var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n        var timelineView = new TimelineEvent(this.parent, this.parent.activeViewOptions.timeScale.enable ? 'hour' : 'day');\n        timelineView.dateRender = this.parent.activeView.renderDates;\n        timelineView.eventContainers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n        var workCell = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n        timelineView.inlineValue = this.parent.allowInline;\n        timelineView.cellWidth = workCell.offsetWidth;\n        timelineView.cellHeight = workCell.offsetHeight;\n        var dayLength = this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr').length === 0 ?\n            0 : this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr')[0].children.length;\n        timelineView.slotsPerDay = dayLength / timelineView.dateRender.length;\n        timelineView.eventHeight = this.parent.getElementHeightFromClass(timelineView.element, cls.APPOINTMENT_CLASS);\n        timelineView.renderEvents(saveObject, resIndex);\n    };\n    InlineEdit.prototype.getEventDaysCount = function (saveObj) {\n        var startDate = saveObj[this.parent.eventFields.startTime];\n        var endDate = saveObj[this.parent.eventFields.endTime];\n        var daysCount = Math.abs(endDate.getTime() - startDate.getTime()) / util.MS_PER_DAY;\n        return daysCount;\n    };\n    InlineEdit.prototype.generateEventData = function (target) {\n        var inlineElement = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        var subject = inlineElement ? inlineElement.value : target ? target.innerHTML : '';\n        var saveObj = {};\n        saveObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n        saveObj[this.parent.eventFields.subject] = subject;\n        saveObj[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n        saveObj[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n        saveObj[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n        this.parent.eventWindow.setDefaultValueToObject(saveObj);\n        if (this.parent.resourceBase) {\n            this.parent.resourceBase.setResourceValues(saveObj, this.parent.activeCellsData.groupIndex);\n        }\n        return saveObj;\n    };\n    InlineEdit.prototype.documentClick = function () {\n        var target = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (target && target.value !== '') {\n            this.inlineCrudActions(target);\n        }\n        else {\n            this.removeInlineAppointmentElement();\n        }\n    };\n    InlineEdit.prototype.inlineCrudActions = function (target) {\n        if (closest(target, '.' + cls.INLINE_APPOINTMENT_CLASS)) {\n            var saveObj = this.generateEventData(target);\n            this.parent.addEvent(saveObj);\n        }\n        else {\n            var eventTarget = closest(target, '.' + cls.APPOINTMENT_CLASS);\n            var eventDetails = this.parent.getEventDetails(eventTarget);\n            eventDetails[this.parent.eventFields.subject] = target.value;\n            var currentAction = void 0;\n            if (eventDetails[this.parent.eventFields.id] === eventDetails[this.parent.eventFields.recurrenceID]) {\n                currentAction = 'EditOccurrence';\n                eventDetails[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n            }\n            this.parent.saveEvent(eventDetails, currentAction);\n        }\n        this.removeInlineAppointmentElement();\n    };\n    InlineEdit.prototype.createInlineAppointmentElement = function (inlineData) {\n        var inlineAppointmentElement = createElement('div', {\n            className: cls.APPOINTMENT_CLASS + ' ' + cls.INLINE_APPOINTMENT_CLASS\n        });\n        var inlineDetails = createElement('div', { className: cls.APPOINTMENT_DETAILS });\n        inlineAppointmentElement.appendChild(inlineDetails);\n        var inline = createElement('input', { className: cls.INLINE_SUBJECT_CLASS });\n        inlineDetails.appendChild(inline);\n        if (inlineData) {\n            this.parent.eventBase.applyResourceColor(inlineAppointmentElement, inlineData, 'backgroundColor');\n        }\n        return inlineAppointmentElement;\n    };\n    InlineEdit.prototype.removeInlineAppointmentElement = function () {\n        var inlineAppointment = [].slice.call(this.parent.element.querySelectorAll('.' + cls.INLINE_APPOINTMENT_CLASS));\n        if (inlineAppointment.length > 0) {\n            inlineAppointment.forEach(function (node) { return remove(node); });\n        }\n        var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (inlineSubject) {\n            var appointmentSubject = closest(inlineSubject, '.' + cls.APPOINTMENT_CLASS);\n            var subject = appointmentSubject.querySelector('.' + cls.SUBJECT_CLASS);\n            if (!isNullOrUndefined(subject)) {\n                removeClass([subject], cls.DISABLE_CLASS);\n            }\n            remove(inlineSubject);\n        }\n    };\n    InlineEdit.prototype.destroy = function () {\n        this.parent.off(events.inlineClick, this.inlineEdit);\n    };\n    return InlineEdit;\n}());\nexport { InlineEdit };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createElement, isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nimport { FormValidator } from '@syncfusion/ej2-inputs';\nimport * as cls from '../base/css-constant';\n/**\n * Appointment window field validation\n */\nvar FieldValidator = /** @class */ (function () {\n    function FieldValidator() {\n    }\n    FieldValidator.prototype.renderFormValidator = function (form, rules, element, locale) {\n        var _this = this;\n        this.element = element;\n        this.formObj = new FormValidator(form, {\n            locale: locale,\n            customPlacement: function (inputElement, error) {\n                _this.errorPlacement(inputElement, error);\n            },\n            rules: rules,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            focusout: function (args) {\n                _this.focusOut(args);\n            }\n        });\n    };\n    FieldValidator.prototype.focusOut = function (args) {\n        var target = args.relatedTarget;\n        if (target && (target.classList.contains('e-dlg-closeicon-btn') || target.classList.contains('e-close')\n            || target.classList.contains(cls.ALLDAY_CELLS_CLASS) || target.classList.contains(cls.HEADER_CELLS_CLASS)\n            || target.classList.contains(cls.QUICK_POPUP_EVENT_DETAILS_CLASS) || target.classList.contains(cls.WORK_CELLS_CLASS)\n            || target.classList.contains(cls.EVENT_WINDOW_CANCEL_BUTTON_CLASS))) {\n            this.ignoreError = true;\n        }\n        else {\n            this.ignoreError = false;\n        }\n    };\n    FieldValidator.prototype.validationComplete = function (args) {\n        var elem = this.element.querySelector('#' + args.inputName + '_Error');\n        if (elem) {\n            elem.style.display = (args.status === 'failure') ? '' : 'none';\n        }\n    };\n    FieldValidator.prototype.errorPlacement = function (inputElement, error) {\n        var id = error.getAttribute('for');\n        var elem = this.element.querySelector('#' + id + '_Error');\n        if (!elem && !this.ignoreError) {\n            this.createTooltip(inputElement, error, id, '');\n        }\n        if (!isNullOrUndefined(elem)) {\n            elem.querySelector('.e-error').innerHTML = error.innerHTML;\n        }\n    };\n    FieldValidator.prototype.createTooltip = function (element, error, name, display) {\n        var dlgContent;\n        var client;\n        var inputClient = element.getBoundingClientRect();\n        if (this.element.classList.contains(cls.POPUP_WRAPPER_CLASS)) {\n            dlgContent = this.element;\n            client = this.element.getBoundingClientRect();\n        }\n        else {\n            dlgContent = this.element.querySelector('.e-schedule-dialog .e-dlg-content');\n            client = dlgContent.getBoundingClientRect();\n        }\n        var div = createElement('div', {\n            className: 'e-tooltip-wrap e-popup ' + cls.ERROR_VALIDATION_CLASS,\n            id: name + '_Error',\n            styles: 'display:' + display + ';top:' +\n                (inputClient.bottom - client.top + dlgContent.scrollTop + 9) + 'px;left:' +\n                (inputClient.left - client.left + dlgContent.scrollLeft + inputClient.width / 2) + 'px;'\n        });\n        var content = createElement('div', { className: 'e-tip-content' });\n        content.appendChild(error);\n        var arrow = createElement('div', { className: 'e-arrow-tip e-tip-top' });\n        arrow.appendChild(createElement('div', { className: 'e-arrow-tip-outer e-tip-top' }));\n        arrow.appendChild(createElement('div', { className: 'e-arrow-tip-inner e-tip-top' }));\n        div.appendChild(content);\n        div.appendChild(arrow);\n        dlgContent.appendChild(div);\n        div.style.left = (parseInt(div.style.left, 10) - div.offsetWidth / 2) + 'px';\n    };\n    FieldValidator.prototype.destroyToolTip = function () {\n        if (this.element) {\n            var elements = [].slice.call(this.element.querySelectorAll('.' + cls.ERROR_VALIDATION_CLASS));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var elem = elements_1[_i];\n                remove(elem);\n            }\n        }\n        if (this.formObj && this.formObj.element) {\n            this.formObj.reset();\n        }\n    };\n    FieldValidator.prototype.destroy = function () {\n        if (this.formObj && this.formObj.element && !this.formObj.isDestroyed) {\n            this.formObj.destroy();\n        }\n        this.formObj = null;\n        this.element = null;\n    };\n    return FieldValidator;\n}());\nexport { FieldValidator };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { closest, EventHandler, isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, createElement, remove, extend } from '@syncfusion/ej2-base';\nimport { Dialog, Popup, isCollide } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { FieldValidator } from './form-validator';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\nvar EVENT_FIELD = 'e-field';\n/**\n * Quick Popups interactions\n */\nvar QuickPopups = /** @class */ (function () {\n    function QuickPopups(parent) {\n        this.isMultipleEventSelect = false;\n        this.isCrudAction = false;\n        this.parent = parent;\n        this.l10n = this.parent.localeObj;\n        this.fieldValidator = new FieldValidator();\n        this.render();\n        this.addEventListener();\n    }\n    QuickPopups.prototype.render = function () {\n        this.renderQuickPopup();\n        this.renderMorePopup();\n        this.renderQuickDialog();\n    };\n    QuickPopups.prototype.renderQuickPopup = function () {\n        var quickPopupWrapper = createElement('div', { className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close', attrs: { role: 'dialog' } });\n        if (this.parent.isAdaptive) {\n            document.body.appendChild(quickPopupWrapper);\n            addClass([quickPopupWrapper], cls.DEVICE_CLASS);\n        }\n        else {\n            this.parent.element.appendChild(quickPopupWrapper);\n        }\n        this.quickPopup = new Popup(quickPopupWrapper, {\n            targetType: (this.parent.isAdaptive ? 'container' : 'relative'),\n            enableRtl: this.parent.enableRtl,\n            open: this.quickPopupOpen.bind(this),\n            close: this.quickPopupClose.bind(this),\n            hideAnimation: (this.parent.isAdaptive ? { name: 'ZoomOut' } : { name: 'FadeOut', duration: 150 }),\n            showAnimation: (this.parent.isAdaptive ? { name: 'ZoomIn' } : { name: 'FadeIn', duration: 150 }),\n            collision: (this.parent.isAdaptive ? { X: 'fit', Y: 'fit' } :\n                (this.parent.enableRtl ? { X: 'flip', Y: 'fit' } : { X: 'none', Y: 'fit' })),\n            position: (this.parent.isAdaptive || this.parent.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }),\n            viewPortElement: (this.parent.isAdaptive ? document.body : this.parent.element),\n            zIndex: (this.parent.isAdaptive ? 1004 : 3)\n        });\n    };\n    QuickPopups.prototype.renderMorePopup = function () {\n        var moreEventPopup = \"<div class=\\\"\" + cls.MORE_EVENT_POPUP_CLASS + \"\\\"><div class=\\\"\" + cls.MORE_EVENT_HEADER_CLASS + \"\\\">\" +\n            (\"<div class=\\\"\" + cls.MORE_EVENT_CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\" tabindex=\\\"0\\\" role=\\\"button\\\"></div>\") +\n            (\"<div class=\\\"\" + cls.MORE_EVENT_DATE_HEADER_CLASS + \"\\\"><div class=\\\"\" + cls.MORE_EVENT_HEADER_DAY_CLASS + \"\\\" id=\\\"\" + this.parent.element.id + \"_more_popup\\\"></div>\") +\n            (\"<div class=\\\"\" + cls.MORE_EVENT_HEADER_DATE_CLASS + \" \" + cls.NAVIGATE_CLASS + \"\\\" tabindex=\\\"0\\\" role=\\\"link\\\"></div></div></div></div>\");\n        var moreEventWrapper = createElement('div', {\n            className: cls.MORE_POPUP_WRAPPER_CLASS + ' e-popup-close',\n            innerHTML: moreEventPopup\n        });\n        if (this.parent.isAdaptive) {\n            document.body.appendChild(moreEventWrapper);\n            addClass([moreEventWrapper], cls.DEVICE_CLASS);\n        }\n        else {\n            this.parent.element.appendChild(moreEventWrapper);\n        }\n        this.morePopup = new Popup(moreEventWrapper, {\n            targetType: (this.parent.isAdaptive ? 'container' : 'relative'),\n            enableRtl: this.parent.enableRtl,\n            hideAnimation: { name: 'ZoomOut', duration: 300 },\n            showAnimation: { name: 'ZoomIn', duration: 300 },\n            open: this.morePopupOpen.bind(this),\n            close: this.morePopupClose.bind(this),\n            collision: (this.parent.isAdaptive ? { X: 'fit', Y: 'fit' } :\n                (this.parent.enableRtl ? { X: 'flip', Y: 'fit' } : { X: 'flip', Y: 'flip' })),\n            viewPortElement: (this.parent.isAdaptive ? document.body : this.parent.element),\n            zIndex: (this.parent.isAdaptive ? 1002 : 2)\n        });\n        this.morePopup.element.setAttribute('role', 'dialog');\n        this.morePopup.element.setAttribute('aria-labelledby', this.parent.element.id + '_more_popup');\n        var closeButton = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CLOSE_CLASS);\n        this.renderButton('e-round', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeButton, this.closeClick);\n        EventHandler.add(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS), 'click', this.navigationClick, this);\n    };\n    QuickPopups.prototype.renderQuickDialog = function () {\n        var buttonModel = [\n            { buttonModel: { cssClass: 'e-quick-alertok e-flat', isPrimary: true }, click: this.dialogButtonClick.bind(this) },\n            { buttonModel: { cssClass: 'e-quick-alertcancel e-flat', isPrimary: false }, click: this.dialogButtonClick.bind(this) },\n            {\n                buttonModel: { cssClass: 'e-quick-dialog-cancel e-disable e-flat', isPrimary: false },\n                click: this.dialogButtonClick.bind(this)\n            }\n        ];\n        if (this.parent.eventSettings.editFollowingEvents) {\n            var followingSeriesButton = {\n                buttonModel: { cssClass: 'e-quick-alertfollowing e-flat', isPrimary: false }, click: this.dialogButtonClick.bind(this)\n            };\n            buttonModel.splice(1, 0, followingSeriesButton);\n        }\n        this.quickDialog = new Dialog({\n            animationSettings: { effect: 'Zoom' },\n            buttons: buttonModel,\n            cssClass: cls.QUICK_DIALOG_CLASS,\n            closeOnEscape: true,\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeClose: this.beforeQuickDialogClose.bind(this),\n            isModal: true,\n            position: { X: 'center', Y: 'center' },\n            showCloseIcon: true,\n            target: document.body,\n            visible: false,\n            width: 'auto'\n        });\n        var dialogElement = createElement('div', { id: this.parent.element.id + 'QuickDialog' });\n        this.parent.element.appendChild(dialogElement);\n        this.quickDialog.appendTo(dialogElement);\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        if (okButton) {\n            okButton.setAttribute('aria-label', this.l10n.getConstant('occurrence'));\n            okButton.setAttribute('aria-label', okButton.innerHTML);\n        }\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        if (cancelButton) {\n            cancelButton.setAttribute('aria-label', this.l10n.getConstant('series'));\n            cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n        }\n        if (this.quickDialog.element.querySelector('.e-dlg-closeicon-btn')) {\n            this.quickDialog.element.querySelector('.e-dlg-closeicon-btn').setAttribute('title', this.l10n.getConstant('close'));\n        }\n    };\n    // eslint-disable-next-line max-len\n    QuickPopups.prototype.renderButton = function (className, iconName, isDisabled, element, clickEvent) {\n        var buttonObj = new Button({\n            cssClass: className,\n            disabled: isDisabled,\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            iconCss: iconName\n        });\n        buttonObj.appendTo(element);\n        EventHandler.add(element, 'click', clickEvent, this);\n        removeClass([element], cls.ICON);\n    };\n    QuickPopups.prototype.quickDialogClass = function (action) {\n        var classList = [\n            cls.QUICK_DIALOG_OCCURRENCE_CLASS, cls.QUICK_DIALOG_SERIES_CLASS, cls.QUICK_DIALOG_DELETE_CLASS,\n            cls.QUICK_DIALOG_CANCEL_CLASS, cls.QUICK_DIALOG_ALERT_BTN_CLASS, cls.DISABLE_CLASS\n        ];\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        var followingEventButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_FOLLOWING);\n        removeClass([okButton, cancelButton], classList);\n        addClass([this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_CANCEL_CLASS)], cls.DISABLE_CLASS);\n        if (this.parent.eventSettings.editFollowingEvents) {\n            addClass([followingEventButton], cls.DISABLE_CLASS);\n            removeClass([this.quickDialog.element], cls.FOLLOWING_EVENTS_DIALOG);\n        }\n        switch (action) {\n            case 'Recurrence':\n                addClass([okButton], cls.QUICK_DIALOG_OCCURRENCE_CLASS);\n                addClass([cancelButton], cls.QUICK_DIALOG_SERIES_CLASS);\n                if (this.parent.eventSettings.editFollowingEvents) {\n                    removeClass([followingEventButton], cls.DISABLE_CLASS);\n                    addClass([this.quickDialog.element], cls.FOLLOWING_EVENTS_DIALOG);\n                    addClass([followingEventButton], cls.QUICK_DIALOG_FOLLOWING_EVENTS_CLASS);\n                }\n                break;\n            case 'Delete':\n                addClass([okButton], cls.QUICK_DIALOG_DELETE_CLASS);\n                addClass([cancelButton], cls.QUICK_DIALOG_CANCEL_CLASS);\n                break;\n            case 'Alert':\n                addClass([okButton], [cls.QUICK_DIALOG_ALERT_OK, cls.QUICK_DIALOG_ALERT_BTN_CLASS]);\n                addClass([cancelButton], [cls.QUICK_DIALOG_ALERT_CANCEL, cls.DISABLE_CLASS]);\n                break;\n        }\n    };\n    QuickPopups.prototype.applyFormValidation = function () {\n        var form = this.quickPopup.element.querySelector('.' + cls.FORM_CLASS);\n        var rules = {};\n        rules[this.parent.eventSettings.fields.subject.name] = this.parent.eventSettings.fields.subject.validation;\n        this.fieldValidator.renderFormValidator(form, rules, this.quickPopup.element, this.parent.locale);\n    };\n    QuickPopups.prototype.openRecurrenceAlert = function () {\n        var editDeleteOnly = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        if (editDeleteOnly) {\n            editDeleteOnly.innerHTML = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteEvent' : 'editEvent');\n            editDeleteOnly.setAttribute('aria-label', editDeleteOnly.innerHTML);\n        }\n        var editFollowingEventsOnly = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_FOLLOWING);\n        if (editFollowingEventsOnly) {\n            editFollowingEventsOnly.innerHTML = this.l10n.getConstant('editFollowingEvent');\n            editFollowingEventsOnly.setAttribute('aria-label', editFollowingEventsOnly.innerHTML);\n        }\n        var editDeleteSeries = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        if (editDeleteSeries) {\n            editDeleteSeries.innerHTML = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteSeries' : 'editSeries');\n            editDeleteSeries.setAttribute('aria-label', editDeleteSeries.innerHTML);\n        }\n        this.quickDialog.content = this.l10n.getConstant('editContent');\n        this.quickDialog.header = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteTitle' : 'editTitle');\n        this.quickDialogClass('Recurrence');\n        this.showQuickDialog('RecurrenceAlert');\n    };\n    QuickPopups.prototype.openRecurrenceValidationAlert = function (type) {\n        this.quickDialogClass('Alert');\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        okButton.innerHTML = this.l10n.getConstant('ok');\n        okButton.setAttribute('aria-label', okButton.innerHTML);\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        cancelButton.innerHTML = this.l10n.getConstant('cancel');\n        cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n        this.quickDialog.header = this.l10n.getConstant('alert');\n        var dialogCancel;\n        switch (type) {\n            case 'wrongPattern':\n                addClass([cancelButton], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('wrongPattern');\n                break;\n            case 'createError':\n                addClass([cancelButton], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('createError');\n                break;\n            case 'sameDayAlert':\n                addClass([cancelButton], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('sameDayAlert');\n                break;\n            case 'seriesChangeAlert':\n                dialogCancel = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_CANCEL_CLASS);\n                removeClass([cancelButton, dialogCancel], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('seriesChangeAlert');\n                okButton.innerHTML = this.l10n.getConstant('yes');\n                cancelButton.innerHTML = this.l10n.getConstant('no');\n                dialogCancel.innerHTML = this.l10n.getConstant('cancel');\n                break;\n            case 'occurrenceAlert':\n                addClass([cancelButton], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('occurenceAlert');\n                break;\n        }\n        if ((!this.parent.enableRecurrenceValidation && type === 'wrongPattern') || this.parent.enableRecurrenceValidation) {\n            this.showQuickDialog('RecurrenceValidationAlert');\n        }\n    };\n    QuickPopups.prototype.openDeleteAlert = function () {\n        if (this.parent.activeViewOptions.readonly) {\n            return;\n        }\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        if (okButton) {\n            okButton.innerHTML = this.l10n.getConstant('delete');\n            okButton.setAttribute('aria-label', okButton.innerHTML);\n        }\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        if (cancelButton) {\n            cancelButton.innerHTML = this.l10n.getConstant('cancel');\n            cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n        }\n        this.quickDialog.content = (this.parent.activeEventData.event.length > 1) ?\n            this.l10n.getConstant('deleteMultipleContent') : this.l10n.getConstant('deleteContent');\n        this.quickDialog.header = (this.parent.activeEventData.event.length > 1) ?\n            this.l10n.getConstant('deleteMultipleEvent') : this.l10n.getConstant('deleteEvent');\n        this.quickDialogClass('Delete');\n        this.showQuickDialog('DeleteAlert');\n    };\n    QuickPopups.prototype.openValidationError = function (type, eventData) {\n        this.quickDialog.header = this.l10n.getConstant('alert');\n        this.quickDialog.content = this.l10n.getConstant(type);\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        if (okButton) {\n            okButton.innerHTML = this.l10n.getConstant('ok');\n            okButton.setAttribute('aria-label', okButton.innerHTML);\n        }\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        if (cancelButton) {\n            cancelButton.innerHTML = this.l10n.getConstant('cancel');\n            okButton.setAttribute('aria-label', cancelButton.innerHTML);\n        }\n        this.quickDialogClass('Alert');\n        this.showQuickDialog('ValidationAlert', eventData);\n    };\n    QuickPopups.prototype.showQuickDialog = function (popupType, eventData) {\n        var _this = this;\n        this.quickDialog.dataBind();\n        var eventProp = {\n            type: popupType, cancel: false, element: this.quickDialog.element,\n            data: extend({}, (eventData || this.parent.activeEventData.event), null, true)\n        };\n        this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n            if (!popupArgs.cancel) {\n                _this.quickDialog.show();\n            }\n        });\n    };\n    QuickPopups.prototype.createMoreEventList = function (eventCollection, groupOrder, groupIndex) {\n        var _this = this;\n        var fields = this.parent.eventFields;\n        var moreEventContentEle = createElement('div', { className: cls.MORE_EVENT_CONTENT_CLASS });\n        var moreEventWrapperEle = createElement('div', { className: cls.MORE_EVENT_WRAPPER_CLASS });\n        if (eventCollection.length === 0) {\n            moreEventWrapperEle = createElement('div', {\n                className: cls.MORE_EVENT_CONTENT_CLASS,\n                innerHTML: this.l10n.getConstant('emptyContainer')\n            });\n        }\n        else {\n            var _loop_1 = function (eventData) {\n                var eventText = (eventData[fields.subject] || this_1.parent.eventSettings.fields.subject.default\n                    || this_1.parent.localeObj.getConstant('addTitle'));\n                var appointmentElement = createElement('div', {\n                    className: cls.APPOINTMENT_CLASS,\n                    attrs: {\n                        'data-id': '' + eventData[fields.id],\n                        'data-guid': eventData.Guid, 'role': 'button', 'tabindex': '0',\n                        'aria-disabled': this_1.parent.eventBase.getReadonlyAttribute(eventData),\n                        'aria-label': this_1.parent.getAnnouncementString(eventData)\n                    }\n                });\n                if (eventData[fields.isReadonly]) {\n                    addClass([appointmentElement], 'e-read-only');\n                }\n                var templateElement = void 0;\n                if (!isNullOrUndefined(this_1.parent.activeViewOptions.eventTemplate)) {\n                    var tempId = this_1.parent.element.id + '_' + this_1.parent.activeViewOptions.eventTemplateName + 'eventTemplate';\n                    templateElement = this_1.parent.getAppointmentTemplate()(eventData, this_1.parent, 'eventTemplate', tempId, false, undefined, undefined, this_1.parent.root);\n                    append(templateElement, appointmentElement);\n                }\n                else {\n                    appointmentElement.appendChild(createElement('div', { className: cls.SUBJECT_CLASS }));\n                    this_1.parent.sanitize(eventText, appointmentElement.firstElementChild);\n                }\n                if (!isNullOrUndefined(groupIndex)) {\n                    appointmentElement.setAttribute('data-group-index', groupIndex);\n                }\n                if (!isNullOrUndefined(eventData[fields.recurrenceRule])) {\n                    var iconClass = (eventData[fields.id] === eventData[fields.recurrenceID]) ?\n                        cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n                    appointmentElement.appendChild(createElement('div', { className: cls.ICON + ' ' + iconClass }));\n                }\n                var args = {\n                    data: extend({}, eventData, null, true),\n                    element: appointmentElement, cancel: false\n                };\n                this_1.parent.trigger(event.eventRendered, args, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        moreEventWrapperEle.appendChild(appointmentElement);\n                        var isPreventCrud = _this.parent.isAdaptive || _this.parent.currentView === 'Year';\n                        _this.parent.eventBase.wireAppointmentEvents(appointmentElement, eventData, isPreventCrud);\n                        _this.parent.eventBase.applyResourceColor(appointmentElement, eventData, 'backgroundColor', groupOrder);\n                    }\n                });\n            };\n            var this_1 = this;\n            for (var _i = 0, eventCollection_1 = eventCollection; _i < eventCollection_1.length; _i++) {\n                var eventData = eventCollection_1[_i];\n                _loop_1(eventData);\n            }\n        }\n        moreEventContentEle.appendChild(moreEventWrapperEle);\n        return moreEventContentEle;\n    };\n    QuickPopups.prototype.tapHoldEventPopup = function (e) {\n        var target = closest(e.target, '.' + cls.APPOINTMENT_CLASS);\n        this.parent.selectedElements = [];\n        this.isMultipleEventSelect = true;\n        this.parent.eventBase.getSelectedEventElements(target);\n        this.parent.activeEventData = this.parent.eventBase.getSelectedEvents();\n        var guid = target.getAttribute('data-guid');\n        var eventObj = this.parent.eventBase.getEventByGuid(guid);\n        if (isNullOrUndefined(eventObj)) {\n            return;\n        }\n        var eventTitle = (eventObj[this.parent.eventFields.subject] || this.l10n.getConstant('noTitle'));\n        var eventTemplate = \"<div class=\\\"\" + cls.MULTIPLE_EVENT_POPUP_CLASS + \"\\\"><div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\">\" +\n            (\"<button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\"></button>\") +\n            (\"<div class=\\\"\" + cls.SUBJECT_CLASS + \"\\\">\" + eventTitle + \"</div>\") +\n            (\"<button class=\\\"\" + cls.EDIT_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\"></button>\") +\n            (\"<button class=\\\"\" + cls.DELETE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\"></button></div></div>\");\n        this.quickPopup.element.innerHTML = eventTemplate;\n        var closeIcon = this.quickPopup.element.querySelector('.' + cls.CLOSE_CLASS);\n        this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.closeClick);\n        var readonly = this.parent.activeViewOptions.readonly || eventObj[this.parent.eventFields.isReadonly];\n        var editAction = !this.parent.eventSettings.allowEditing || readonly;\n        var deleteAction = !this.parent.eventSettings.allowDeleting || readonly;\n        var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n        if (editIcon) {\n            this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.EDIT_ICON_CLASS, editAction, editIcon, this.editClick);\n        }\n        var deleteIcon = this.quickPopup.element.querySelector('.' + cls.DELETE_CLASS);\n        if (deleteIcon) {\n            this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.DELETE_ICON_CLASS, deleteAction, deleteIcon, this.deleteClick);\n        }\n        this.beforeQuickPopupOpen(target, this.parent.eventBase.getPageCoordinates(e));\n    };\n    QuickPopups.prototype.isCellBlocked = function (args) {\n        var tempObj = {};\n        tempObj[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n        tempObj[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n        tempObj[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var targetCell = args.element instanceof Array ? args.element[0] : args.element;\n            var groupIndex = parseInt(targetCell.getAttribute('data-group-index'), 10);\n            this.parent.resourceBase.setResourceValues(tempObj, isNaN(groupIndex) ? null : groupIndex);\n        }\n        return this.parent.eventBase.isBlockRange(tempObj);\n    };\n    QuickPopups.prototype.cellClick = function (args) {\n        var date = new Date(args.startTime.getTime());\n        if (!this.parent.showQuickInfo || !this.parent.eventSettings.allowAdding ||\n            this.parent.currentView === 'MonthAgenda' || this.isCellBlocked(args) ||\n            !this.parent.isMinMaxDate(new Date(date.setHours(0, 0, 0, 0)))) {\n            this.quickPopupHide();\n            return;\n        }\n        var targetEle = !isNullOrUndefined(args.event) ? args.event.target : args.element;\n        if (this.parent.isAdaptive) {\n            this.quickPopupHide();\n            var newEventClone = this.parent.element.querySelector('.' + cls.NEW_EVENT_CLASS);\n            if (isNullOrUndefined(newEventClone)) {\n                newEventClone = createElement('div', {\n                    className: cls.NEW_EVENT_CLASS,\n                    innerHTML: \"<div class=\\\"e-title\\\">+ \" + this.l10n.getConstant('newEvent') + \"</div>\"\n                });\n            }\n            var targetCell = closest(targetEle, '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS);\n            if (targetCell) {\n                targetCell.appendChild(newEventClone);\n            }\n            return;\n        }\n        var target = closest(targetEle, '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' +\n            cls.HEADER_CELLS_CLASS);\n        if (isNullOrUndefined(target) || targetEle.classList.contains(cls.MORE_INDICATOR_CLASS)) {\n            return;\n        }\n        var isSameTarget = this.quickPopup.relateTo === target;\n        if (isSameTarget && this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n            var subjectElement_1 = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n            if (subjectElement_1) {\n                subjectElement_1.focus();\n            }\n            return;\n        }\n        else if (this.quickPopup.element) {\n            this.destroyPopupButtons('quickPopup');\n        }\n        var temp = {};\n        temp[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n        temp[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n        temp[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n        var quickCellPopup = createElement('div', { className: cls.CELL_POPUP_CLASS });\n        quickCellPopup.appendChild(this.getPopupHeader('Cell', temp));\n        quickCellPopup.appendChild(this.getPopupContent('Cell', args, temp));\n        quickCellPopup.appendChild(this.getPopupFooter('Cell', temp));\n        this.quickPopup.element.setAttribute('aria-label', this.l10n.getConstant('newEvent'));\n        var subjectElement = quickCellPopup.querySelector('.' + cls.SUBJECT_CLASS);\n        if (subjectElement) {\n            Input.createInput({ element: subjectElement, properties: { placeholder: this.l10n.getConstant('addTitle') } });\n        }\n        if (!isNullOrUndefined(this.parent.eventSettings.fields.subject.default)) {\n            subjectElement.value = this.parent.eventSettings.fields.subject.default;\n        }\n        var closeIcon = quickCellPopup.querySelector('.' + cls.CLOSE_CLASS);\n        if (closeIcon) {\n            this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.popupClose);\n        }\n        var moreButton = quickCellPopup.querySelector('.' + cls.QUICK_POPUP_EVENT_DETAILS_CLASS);\n        if (moreButton) {\n            this.renderButton('e-flat', '', false, moreButton, this.detailsClick);\n        }\n        var saveButton = quickCellPopup.querySelector('.' + cls.EVENT_CREATE_CLASS);\n        if (saveButton) {\n            this.renderButton('e-flat e-primary', '', this.parent.activeViewOptions.readonly, saveButton, this.saveClick);\n        }\n        if (this.morePopup) {\n            this.morePopup.hide();\n        }\n        this.quickPopup.content = quickCellPopup;\n        this.quickPopup.relateTo = target;\n        this.quickPopup.dataBind();\n        this.beforeQuickPopupOpen(target, this.parent.eventBase.getPageCoordinates(args.event));\n    };\n    QuickPopups.prototype.isSameEventClick = function (events) {\n        var isSameTarget = this.quickPopup.relateTo === closest(events.element, '.' + cls.APPOINTMENT_CLASS);\n        if (isSameTarget && this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n            var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n            if (editIcon) {\n                editIcon.focus();\n            }\n            if (!this.parent.isAdaptive) {\n                var editButton = this.quickPopup.element.querySelector('.' + cls.EDIT_EVENT_CLASS);\n                if (editButton) {\n                    editButton.focus();\n                }\n            }\n            return true;\n        }\n        return false;\n    };\n    QuickPopups.prototype.isQuickTemplate = function (type) {\n        return this.parent.quickInfoTemplates.templateType === 'Both' || this.parent.quickInfoTemplates.templateType === type;\n    };\n    QuickPopups.prototype.eventClick = function (events) {\n        if (this.parent.eventTooltip) {\n            this.parent.eventTooltip.close();\n        }\n        if (!this.parent.showQuickInfo) {\n            return;\n        }\n        if (this.parent.isAdaptive && this.isMultipleEventSelect) {\n            this.updateTapHoldEventPopup(closest(events.element, '.' + cls.APPOINTMENT_CLASS));\n        }\n        else {\n            var isSameTarget = this.isSameEventClick(events);\n            this.parent.selectedElements = [];\n            if (isSameTarget) {\n                return;\n            }\n            else if (this.quickPopup.element) {\n                this.destroyPopupButtons('quickPopup');\n            }\n            var eventData = events.event;\n            var quickEventPopup = createElement('div', { className: cls.EVENT_POPUP_CLASS });\n            quickEventPopup.appendChild(this.getPopupHeader('Event', eventData));\n            quickEventPopup.appendChild(this.getPopupContent('Event', events, eventData));\n            quickEventPopup.appendChild(this.getPopupFooter('Event', eventData));\n            this.quickPopup.element.setAttribute('aria-label', this.l10n.getConstant('editEvent'));\n            var readonly = this.parent.activeViewOptions.readonly || eventData[this.parent.eventFields.isReadonly];\n            var editAction = !this.parent.eventSettings.allowEditing || readonly;\n            var deleteAction = !this.parent.eventSettings.allowDeleting || readonly;\n            var editIcon = quickEventPopup.querySelector('.' + cls.EDIT_CLASS);\n            var buttonClass = 'e-flat e-round e-small';\n            if (editIcon) {\n                this.renderButton(buttonClass, cls.ICON + ' ' + cls.EDIT_ICON_CLASS, editAction, editIcon, this.editClick);\n            }\n            var deleteIcon = quickEventPopup.querySelector('.' + cls.DELETE_CLASS);\n            if (deleteIcon) {\n                this.renderButton(buttonClass, cls.ICON + ' ' + cls.DELETE_ICON_CLASS, deleteAction, deleteIcon, this.deleteClick);\n            }\n            var closeIcon = quickEventPopup.querySelector('.' + cls.CLOSE_CLASS);\n            if (closeIcon) {\n                this.renderButton(buttonClass, cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.popupClose);\n            }\n            var editButton = quickEventPopup.querySelector('.' + cls.EDIT_EVENT_CLASS);\n            if (editButton) {\n                this.renderButton('e-flat e-primary', '', editAction, editButton, this.editClick);\n            }\n            var deleteButton = quickEventPopup.querySelector('.' + cls.DELETE_EVENT_CLASS);\n            if (deleteButton) {\n                this.renderButton('e-flat', '', deleteAction, deleteButton, this.deleteClick);\n            }\n            if (this.morePopup && !closest(events.element, '.' + cls.MORE_EVENT_WRAPPER_CLASS)) {\n                this.morePopup.hide();\n            }\n            this.quickPopup.content = quickEventPopup;\n            this.quickPopup.relateTo = this.parent.isAdaptive ? document.body :\n                closest(events.element, '.' + cls.APPOINTMENT_CLASS);\n            this.quickPopup.dataBind();\n            this.beforeQuickPopupOpen(events.element, this.parent.eventBase.getPageCoordinates(events.originalEvent));\n        }\n    };\n    QuickPopups.prototype.getPopupHeader = function (headerType, headerData) {\n        var headerTemplate = createElement('div', { className: cls.POPUP_HEADER_CLASS });\n        if (this.isQuickTemplate(headerType) && this.parent.quickInfoTemplates.header) {\n            var headerArgs = extend({}, headerData, { elementType: headerType.toLowerCase() }, true);\n            var templateId = this.parent.element.id;\n            var headerTemp = [].slice.call(this.parent.getQuickInfoTemplatesHeader()(headerArgs, this.parent, 'header', templateId + '_headerTemplate', false));\n            append([].slice.call(headerTemp), headerTemplate);\n        }\n        else {\n            var header = void 0;\n            var args = void 0;\n            switch (headerType) {\n                case 'Cell':\n                    header = \"<div class=\\\"\" + cls.POPUP_HEADER_ICON_WRAPPER + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\" +\n                        (\"\\\"\" + this.l10n.getConstant('close') + \"\\\"></button></div>\");\n                    break;\n                case 'Event':\n                    args = this.getFormattedString(headerData);\n                    header = \"<div class=\\\"\" + cls.POPUP_HEADER_ICON_WRAPPER + \"\\\">\" +\n                        (\"<button class=\\\"\" + (cls.EDIT_CLASS + ' ' + cls.ICON) + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\"></button>\") +\n                        (\"<button class=\\\"\" + (cls.DELETE_CLASS + ' ' + cls.ICON) + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\"></button>\") +\n                        (\"<button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\"></button></div>\") +\n                        (\"<div class=\\\"\" + cls.SUBJECT_WRAP + \"\\\"><div class=\\\"\" + cls.SUBJECT_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" \") +\n                        (\"title=\\\"\" + (args.eventSubject ? args.eventSubject.replaceAll('\"', '\\'') : args.eventSubject) + \"\\\"></div></div >\");\n                    break;\n            }\n            var templateWrapper = createElement('div', { innerHTML: header });\n            if (headerType === 'Event') {\n                var subjectText = templateWrapper.querySelector('.' + cls.SUBJECT_CLASS);\n                this.parent.sanitize(args.eventSubject, subjectText);\n            }\n            append([].slice.call(templateWrapper.childNodes), headerTemplate);\n        }\n        return headerTemplate;\n    };\n    QuickPopups.prototype.getPopupContent = function (type, args, data) {\n        var contentTemplate = createElement('div', { className: cls.POPUP_CONTENT_CLASS });\n        if (this.isQuickTemplate(type) && this.parent.quickInfoTemplates.content) {\n            var contentArgs = extend({}, data, { elementType: type.toLowerCase() }, true);\n            var templateId = this.parent.element.id;\n            var contentTemp = [].slice.call(this.parent.getQuickInfoTemplatesContent()(contentArgs, this.parent, 'content', templateId + '_contentTemplate', false));\n            append([].slice.call(contentTemp), contentTemplate);\n        }\n        else {\n            var content = void 0;\n            var cellDetails = void 0;\n            var argsData = void 0;\n            var resourceText = this.getResourceText(args, type.toLowerCase());\n            switch (type) {\n                case 'Cell':\n                    cellDetails = this.getFormattedString(data);\n                    content = \"<table class=\\\"\" + cls.POPUP_TABLE_CLASS + \"\\\"><tbody><tr><td><form class=\\\"\" + cls.FORM_CLASS + \"\\\" onsubmit=\" +\n                        (\"\\\"return false;\\\"><input class=\\\"\" + cls.SUBJECT_CLASS + \" \" + EVENT_FIELD + \"\\\" type=\\\"text\\\" name=\") +\n                        (\"\\\"\" + this.parent.eventFields.subject + \"\\\" /></form></td></tr><tr><td><div class=\\\"\" + cls.DATE_TIME_CLASS + \"\\\">\") +\n                        (\"<div class=\\\"\" + cls.DATE_TIME_ICON_CLASS + \" \" + cls.ICON + \"\\\"></div><div class=\\\"\" + cls.DATE_TIME_DETAILS_CLASS + \" \") +\n                        (cls.TEXT_ELLIPSIS + \"\\\">\" + cellDetails.details + \"</div></div>\") +\n                        ((this.parent.activeViewOptions.group.resources.length > 0 ? \"<div class=\\\"\" + cls.RESOURCE_CLASS + \"\\\">\" +\n                            (\"<div class=\\\"\" + cls.RESOURCE_ICON_CLASS + \" \" + cls.ICON + \" \\\"></div><div class=\\\"\" + cls.RESOURCE_DETAILS_CLASS + \" \") +\n                            (cls.TEXT_ELLIPSIS + \"\\\"></div></div>\") : '') + \"</td></tr></tbody></table>\");\n                    break;\n                case 'Event':\n                    argsData = this.getFormattedString(data);\n                    content = '<div class=\"' + cls.DATE_TIME_CLASS + '\"><div class=\"' + cls.DATE_TIME_ICON_CLASS + ' ' + cls.ICON +\n                        '\"></div><div class=\"' + cls.DATE_TIME_WRAPPER_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"><div class=\"' +\n                        cls.DATE_TIME_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' + argsData.details + '</div>';\n                    if (data[this.parent.eventFields.recurrenceRule]) {\n                        content += '<div class=\"' + cls.RECURRENCE_SUMMARY_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' +\n                            this.getRecurrenceSummary(data) + '</div>';\n                    }\n                    content += '</div></div>';\n                    if (data[this.parent.eventFields.location]) {\n                        content += '<div class=\"' + cls.LOCATION_CLASS + '\"><div class=\"' + cls.LOCATION_ICON_CLASS + ' ' +\n                            cls.ICON + '\"></div><div class=\"' + cls.LOCATION_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n                    }\n                    if (data[this.parent.eventFields.startTimezone] || data[this.parent.eventFields.endTimezone]) {\n                        content += '<div class=\"' + cls.TIME_ZONE_CLASS + '\"><div class=\"' + cls.TIME_ZONE_ICON_CLASS + ' ' + cls.ICON +\n                            '\"></div><div class=\"' + cls.TIME_ZONE_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' +\n                            this.getTimezone(data) + '</div></div>';\n                    }\n                    if (data[this.parent.eventFields.description]) {\n                        content += '<div class=\"' + cls.DESCRIPTION_CLASS + '\"><div class=\"' + cls.DESCRIPTION_ICON_CLASS + ' ' + cls.ICON +\n                            '\"></div><div class=\"' + cls.DESCRIPTION_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n                    }\n                    if (this.parent.resourceCollection.length > 0) {\n                        content += '<div class=\"' + cls.RESOURCE_CLASS + '\"><div class=\"' + cls.RESOURCE_ICON_CLASS + ' ' + cls.ICON +\n                            '\"></div><div class=\"' + cls.RESOURCE_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n                    }\n                    break;\n            }\n            var templateWrapper = createElement('div', { innerHTML: content });\n            if (data[this.parent.eventFields.location]) {\n                var locationDetails = templateWrapper.querySelector('.' + cls.LOCATION_DETAILS_CLASS);\n                if (!isNullOrUndefined(locationDetails)) {\n                    this.parent.sanitize(data[this.parent.eventFields.location], locationDetails);\n                }\n            }\n            if (data[this.parent.eventFields.description]) {\n                var descriptionDetails = templateWrapper.querySelector('.' + cls.DESCRIPTION_DETAILS_CLASS);\n                if (!isNullOrUndefined(descriptionDetails)) {\n                    this.parent.sanitize(data[this.parent.eventFields.description], descriptionDetails);\n                }\n            }\n            if (resourceText) {\n                var resourceDetails = templateWrapper.querySelector('.' + cls.RESOURCE_DETAILS_CLASS);\n                if (!isNullOrUndefined(resourceDetails)) {\n                    this.parent.sanitize(resourceText, resourceDetails);\n                }\n            }\n            append([].slice.call(templateWrapper.childNodes), contentTemplate);\n        }\n        return contentTemplate;\n    };\n    QuickPopups.prototype.getPopupFooter = function (footerType, footerData) {\n        var footerTemplate = createElement('div', { className: cls.POPUP_FOOTER_CLASS });\n        if (this.isQuickTemplate(footerType) && this.parent.quickInfoTemplates.footer) {\n            var footerArgs = extend({}, footerData, { elementType: footerType.toLowerCase() }, true);\n            var templateId = this.parent.element.id;\n            var footerTemp = [].slice.call(this.parent.getQuickInfoTemplatesFooter()(footerArgs, this.parent, 'footer', templateId + '_footerTemplate', false));\n            append([].slice.call(footerTemp), footerTemplate);\n        }\n        else {\n            var footer = void 0;\n            switch (footerType) {\n                case 'Cell':\n                    footer = \"<button class=\\\"\" + (cls.QUICK_POPUP_EVENT_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS) + \"\\\" title=\" +\n                        (\"\\\"\" + this.l10n.getConstant('moreDetails') + \"\\\">\" + this.l10n.getConstant('moreDetails') + \"</button>\") +\n                        (\"<button class=\\\"\" + cls.EVENT_CREATE_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('save') + \"\\\">\") +\n                        (this.l10n.getConstant('save') + \"</button>\");\n                    break;\n                case 'Event':\n                    footer = \"\" + (this.parent.isAdaptive ? '' : \"<button class=\\\"\" + cls.EDIT_EVENT_CLASS + \" \" +\n                        (cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\">\" + this.l10n.getConstant('edit') + \"</button>\") +\n                        (\"<button class=\\\"\" + cls.DELETE_EVENT_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\">\") +\n                        (this.l10n.getConstant('delete') + \"</button>\"));\n                    break;\n            }\n            var templateWrapper = createElement('div', { innerHTML: footer });\n            append([].slice.call(templateWrapper.childNodes), footerTemplate);\n        }\n        return footerTemplate;\n    };\n    QuickPopups.prototype.getResourceText = function (args, type) {\n        if (this.parent.resourceCollection.length === 0) {\n            return null;\n        }\n        var resourceValue = '';\n        if (this.parent.activeViewOptions.group.resources.length === 0) {\n            var resourceCollection_1 = this.parent.resourceBase.resourceCollection.slice(-1)[0];\n            var resourceData = resourceCollection_1.dataSource;\n            if (type === 'event') {\n                var eventData = args.event;\n                var _loop_2 = function (data) {\n                    var resourceId = eventData[resourceCollection_1.field];\n                    if (resourceId instanceof Array) {\n                        if (resourceId.indexOf(data[resourceCollection_1.idField]) > -1) {\n                            var id_1 = resourceId[resourceId.indexOf(data[resourceCollection_1.idField])];\n                            var resource = resourceData.filter(function (e) {\n                                return e[resourceCollection_1.idField] === id_1;\n                            })[0];\n                            resourceValue += (resourceValue === '') ? resource[resourceCollection_1.textField] :\n                                ', ' + resource[resourceCollection_1.textField];\n                        }\n                    }\n                    else if (data[resourceCollection_1.idField] === resourceId) {\n                        resourceValue = data[resourceCollection_1.textField].toString();\n                    }\n                };\n                for (var _i = 0, resourceData_1 = resourceData; _i < resourceData_1.length; _i++) {\n                    var data = resourceData_1[_i];\n                    _loop_2(data);\n                }\n            }\n            else {\n                resourceValue = resourceData[0][resourceCollection_1.textField].toString();\n            }\n        }\n        else {\n            if (type === 'event') {\n                var eventData = args.event;\n                var resourceData = void 0;\n                var lastResource_1;\n                for (var i = this.parent.resourceBase.resourceCollection.length - 1; i >= 0; i--) {\n                    resourceData = eventData[this.parent.resourceBase.resourceCollection[parseInt(i.toString(), 10)].field];\n                    if (!isNullOrUndefined(resourceData)) {\n                        lastResource_1 = this.parent.resourceBase.resourceCollection[parseInt(i.toString(), 10)];\n                        break;\n                    }\n                }\n                if (!Array.isArray(resourceData)) {\n                    resourceData = [resourceData];\n                }\n                var resNames_1 = [];\n                var lastResourceData_1 = lastResource_1.dataSource;\n                resourceData.forEach(function (value) {\n                    var text;\n                    var i = util.findIndexInData(lastResourceData_1, lastResource_1.idField, value);\n                    if (i > -1) {\n                        text = lastResourceData_1[parseInt(i.toString(), 10)][lastResource_1.textField];\n                    }\n                    if (text) {\n                        resNames_1.push(text);\n                    }\n                });\n                resourceValue = resNames_1.join(', ');\n            }\n            else {\n                var argsData = args;\n                var groupIndex = !isNullOrUndefined(argsData.groupIndex) ? argsData.groupIndex : 0;\n                var resourceDetails = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex.toString(), 10)];\n                resourceValue = resourceDetails.resourceData[resourceDetails.resource.textField];\n            }\n        }\n        return resourceValue;\n    };\n    QuickPopups.prototype.getFormattedString = function (eventData) {\n        var fields = this.parent.eventFields;\n        var eventSubject = (eventData[fields.subject] || this.l10n.getConstant('noTitle'));\n        var startDate = eventData[fields.startTime];\n        var endDate = eventData[fields.endTime];\n        var startDateDetails = this.getDateFormat(startDate, 'long');\n        var endDateDetails = (eventData[fields.isAllDay] && endDate.getHours() === 0 && endDate.getMinutes() === 0) ?\n            this.getDateFormat(util.addDays(new Date(endDate.getTime()), -1), 'long') :\n            this.getDateFormat(endDate, 'long');\n        var startTimeDetail = this.parent.getTimeString(startDate);\n        var endTimeDetail = this.parent.getTimeString(endDate);\n        var details = '';\n        var spanLength = endDate.getDate() !== startDate.getDate() &&\n            (endDate.getTime() - startDate.getTime()) / (60 * 60 * 1000) < 24 ? 1 : 0;\n        if (eventData[fields.isAllDay]) {\n            details = startDateDetails + ' (' + this.l10n.getConstant('allDay') + ')';\n            if (((util.getUniversalTime(endDate) - util.getUniversalTime(startDate)) / util.MS_PER_DAY) > 1) {\n                details += '&nbsp;-&nbsp;' + endDateDetails + ' (' + this.l10n.getConstant('allDay') + ')';\n            }\n        }\n        else if ((((util.getUniversalTime(endDate) - util.getUniversalTime(startDate)) / util.MS_PER_DAY) >= 1) || spanLength > 0) {\n            details = startDateDetails + ' (' + startTimeDetail + ')' + '&nbsp;-&nbsp;' + endDateDetails + ' (' + endTimeDetail + ')';\n        }\n        else {\n            details = startDateDetails + ' (' + (startTimeDetail + '&nbsp;-&nbsp;' + endTimeDetail) + ')';\n        }\n        return { eventSubject: eventSubject, details: details };\n    };\n    QuickPopups.prototype.moreEventClick = function (data, endDate, groupIndex) {\n        var _this = this;\n        this.quickPopupHide(true);\n        var moreEventContentEle = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CONTENT_CLASS);\n        if (moreEventContentEle) {\n            remove(moreEventContentEle);\n        }\n        var selectedDate = ((data.date).getTime()).toString();\n        var target = closest(data.element, '.' + cls.MORE_INDICATOR_CLASS + ',.' + cls.WORK_CELLS_CLASS);\n        var day = this.parent.globalize.formatDate(data.date, { format: 'E', calendar: this.parent.getCalendarMode() });\n        this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DAY_CLASS).innerHTML = util.capitalizeFirstWord(day, 'single');\n        var dateElement = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS);\n        dateElement.innerHTML = this.getDateFormat(data.date, 'd');\n        dateElement.setAttribute('data-date', selectedDate);\n        dateElement.setAttribute('data-end-date', endDate.getTime().toString());\n        var groupOrder;\n        if (!isNullOrUndefined(groupIndex)) {\n            dateElement.setAttribute('data-group-index', groupIndex);\n            groupOrder = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)].groupOrder;\n        }\n        var moreEventElements = this.createMoreEventList(data.event, groupOrder, groupIndex);\n        this.morePopup.element.querySelector('.' + cls.MORE_EVENT_POPUP_CLASS).appendChild(moreEventElements);\n        removeClass(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_DATE_HEADER_CLASS).childNodes, cls.CURRENTDATE_CLASS);\n        if (util.resetTime(data.date).getTime() === util.resetTime(this.parent.getCurrentTime()).getTime()) {\n            addClass(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_DATE_HEADER_CLASS).childNodes, cls.CURRENTDATE_CLASS);\n        }\n        if (!this.parent.isAdaptive) {\n            if (this.parent.currentView.indexOf('Timeline') !== -1) {\n                var gIndex = target.getAttribute('data-group-index');\n                var startDate = new Date(parseInt(target.getAttribute('data-start-date'), 10));\n                startDate.setHours(startDate.getHours(), startDate.getMinutes(), 0);\n                var tdDate = startDate.getTime().toString();\n                if (isNullOrUndefined(gIndex)) {\n                    this.morePopup.relateTo = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS +\n                        ' tbody tr td[data-date=\"' + tdDate + '\"]');\n                }\n                else {\n                    this.morePopup.relateTo = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS +\n                        ' tbody tr td[data-group-index=\"' + gIndex + '\"][data-date=\"' + tdDate + '\"]');\n                    if (isNullOrUndefined(this.morePopup.relateTo)) {\n                        var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_WRAP_CLASS +\n                            ' tbody tr td[data-group-index=\"' + gIndex + '\"]'));\n                        for (var i = 0; i < workCells.length; i++) {\n                            var date = workCells[parseInt(i.toString(), 10)].getAttribute('data-date');\n                            if (date < tdDate) {\n                                this.morePopup.relateTo = workCells[parseInt(i.toString(), 10)];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                this.morePopup.relateTo = closest(target, '.' + cls.WORK_CELLS_CLASS);\n            }\n        }\n        this.parent.renderTemplates(function () {\n            var eventProp = {\n                type: 'EventContainer', cancel: false,\n                element: _this.morePopup.element, data: data\n            };\n            _this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n                if (!popupArgs.cancel) {\n                    _this.morePopup.show();\n                }\n            });\n        });\n    };\n    QuickPopups.prototype.saveClick = function (event) {\n        this.applyFormValidation();\n        this.dialogEvent = event;\n        this.isCrudAction = true;\n        this.quickPopupHide();\n    };\n    QuickPopups.prototype.detailsClick = function (event) {\n        var subjectEle = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n        if (subjectEle && subjectEle.value !== '') {\n            extend(this.parent.activeCellsData, { subject: subjectEle.value });\n        }\n        this.dialogEvent = event;\n        this.isCrudAction = false;\n        this.fieldValidator.destroyToolTip();\n        this.quickPopupHide();\n        this.parent.eventWindow.openEditor(this.parent.activeCellsData, 'Add');\n    };\n    QuickPopups.prototype.editClick = function (event) {\n        this.dialogEvent = event;\n        this.quickPopupHide(true);\n        var data = this.parent.activeEventData.event;\n        this.parent.currentAction = 'EditSeries';\n        if (!isNullOrUndefined(data[this.parent.eventFields.recurrenceRule])) {\n            this.parent.currentAction = 'EditOccurrence';\n            this.openRecurrenceAlert();\n        }\n        else {\n            this.parent.eventWindow.openEditor(data, this.parent.currentAction);\n        }\n    };\n    QuickPopups.prototype.deleteClick = function (event) {\n        this.dialogEvent = event;\n        this.quickPopupHide(true);\n        this.parent.currentAction = 'Delete';\n        if (this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]) {\n            this.openRecurrenceAlert();\n        }\n        else {\n            this.openDeleteAlert();\n        }\n    };\n    QuickPopups.prototype.updateMoreEventContent = function () {\n        if (this.morePopup.element.classList.contains('e-popup-close')) {\n            return;\n        }\n        var moreEventContentEle = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CONTENT_CLASS);\n        if (moreEventContentEle) {\n            remove(moreEventContentEle);\n        }\n        var dateElement = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS);\n        var startDate = new Date(parseInt(dateElement.getAttribute('data-date'), 10));\n        var endDate = new Date(parseInt(dateElement.getAttribute('data-end-date'), 10));\n        var groupIndex = dateElement.getAttribute('data-group-index');\n        var data;\n        var groupOrder;\n        if (!isNullOrUndefined(groupIndex)) {\n            data = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)];\n            groupOrder = data.groupOrder;\n        }\n        var events = this.parent.eventBase.filterEvents(startDate, endDate, this.parent.eventsProcessed, data);\n        var moreElement = this.createMoreEventList(events, groupOrder, groupIndex);\n        this.morePopup.element.querySelector('.' + cls.MORE_EVENT_POPUP_CLASS).appendChild(moreElement);\n    };\n    QuickPopups.prototype.closeClick = function (event) {\n        this.dialogEvent = event;\n        if (this.parent.currentView === 'Year' && this.parent.activeCellsData && this.parent.activeCellsData.element) {\n            this.parent.selectCell(this.parent.activeCellsData.element);\n        }\n        this.quickPopupHide();\n        this.morePopup.hide();\n    };\n    QuickPopups.prototype.dialogButtonClick = function (event) {\n        this.dialogEvent = event;\n        this.quickDialog.hide();\n        var target = event.target;\n        var cancelBtn = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        var eventData = this.parent.activeEventData.event;\n        if (target.classList.contains(cls.QUICK_DIALOG_OCCURRENCE_CLASS)) {\n            this.parent.currentAction = (this.parent.currentAction === 'Delete') ? 'DeleteOccurrence' : 'EditOccurrence';\n            switch (this.parent.currentAction) {\n                case 'EditOccurrence':\n                    this.parent.eventWindow.openEditor(eventData, this.parent.currentAction);\n                    break;\n                case 'DeleteOccurrence':\n                    this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n                    break;\n            }\n        }\n        else if (target.classList.contains(cls.QUICK_DIALOG_FOLLOWING_EVENTS_CLASS)) {\n            this.parent.currentAction = (this.parent.currentAction === 'Delete') ? 'DeleteFollowingEvents' : 'EditFollowingEvents';\n            switch (this.parent.currentAction) {\n                case 'EditFollowingEvents':\n                    this.parent.eventWindow.openEditor(eventData, this.parent.currentAction);\n                    break;\n                case 'DeleteFollowingEvents':\n                    this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n                    break;\n            }\n        }\n        else if (target.classList.contains(cls.QUICK_DIALOG_SERIES_CLASS)) {\n            this.parent.currentAction = (this.parent.currentAction === 'Delete') ? 'DeleteSeries' : 'EditSeries';\n            switch (this.parent.currentAction) {\n                case 'EditSeries':\n                    this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(eventData, true), this.parent.currentAction);\n                    break;\n                case 'DeleteSeries':\n                    this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n                    break;\n            }\n        }\n        else if (target.classList.contains(cls.QUICK_DIALOG_DELETE_CLASS)) {\n            this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n        }\n        else if (!cancelBtn.classList.contains(cls.DISABLE_CLASS) && (target.classList.contains(cls.QUICK_DIALOG_ALERT_OK) ||\n            (target.classList.contains(cls.QUICK_DIALOG_ALERT_CANCEL) && !cancelBtn.classList.contains(cls.QUICK_DIALOG_CANCEL_CLASS)))) {\n            this.parent.uiStateValues.isIgnoreOccurrence = target.classList.contains(cls.QUICK_DIALOG_ALERT_CANCEL);\n            this.parent.eventWindow.eventSave(event, this.l10n.getConstant('ok'));\n        }\n    };\n    QuickPopups.prototype.updateTapHoldEventPopup = function (target) {\n        var selectedElements = this.parent.eventBase.getSelectedEventElements(target);\n        this.parent.activeEventData = this.parent.eventBase.getSelectedEvents();\n        if (selectedElements.length > 0) {\n            var eventObj = this.parent.eventBase.getEventByGuid(selectedElements[0].getAttribute('data-guid'));\n            var titleContent = (selectedElements.length === 1) ?\n                (eventObj[this.parent.eventFields.subject] || this.l10n.getConstant('noTitle')) :\n                '(' + selectedElements.length + ')' + '&nbsp;' + this.l10n.getConstant('selectedItems');\n            this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS).innerHTML = titleContent;\n            if (selectedElements.length > 1) {\n                addClass([this.quickPopup.element.querySelector('.' + cls.EDIT_ICON_CLASS)], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([this.quickPopup.element.querySelector('.' + cls.EDIT_ICON_CLASS)], cls.HIDDEN_CLASS);\n            }\n        }\n        else {\n            this.parent.selectedElements = [];\n            this.quickPopupHide();\n        }\n    };\n    QuickPopups.prototype.getTimezone = function (event) {\n        var zoneDetails = '';\n        zoneDetails += event[this.parent.eventFields.startTimezone] || '';\n        zoneDetails += zoneDetails === '' ? '' : ' - ';\n        zoneDetails += event[this.parent.eventFields.endTimezone] || '';\n        return zoneDetails;\n    };\n    QuickPopups.prototype.getRecurrenceSummary = function (event) {\n        var recurrenceEditor = this.parent.eventWindow.getRecurrenceEditorInstance();\n        if (recurrenceEditor) {\n            var ruleSummary = recurrenceEditor.getRuleSummary(event[this.parent.eventFields.recurrenceRule]);\n            return ruleSummary.charAt(0).toUpperCase() + ruleSummary.slice(1);\n        }\n        return '';\n    };\n    QuickPopups.prototype.getDateFormat = function (date, skeletonString) {\n        return util.capitalizeFirstWord(this.parent.globalize.formatDate(date, { skeleton: skeletonString, calendar: this.parent.getCalendarMode() }), 'single');\n    };\n    QuickPopups.prototype.getDataFromTarget = function (target) {\n        if (target.classList.contains(cls.APPOINTMENT_CLASS)) {\n            return this.parent.activeEventData.event;\n        }\n        // Deprecated cells data in quick popups\n        var eventObj = {\n            startTime: this.parent.activeCellsData.startTime,\n            endTime: this.parent.activeCellsData.endTime,\n            isAllDay: this.parent.activeCellsData.isAllDay,\n            groupIndex: this.parent.activeCellsData.groupIndex\n        };\n        var cellsData = this.parent.activeCellsData;\n        this.parent.eventWindow.convertToEventData(cellsData, eventObj);\n        return eventObj;\n    };\n    QuickPopups.prototype.beforeQuickDialogClose = function (e) {\n        var _this = this;\n        var args = {\n            event: e.event || this.dialogEvent,\n            type: (isNullOrUndefined(this.parent.activeEventData.event)) ? 'ValidationAlert' :\n                !isNullOrUndefined(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])\n                    ? 'RecurrenceAlert' : 'DeleteAlert', cancel: false, data: this.parent.activeEventData.event,\n            element: this.quickDialog.element\n        };\n        this.parent.trigger(event.popupClose, args, function (popupCloseArgs) {\n            if (!popupCloseArgs.cancel) {\n                _this.parent.eventBase.focusElement(true);\n            }\n        });\n    };\n    QuickPopups.prototype.beforeQuickPopupOpen = function (target, originalEvent) {\n        var _this = this;\n        this.parent.renderTemplates(function () {\n            var isEventPopup = _this.quickPopup.element.querySelector('.' + cls.EVENT_POPUP_CLASS);\n            var popupType = _this.parent.isAdaptive ? isEventPopup ? 'ViewEventInfo' : 'EditEventInfo' : 'QuickInfo';\n            var eventProp = {\n                type: popupType, cancel: false, data: extend({}, _this.getDataFromTarget(target), null, true),\n                target: target, element: _this.quickPopup.element\n            };\n            _this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n                if (popupArgs.cancel) {\n                    _this.quickPopupHide();\n                    _this.destroyPopupButtons('quickPopup');\n                    if (popupArgs.element.classList.contains(cls.POPUP_OPEN)) {\n                        _this.quickPopupClose();\n                    }\n                    util.removeChildren(_this.quickPopup.element);\n                    _this.isMultipleEventSelect = false;\n                }\n                else {\n                    var display = _this.quickPopup.element.style.display;\n                    _this.quickPopup.element.style.display = 'block';\n                    if (_this.parent.isAdaptive) {\n                        _this.quickPopup.element.removeAttribute('style');\n                        _this.quickPopup.element.style.display = 'block';\n                        _this.quickPopup.element.style.height = formatUnit((popupType === 'EditEventInfo') ? 65 : window.innerHeight);\n                    }\n                    else {\n                        var isVirtualScroll = _this.parent.virtualScrollModule && _this.parent.virtualScrollModule.isHorizontalScroll\n                            && !isNullOrUndefined(closest(target, '.' + cls.CONTENT_TABLE_CLASS));\n                        var conTable = _this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS + ' table');\n                        _this.quickPopup.offsetX = isVirtualScroll && !_this.parent.enableRtl ? (util.getTranslateX(conTable) + 10) : 10;\n                        _this.quickPopup.offsetY = _this.parent.virtualScrollModule && !_this.parent.virtualScrollModule.isHorizontalScroll ?\n                            _this.quickPopup.offsetY : 0;\n                        _this.quickPopup.collision = { X: _this.parent.enableRtl ? 'flip' : 'none', Y: 'fit' };\n                        _this.quickPopup.position = { X: _this.parent.enableRtl ? 'left' : 'right', Y: _this.parent.enableRtl ? 'bottom' : 'top' };\n                        _this.quickPopup.dataBind();\n                        _this.quickPopup.refreshPosition(null, true);\n                        var collide = isCollide(_this.quickPopup.element, _this.parent.element);\n                        if (collide.indexOf(_this.parent.enableRtl ? 'left' : 'right') > -1) {\n                            _this.quickPopup.offsetX = -target.offsetWidth - 10 - _this.quickPopup.element.offsetWidth;\n                            if (isVirtualScroll && !_this.parent.enableRtl) {\n                                _this.quickPopup.offsetX = util.getTranslateX(conTable) + _this.quickPopup.offsetX;\n                            }\n                            _this.quickPopup.dataBind();\n                            _this.quickPopup.refreshPosition(null, true);\n                            var leftCollide = isCollide(_this.quickPopup.element, _this.parent.element);\n                            if (leftCollide.indexOf('left') > -1) {\n                                _this.quickPopup.position = { X: 'center', Y: 'center' };\n                                _this.quickPopup.collision = { X: 'fit', Y: 'fit' };\n                                _this.quickPopup.offsetX = -(_this.quickPopup.element.offsetWidth / 2);\n                                _this.quickPopup.dataBind();\n                            }\n                        }\n                        if (_this.parent.virtualScrollModule && !_this.parent.virtualScrollModule.isHorizontalScroll && (collide.indexOf('top') > -1 || collide.indexOf('bottom') > -1)) {\n                            var translateY = util.getTranslateY(conTable);\n                            _this.quickPopup.offsetY = translateY;\n                            _this.quickPopup.dataBind();\n                            _this.quickPopup.refreshPosition(null, true);\n                        }\n                        if (_this.quickPopup.position.X === 'center' && _this.quickPopup.position.Y === 'center' && !isNullOrUndefined(originalEvent) &&\n                            originalEvent.clientX && originalEvent.clientY) {\n                            var clientX = originalEvent.clientX;\n                            var clientY = originalEvent.clientY;\n                            var targetRect = target.getBoundingClientRect();\n                            var offsetY = originalEvent.offsetY || Math.ceil(clientY - targetRect.y);\n                            var previousOffset = _this.quickPopup.offsetY;\n                            var collision = isCollide(_this.quickPopup.element, target);\n                            var popupRect = _this.quickPopup.element.getBoundingClientRect();\n                            var targetEle = document.elementFromPoint(clientX, clientY);\n                            if (collision.indexOf('top') > -1 || collision.indexOf('bottom') > -1 || closest(targetEle, '.' + cls.POPUP_WRAPPER_CLASS)) {\n                                if (popupRect.top <= clientY &&\n                                    clientY <= popupRect.top + popupRect.height) {\n                                    _this.quickPopup.offsetY = previousOffset - popupRect.height - 10;\n                                    _this.quickPopup.dataBind();\n                                    collision = isCollide(_this.quickPopup.element, _this.parent.element);\n                                    if (collision.indexOf('top') > -1) {\n                                        _this.quickPopup.offsetY = previousOffset + offsetY + 10;\n                                        _this.quickPopup.dataBind();\n                                    }\n                                }\n                                else if (isCollide(_this.quickPopup.element, _this.parent.element).indexOf('bottom') > -1) {\n                                    _this.quickPopup.offsetY =\n                                        previousOffset - offsetY - Math.ceil(popupRect.height) - 10;\n                                    _this.quickPopup.dataBind();\n                                }\n                            }\n                        }\n                    }\n                    if (isEventPopup) {\n                        _this.applyEventColor();\n                    }\n                    _this.quickPopup.element.style.display = display;\n                    _this.quickPopup.dataBind();\n                    _this.quickPopup.show();\n                }\n            });\n        });\n    };\n    QuickPopups.prototype.applyEventColor = function () {\n        var colorField = '';\n        if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda') {\n            colorField = this.parent.enableRtl ? 'border-right-color' : 'border-left-color';\n        }\n        else {\n            colorField = 'background-color';\n        }\n        var color = this.parent.activeEventData.element.style[colorField];\n        if (color === '') {\n            return;\n        }\n        var colorEle = this.quickPopup.element.querySelector('.' + cls.POPUP_HEADER_CLASS);\n        var footerEle = this.quickPopup.element.querySelector('.' + cls.POPUP_FOOTER_CLASS);\n        if (footerEle && footerEle.offsetParent) {\n            colorEle = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n            if (colorEle) {\n                colorEle.style.borderLeftColor = color;\n                color = \"rgba(\" + color.match(/\\d+/g).join() + \",0.3)\";\n            }\n        }\n        if (colorEle) {\n            colorEle.style.backgroundColor = color;\n        }\n    };\n    QuickPopups.prototype.quickPopupOpen = function () {\n        if (this.parent.isAdaptive) {\n            this.quickPopup.element.style.top = '0px';\n            return;\n        }\n        if (this.quickPopup.element.querySelector('.' + cls.CELL_POPUP_CLASS)) {\n            var subjectElement = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n            if (subjectElement) {\n                subjectElement.focus();\n            }\n        }\n        else {\n            var editElement = this.quickPopup.element.querySelector('.' + cls.EDIT_EVENT_CLASS);\n            if (editElement) {\n                editElement.focus();\n            }\n            var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n            if (editIcon) {\n                editIcon.focus();\n            }\n        }\n    };\n    QuickPopups.prototype.quickPopupClose = function () {\n        this.parent.eventBase.focusElement();\n        this.quickPopup.relateTo = '.' + cls.WORK_CELLS_CLASS;\n        this.fieldValidator.destroyToolTip();\n        if (this.quickPopup.element.querySelectorAll('.e-formvalidator').length) {\n            this.fieldValidator.destroy();\n        }\n        this.destroyPopupButtons('quickPopup');\n        util.removeChildren(this.quickPopup.element);\n    };\n    QuickPopups.prototype.morePopupOpen = function () {\n        if (this.parent.isAdaptive) {\n            this.morePopup.element.style.top = '0px';\n            this.morePopup.element.style.left = '0px';\n            this.morePopup.element.style.height = formatUnit(window.innerHeight);\n            return;\n        }\n        this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS).focus();\n        this.morePopup.refreshPosition();\n    };\n    QuickPopups.prototype.morePopupClose = function () {\n        var moreWrapper = this.parent.element.querySelector('.' + cls.MORE_EVENT_WRAPPER_CLASS);\n        if (moreWrapper) {\n            remove(moreWrapper);\n        }\n    };\n    QuickPopups.prototype.popupClose = function (event) {\n        this.dialogEvent = event;\n        this.isCrudAction = false;\n        this.quickPopupHide(true);\n    };\n    QuickPopups.prototype.quickPopupHide = function (hideAnimation) {\n        var _this = this;\n        if (!this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n            return;\n        }\n        var isCellPopup = this.quickPopup.element.querySelector('.' + cls.CELL_POPUP_CLASS);\n        var popupData;\n        if (isCellPopup) {\n            var formvalidator = this.quickPopup.element.querySelector('.e-formvalidator');\n            if (this.isCrudAction && formvalidator &&\n                !formvalidator.ej2_instances[0].validate()) {\n                return;\n            }\n            var fields = this.parent.eventFields;\n            var saveObj = this.parent.eventWindow.getObjectFromFormData(cls.POPUP_WRAPPER_CLASS);\n            this.parent.eventWindow.setDefaultValueToObject(saveObj);\n            saveObj[fields.id] = this.parent.eventBase.getEventMaxID();\n            saveObj[fields.startTime] = this.parent.activeCellsData.startTime;\n            saveObj[fields.endTime] = this.parent.activeCellsData.endTime;\n            saveObj[fields.isAllDay] = this.parent.activeCellsData.isAllDay;\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.setResourceValues(saveObj);\n            }\n            popupData = saveObj;\n        }\n        else {\n            popupData = this.parent.activeEventData.event;\n        }\n        var isEventPopup = this.quickPopup.element.querySelector('.' + cls.EVENT_POPUP_CLASS);\n        var args = {\n            event: this.dialogEvent,\n            type: this.parent.isAdaptive ? isEventPopup ? 'ViewEventInfo' : 'EditEventInfo' : 'QuickInfo',\n            cancel: false, data: popupData, element: this.quickPopup.element,\n            target: (isCellPopup ? this.parent.activeCellsData.element : this.parent.activeEventData.element)\n        };\n        this.parent.trigger(event.popupClose, args, function (popupCloseArgs) {\n            if (!popupCloseArgs.cancel) {\n                if (_this.quickPopup.element.classList.contains('e-popup-open')) {\n                    if (isCellPopup && _this.isCrudAction) {\n                        _this.parent.currentAction = 'Add';\n                        _this.parent.crudModule.addEvent(popupCloseArgs.data);\n                    }\n                    if (hideAnimation) {\n                        var animation = _this.quickPopup.hideAnimation;\n                        _this.quickPopup.hideAnimation = null;\n                        _this.quickPopup.hide();\n                        _this.quickPopup.hideAnimation = animation;\n                    }\n                    else {\n                        _this.quickPopup.hide();\n                    }\n                    _this.isMultipleEventSelect = false;\n                    _this.isCrudAction = false;\n                }\n            }\n        });\n    };\n    QuickPopups.prototype.navigationClick = function (e) {\n        var navigateEle = closest(e.target, '.' + cls.NAVIGATE_CLASS);\n        if (!isNullOrUndefined(navigateEle)) {\n            var date = this.parent.getDateFromElement(e.currentTarget);\n            if (!isNullOrUndefined(date)) {\n                this.closeClick(e);\n                this.parent.setProperties({ selectedDate: date }, true);\n                this.parent.changeView(this.parent.getNavigateView(), e);\n            }\n        }\n    };\n    QuickPopups.prototype.documentClick = function (e) {\n        var target = e.event.target;\n        var classNames = '.' + cls.POPUP_WRAPPER_CLASS + ',.' + cls.HEADER_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS +\n            ',.' + cls.WORK_CELLS_CLASS + ',.' + cls.APPOINTMENT_CLASS + ',.e-popup';\n        var popupWrap = this.parent.element.querySelector('.' + cls.POPUP_WRAPPER_CLASS);\n        if ((popupWrap && popupWrap.childElementCount > 0 && !closest(target, classNames)) || !closest(target, classNames)) {\n            this.quickPopupHide();\n            this.parent.removeNewEventElement();\n        }\n        var tar = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (tar && tar !== target && this.parent.allowInline) {\n            this.parent.inlineModule.documentClick();\n        }\n        if (closest(target, '.' + cls.APPOINTMENT_CLASS + ',.' + cls.HEADER_CELLS_CLASS)) {\n            this.parent.removeNewEventElement();\n        }\n        if (!closest(target, '.' + cls.MORE_POPUP_WRAPPER_CLASS) && (target.classList &&\n            !target.classList.contains(cls.MORE_INDICATOR_CLASS))\n            && (!closest(target, '.' + cls.POPUP_OPEN)) && !closest(target, '.' + cls.WORK_CELLS_CLASS)) {\n            this.morePopup.hide();\n        }\n    };\n    QuickPopups.prototype.onClosePopup = function (event) {\n        if (!isNullOrUndefined(event)) {\n            this.dialogEvent = event;\n        }\n        this.quickPopupHide();\n        if (isNullOrUndefined(event) || (!isNullOrUndefined(event) && event.action !== 'escape') ||\n            (this.parent.inlineModule && this.parent.element.querySelector('.' + cls.INLINE_APPOINTMENT_CLASS))) {\n            this.parent.eventBase.focusElement();\n        }\n    };\n    QuickPopups.prototype.addEventListener = function () {\n        this.parent.on(event.cellClick, this.cellClick, this);\n        this.parent.on(event.eventClick, this.eventClick, this);\n        this.parent.on(event.documentClick, this.documentClick, this);\n        this.parent.on(event.dataReady, this.updateMoreEventContent, this);\n    };\n    QuickPopups.prototype.removeEventListener = function () {\n        this.parent.off(event.cellClick, this.cellClick);\n        this.parent.off(event.eventClick, this.eventClick);\n        this.parent.off(event.documentClick, this.documentClick);\n        this.parent.off(event.dataReady, this.updateMoreEventContent);\n    };\n    QuickPopups.prototype.destroyPopupButtons = function (popupName) {\n        var popup = popupName === 'quickPopup' ? this.quickPopup : this.morePopup;\n        var buttonCollections = [].slice.call(popup.element.querySelectorAll('.e-control.e-btn'));\n        for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n            var button = buttonCollections_1[_i];\n            var instance = button.ej2_instances[0];\n            if (instance) {\n                instance.destroy();\n            }\n        }\n        if (popupName === 'quickPopup') {\n            var input = popup.element.querySelector('input.' + cls.SUBJECT_CLASS);\n            if (input) {\n                input.remove();\n            }\n            var form = this.quickPopup.element.querySelector('form.' + cls.FORM_CLASS);\n            if (form) {\n                util.removeChildren(form);\n                form.remove();\n            }\n            this.parent.resetTemplates(['content', 'header', 'footer']);\n        }\n    };\n    QuickPopups.prototype.refreshQuickDialog = function () {\n        this.destroyQuickDialog();\n        this.renderQuickDialog();\n    };\n    QuickPopups.prototype.refreshQuickPopup = function () {\n        this.destroyQuickPopup();\n        this.renderQuickPopup();\n    };\n    QuickPopups.prototype.refreshMorePopup = function () {\n        this.destroyMorePopup();\n        this.renderMorePopup();\n    };\n    QuickPopups.prototype.destroyQuickDialog = function () {\n        if (this.quickDialog.element) {\n            this.quickDialog.destroy();\n            remove(this.quickDialog.element);\n            this.quickDialog = null;\n        }\n    };\n    QuickPopups.prototype.destroyQuickPopup = function () {\n        if (this.quickPopup.element) {\n            this.destroyPopupButtons('quickPopup');\n            this.quickPopup.destroy();\n            remove(this.quickPopup.element);\n            this.quickPopup = null;\n        }\n    };\n    QuickPopups.prototype.destroyMorePopup = function () {\n        if (this.morePopup.element) {\n            this.destroyPopupButtons('morePopup');\n            this.morePopup.destroy();\n            remove(this.morePopup.element);\n            this.morePopup = null;\n        }\n    };\n    QuickPopups.prototype.destroy = function () {\n        if (this.quickPopup.element.querySelectorAll('.e-formvalidator').length) {\n            this.fieldValidator.destroy();\n        }\n        this.removeEventListener();\n        this.destroyQuickPopup();\n        this.destroyMorePopup();\n        this.destroyQuickDialog();\n        this.dialogEvent = null;\n        this.parent = null;\n        this.l10n = null;\n        this.isCrudAction = null;\n        this.fieldValidator = null;\n        this.isMultipleEventSelect = null;\n    };\n    return QuickPopups;\n}());\nexport { QuickPopups };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, append, createElement, addClass, initializeCSPTemplate, removeClass } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Tooltip for Schedule\n */\nvar EventTooltip = /** @class */ (function () {\n    function EventTooltip(parent) {\n        this.parent = parent;\n        this.tooltipObj = new Tooltip({\n            animation: { close: { effect: 'FadeOut' } },\n            content: 'No title',\n            position: 'BottomRight',\n            offsetY: 10,\n            mouseTrail: this.parent.isAdaptive ? false : true,\n            showTipPointer: false,\n            cssClass: this.parent.cssClass + ' ' + cls.EVENT_TOOLTIP_ROOT_CLASS,\n            target: this.getTargets(),\n            beforeRender: this.onBeforeRender.bind(this),\n            beforeClose: this.onTooltipClose.bind(this),\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n        });\n        this.tooltipObj.appendTo(this.parent.element);\n    }\n    EventTooltip.prototype.getTargets = function () {\n        var targets = [];\n        if (this.parent.activeViewOptions.group.headerTooltipTemplate) {\n            targets.push('.' + cls.RESOURCE_CELLS_CLASS);\n        }\n        if (this.parent.eventSettings.enableTooltip) {\n            targets.push('.' + cls.APPOINTMENT_CLASS);\n        }\n        return targets.join(',');\n    };\n    EventTooltip.prototype.onBeforeRender = function (args) {\n        if (!isNullOrUndefined(args.target.getAttribute('data-tooltip-id'))) {\n            return;\n        }\n        if (args.target.classList.contains(cls.RESOURCE_CELLS_CLASS) && this.parent.activeViewOptions.group.resources.length > 0) {\n            var resCollection = void 0;\n            if (this.parent.activeView.isTimelineView()) {\n                var index = parseInt(args.target.getAttribute('data-group-index'), 10);\n                resCollection = this.parent.resourceBase.lastResourceLevel[parseInt(index.toString(), 10)];\n            }\n            else {\n                var rowIndex = args.target.parentNode.sectionRowIndex;\n                var cellIndex = args.target.cellIndex;\n                resCollection =\n                    this.parent.activeView.getColumnLevels()[parseInt(rowIndex.toString(), 10)][parseInt(cellIndex.toString(), 10)];\n            }\n            var data = {\n                resource: resCollection.resource,\n                resourceData: resCollection.resourceData\n            };\n            var contentContainer = createElement('div');\n            var templateId = this.parent.element.id + '_headerTooltipTemplate';\n            var tooltipTemplate = [].slice.call(this.parent.getHeaderTooltipTemplate()(data, this.parent, 'headerTooltipTemplate', templateId, false));\n            append(tooltipTemplate, contentContainer);\n            this.setContent(contentContainer);\n            this.parent.renderTemplates();\n            return;\n        }\n        var record = this.parent.eventBase.getEventByGuid(args.target.getAttribute('data-guid'));\n        if (isNullOrUndefined(record)) {\n            return;\n        }\n        if (!isNullOrUndefined(this.parent.eventSettings.tooltipTemplate)) {\n            var contentContainer = createElement('div');\n            var templateId = this.parent.element.id + '_tooltipTemplate';\n            var tooltipTemplate = [].slice.call(this.parent.getEventTooltipTemplate()(record, this.parent, 'tooltipTemplate', templateId, false));\n            append(tooltipTemplate, contentContainer);\n            this.setContent(contentContainer);\n        }\n        else {\n            var globalize = this.parent.globalize;\n            var fields = this.parent.eventFields;\n            var eventStart = new Date('' + record[fields.startTime]);\n            var eventEnd = new Date('' + record[fields.endTime]);\n            eventEnd = ((eventEnd.getTime() - eventStart.getTime() !== 0) && eventEnd.getHours() === 0 && eventEnd.getMinutes() === 0) ?\n                new Date(eventEnd.setMilliseconds(-1000)) : eventEnd;\n            var startDate = util.resetTime(new Date('' + eventStart));\n            var endDate = util.resetTime(new Date('' + eventEnd));\n            var tooltipSubject = (record[fields.subject] || this.parent.eventSettings.fields.subject.default\n                || this.parent.localeObj.getConstant('addTitle'));\n            var tooltipLocation = !isNullOrUndefined(record[fields.location]) ? record[fields.location] : '';\n            var startMonthDate = '';\n            var startMonthYearDate = '';\n            var endMonthYearDate = '';\n            startMonthDate = globalize.formatDate(eventStart, {\n                type: 'date', skeleton: 'MMMd', calendar: this.parent.getCalendarMode()\n            });\n            startMonthYearDate = globalize.formatDate(eventStart, {\n                type: 'date', skeleton: 'medium', calendar: this.parent.getCalendarMode()\n            });\n            endMonthYearDate = globalize.formatDate(eventEnd, {\n                type: 'date', skeleton: 'medium', calendar: this.parent.getCalendarMode()\n            });\n            startMonthDate = util.capitalizeFirstWord(startMonthDate, 'single');\n            startMonthYearDate = util.capitalizeFirstWord(startMonthYearDate, 'single');\n            endMonthYearDate = util.capitalizeFirstWord(endMonthYearDate, 'single');\n            var startTime = this.parent.getTimeString(eventStart);\n            var endTime = this.parent.getTimeString(eventEnd);\n            var tooltipDetails = void 0;\n            if (startDate.getTime() === endDate.getTime()) {\n                tooltipDetails =\n                    globalize.formatDate(eventStart, {\n                        type: 'date', skeleton: 'long', calendar: this.parent.getCalendarMode()\n                    });\n                tooltipDetails = util.capitalizeFirstWord(tooltipDetails, 'single');\n            }\n            else {\n                tooltipDetails = (startDate.getFullYear() === endDate.getFullYear()) ? (startMonthDate + ' - ' + endMonthYearDate) :\n                    (startMonthYearDate + ' - ' + endMonthYearDate);\n            }\n            var tooltipTime = (record[fields.isAllDay]) ? this.parent.localeObj.getConstant('allDay') :\n                (startTime + ' - ' + endTime);\n            var content_1 = '<div><div class=\"e-subject\">' + tooltipSubject + '</div>' +\n                '<div class=\"e-location\">' + tooltipLocation + '</div>' +\n                '<div class=\"e-details\">' + tooltipDetails + '</div>' +\n                '<div class=\"e-all-day\">' + tooltipTime + '</div></div>';\n            var contentTemp = function () {\n                return content_1;\n            };\n            this.setContent(initializeCSPTemplate(contentTemp));\n        }\n        this.parent.renderTemplates();\n    };\n    EventTooltip.prototype.onTooltipClose = function (args) {\n        if (args.element) {\n            removeClass([args.element], cls.POPUP_OPEN);\n            addClass([args.element], cls.POPUP_CLOSE);\n        }\n        if (!(this.parent.isReact && this.parent.eventWindow.dialogObject && this.parent.eventWindow.dialogObject.visible)) {\n            this.parent.resetTemplates(['tooltipTemplate', 'headerTooltipTemplate']);\n        }\n    };\n    EventTooltip.prototype.setContent = function (content) {\n        this.tooltipObj.setProperties({ content: content, windowCollision: true }, true);\n    };\n    EventTooltip.prototype.close = function () {\n        this.tooltipObj.close();\n    };\n    EventTooltip.prototype.destroy = function () {\n        this.tooltipObj.destroy();\n        addClass([this.parent.element], 'e-control');\n        this.tooltipObj = null;\n        this.parent = null;\n    };\n    return EventTooltip;\n}());\nexport { EventTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Event, Browser, detach } from '@syncfusion/ej2-base';\nimport { getDefaultDateObject, getValue, cldrData, L10n, isNullOrUndefined, removeClass, addClass } from '@syncfusion/ej2-base';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker } from '@syncfusion/ej2-calendars';\nimport { Button, RadioButton } from '@syncfusion/ej2-buttons';\nimport { EventHandler, classList } from '@syncfusion/ej2-base';\nimport { extractObjectFromRule, generate, generateSummary, getRecurrenceStringFromDate, getCalendarUtil } from './date-generator';\nimport { capitalizeFirstWord } from '../schedule/base/util';\nvar HEADER = 'e-editor';\nvar INPUTWARAPPER = 'e-input-wrapper';\nvar INPUTWARAPPERSIDE = 'e-input-wrapper-side';\nvar REPEATELEMENT = 'e-repeat-element';\nvar REPEATINTERVAL = 'e-repeat-interval';\nvar INTERVALCLASS = 'e-interval';\nvar DAYWRAPPER = 'e-days';\nvar WEEKWRAPPER = 'e-non-week';\nvar WEEKPOSITION = 'e-week-position';\nvar DAYPOSITION = 'e-day-position';\nvar YEAREXPANDERWRAPPER = 'e-year-expander';\nvar YEAREXPANDERELEMENT = 'e-year-expander-element';\nvar MONETHEXPANDERWRAPPER = 'e-month-expander';\nvar MONETHEXPANDWRAPPER = 'e-month-expand-wrapper';\nvar MONTHEXPANDERELEMENT = 'e-month-expander-element';\nvar MONTHEXPANDERCHECKBOXWRAPPER = 'e-month-expander-checkbox-wrapper';\nvar FORMLEFT = 'e-form-left';\nvar FORMRIGHT = 'e-form-right';\nvar MONTHDAYWRAPPER = 'e-month-day';\nvar MONTHEXPANNDERELEM = 'e-month-expander-wrapper';\nvar MONTHPOS = 'e-month-pos';\nvar MONTHWEEK = 'e-month-week';\nvar ENDON = 'e-end-on';\nvar MONTHEXPANDERLABEL = 'e-month-expander-label';\nvar WEEKEXPANDERLABEL = 'e-week-expander-label';\nvar ENDONLEFT = 'e-end-on-left';\nvar MONTHDAYELEMENT = 'e-monthday-element';\nvar ENDONELEMENT = 'e-end-on-element';\nvar ENDONDATE = 'e-end-on-date';\nvar UNTILDATE = 'e-until-date';\nvar ENDONCOUNTWRAPPER = 'e-end-on-count';\nvar ENDONCOUNT = 'e-recurrence-count';\nvar HIDEWRAPPER = 'e-hide-recurrence-element';\nvar RTLCLASS = 'e-rtl';\nvar PRIMARY = 'e-primary';\nvar ACTIVE = 'e-active';\nvar RECURRENCETABLE = 'e-recurrence-table';\nvar REPEATCONTENT = 'e-repeat-content';\nvar REPEATCONTENTWRAPPER = 'e-repeat-content-wrapper';\nvar NONE = 'none';\nvar DAILY = 'daily';\nvar WEEKLY = 'weekly';\nvar MONTHLY = 'monthly';\nvar YEARLY = 'yearly';\nvar NEVER = 'never';\nvar UNTIL = 'until';\nvar COUNT = 'count';\nvar TEXTFIELD = 'text';\nvar VALUEFIELD = 'value';\nvar LAST = 'last';\nvar REPEAT = 'repeat';\nvar REPEATEVERY = 'repeatEvery';\nvar ON = 'on';\nvar END = 'end';\nvar RADIOLABEL = 'onDay';\nvar RULEUNTIL = 'UNTIL';\nvar RULEBYDAY = 'BYDAY';\nvar RULEBYMONTHDAY = 'BYMONTHDAY';\nvar RULEBYMONTH = 'BYMONTH';\nvar RULEINTERVAL = 'INTERVAL';\nvar RULECOUNT = 'COUNT';\nvar RULESETPOS = 'BYSETPOS';\nvar RULEFREQ = 'FREQ';\nvar RULEDAILY = 'DAILY';\nvar RULEWEEKLY = 'WEEKLY';\nvar RULEMONTHLY = 'MONTHLY';\nvar RULEYEARLY = 'YEARLY';\nvar RULESUNDAY = 'SU';\nvar RULEMONDAY = 'MO';\nvar RULETUESDAY = 'TU';\nvar RULEWEDNESDAY = 'WE';\nvar RULETHURSDAY = 'TH';\nvar RULEFRIDAY = 'FR';\nvar RULESATURDAY = 'SA';\nvar KEYSUNDAY = 'sun';\nvar KEYMONDAY = 'mon';\nvar KEYTUESDAY = 'tue';\nvar KEYWEDNESDAY = 'wed';\nvar KEYTHURSDAY = 'thu';\nvar KEYFRIDAY = 'fri';\nvar KEYSATURDAY = 'sat';\nvar EQUAL = '=';\nvar SEMICOLON = ';';\nvar COMMA = ',';\nvar FIRST = 'first';\nvar SECOND = 'second';\nvar THIRD = 'third';\nvar FOURTH = 'fourth';\nvar contentType = {\n    none: '',\n    daily: 'days',\n    weekly: 'weeks',\n    monthly: 'months',\n    yearly: 'years'\n};\nvar valueData = {\n    'sun': RULESUNDAY,\n    'mon': RULEMONDAY,\n    'tue': RULETUESDAY,\n    'wed': RULEWEDNESDAY,\n    'thu': RULETHURSDAY,\n    'fri': RULEFRIDAY,\n    'sat': RULESATURDAY\n};\nvar neverClassList = [DAYWRAPPER, WEEKWRAPPER, ENDON, INTERVALCLASS, YEAREXPANDERWRAPPER, MONETHEXPANDERWRAPPER];\nvar weekClassList = [WEEKWRAPPER];\nvar monthClassList = [DAYWRAPPER, YEAREXPANDERWRAPPER];\nvar yearClassList = [DAYWRAPPER];\nvar dailyClassList = [DAYWRAPPER, WEEKWRAPPER, YEAREXPANDERWRAPPER, MONETHEXPANDERWRAPPER];\nvar noEndClassList = [ENDONDATE, ENDONCOUNTWRAPPER];\nvar endOnCountClassList = [ENDONDATE];\nvar endOnDateClassList = [ENDONCOUNTWRAPPER];\n/**\n * Represents the RecurrenceEditor component.\n * ```html\n * <div id=\"recurrence\"></div>\n * ```\n * ```typescript\n * <script>\n *   var recObj = new RecurrenceEditor();\n *   recObj.appendTo(\"#recurrence\");\n * </script>\n * ```\n */\nvar RecurrenceEditor = /** @class */ (function (_super) {\n    __extends(RecurrenceEditor, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {RecurrenceEditorModel} options Accepts the recurrence editor model properties to initiate the rendering\n     * @param {string | HTMLElement} element Accepts the DOM element reference\n     */\n    function RecurrenceEditor(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.defaultLocale = {\n            none: 'None',\n            daily: 'Daily',\n            weekly: 'Weekly',\n            monthly: 'Monthly',\n            month: 'Month',\n            yearly: 'Yearly',\n            never: 'Never',\n            until: 'Until',\n            count: 'Count',\n            first: 'First',\n            second: 'Second',\n            third: 'Third',\n            fourth: 'Fourth',\n            last: 'Last',\n            repeat: 'Repeat',\n            repeatEvery: 'Repeat every',\n            on: 'Repeat On',\n            end: 'End',\n            onDay: 'Day',\n            days: 'Day(s)',\n            weeks: 'Week(s)',\n            months: 'Month(s)',\n            years: 'Year(s)',\n            every: 'every',\n            summaryTimes: 'time(s)',\n            summaryOn: 'on',\n            summaryUntil: 'until',\n            summaryRepeat: 'Repeats',\n            summaryDay: 'day(s)',\n            summaryWeek: 'week(s)',\n            summaryMonth: 'month(s)',\n            summaryYear: 'year(s)',\n            monthWeek: 'Month Week',\n            monthPosition: 'Month Position',\n            monthExpander: 'Month Expander',\n            yearExpander: 'Year Expander',\n            repeatInterval: 'Repeat Interval'\n        };\n        _this.renderStatus = false;\n        _this.dayButtons = [];\n        _this.monthButtons = [];\n        return _this;\n    }\n    RecurrenceEditor.prototype.startState = function (freq, endOn, startDate) {\n        this.showFormElement();\n        this.updateForm(freq);\n        this.freshOnEndForm();\n        this.updateEndOnForm(endOn);\n        this.selectMonthDay(startDate);\n        this.updateUntilDate(startDate);\n        this.onMonthDay.setProperties({ checked: true });\n    };\n    RecurrenceEditor.prototype.preRender = function () {\n        this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n        this.calendarUtil = getCalendarUtil(this.calendarMode);\n    };\n    RecurrenceEditor.prototype.applyCustomClass = function (cssClass) {\n        if (cssClass) {\n            addClass([this.element], cssClass.split(' '));\n        }\n    };\n    RecurrenceEditor.prototype.initialize = function () {\n        addClass([this.element], 'e-' + this.getModuleName());\n        this.renderComponent();\n        if (!isNullOrUndefined(this.value) && this.value !== '') {\n            this.setRecurrenceRule(this.value);\n        }\n        else {\n            if (!isNullOrUndefined(this.repeatType.value)) {\n                this.startState(this.repeatType.value.toString().toUpperCase(), this.endTypes[0], this.startDate);\n                this.updateForm(this.repeatType.value.toString());\n            }\n            if (this.selectedType > 0) {\n                this.setProperties({ value: this.getRecurrenceRule() }, false);\n            }\n        }\n        this.applyCustomClass(this.cssClass);\n    };\n    RecurrenceEditor.prototype.triggerChangeEvent = function () {\n        var _this = this;\n        if (this.renderStatus) {\n            var value = this.getRecurrenceRule();\n            this.trigger('change', { value: value }, function (args) { return _this.setProperties({ value: args.value }, false); });\n        }\n    };\n    RecurrenceEditor.prototype.resetDayButton = function () {\n        var elements = [].slice.call(this.element.querySelectorAll('.' + DAYWRAPPER + ' button'));\n        elements.forEach(function (element) { return removeClass([element], [ACTIVE, PRIMARY]); });\n    };\n    RecurrenceEditor.prototype.daySelection = function (dayIndex) {\n        this.resetDayButton();\n        var days = [0, 1, 2, 3, 4, 5, 6];\n        this.rotateArray(days, this.firstDayOfWeek);\n        var element = this.element.querySelector('.' + DAYWRAPPER + ' button[data-index=\"' + days.indexOf(dayIndex) + '\"]');\n        if (element) {\n            addClass([element], [ACTIVE, PRIMARY]);\n        }\n    };\n    RecurrenceEditor.prototype.rtlClass = function (status) {\n        if (status) {\n            addClass([this.element], RTLCLASS);\n        }\n        else {\n            removeClass([this.element], RTLCLASS);\n        }\n    };\n    RecurrenceEditor.prototype.updateUntilDate = function (date) {\n        var tempDate = new Date(date.getTime());\n        tempDate.setDate(tempDate.getDate() + 60);\n        this.untilDateObj.setProperties({ value: tempDate });\n    };\n    RecurrenceEditor.prototype.selectMonthDay = function (date) {\n        var weekday = [KEYSUNDAY, KEYMONDAY, KEYTUESDAY, KEYWEDNESDAY, KEYTHURSDAY, KEYFRIDAY, KEYSATURDAY];\n        this.monthDate.setProperties({ value: this.calendarUtil.getDate(date) });\n        this.monthWeekDays.setProperties({ value: valueData[weekday[date.getDay()]] });\n        this.monthValue.setProperties({ value: '' + this.calendarUtil.getMonth(date) });\n        this.monthWeekPos.setProperties({ value: this.getDayPosition(date) });\n        this.daySelection(date.getDay());\n    };\n    RecurrenceEditor.prototype.updateForm = function (state) {\n        var _this = this;\n        this.repeatType.setProperties({ value: state });\n        var end = this.element.querySelector('.' + ENDON);\n        if (state === DAILY) {\n            classList(end, [FORMLEFT], [FORMRIGHT]);\n        }\n        else {\n            classList(end, [FORMRIGHT], [FORMLEFT]);\n        }\n        switch (state) {\n            case NONE:\n                neverClassList.forEach(function (className) { return addClass([_this.element.querySelector('.' + className)], HIDEWRAPPER); });\n                break;\n            case WEEKLY:\n                weekClassList.forEach(function (className) { return addClass([_this.element.querySelector('.' + className)], HIDEWRAPPER); });\n                break;\n            case MONTHLY:\n                monthClassList.forEach(function (className) { return addClass([_this.element.querySelector('.' + className)], HIDEWRAPPER); });\n                break;\n            case YEARLY:\n                yearClassList.forEach(function (className) { return addClass([_this.element.querySelector('.' + className)], HIDEWRAPPER); });\n                break;\n            case DAILY:\n                dailyClassList.forEach(function (className) { return addClass([_this.element.querySelector('.' + className)], HIDEWRAPPER); });\n                break;\n        }\n    };\n    RecurrenceEditor.prototype.updateEndOnForm = function (state) {\n        var _this = this;\n        this.endType.setProperties({ value: state });\n        switch (state) {\n            case NEVER:\n                noEndClassList.forEach(function (className) { return addClass([_this.element.querySelector('.' + className)], HIDEWRAPPER); });\n                break;\n            case UNTIL:\n                endOnDateClassList.forEach(function (className) { return addClass([_this.element.querySelector('.' + className)], HIDEWRAPPER); });\n                break;\n            case COUNT:\n                endOnCountClassList.forEach(function (className) { return addClass([_this.element.querySelector('.' + className)], HIDEWRAPPER); });\n                break;\n        }\n    };\n    RecurrenceEditor.prototype.freshOnEndForm = function () {\n        var _this = this;\n        noEndClassList.forEach(function (className) {\n            var element = _this.element.querySelector('.' + className);\n            if (element) {\n                removeClass([element], HIDEWRAPPER);\n            }\n        });\n    };\n    RecurrenceEditor.prototype.showFormElement = function () {\n        var _this = this;\n        neverClassList.forEach(function (className) {\n            var hideElement = _this.element.querySelector('.' + className);\n            if (hideElement) {\n                removeClass([hideElement], HIDEWRAPPER);\n            }\n        });\n    };\n    RecurrenceEditor.prototype.renderDropdowns = function () {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        this.repeatType = new DropDownList({\n            //set the data to dataSource property\n            dataSource: this.getRepeatData(),\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            index: this.selectedType,\n            fields: {\n                text: TEXTFIELD,\n                value: VALUEFIELD\n            },\n            placeholder: this.localeObj.getConstant(REPEAT),\n            htmlAttributes: { 'title': this.localeObj.getConstant(REPEAT) },\n            change: function (args) {\n                self.setProperties({ selectedType: _this.frequencies.indexOf(args.value) }, false);\n                self.element.querySelector('.' + REPEATCONTENT).innerHTML =\n                    self.localeObj.getConstant(contentType[args.value]);\n                self.showFormElement();\n                self.updateForm(args.value);\n                self.resetFormValues();\n                self.triggerChangeEvent();\n            }\n        });\n        // set placeholder to DropDownList input element\n        this.repeatType.appendTo(this.element.querySelector('.' + REPEATELEMENT));\n        this.endType = new DropDownList({\n            dataSource: this.getEndData(),\n            popupWidth: this.getPopupWidth(),\n            floatLabelType: 'Always',\n            placeholder: this.localeObj.getConstant(END),\n            enableRtl: this.enableRtl,\n            index: 1,\n            fields: {\n                text: TEXTFIELD,\n                value: VALUEFIELD\n            },\n            change: function (args) {\n                self.freshOnEndForm();\n                self.updateEndOnForm(args.value);\n                self.resetFormValues();\n                self.triggerChangeEvent();\n            }\n        });\n        this.endType.appendTo(this.element.querySelector('.' + ENDONELEMENT));\n        var renderDropDownList = function (dropDownData) {\n            return new DropDownList({\n                dataSource: dropDownData,\n                popupWidth: _this.getPopupWidth(),\n                enableRtl: _this.enableRtl,\n                fields: {\n                    text: TEXTFIELD,\n                    value: VALUEFIELD\n                },\n                index: 1,\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                change: function (args) {\n                    self.onWeekDay.setProperties({ checked: true });\n                    self.resetFormValues();\n                    self.triggerChangeEvent();\n                }\n            });\n        };\n        this.monthWeekPos = renderDropDownList(this.getMonthPosData());\n        this.monthWeekPos.appendTo(this.element.querySelector('.' + MONTHPOS));\n        this.monthWeekDays = renderDropDownList(this.getDayData('wide'));\n        this.monthWeekDays.appendTo(this.element.querySelector('.' + MONTHWEEK));\n        this.monthValue = new DropDownList({\n            dataSource: this.getMonthData(),\n            fields: {\n                text: TEXTFIELD,\n                value: VALUEFIELD\n            },\n            enableRtl: this.enableRtl,\n            index: 7,\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            change: function (args) {\n                self.resetFormValues();\n                self.triggerChangeEvent();\n            }\n        });\n        this.monthValue.appendTo(this.element.querySelector('.' + YEAREXPANDERELEMENT));\n    };\n    RecurrenceEditor.prototype.setDefaultValue = function () {\n        var formelement = [].slice.call(this.element.querySelectorAll('.e-control .e-numerictextbox'));\n        for (var _i = 0, formelement_1 = formelement; _i < formelement_1.length; _i++) {\n            var element = formelement_1[_i];\n            var instance = element.ej2_instances[0];\n            if (instance.element.classList.contains(REPEATINTERVAL)) {\n                instance.value = 1;\n                instance.dataBind();\n            }\n            else if (instance.element.classList.contains(ENDONCOUNT)) {\n                instance.value = 10;\n                instance.dataBind();\n            }\n        }\n    };\n    RecurrenceEditor.prototype.resetFormValues = function () {\n        var recurreneElement = [].slice.call(this.element.querySelectorAll('.e-control [type=\"text\"]'));\n        for (var _i = 0, recurreneElement_1 = recurreneElement; _i < recurreneElement_1.length; _i++) {\n            var element = recurreneElement_1[_i];\n            var instance = void 0;\n            if (element.classList.contains('e-datepicker')) {\n                instance = element.ej2_instances[0];\n                if (instance.value) {\n                    // eslint-disable-next-line no-self-assign\n                    instance.value = instance.value;\n                    instance.dataBind();\n                }\n                else {\n                    this.updateUntilDate(this.startDate);\n                }\n            }\n            else if (element.classList.contains('e-dropdownlist')) {\n                instance = element.ej2_instances[0];\n                instance.index = instance.index || 0;\n                instance.dataBind();\n            }\n            else if (element.classList.contains('e-numerictextbox')) {\n                instance = element.ej2_instances[0];\n                var value = void 0;\n                if (instance.element.classList.contains(REPEATINTERVAL)) {\n                    value = 1;\n                }\n                else if (instance.element.classList.contains(ENDONCOUNT)) {\n                    value = 10;\n                }\n                else {\n                    value = this.startDate.getDate();\n                }\n                instance.value = instance.value || value;\n                instance.dataBind();\n            }\n        }\n    };\n    RecurrenceEditor.prototype.getPopupWidth = function () {\n        return Browser.isDevice ? '100%' : 'auto';\n    };\n    RecurrenceEditor.prototype.renderDatePickers = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        this.untilDateObj = new DatePicker({\n            firstDayOfWeek: this.firstDayOfWeek,\n            enableRtl: this.enableRtl,\n            locale: this.locale,\n            min: this.minDate,\n            max: this.maxDate,\n            format: (isNullOrUndefined(this.dateFormat) ? this.getFormat('dateFormats') : this.dateFormat),\n            change: function (args) {\n                if (args.value) {\n                    self.triggerChangeEvent();\n                }\n            }\n        });\n        this.untilDateObj.appendTo(this.element.querySelector('.' + UNTILDATE));\n    };\n    RecurrenceEditor.prototype.getFormat = function (formatType) {\n        var format;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            format = getValue(formatType + '.short', getDefaultDateObject(this.getCalendarMode()));\n        }\n        else {\n            format = getValue('main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.' + formatType + '.short', cldrData);\n        }\n        return format;\n    };\n    RecurrenceEditor.prototype.dayButtonRender = function () {\n        var _this = this;\n        var btns = [].slice.call(this.element.querySelectorAll('.' + DAYWRAPPER + ' button'));\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        for (var _i = 0, btns_1 = btns; _i < btns_1.length; _i++) {\n            var btn = btns_1[_i];\n            var button = new Button({ isToggle: true, enableRtl: this.enableRtl }, btn);\n            this.dayButtons.push(button);\n            EventHandler.add(btn, 'click', function (args) {\n                var btns = [].slice.call(_this.element.querySelectorAll('.' + DAYWRAPPER + ' button.' + PRIMARY));\n                var element = args.target;\n                if (!element.classList.contains(PRIMARY)) {\n                    addClass([element], PRIMARY);\n                    self.triggerChangeEvent();\n                }\n                else if (btns.length > 1) {\n                    removeClass([element], PRIMARY);\n                    self.triggerChangeEvent();\n                }\n            });\n        }\n    };\n    RecurrenceEditor.prototype.radioButtonRender = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        this.onMonthDay = new RadioButton({\n            label: this.localeObj.getConstant(RADIOLABEL),\n            enableRtl: this.enableRtl,\n            name: 'monthType',\n            value: 'day',\n            change: function () {\n                self.resetFormValues();\n                self.triggerChangeEvent();\n            }\n        });\n        this.onMonthDay.appendTo(this.element.querySelector('.' + MONTHEXPANDERELEMENT));\n        this.monthButtons.push(this.onMonthDay);\n        this.onWeekDay = new RadioButton({\n            label: this.localeObj.getConstant('monthExpander'),\n            cssClass: 'e-month-type',\n            name: 'monthType',\n            enableRtl: this.enableRtl,\n            value: 'daypos',\n            change: function () {\n                self.resetFormValues();\n                self.triggerChangeEvent();\n            }\n        });\n        this.onWeekDay.appendTo(this.element.querySelector('.' + MONTHEXPANNDERELEM));\n        this.monthButtons.push(this.onWeekDay);\n    };\n    RecurrenceEditor.prototype.numericTextboxRender = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        this.recurrenceCount = new NumericTextBox({\n            value: 10,\n            format: '#',\n            enableRtl: this.enableRtl,\n            min: 1,\n            max: 999,\n            change: function () {\n                self.triggerChangeEvent();\n            }\n        });\n        this.recurrenceCount.appendTo(this.element.querySelector('.' + ENDONCOUNT));\n        this.monthDate = new NumericTextBox({\n            value: 1,\n            format: '#',\n            enableRtl: this.enableRtl,\n            min: 1,\n            max: 31,\n            change: function () {\n                self.onMonthDay.setProperties({ checked: true });\n                self.triggerChangeEvent();\n            }\n        });\n        this.monthDate.appendTo(this.element.querySelector('.' + MONTHDAYWRAPPER));\n        this.repeatInterval = new NumericTextBox({\n            value: 1,\n            format: '#',\n            min: 1,\n            max: 999,\n            enableRtl: this.enableRtl,\n            floatLabelType: 'Always',\n            placeholder: this.localeObj.getConstant(REPEATEVERY),\n            change: function () {\n                self.triggerChangeEvent();\n            }\n        });\n        this.repeatInterval.appendTo(this.element.querySelector('.' + REPEATINTERVAL));\n    };\n    RecurrenceEditor.prototype.renderComponent = function () {\n        this.setTemplate();\n        this.renderDropdowns();\n        this.renderDatePickers();\n        this.dayButtonRender();\n        this.radioButtonRender();\n        this.numericTextboxRender();\n    };\n    RecurrenceEditor.prototype.rotateArray = function (data, count) {\n        var temp;\n        for (var index = 0; index < count; index++) {\n            temp = data.shift();\n            data.push(temp);\n        }\n    };\n    RecurrenceEditor.prototype.getEndData = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        var dataSource = [];\n        this.endTypes.forEach(function (data) {\n            dataSource.push({ text: self.localeObj.getConstant(data), value: data });\n        });\n        return dataSource;\n    };\n    RecurrenceEditor.prototype.getDayPosition = function (date) {\n        var temp = new Date(date.getTime());\n        var endDate = new Date(date.getTime());\n        var day = date.getDay();\n        var positionCollection = [];\n        temp = this.calendarUtil.getMonthStartDate(temp);\n        endDate = this.calendarUtil.getMonthEndDate(endDate);\n        while (temp < endDate) {\n            if (temp.getDay() === day) {\n                positionCollection.push(temp.getTime());\n            }\n            temp.setDate(temp.getDate() + 1);\n        }\n        if (positionCollection.indexOf(date.getTime()) === positionCollection.length - 1) {\n            return -1;\n        }\n        return (positionCollection.indexOf(date.getTime()) + 1);\n    };\n    RecurrenceEditor.prototype.getRepeatData = function () {\n        var data = [];\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        this.frequencies.forEach(function (element) {\n            var textValue = (element === NONE) ? NEVER : element;\n            data.push({ text: self.localeObj.getConstant(textValue), value: element });\n        });\n        return data;\n    };\n    RecurrenceEditor.prototype.getMonthPosData = function () {\n        var monthpos = [FIRST, SECOND, THIRD, FOURTH, LAST];\n        var monthposValue = {\n            first: 1,\n            second: 2,\n            third: 3,\n            fourth: 4,\n            last: -1\n        };\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        var dataSource = [];\n        monthpos.forEach(function (data) {\n            dataSource.push({ text: self.localeObj.getConstant(data), value: monthposValue[\"\" + data] });\n        });\n        return dataSource;\n    };\n    RecurrenceEditor.prototype.getDayData = function (format) {\n        var weekday = [KEYSUNDAY, KEYMONDAY, KEYTUESDAY, KEYWEDNESDAY, KEYTHURSDAY, KEYFRIDAY, KEYSATURDAY];\n        var dayData = [];\n        var cldrObj;\n        this.rotateArray(weekday, this.firstDayOfWeek);\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            var nameSpaceString = 'days.stand-alone.';\n            cldrObj = (getValue(nameSpaceString + format, getDefaultDateObject(this.getCalendarMode())));\n        }\n        else {\n            var nameSpaceString = 'main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.days.stand-alone.' + format;\n            cldrObj = (getValue(nameSpaceString, cldrData));\n        }\n        for (var _i = 0, weekday_1 = weekday; _i < weekday_1.length; _i++) {\n            var obj = weekday_1[_i];\n            var day = getValue(obj, cldrObj);\n            dayData.push({ text: format === 'narrow' ? day : capitalizeFirstWord(day, 'single'), value: valueData[\"\" + obj] });\n        }\n        return dayData;\n    };\n    RecurrenceEditor.prototype.getMonthData = function () {\n        var monthData = [];\n        var cldrObj;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            var nameSpaceString = 'months.stand-alone.wide';\n            cldrObj = (getValue(nameSpaceString, getDefaultDateObject(this.getCalendarMode())));\n        }\n        else {\n            var nameSpaceString = 'main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.months.stand-alone.wide';\n            cldrObj = (getValue(nameSpaceString, cldrData));\n        }\n        for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n            var obj = _a[_i];\n            monthData.push({\n                text: capitalizeFirstWord(getValue(obj, cldrObj), 'single'),\n                value: obj\n            });\n        }\n        return monthData;\n    };\n    RecurrenceEditor.prototype.setTemplate = function () {\n        var dayData = this.getDayData('narrow');\n        var fullDay = this.getDayData('wide');\n        this.element.innerHTML = '<div class=\"' + HEADER + '\">' +\n            '<div class=\"' + INPUTWARAPPER + ' ' + FORMLEFT + '\">' +\n            '<input type=\"text\" tabindex=\"0\" class=\"' + REPEATELEMENT +\n            '\"label=\"' + REPEATELEMENT.substr(2) + '\" />' +\n            '</div><div class=\"' + INPUTWARAPPER + ' ' +\n            INTERVALCLASS + ' ' + FORMRIGHT + '\"><table  class=\"' + RECURRENCETABLE + ' ' + REPEATCONTENTWRAPPER + '\"  role=\"none\"><tr>' +\n            '<td><input type=\"text\" tabindex=\"0\" id=\"' + this.element.id + '_' + REPEATINTERVAL + '\" class=\"' + REPEATINTERVAL +\n            '\"title=\"' + this.localeObj.getConstant('repeatEvery') + '\" /></td>' +\n            '<td><span class=\"' + REPEATCONTENT + '\"></span></td>' +\n            '</tr></table></div><div class=\"' + INPUTWARAPPERSIDE + ' ' + DAYWRAPPER + ' ' + FORMLEFT + '\">' +\n            '<div class=' + WEEKEXPANDERLABEL + '>' + this.localeObj.getConstant(ON) + '</div>' +\n            '<button type=\"button\" class=\"e-round\" data-index=\"0\" title=\"' + fullDay[0].text + '\">' + dayData[0].text + '</button>' +\n            '<button type=\"button\" class=\"e-round\" data-index=\"1\" title=\"' + fullDay[1].text + '\">' + dayData[1].text + '</button>' +\n            '<button type=\"button\" class=\"e-round\" data-index=\"2\" title=\"' + fullDay[2].text + '\">' + dayData[2].text + '</button>' +\n            '<button type=\"button\" class=\"e-round\" data-index=\"3\" title=\"' + fullDay[3].text + '\">' + dayData[3].text + '</button>' +\n            '<button type=\"button\" class=\"e-round\" data-index=\"4\" title=\"' + fullDay[4].text + '\">' + dayData[4].text + '</button>' +\n            '<button type=\"button\" class=\"e-round\" data-index=\"5\" title=\"' + fullDay[5].text + '\">' + dayData[5].text + '</button>' +\n            '<button type=\"button\" class=\"e-round\" data-index=\"6\" title=\"' + fullDay[6].text + '\">' + dayData[6].text + '</button></div>' +\n            '<div class=\"' + INPUTWARAPPERSIDE + ' ' + WEEKWRAPPER + ' ' + FORMLEFT + '\">' +\n            '<div class=' + MONTHEXPANDERLABEL + '>' + this.localeObj.getConstant(ON) + '</div>' +\n            '<div class=\"' + YEAREXPANDERWRAPPER + '\">' +\n            '<input class=\"' + YEAREXPANDERELEMENT + '\" type=\"text\" tabindex=\"0\" title=\"' +\n            this.localeObj.getConstant('yearExpander') + '\"/>' +\n            '</div>' +\n            '<div class=\"' + MONETHEXPANDERWRAPPER + '\">' +\n            '<table class=\"' + RECURRENCETABLE + ' ' + MONETHEXPANDWRAPPER + '\" role=\"none\"><tr><td>' +\n            '<div class=\"' + INPUTWARAPPER + ' ' + MONTHEXPANDERCHECKBOXWRAPPER + '\">' +\n            '<input class=\"' + MONTHEXPANDERELEMENT + '\"title=\"' + this.localeObj.getConstant('monthExpander') + '\" type=\"radio\">' +\n            '</div></td>' +\n            '<td colspan=\"2\"><div class=\"' + INPUTWARAPPER + ' ' + MONTHDAYELEMENT + '\">' +\n            '<input type=\"text\" tabindex=\"0\" id=\"' + this.element.id + '_' + MONTHDAYWRAPPER + '\" class=\"' + MONTHDAYWRAPPER + '\"title=\"' +\n            this.localeObj.getConstant('on') + '\" />' +\n            '</div></td></tr>' +\n            '<tr><td>' +\n            '<div class=\"' + INPUTWARAPPER + ' ' + MONTHEXPANDERCHECKBOXWRAPPER + '\" style=\"min-width: 30px;margin-bottom:18px;\">' +\n            '<input class=\"' + MONTHEXPANNDERELEM + '\"title=\"' + this.localeObj.getConstant('monthExpander') + '\" type=\"radio\">' +\n            '</div></td>' +\n            '<td><div class=\"' + INPUTWARAPPER + ' ' + WEEKPOSITION + '\" >' +\n            '<input type=\"text\" tabindex=\"0\" class=\"' + MONTHPOS + '\"title=\"' + this.localeObj.getConstant('monthPosition') + '\" />' +\n            '</div></td>' +\n            '<td><div class=\"' + INPUTWARAPPER + ' ' + DAYPOSITION + '\">' +\n            '<input type=\"text\" tabindex=\"0\" class=\"' + MONTHWEEK + '\"title=\"' + this.localeObj.getConstant('monthWeek') + '\" />' +\n            '</div></td></tr></table>' +\n            '</div></div>' +\n            '<div class=\"' + INPUTWARAPPERSIDE + ' ' + ENDON + ' ' + FORMRIGHT + '\">' +\n            '<div class=\"' + INPUTWARAPPER + ' ' + ENDONLEFT + '\">' +\n            '<input type=\"text\" tabindex=\"0\" class=\"' + ENDONELEMENT + '\"title=\"' + this.localeObj.getConstant(END) + '\" />' +\n            '</div>' +\n            '<div class=\"' + INPUTWARAPPER + ' ' + ENDONDATE + '\" >' +\n            '<input type=\"text\" tabindex=\"0\" class=\"' + UNTILDATE + '\"title=\"' + this.localeObj.getConstant(UNTIL) + '\" />' +\n            '</div>' +\n            '<div class=\"' + INPUTWARAPPER + ' ' + ENDONCOUNTWRAPPER + '\">' +\n            '<input type=\"text\" tabindex=\"0\" id=\"' + this.element.id + '_' + ENDONCOUNT + '\" class=\"' + ENDONCOUNT + '\"title=\"' + this.localeObj.getConstant(COUNT) + '\" />' +\n            '</div></div>' +\n            '</div></div>';\n    };\n    RecurrenceEditor.prototype.getSelectedDaysData = function () {\n        var ruleData = RULEBYDAY + EQUAL;\n        var elements = [].slice.call(this.element.querySelectorAll('.' + DAYWRAPPER + ' button.' + PRIMARY));\n        var weekday = [RULESUNDAY, RULEMONDAY, RULETUESDAY, RULEWEDNESDAY, RULETHURSDAY, RULEFRIDAY, RULESATURDAY];\n        this.rotateArray(weekday, this.firstDayOfWeek);\n        for (var index = 0; index < elements.length; index++) {\n            ruleData += weekday[parseInt(elements[parseInt(index.toString(), 10)].getAttribute('data-index'), 10)] + (index === (elements.length - 1) ? '' : COMMA);\n        }\n        return ruleData + SEMICOLON;\n    };\n    RecurrenceEditor.prototype.getSelectedMonthData = function () {\n        var ruleData;\n        if (this.onWeekDay.checked) {\n            ruleData = RULEBYDAY + EQUAL + this.monthWeekDays.value + SEMICOLON\n                + RULESETPOS + EQUAL + this.monthWeekPos.value + SEMICOLON;\n        }\n        else {\n            ruleData = RULEBYMONTHDAY + EQUAL + this.monthDate.value + SEMICOLON;\n        }\n        return ruleData;\n    };\n    RecurrenceEditor.prototype.getIntervalData = function () {\n        return RULEINTERVAL + EQUAL + this.repeatInterval.value + SEMICOLON;\n    };\n    RecurrenceEditor.prototype.getEndOnCount = function () {\n        return RULECOUNT + EQUAL + this.recurrenceCount.value + SEMICOLON;\n    };\n    RecurrenceEditor.prototype.getYearMonthRuleData = function () {\n        return RULEBYMONTH + EQUAL + this.monthValue.value + SEMICOLON;\n    };\n    RecurrenceEditor.prototype.updateWeekButton = function (keys) {\n        var weekday = [RULESUNDAY, RULEMONDAY, RULETUESDAY, RULEWEDNESDAY, RULETHURSDAY, RULEFRIDAY, RULESATURDAY];\n        this.rotateArray(weekday, this.firstDayOfWeek);\n        for (var _i = 0, _a = this.dayButtons; _i < _a.length; _i++) {\n            var obj = _a[_i];\n            var index = parseInt(obj.element.getAttribute('data-index'), 10);\n            if (keys.indexOf(weekday[parseInt(index.toString(), 10)]) !== -1) {\n                obj.setProperties({ isPrimary: true });\n            }\n            else {\n                obj.setProperties({ isPrimary: false });\n            }\n        }\n    };\n    RecurrenceEditor.prototype.updateMonthUI = function () {\n        if (this.ruleObject.monthDay.length) {\n            this.monthDate.setProperties({ value: this.ruleObject.monthDay[0] });\n            this.onMonthDay.setProperties({ checked: true });\n        }\n        else {\n            this.onWeekDay.setProperties({ checked: true });\n            this.monthWeekPos.setProperties({ value: this.ruleObject.setPosition });\n            for (var _i = 0, _a = Object.keys(valueData); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (valueData[\"\" + key] === this.ruleObject.day[0]) {\n                    this.monthWeekDays.setProperties({ value: this.ruleObject.day[0] });\n                    break;\n                }\n            }\n        }\n    };\n    RecurrenceEditor.prototype.updateUI = function (repeat, state) {\n        this.repeatInterval.setProperties({ value: this.ruleObject.interval });\n        switch (state) {\n            case UNTIL:\n                this.untilDateObj.setProperties({ value: this.ruleObject.until });\n                break;\n            case COUNT:\n                this.recurrenceCount.setProperties({ value: this.ruleObject.count });\n                break;\n        }\n        switch (repeat) {\n            case WEEKLY:\n                this.updateWeekButton(this.ruleObject.day);\n                break;\n            case YEARLY:\n                this.monthValue.setProperties({ index: (this.ruleObject.month[0] - 1) });\n                this.updateMonthUI();\n                break;\n            case MONTHLY:\n                this.updateMonthUI();\n                break;\n        }\n    };\n    RecurrenceEditor.prototype.getUntilData = function () {\n        if (!this.untilDateObj.value) {\n            return '';\n        }\n        var tempStr = getRecurrenceStringFromDate(this.untilDateObj.value);\n        return RULEUNTIL + EQUAL + tempStr + SEMICOLON;\n    };\n    RecurrenceEditor.prototype.destroyComponents = function () {\n        if (!this.recurrenceCount.isDestroyed) {\n            this.recurrenceCount.destroy();\n            this.recurrenceCount = null;\n        }\n        if (!this.monthDate.isDestroyed) {\n            this.monthDate.destroy();\n            this.monthDate = null;\n        }\n        if (!this.repeatInterval.isDestroyed) {\n            this.repeatInterval.destroy();\n            this.repeatInterval = null;\n        }\n        if (!this.untilDateObj.isDestroyed) {\n            this.untilDateObj.destroy();\n            this.untilDateObj = null;\n        }\n        if (!this.repeatType.isDestroyed) {\n            this.repeatType.destroy();\n            this.repeatType = null;\n        }\n        if (!this.endType.isDestroyed) {\n            this.endType.destroy();\n            this.endType = null;\n        }\n        if (!this.monthWeekPos.isDestroyed) {\n            this.monthWeekPos.destroy();\n            this.monthWeekPos = null;\n        }\n        if (!this.monthWeekDays.isDestroyed) {\n            this.monthWeekDays.destroy();\n            this.monthWeekDays = null;\n        }\n        if (!this.monthValue.isDestroyed) {\n            this.monthValue.destroy();\n            this.monthValue = null;\n        }\n        if (!this.onMonthDay.isDestroyed) {\n            this.onMonthDay.destroy();\n            this.onMonthDay = null;\n        }\n        if (!this.onWeekDay.isDestroyed) {\n            this.onWeekDay.destroy();\n            this.onWeekDay = null;\n        }\n        this.dayButtons.forEach(function (element) {\n            if (!element.isDestroyed) {\n                element.destroy();\n            }\n        });\n        this.dayButtons = [];\n        this.monthButtons.forEach(function (element) {\n            if (!element.isDestroyed) {\n                element.destroy();\n            }\n        });\n        this.monthButtons = [];\n    };\n    RecurrenceEditor.prototype.resetFields = function () {\n        this.startState(NONE, this.endTypes[0], this.startDate);\n        this.setDefaultValue();\n    };\n    RecurrenceEditor.prototype.updateRuleUntilDate = function (startDate) {\n        if (this.untilDateObj.value && startDate) {\n            var untilDate = this.untilDateObj.value;\n            var newUntilDate = new Date(untilDate.getFullYear(), untilDate.getMonth(), untilDate.getDate(), startDate.getHours(), startDate.getMinutes(), startDate.getMilliseconds());\n            this.untilDateObj.setProperties({ value: newUntilDate });\n        }\n    };\n    RecurrenceEditor.prototype.getCalendarMode = function () {\n        return !isNullOrUndefined(this.calendarMode) ? this.calendarMode.toLowerCase() : 'gregorian';\n    };\n    RecurrenceEditor.prototype.getRuleSummary = function (rule) {\n        if (rule === void 0) { rule = this.getRecurrenceRule(); }\n        return generateSummary(rule, this.localeObj, this.locale, this.calendarMode);\n    };\n    RecurrenceEditor.prototype.getRecurrenceDates = function (startDate, rule, excludeDate, maximumCount, viewDate) {\n        viewDate = isNullOrUndefined(viewDate) ? this.startDate : viewDate;\n        return generate(startDate, rule, excludeDate, this.firstDayOfWeek, maximumCount, viewDate, this.calendarMode);\n    };\n    RecurrenceEditor.prototype.getRecurrenceRule = function () {\n        var ruleData = RULEFREQ + EQUAL;\n        switch (this.repeatType.value) {\n            case DAILY:\n                ruleData += RULEDAILY + SEMICOLON;\n                break;\n            case WEEKLY:\n                ruleData += RULEWEEKLY + SEMICOLON + this.getSelectedDaysData();\n                break;\n            case MONTHLY:\n                ruleData += RULEMONTHLY + SEMICOLON + this.getSelectedMonthData();\n                break;\n            case YEARLY:\n                ruleData += RULEYEARLY + SEMICOLON + this.getSelectedMonthData() + this.getYearMonthRuleData();\n                break;\n            case NONE:\n                return '';\n        }\n        ruleData += this.getIntervalData();\n        switch (this.endType.value) {\n            case UNTIL:\n                ruleData += this.getUntilData();\n                break;\n            case COUNT:\n                ruleData += this.getEndOnCount();\n                break;\n        }\n        return ruleData;\n    };\n    RecurrenceEditor.prototype.setRecurrenceRule = function (rule, startDate) {\n        if (startDate === void 0) { startDate = this.startDate; }\n        if (!rule) {\n            this.repeatType.setProperties({ value: NONE });\n            return;\n        }\n        this.renderStatus = false;\n        this.ruleObject = extractObjectFromRule(rule);\n        var endon = this.ruleObject.count ? COUNT : (this.ruleObject.until ? UNTIL : NEVER);\n        switch (this.ruleObject.freq) {\n            case RULEDAILY:\n                this.startState(DAILY, endon, startDate);\n                this.updateUI(DAILY, endon);\n                break;\n            case RULEWEEKLY:\n                this.startState(WEEKLY, endon, startDate);\n                this.updateUI(WEEKLY, endon);\n                break;\n            case RULEMONTHLY:\n                this.startState(MONTHLY, endon, startDate);\n                this.updateUI(MONTHLY, endon);\n                break;\n            case RULEYEARLY:\n                this.startState(YEARLY, endon, startDate);\n                this.updateUI(YEARLY, endon);\n                break;\n        }\n        this.renderStatus = true;\n        this.triggerChangeEvent();\n    };\n    RecurrenceEditor.prototype.detachInputs = function () {\n        var inputElements = [].slice.call(this.element.querySelectorAll('input'));\n        for (var _i = 0, inputElements_1 = inputElements; _i < inputElements_1.length; _i++) {\n            var element = inputElements_1[_i];\n            detach(element);\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    RecurrenceEditor.prototype.destroy = function () {\n        if (!this.isDestroyed) {\n            this.destroyComponents();\n            _super.prototype.destroy.call(this);\n            var removeClasses = ['e-' + this.getModuleName()];\n            if (this.cssClass) {\n                removeClasses = removeClasses.concat(this.cssClass.split(' '));\n            }\n            removeClass([this.element], removeClasses);\n            this.detachInputs();\n            while (this.element.firstElementChild) {\n                this.element.removeChild(this.element.firstElementChild);\n            }\n        }\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} Returns the module name\n     * @private\n     */\n    RecurrenceEditor.prototype.getModuleName = function () {\n        return 'recurrenceeditor';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted state\n     */\n    RecurrenceEditor.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    RecurrenceEditor.prototype.render = function () {\n        this.initialize();\n        this.rtlClass(this.enableRtl);\n        this.renderStatus = true;\n        this.renderComplete();\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {RecurrenceEditorModel} newProp Accepts the changed properties new values\n     * @param {RecurrenceEditorModel} oldProp Accepts the changed properties old values\n     * @returns {void}\n     * @private\n     */\n    RecurrenceEditor.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'startDate':\n                    this.selectMonthDay(newProp.startDate);\n                    this.updateUntilDate(newProp.startDate);\n                    this.endType.setProperties({ index: 0 });\n                    break;\n                case 'enableRtl':\n                    this.rtlClass(newProp.enableRtl);\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'selectedType':\n                    this.repeatType.setProperties({ index: this.selectedType });\n                    break;\n                case 'minDate':\n                    this.untilDateObj.setProperties({ minDate: this.minDate });\n                    break;\n                case 'maxDate':\n                    this.untilDateObj.setProperties({ maxDate: this.maxDate });\n                    break;\n                case 'value':\n                    if (this.getRecurrenceRule() !== this.value) {\n                        this.setRecurrenceRule(this.value);\n                    }\n                    break;\n                case 'calendarMode':\n                    this.calendarMode = newProp.calendarMode;\n                    this.calendarUtil = getCalendarUtil(newProp.calendarMode);\n                    break;\n                case 'locale':\n                case 'frequencies':\n                case 'firstDayOfWeek':\n                case 'endTypes':\n                    this.refresh();\n                    break;\n                case 'dateFormat':\n                    this.untilDateObj.setProperties({ format: newProp.dateFormat });\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(['none', 'daily', 'weekly', 'monthly', 'yearly'])\n    ], RecurrenceEditor.prototype, \"frequencies\", void 0);\n    __decorate([\n        Property(['never', 'until', 'count'])\n    ], RecurrenceEditor.prototype, \"endTypes\", void 0);\n    __decorate([\n        Property(0)\n    ], RecurrenceEditor.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property(new Date())\n    ], RecurrenceEditor.prototype, \"startDate\", void 0);\n    __decorate([\n        Property()\n    ], RecurrenceEditor.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], RecurrenceEditor.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property()\n    ], RecurrenceEditor.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property()\n    ], RecurrenceEditor.prototype, \"value\", void 0);\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], RecurrenceEditor.prototype, \"minDate\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], RecurrenceEditor.prototype, \"maxDate\", void 0);\n    __decorate([\n        Property(0)\n    ], RecurrenceEditor.prototype, \"selectedType\", void 0);\n    __decorate([\n        Event()\n    ], RecurrenceEditor.prototype, \"change\", void 0);\n    RecurrenceEditor = __decorate([\n        NotifyPropertyChanges\n    ], RecurrenceEditor);\n    return RecurrenceEditor;\n}(Component));\nexport { RecurrenceEditor };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createElement, isNullOrUndefined, addClass, remove, EventHandler, extend, append, detach } from '@syncfusion/ej2-base';\nimport { cldrData, removeClass, getValue, getDefaultDateObject, closest, SanitizeHtmlHelper, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Query, Deferred } from '@syncfusion/ej2-data';\nimport { CheckBox, Button } from '@syncfusion/ej2-buttons';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { DropDownList, MultiSelect } from '@syncfusion/ej2-dropdowns';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { FieldValidator } from './form-validator';\nimport { RecurrenceEditor } from '../../recurrence-editor/recurrence-editor';\nimport * as cls from '../base/css-constant';\nimport * as event from '../base/constant';\nimport * as util from '../base/util';\nvar EVENT_FIELD = 'e-field';\nvar REPEAT_CONTAINER_CLASS = 'e-recurrence-container';\nvar REPEAT_BUTTON_ICON_CLASS = 'e-recurrence-edit';\nvar REPEAT_BUTTON_CLASS = 'e-recurrence-edit-button';\nvar REPEAT_DIALOG_CLASS = 'e-recurrence-dialog';\nvar HIDE_STYLE_CLASS = 'e-hide';\n/**\n * Event editor window\n */\nvar EventWindow = /** @class */ (function () {\n    function EventWindow(parent) {\n        this.parent = parent;\n        this.l10n = this.parent.localeObj;\n        this.fields = this.parent.eventFields;\n        this.eventWindowTime = { startTime: new Date(), endTime: new Date() };\n        this.renderEventWindow();\n    }\n    EventWindow.prototype.renderEventWindow = function () {\n        this.element = createElement('div', { id: this.parent.element.id + '_dialog_wrapper' });\n        this.parent.element.appendChild(this.element);\n        var dialogModel = {\n            animationSettings: { effect: 'Zoom' },\n            content: this.getEventWindowContent(),\n            cssClass: cls.EVENT_WINDOW_DIALOG_CLASS,\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            height: this.parent.isAdaptive ? '100%' : 'auto',\n            minHeight: '300px',\n            isModal: true,\n            showCloseIcon: this.parent.isAdaptive ? false : true,\n            target: document.body,\n            visible: false,\n            width: '500px',\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this)\n        };\n        if (this.parent.isAdaptive) {\n            dialogModel.cssClass = cls.EVENT_WINDOW_DIALOG_CLASS + ' ' + cls.DEVICE_CLASS;\n            if (!this.parent.editorHeaderTemplate) {\n                dialogModel.header = '<div class=\"e-title-header\"><div class=\"e-back-icon e-icons\"></div><div class=\"e-title-text\">' +\n                    this.l10n.getConstant('newEvent') + '</div><div class=\"e-save-icon e-icons\"></div></div>';\n            }\n        }\n        else {\n            if (!this.parent.editorFooterTemplate) {\n                this.renderDialogButtons(dialogModel);\n            }\n            if (!this.parent.editorHeaderTemplate) {\n                dialogModel.header = '<div class=\"e-title-text\">' + this.l10n.getConstant('newEvent') + '</div>';\n            }\n        }\n        this.dialogObject = new Dialog(dialogModel, this.element);\n        if (this.dialogObject.element.querySelector('.e-dlg-closeicon-btn')) {\n            this.dialogObject.element.querySelector('.e-dlg-closeicon-btn').setAttribute('title', this.l10n.getConstant('close'));\n        }\n        this.addEventHandlers();\n        addClass([this.element.parentElement], cls.EVENT_WINDOW_DIALOG_CLASS + '-container');\n        EventHandler.add(this.dialogObject.element, 'keydown', this.preventEventSave, this);\n        this.applyFormValidation();\n    };\n    EventWindow.prototype.renderDialogButtons = function (dialogButton) {\n        dialogButton.buttons = [{\n                buttonModel: {\n                    content: this.l10n.getConstant('deleteButton'), cssClass: cls.DELETE_EVENT_CLASS,\n                    disabled: !this.parent.eventSettings.allowDeleting || this.parent.readonly\n                },\n                click: this.eventDelete.bind(this)\n            }, {\n                buttonModel: {\n                    content: this.l10n.getConstant('saveButton'), cssClass: 'e-primary ' + cls.EVENT_WINDOW_SAVE_BUTTON_CLASS,\n                    isPrimary: true, disabled: !this.parent.eventSettings.allowAdding || this.parent.readonly\n                },\n                click: this.eventSave.bind(this)\n            }, {\n                buttonModel: { cssClass: cls.EVENT_WINDOW_CANCEL_BUTTON_CLASS, content: this.l10n.getConstant('cancelButton') },\n                click: this.dialogClose.bind(this)\n            }];\n    };\n    EventWindow.prototype.addEventHandlers = function () {\n        var backIcon = this.element.querySelector('.' + cls.EVENT_WINDOW_BACK_ICON_CLASS);\n        var saveIcon = this.element.querySelector('.' + cls.EVENT_WINDOW_SAVE_ICON_CLASS);\n        if (this.parent.isAdaptive && !isNullOrUndefined(backIcon) && !isNullOrUndefined(saveIcon)) {\n            EventHandler.add(backIcon, 'click', this.dialogClose, this);\n            EventHandler.add(saveIcon, 'click', this.eventSave, this);\n        }\n    };\n    EventWindow.prototype.refresh = function () {\n        this.destroy(true);\n        this.renderEventWindow();\n    };\n    EventWindow.prototype.refreshRecurrenceEditor = function () {\n        if (this.recurrenceEditor) {\n            var recurrenceEditor = this.recurrenceEditor.element;\n            this.recurrenceEditor.destroy();\n            this.createRecurrenceEditor(recurrenceEditor);\n        }\n    };\n    EventWindow.prototype.setRecurrenceEditor = function (recurrenceEditor) {\n        if (this.parent.editorTemplate) {\n            this.recurrenceEditor = recurrenceEditor;\n        }\n    };\n    EventWindow.prototype.openEditor = function (data, type, isEventData, repeatType) {\n        this.parent.currentAction = type;\n        this.parent.removeNewEventElement();\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide(true);\n        }\n        this.parent.inlineModule.removeInlineAppointmentElement();\n        if (type === 'Add') {\n            var eventObj = {};\n            this.cellClickAction = !isEventData;\n            this.parent.activeCellsData = data;\n            var event_1 = data;\n            if (this.cellClickAction) {\n                this.convertToEventData(event_1, eventObj);\n            }\n            else {\n                this.parent.activeCellsData = {\n                    startTime: (event_1.startTime || event_1[this.fields.startTime]),\n                    endTime: (event_1.endTime || event_1[this.fields.endTime]),\n                    isAllDay: (event_1.isAllDay || event_1[this.fields.isAllDay]),\n                    element: event_1.element,\n                    groupIndex: event_1.groupIndex\n                };\n                eventObj = event_1;\n            }\n            data = eventObj;\n        }\n        if (!isNullOrUndefined(this.parent.editorHeaderTemplate)) {\n            this.parent.resetTemplates(['editorHeaderTemplate']);\n            if (this.parent.isAdaptive && !this.parent.editorFooterTemplate) {\n                this.dialogObject.header = this.createAdaptiveHeaderElement(data);\n            }\n            else {\n                this.dialogObject.header = this.getDialogHeader(data);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.editorFooterTemplate)) {\n            this.parent.resetTemplates(['editorFooterTemplate']);\n            this.dialogObject.footerTemplate = this.getDialogFooter(data);\n        }\n        if (!isNullOrUndefined(this.parent.editorHeaderTemplate) || !isNullOrUndefined(this.parent.editorFooterTemplate)) {\n            this.dialogObject.dataBind();\n            this.addEventHandlers();\n        }\n        if (!isNullOrUndefined(this.parent.editorTemplate)) {\n            this.renderFormElements(this.element.querySelector('.e-schedule-form'), data, type, repeatType);\n        }\n        else {\n            this.setEditorContent(data, type, repeatType);\n        }\n    };\n    EventWindow.prototype.setEditorContent = function (data, type, repeatType) {\n        if (!this.parent.isAdaptive && isNullOrUndefined(this.parent.editorTemplate)) {\n            removeClass([this.dialogObject.element.querySelector('.e-recurrenceeditor')], cls.DISABLE_CLASS);\n        }\n        if (this.recurrenceEditor) {\n            this.recurrenceEditor.firstDayOfWeek = this.parent.activeViewOptions.firstDayOfWeek;\n        }\n        switch (type) {\n            case 'Add':\n                this.onCellDetailsUpdate(data, repeatType);\n                break;\n            case 'Save':\n            case 'EditOccurrence':\n            case 'EditSeries':\n            case 'EditFollowingEvents':\n                if (type === 'EditOccurrence' && !this.parent.isAdaptive && isNullOrUndefined(this.parent.editorTemplate)) {\n                    addClass([this.dialogObject.element.querySelector('.e-recurrenceeditor')], cls.DISABLE_CLASS);\n                }\n                this.cellClickAction = false;\n                this.onEventDetailsUpdate(data);\n                break;\n        }\n    };\n    EventWindow.prototype.setDialogContent = function () {\n        this.dialogObject.content = this.getEventWindowContent();\n        this.dialogObject.dataBind();\n        this.applyFormValidation();\n    };\n    EventWindow.prototype.setDialogHeader = function () {\n        if (!isNullOrUndefined(this.parent.editorHeaderTemplate)) {\n            this.parent.resetTemplates(['editorHeaderTemplate']);\n            if (this.parent.isAdaptive && !this.parent.editorFooterTemplate) {\n                this.dialogObject.header = this.createAdaptiveHeaderElement();\n            }\n            else {\n                this.dialogObject.header = this.getDialogHeader();\n            }\n        }\n        else if (this.parent.isAdaptive) {\n            this.dialogObject.header = '<div class=\"e-title-header\"><div class=\"e-back-icon e-icons\"></div><div class=\"e-title-text\">' +\n                this.l10n.getConstant('newEvent') + '</div><div class=\"e-save-icon e-icons\"></div></div>';\n        }\n        else {\n            this.dialogObject.header = '<div class=\"e-title-text\">' + this.l10n.getConstant('newEvent') + '</div>';\n        }\n        this.dialogObject.dataBind();\n        this.addEventHandlers();\n    };\n    EventWindow.prototype.setDialogFooter = function () {\n        if (!isNullOrUndefined(this.parent.editorFooterTemplate)) {\n            this.parent.resetTemplates(['editorFooterTemplate']);\n            this.dialogObject.footerTemplate = this.getDialogFooter();\n        }\n        else if (!this.parent.isAdaptive && isNullOrUndefined(this.parent.editorFooterTemplate)) {\n            this.renderDialogButtons(this.dialogObject);\n        }\n        else if (this.parent.isAdaptive && isNullOrUndefined(this.parent.editorFooterTemplate)) {\n            this.dialogObject.footerTemplate = null;\n        }\n        this.dialogObject.dataBind();\n    };\n    EventWindow.prototype.createAdaptiveHeaderElement = function (data) {\n        var header = createElement('div', { className: 'e-title-header' });\n        var headerBackIcon = createElement('div', { className: 'e-back-icon e-icons' });\n        header.appendChild(headerBackIcon);\n        var headerTemplate = this.getDialogHeader(data);\n        header.appendChild(headerTemplate);\n        var headerSaveIcon = createElement('div', { className: 'e-save-icon e-icons' });\n        header.appendChild(headerSaveIcon);\n        return header;\n    };\n    EventWindow.prototype.getDialogHeader = function (args) {\n        var headerTemplate = [];\n        var headerTemplateId = this.parent.element.id + '_editorHeaderTemplate';\n        var temHeaderDiv = document.createElement('div');\n        headerTemplate = [].slice.call(this.parent.getEditorHeaderTemplate()(args || {}, this.parent, 'editorHeaderTemplate', headerTemplateId, false));\n        append(headerTemplate, temHeaderDiv);\n        return temHeaderDiv;\n    };\n    EventWindow.prototype.getDialogFooter = function (args) {\n        var footerTemplate = [];\n        var footerTemplateId = this.parent.element.id + '_editorFooterTemplate';\n        var temFooterDiv = document.createElement('div');\n        footerTemplate = [].slice.call(this.parent.getEditorFooterTemplate()(args || {}, this.parent, 'editorFooterTemplate', footerTemplateId, false));\n        append(footerTemplate, temFooterDiv);\n        return temFooterDiv;\n    };\n    EventWindow.prototype.preventEventSave = function (e) {\n        if (this.parent && !this.parent.allowKeyboardInteraction && e.code === 'Enter') {\n            this.isEnterKey = true;\n        }\n    };\n    EventWindow.prototype.onBeforeOpen = function (args) {\n        var _this = this;\n        var endTime = this.eventData[this.fields.endTime].getTime();\n        var eventProp = {\n            type: 'Editor',\n            data: this.eventData,\n            cancel: false,\n            element: this.element,\n            target: (this.cellClickAction ? this.parent.activeCellsData.element : this.parent.activeEventData.element)\n        };\n        if (this.cellClickAction) {\n            eventProp.duration = this.getSlotDuration();\n        }\n        var saveObj = this.getInstance(cls.EVENT_WINDOW_SAVE_BUTTON_CLASS);\n        if (saveObj) {\n            saveObj.disabled = !(this.cellClickAction ? this.parent.eventSettings.allowAdding : this.parent.eventSettings.allowEditing);\n            saveObj.dataBind();\n        }\n        var deleteObj = this.getInstance(cls.DELETE_EVENT_CLASS);\n        if (deleteObj) {\n            deleteObj.disabled = !this.parent.eventSettings.allowDeleting;\n            deleteObj.dataBind();\n        }\n        var callBackPromise = new Deferred();\n        this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n            args.cancel = popupArgs.cancel;\n            _this.duration = _this.cellClickAction ? popupArgs.duration : null;\n            if (_this.eventData[_this.fields.endTime].getTime() === endTime && !_this.cellClickAction &&\n                _this.eventData[_this.fields.endTime].getHours() === 0 &&\n                _this.eventData[_this.fields.endTime].getMinutes() === 0) {\n                _this.eventData = extend({}, _this.eventData, null, true);\n                _this.trimAllDay(_this.eventData);\n            }\n            _this.refreshDateTimePicker(_this.duration);\n            if (_this.cellClickAction && popupArgs.duration !== _this.getSlotDuration() && isNullOrUndefined(_this.parent.editorTemplate)) {\n                var startObj = _this.getInstance(cls.EVENT_WINDOW_START_CLASS);\n                var endObj = _this.getInstance(cls.EVENT_WINDOW_END_CLASS);\n                endObj.value = new Date(startObj.value.getTime() + (util.MS_PER_MINUTE * popupArgs.duration));\n                endObj.dataBind();\n            }\n            if (_this.parent.editorTemplate && _this.element.querySelector('.e-recurrenceeditor') && !_this.recurrenceEditor) {\n                _this.recurrenceEditor = _this.getInstance('e-recurrenceeditor');\n            }\n            callBackPromise.resolve(args);\n        });\n        return callBackPromise;\n    };\n    EventWindow.prototype.onBeforeClose = function (args) {\n        var _this = this;\n        if (args.isInteracted) {\n            this.isCrudAction = false;\n        }\n        var eventProp = {\n            type: 'Editor',\n            event: args.event || this.dialogEvent,\n            data: this.eventCrudData,\n            cancel: false,\n            element: this.element,\n            target: (this.cellClickAction ? this.parent.activeCellsData.element : this.parent.activeEventData.element)\n        };\n        var callBackPromise = new Deferred();\n        this.parent.trigger(event.popupClose, eventProp, function (popupArgs) {\n            args.cancel = popupArgs.cancel;\n            if (!popupArgs.cancel) {\n                if (_this.isCrudAction) {\n                    args.cancel = _this.processCrudActions(popupArgs.data);\n                    _this.isCrudAction = args.cancel;\n                }\n                if (!_this.isCrudAction) {\n                    _this.resetForm();\n                    _this.parent.eventBase.focusElement(true);\n                    _this.eventCrudData = null;\n                }\n            }\n            callBackPromise.resolve(args);\n        });\n        return callBackPromise;\n    };\n    EventWindow.prototype.getEventWindowContent = function () {\n        var container = createElement('div', { className: cls.FORM_CONTAINER_CLASS });\n        var form = createElement('form', {\n            id: this.parent.element.id + 'EditForm',\n            className: cls.FORM_CLASS,\n            attrs: { onsubmit: 'return false;' }\n        });\n        this.renderFormElements(form);\n        container.appendChild(form);\n        return container;\n    };\n    EventWindow.prototype.renderFormElements = function (form, args, type, repeatType) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.editorTemplate)) {\n            if (args) {\n                if (this.fieldValidator) {\n                    this.fieldValidator.destroy();\n                    this.fieldValidator = null;\n                }\n                if (this.recurrenceEditor) {\n                    this.recurrenceEditor.destroy();\n                    this.recurrenceEditor = null;\n                }\n                this.destroyComponents();\n                this.parent.resetTemplates(['editorTemplate']);\n                EventHandler.clearEvents(form);\n                if (!this.parent.isReact) {\n                    var formElements = [].slice.call(form.children);\n                    for (var _i = 0, formElements_1 = formElements; _i < formElements_1.length; _i++) {\n                        var element = formElements_1[_i];\n                        remove(element);\n                    }\n                }\n            }\n            var templateId = this.parent.element.id + '_editorTemplate';\n            var tempEle = [].slice.call(this.parent.getEditorTemplate()(args || {}, this.parent, 'editorTemplate', templateId, false));\n            append(tempEle, form);\n            this.parent.renderTemplates(function () {\n                if (_this.element) {\n                    _this.applyFormValidation();\n                    if (args) {\n                        _this.setEditorContent(args, type, repeatType);\n                    }\n                }\n            });\n        }\n        else {\n            form.appendChild(this.getDefaultEventWindowContent());\n            if (args) {\n                this.setEditorContent(args, type, repeatType);\n            }\n        }\n    };\n    EventWindow.prototype.getDefaultEventWindowContent = function () {\n        var parentDiv = this.createDivElement(cls.EVENT_WINDOW_DIALOG_PARENT_CLASS);\n        var titleLocationDiv = this.createDivElement(cls.EVENT_WINDOW_TITLE_LOCATION_DIV_CLASS);\n        parentDiv.appendChild(titleLocationDiv);\n        titleLocationDiv.appendChild(this.renderTextBox(cls.SUBJECT_CLASS));\n        titleLocationDiv.appendChild(this.renderTextBox(cls.LOCATION_CLASS));\n        var startEndDateTimeDiv = this.createDivElement(cls.EVENT_WINDOW_START_END_DIV_CLASS);\n        parentDiv.appendChild(startEndDateTimeDiv);\n        startEndDateTimeDiv.appendChild(this.renderDateTimePicker(cls.EVENT_WINDOW_START_CLASS, this.onTimeChange.bind(this)));\n        startEndDateTimeDiv.appendChild(this.renderDateTimePicker(cls.EVENT_WINDOW_END_CLASS));\n        var allDayTimezoneDiv = this.createDivElement(cls.EVENT_WINDOW_ALLDAY_TZ_DIV_CLASS);\n        parentDiv.appendChild(allDayTimezoneDiv);\n        allDayTimezoneDiv.appendChild(this.renderCheckBox(cls.EVENT_WINDOW_ALL_DAY_CLASS));\n        allDayTimezoneDiv.appendChild(this.renderCheckBox(cls.TIME_ZONE_CLASS));\n        var timezoneParentDiv = this.createDivElement(cls.EVENT_WINDOW_TIME_ZONE_DIV_CLASS);\n        parentDiv.appendChild(timezoneParentDiv);\n        timezoneParentDiv.appendChild(this.renderDropDown(cls.EVENT_WINDOW_START_TZ_CLASS));\n        timezoneParentDiv.appendChild(this.renderDropDown(cls.EVENT_WINDOW_END_TZ_CLASS));\n        var repeatParentDiv = this.createDivElement(cls.EVENT_WINDOW_REPEAT_DIV_CLASS);\n        parentDiv.appendChild(repeatParentDiv);\n        var repeatDiv = this.renderCheckBox(cls.EVENT_WINDOW_REPEAT_CLASS);\n        var repeatEditContainer = createElement('span', { className: REPEAT_CONTAINER_CLASS });\n        var button = createElement('button', {\n            className: REPEAT_BUTTON_CLASS,\n            attrs: { type: 'button', 'title': this.l10n.getConstant('editRecurrence') }\n        });\n        this.buttonObj = new Button({ iconCss: REPEAT_BUTTON_ICON_CLASS + ' e-icons', cssClass: 'e-medium ' + this.parent.cssClass });\n        repeatEditContainer.appendChild(button);\n        this.buttonObj.appendTo(button);\n        repeatDiv.appendChild(repeatEditContainer);\n        repeatParentDiv.appendChild(repeatDiv);\n        if (this.parent.isAdaptive) {\n            EventHandler.add(button, 'click', this.loadRecurrenceEditor, this);\n        }\n        else {\n            this.createRecurrenceEditor(parentDiv);\n        }\n        if (this.parent.resourceCollection.length > 0) {\n            var resourceParentDiv = this.createDivElement(cls.EVENT_WINDOW_RESOURCES_DIV_CLASS);\n            for (var _i = 0, _a = this.parent.resourceBase.resourceCollection; _i < _a.length; _i++) {\n                var resource = _a[_i];\n                resourceParentDiv.appendChild(this.renderResourceDetails(resource));\n            }\n            parentDiv.appendChild(resourceParentDiv);\n        }\n        var description = this.createDivElement(cls.DESCRIPTION_CLASS + '-row');\n        description.appendChild(this.renderTextBox(cls.DESCRIPTION_CLASS));\n        parentDiv.appendChild(description);\n        var submit = createElement('button', { attrs: { type: 'hidden', title: 'submit', style: 'display:none' } });\n        parentDiv.appendChild(submit);\n        return parentDiv;\n    };\n    EventWindow.prototype.createRecurrenceEditor = function (parentDiv) {\n        var recurrenceEditor = createElement('div', { id: this.parent.element.id + '_recurrence_editor' });\n        parentDiv.appendChild(recurrenceEditor);\n        this.recurrenceEditor = this.renderRecurrenceEditor();\n        this.recurrenceEditor.appendTo(recurrenceEditor);\n        this.updateMinMaxDateToEditor();\n    };\n    EventWindow.prototype.createDivElement = function (className) {\n        return createElement('div', { className: className });\n    };\n    EventWindow.prototype.createInputElement = function (className, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', name: fieldName, value: '', id: fieldName\n            }\n        });\n    };\n    EventWindow.prototype.getSlotDuration = function () {\n        return this.parent.activeViewOptions.timeScale.interval / this.parent.activeViewOptions.timeScale.slotCount;\n    };\n    EventWindow.prototype.renderDateTimePicker = function (value, changeEvent) {\n        var dateTimeDiv = this.createDivElement(value + '-container');\n        var fieldName = this.getFieldName(value);\n        var dateTimeInput = this.createInputElement(value + ' ' + EVENT_FIELD, fieldName);\n        dateTimeDiv.appendChild(dateTimeInput);\n        var dateTimePicker = new DateTimePicker({\n            change: changeEvent,\n            firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n            calendarMode: this.parent.calendarMode,\n            min: this.parent.minDate,\n            max: new Date(new Date(+this.parent.maxDate).setHours(23, 59, 59)),\n            cssClass: this.parent.cssClass,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            floatLabelType: 'Always',\n            strictMode: true,\n            timeFormat: this.parent.activeViewOptions.timeFormat,\n            format: (isNullOrUndefined(this.parent.dateFormat) ?\n                this.getFormat('dateFormats') : this.parent.dateFormat) + ' ' + this.parent.activeViewOptions.timeFormat,\n            placeholder: this.getFieldLabel(value),\n            step: this.getSlotDuration(),\n            width: '100%'\n        });\n        dateTimePicker.appendTo(dateTimeInput);\n        return dateTimeDiv;\n    };\n    EventWindow.prototype.refreshDateTimePicker = function (duration) {\n        var elementSelector = '.' + cls.EVENT_WINDOW_START_CLASS + ',.' + cls.EVENT_WINDOW_END_CLASS;\n        var startEndElement = [].slice.call(this.element.querySelectorAll(elementSelector));\n        for (var _i = 0, startEndElement_1 = startEndElement; _i < startEndElement_1.length; _i++) {\n            var element = startEndElement_1[_i];\n            var instance = element.ej2_instances[0];\n            instance.firstDayOfWeek = this.parent.activeViewOptions.firstDayOfWeek;\n            instance.timeFormat = this.parent.activeViewOptions.timeFormat;\n            instance.step = duration || this.getSlotDuration();\n            instance.dataBind();\n        }\n    };\n    EventWindow.prototype.onTimeChange = function () {\n        var startObj = this.getInstance(cls.EVENT_WINDOW_START_CLASS);\n        if (startObj.element.parentElement.classList.contains('e-input-focus')) {\n            var endObj = this.getInstance(cls.EVENT_WINDOW_END_CLASS);\n            var duration = 0;\n            if (this.cellClickAction) {\n                duration = util.MS_PER_MINUTE * this.duration;\n                this.eventWindowTime.startTime = startObj.value;\n            }\n            else {\n                duration = this.eventData[this.fields.endTime].getTime() - this.eventData[this.fields.startTime].getTime();\n            }\n            var endDate = (isNullOrUndefined(startObj.value)) ? null : new Date(startObj.value.getTime() + duration);\n            if (this.cellClickAction) {\n                this.eventWindowTime.endTime = endDate;\n            }\n            endObj.value = endDate;\n            endObj.dataBind();\n        }\n        if (this.recurrenceEditor) {\n            this.recurrenceEditor.updateRuleUntilDate(this.eventWindowTime.startTime);\n        }\n    };\n    EventWindow.prototype.renderResourceDetails = function (resourceData) {\n        var fieldName = resourceData.field;\n        var value = 'e-' + fieldName;\n        var labelValue = resourceData.title;\n        var resourceDiv = this.createDivElement(value + '-container' + ' ' + 'e-resources');\n        var resourceInput = this.createInputElement(value + ' ' + EVENT_FIELD, fieldName);\n        resourceDiv.appendChild(resourceInput);\n        var resourceTemplate = function (data) {\n            return SanitizeHtmlHelper.sanitize(\"<div class=\\\"e-resource-template\\\"><div class=\\\"e-resource-color\\\" style=\\\"background-color:\" + data[resourceData.colorField] + \"\\\"></div><div class=\\\"e-resource-text\\\">\" + data[resourceData.textField] + \"</div></div>\");\n        };\n        initializeCSPTemplate(resourceTemplate, resourceData);\n        if (resourceData.allowMultiple) {\n            var listObj = new MultiSelect({\n                enableRtl: this.parent.enableRtl,\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                cssClass: this.parent.cssClass || '',\n                dataSource: resourceData.dataSource,\n                change: this.onMultiselectResourceChange.bind(this),\n                itemTemplate: resourceTemplate,\n                fields: {\n                    text: resourceData.textField,\n                    value: resourceData.idField\n                },\n                htmlAttributes: { 'name': fieldName },\n                floatLabelType: 'Always',\n                placeholder: labelValue,\n                popupHeight: '230px',\n                popupWidth: '447px',\n                mode: 'Box'\n            });\n            listObj.appendTo(resourceInput);\n        }\n        else {\n            var dropDownList = new DropDownList({\n                cssClass: this.parent.cssClass || '',\n                change: this.onDropdownResourceChange.bind(this),\n                dataSource: resourceData.dataSource,\n                enableRtl: this.parent.enableRtl,\n                fields: {\n                    text: resourceData.textField,\n                    value: resourceData.idField\n                },\n                htmlAttributes: { 'name': fieldName },\n                floatLabelType: 'Always',\n                placeholder: labelValue,\n                popupHeight: '230px',\n                popupWidth: '447px',\n                itemTemplate: resourceTemplate\n            });\n            dropDownList.appendTo(resourceInput);\n        }\n        return resourceDiv;\n    };\n    EventWindow.prototype.renderDropDown = function (value) {\n        var _this = this;\n        var fieldName = this.getFieldName(value);\n        var timezoneDiv = this.createDivElement(value + '-container');\n        var timezoneInput = this.createInputElement(value + ' ' + EVENT_FIELD, fieldName);\n        timezoneDiv.appendChild(timezoneInput);\n        var dropDownList = new DropDownList({\n            allowFiltering: true,\n            change: this.onTimezoneChange.bind(this),\n            cssClass: this.parent.cssClass || '',\n            dataSource: this.parent.timezoneDataSource,\n            enableRtl: this.parent.enableRtl,\n            fields: { text: 'Text', value: 'Value' },\n            filterBarPlaceholder: this.parent.localeObj.getConstant('searchTimezone'),\n            noRecordsTemplate: this.parent.localeObj.getConstant('noRecords'),\n            filtering: function (e) {\n                var query = new Query();\n                query = (e.text !== '') ? query.where('Text', 'contains', e.text, true) : query;\n                e.updateData(_this.parent.timezoneDataSource, query);\n            },\n            htmlAttributes: { 'title': this.getFieldLabel(value), 'name': fieldName },\n            floatLabelType: 'Always',\n            placeholder: this.getFieldLabel(value),\n            popupHeight: '230px'\n        });\n        dropDownList.appendTo(timezoneInput);\n        return timezoneDiv;\n    };\n    EventWindow.prototype.onMultiselectResourceChange = function (args) {\n        if (!args.value || !this.parent.activeViewOptions.group.byGroupID || this.parent.resourceCollection.length <= 1) {\n            return;\n        }\n        var resourceCollection = this.parent.resourceBase.resourceCollection;\n        var fieldName = args.element.getAttribute('name') || this.getColumnName(args.element);\n        for (var i = 0; i < resourceCollection.length; i++) {\n            if (resourceCollection[parseInt(i.toString(), 10)].field === fieldName && i < resourceCollection.length - 1) {\n                var resObject = this.createInstance(i);\n                var datasource = [];\n                var _loop_1 = function (j) {\n                    var resourceModel = resourceCollection[i + 1];\n                    // eslint-disable-next-line max-len\n                    var filter = resourceModel.dataSource.filter(function (data) {\n                        return data[resourceModel.groupIDField] === args.value[parseInt(j.toString(), 10)];\n                    })[0];\n                    var groupId = (!isNullOrUndefined(filter)) ?\n                        filter[resourceCollection[i + 1].groupIDField] : null;\n                    var filterRes = this_1.filterDatasource(i, groupId);\n                    datasource = datasource.concat(filterRes);\n                };\n                var this_1 = this;\n                for (var j = 0; j < args.value.length; j++) {\n                    _loop_1(j);\n                }\n                resObject.dataSource = datasource;\n                resObject.dataBind();\n            }\n        }\n    };\n    EventWindow.prototype.createInstance = function (index) {\n        var resourceData = this.parent.resourceBase.resourceCollection[index + 1];\n        var resObject = this.element.querySelector('.e-' + resourceData.field).\n            ej2_instances[0];\n        resObject.clear();\n        return resObject;\n    };\n    EventWindow.prototype.onDropdownResourceChange = function (args) {\n        if (!args.value || this.parent.resourceCollection.length <= 1 || !this.parent.activeViewOptions.group.byGroupID) {\n            return;\n        }\n        var fieldName = args.element.getAttribute('name') || this.getColumnName(args.element);\n        var resourceCollection = this.parent.resourceBase.resourceCollection;\n        for (var i = 0; i < resourceCollection.length; i++) {\n            if ((i < resourceCollection.length - 1) && resourceCollection[parseInt(i.toString(), 10)].field === fieldName) {\n                var resObj = this.createInstance(i);\n                var groupId = args.itemData[resourceCollection[parseInt(i.toString(), 10)].idField];\n                resObj.dataSource = this.filterDatasource(i, groupId);\n                resObj.dataBind();\n                var resValue = (resObj.dataSource.length > 0) ?\n                    resObj.dataSource[0][resourceCollection[i + 1].idField] : null;\n                resObj.value = (resourceCollection[i + 1].allowMultiple) ? [resValue] : resValue;\n                resObj.dataBind();\n            }\n        }\n    };\n    EventWindow.prototype.filterDatasource = function (index, groupId) {\n        var resourceData = this.parent.resourceBase.resourceCollection[index + 1];\n        return resourceData.dataSource.filter(function (data) {\n            return data[resourceData.groupIDField] === groupId;\n        });\n    };\n    EventWindow.prototype.onTimezoneChange = function (args) {\n        var fieldName = args.element.getAttribute('name') || this.getColumnName(args.element);\n        if (fieldName === this.parent.eventFields.startTimezone) {\n            var startTimezoneObj = this.getInstance(cls.EVENT_WINDOW_START_TZ_CLASS);\n            var endTimezoneObj = this.getInstance(cls.EVENT_WINDOW_END_TZ_CLASS);\n            endTimezoneObj.value = startTimezoneObj.value;\n            endTimezoneObj.dataBind();\n        }\n    };\n    EventWindow.prototype.renderCheckBox = function (value) {\n        var checkBoxDiv = this.createDivElement(value + '-container');\n        var fieldName = this.getFieldName(value);\n        var checkBoxInput = this.createInputElement(value + ' ' + EVENT_FIELD, fieldName);\n        checkBoxDiv.appendChild(checkBoxInput);\n        var checkBox = new CheckBox({\n            change: this.onChange.bind(this),\n            cssClass: value + ' ' + this.parent.cssClass,\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            label: this.getFieldLabel(value)\n        });\n        checkBox.appendTo(checkBoxInput);\n        checkBoxInput.setAttribute('name', fieldName);\n        if (fieldName === 'Repeat') {\n            this.repeatStatus = checkBox;\n        }\n        return checkBoxDiv;\n    };\n    EventWindow.prototype.renderTextBox = function (value) {\n        var textBoxDiv = this.createDivElement(value + '-container');\n        var fieldName = this.getFieldName(value);\n        var elementType = (value === cls.DESCRIPTION_CLASS) ? 'textarea' : 'input';\n        var textBoxInput = this.createInputElement(value + ' ' + EVENT_FIELD, fieldName, elementType);\n        textBoxDiv.appendChild(textBoxInput);\n        Input.createInput({\n            element: textBoxInput,\n            floatLabelType: 'Always',\n            properties: {\n                enableRtl: this.parent.enableRtl,\n                placeholder: this.getFieldLabel(value)\n            }\n        });\n        return textBoxDiv;\n    };\n    EventWindow.prototype.getFieldName = function (name) {\n        var fieldName = '';\n        switch (name) {\n            case cls.SUBJECT_CLASS:\n                fieldName = this.fields.subject;\n                break;\n            case cls.LOCATION_CLASS:\n                fieldName = this.fields.location;\n                break;\n            case cls.EVENT_WINDOW_START_CLASS:\n                fieldName = this.fields.startTime;\n                break;\n            case cls.EVENT_WINDOW_END_CLASS:\n                fieldName = this.fields.endTime;\n                break;\n            case cls.DESCRIPTION_CLASS:\n                fieldName = this.fields.description;\n                break;\n            case cls.EVENT_WINDOW_ALL_DAY_CLASS:\n                fieldName = this.fields.isAllDay;\n                break;\n            case cls.EVENT_WINDOW_START_TZ_CLASS:\n                fieldName = this.fields.startTimezone;\n                break;\n            case cls.EVENT_WINDOW_END_TZ_CLASS:\n                fieldName = this.fields.endTimezone;\n                break;\n            case cls.TIME_ZONE_CLASS:\n                fieldName = 'Timezone';\n                break;\n            case cls.EVENT_WINDOW_REPEAT_CLASS:\n                fieldName = 'Repeat';\n                break;\n        }\n        return fieldName;\n    };\n    EventWindow.prototype.getFieldLabel = function (fieldName) {\n        var labelText = '';\n        switch (fieldName) {\n            case cls.SUBJECT_CLASS:\n                labelText = this.parent.editorTitles.subject;\n                break;\n            case cls.LOCATION_CLASS:\n                labelText = this.parent.editorTitles.location;\n                break;\n            case cls.DESCRIPTION_CLASS:\n                labelText = this.parent.editorTitles.description;\n                break;\n            case cls.EVENT_WINDOW_START_CLASS:\n                labelText = this.parent.editorTitles.startTime;\n                break;\n            case cls.EVENT_WINDOW_END_CLASS:\n                labelText = this.parent.editorTitles.endTime;\n                break;\n            case cls.EVENT_WINDOW_START_TZ_CLASS:\n                labelText = this.parent.editorTitles.startTimezone;\n                break;\n            case cls.EVENT_WINDOW_END_TZ_CLASS:\n                labelText = this.parent.editorTitles.endTimezone;\n                break;\n            case cls.EVENT_WINDOW_REPEAT_CLASS:\n                labelText = this.parent.editorTitles.recurrenceRule;\n                break;\n            case cls.EVENT_WINDOW_ALL_DAY_CLASS:\n                labelText = this.parent.editorTitles.isAllDay;\n                break;\n            case cls.TIME_ZONE_CLASS:\n                labelText = this.l10n.getConstant('timezone');\n                break;\n        }\n        return labelText;\n    };\n    EventWindow.prototype.onChange = function (args) {\n        if (args.event && args.event.target) {\n            var targetSelector = \".\" + cls.EVENT_WINDOW_ALL_DAY_CLASS + \",.\" + cls.TIME_ZONE_CLASS + \",.\" + cls.EVENT_WINDOW_REPEAT_CLASS;\n            var target = closest(args.event.target, targetSelector);\n            if (target.classList.contains(cls.EVENT_WINDOW_ALL_DAY_CLASS)) {\n                this.onAllDayChange(args.checked);\n            }\n            else if (target.classList.contains(cls.TIME_ZONE_CLASS)) {\n                this.timezoneChangeStyle(args.checked);\n            }\n            else if (target.classList.contains(cls.EVENT_WINDOW_REPEAT_CLASS)) {\n                this.onRepeatChange(args.checked);\n            }\n        }\n    };\n    EventWindow.prototype.renderRepeatDialog = function () {\n        var element = createElement('div');\n        this.repeatDialogObject = new Dialog({\n            header: this.l10n.getConstant('recurrence'),\n            visible: false,\n            content: '<div class=\"e-rec-editor\"></div>',\n            closeOnEscape: true,\n            width: '90%',\n            buttons: [{\n                    click: this.repeatSaveDialog.bind(this),\n                    buttonModel: { content: this.l10n.getConstant('save'), cssClass: 'e-save', isPrimary: true }\n                },\n                { click: this.repeatCancelDialog.bind(this), buttonModel: { cssClass: 'e-cancel', content: this.l10n.getConstant('cancel') } }],\n            target: this.element,\n            animationSettings: { effect: 'Zoom' },\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            isModal: true,\n            cssClass: REPEAT_DIALOG_CLASS,\n            open: this.repeatOpenDialog.bind(this)\n        });\n        this.element.appendChild(element);\n        this.repeatDialogObject.appendTo(element);\n        this.createRecurrenceEditor(this.repeatDialogObject.element.querySelector('.e-rec-editor'));\n    };\n    EventWindow.prototype.loadRecurrenceEditor = function () {\n        this.repeatDialogObject.show();\n        if (this.recurrenceEditor && this.repeatRule) {\n            this.recurrenceEditor.setRecurrenceRule(this.repeatRule);\n        }\n    };\n    EventWindow.prototype.onRepeatChange = function (state) {\n        if (state) {\n            if (!this.repeatDialogObject) {\n                this.renderRepeatDialog();\n            }\n            this.recurrenceEditor.setProperties({ startDate: this.repeatStartDate, selectedType: 0 });\n            this.loadRecurrenceEditor();\n        }\n        else {\n            if (this.repeatDialogObject) {\n                this.repeatDialogObject.hide();\n            }\n            this.repeatRule = '';\n            if (this.recurrenceEditor) {\n                this.recurrenceEditor.setRecurrenceRule(this.repeatRule);\n                this.updateRepeatLabel(this.repeatRule);\n            }\n            var element = this.element.querySelector('.' + REPEAT_CONTAINER_CLASS);\n            addClass([element], HIDE_STYLE_CLASS);\n        }\n    };\n    EventWindow.prototype.repeatSaveDialog = function () {\n        this.repeatRule = this.recurrenceEditor.getRecurrenceRule();\n        var element = this.element.querySelector('.' + REPEAT_CONTAINER_CLASS);\n        if (this.recurrenceEditor.getRecurrenceRule()) {\n            removeClass([element], HIDE_STYLE_CLASS);\n        }\n        else {\n            addClass([element], HIDE_STYLE_CLASS);\n            this.repeatStatus.setProperties({ checked: false });\n        }\n        this.updateRepeatLabel(this.repeatRule);\n        this.closeRepeatDialog();\n    };\n    EventWindow.prototype.closeRepeatDialog = function () {\n        this.repeatDialogObject.hide();\n    };\n    EventWindow.prototype.repeatCancelDialog = function () {\n        this.closeRepeatDialog();\n        if (this.recurrenceEditor) {\n            this.recurrenceEditor.setRecurrenceRule(this.repeatTempRule);\n        }\n        if (!this.repeatTempRule) {\n            this.repeatStatus.setProperties({ checked: false });\n        }\n    };\n    EventWindow.prototype.repeatOpenDialog = function () {\n        this.repeatTempRule = this.recurrenceEditor.getRecurrenceRule();\n    };\n    EventWindow.prototype.onCellDetailsUpdate = function (eventObj, repeatType) {\n        if (!this.parent.eventSettings.allowAdding) {\n            return;\n        }\n        if (this.parent.isAdaptive && repeatType && !this.repeatDialogObject) {\n            this.renderRepeatDialog();\n        }\n        this.element.querySelector('.' + cls.FORM_CLASS).removeAttribute('data-id');\n        if (isNullOrUndefined(this.parent.editorHeaderTemplate)) {\n            this.element.querySelector('.' + cls.EVENT_WINDOW_TITLE_TEXT_CLASS).innerHTML = this.l10n.getConstant('newEvent');\n        }\n        eventObj.Timezone = false;\n        this.repeatStartDate = eventObj[this.fields.startTime];\n        this.repeatRule = '';\n        if (!isNullOrUndefined(this.parent.eventSettings.fields.subject.default)) {\n            eventObj[this.fields.subject] = this.parent.eventSettings.fields.subject.default;\n        }\n        if (!isNullOrUndefined(this.parent.eventSettings.fields.location.default)) {\n            eventObj[this.fields.location] = this.parent.eventSettings.fields.location.default;\n        }\n        if (!isNullOrUndefined(this.parent.eventSettings.fields.description.default)) {\n            eventObj[this.fields.description] = this.parent.eventSettings.fields.description.default;\n        }\n        this.showDetails(eventObj);\n        if (eventObj[this.fields.recurrenceRule] && this.recurrenceEditor) {\n            this.recurrenceEditor.setRecurrenceRule(eventObj[this.fields.recurrenceRule], eventObj[this.fields.startTime]);\n            this.repeatRule = eventObj[this.fields.recurrenceRule];\n        }\n        var deleteButton = this.element.querySelector('.' + cls.DELETE_EVENT_CLASS);\n        if (deleteButton) {\n            addClass([deleteButton], cls.DISABLE_CLASS);\n        }\n        if (this.recurrenceEditor) {\n            this.recurrenceEditor.setProperties({\n                startDate: eventObj[this.fields.startTime],\n                selectedType: !isNullOrUndefined(repeatType) ? repeatType : !isNullOrUndefined(eventObj[this.fields.recurrenceRule]) ?\n                    this.recurrenceEditor.selectedType : 0\n            });\n            this.repeatRule = this.recurrenceEditor.value;\n        }\n        if (this.parent.isAdaptive && isNullOrUndefined(this.parent.editorTemplate)) {\n            var element = this.element.querySelector('.' + REPEAT_CONTAINER_CLASS);\n            if (eventObj[this.fields.recurrenceRule] || repeatType) {\n                removeClass([element], HIDE_STYLE_CLASS);\n                this.repeatStatus.setProperties({ checked: true });\n            }\n            else {\n                addClass([element], HIDE_STYLE_CLASS);\n                this.repeatStatus.setProperties({ checked: false });\n            }\n            this.updateRepeatLabel(this.repeatRule);\n        }\n        else {\n            var saveButton = this.element.querySelector('.' + cls.EVENT_WINDOW_SAVE_BUTTON_CLASS);\n            this.disableButton(saveButton, false);\n        }\n        this.dialogObject.show();\n    };\n    EventWindow.prototype.convertToEventData = function (cellsData, eventObj) {\n        if (cellsData.subject) {\n            eventObj[this.fields.subject] = cellsData.subject;\n        }\n        eventObj[this.fields.startTime] = cellsData.startTime;\n        eventObj[this.fields.endTime] = cellsData.endTime;\n        eventObj[this.fields.isAllDay] = cellsData.isAllDay;\n        if (cellsData.RecurrenceRule) {\n            eventObj[this.fields.recurrenceRule] = cellsData.RecurrenceRule;\n        }\n        if (this.parent.resourceCollection.length > 0 || this.parent.activeViewOptions.group.resources.length > 0) {\n            this.parent.resourceBase.setResourceValues(eventObj);\n        }\n    };\n    EventWindow.prototype.applyFormValidation = function () {\n        var form = this.element.querySelector('.' + cls.FORM_CLASS);\n        if (!form) {\n            return;\n        }\n        var getValidationRule = function (rules) {\n            return (rules && Object.keys(rules).length > 0) ? rules : undefined;\n        };\n        var rules = {};\n        var subjectRule = getValidationRule(this.parent.eventSettings.fields.subject.validation);\n        if (!isNullOrUndefined(subjectRule)) {\n            rules[this.parent.eventSettings.fields.subject.name] = subjectRule;\n        }\n        var locationRule = getValidationRule(this.parent.eventSettings.fields.location.validation);\n        if (!isNullOrUndefined(locationRule)) {\n            rules[this.parent.eventSettings.fields.location.name] = locationRule;\n        }\n        var startTimeRule = getValidationRule(this.parent.eventSettings.fields.startTime.validation);\n        if (!isNullOrUndefined(startTimeRule)) {\n            rules[this.parent.eventSettings.fields.startTime.name] = startTimeRule;\n        }\n        var endTimeRule = getValidationRule(this.parent.eventSettings.fields.endTime.validation);\n        if (!isNullOrUndefined(endTimeRule)) {\n            rules[this.parent.eventSettings.fields.endTime.name] = endTimeRule;\n        }\n        var descriptionRule = getValidationRule(this.parent.eventSettings.fields.description.validation);\n        if (!isNullOrUndefined(descriptionRule)) {\n            rules[this.parent.eventSettings.fields.description.name] = descriptionRule;\n        }\n        if (this.fieldValidator) {\n            this.fieldValidator.destroy();\n            this.fieldValidator = null;\n        }\n        this.fieldValidator = new FieldValidator();\n        this.fieldValidator.renderFormValidator(form, rules, this.element, this.parent.locale);\n    };\n    EventWindow.prototype.showDetails = function (eventData) {\n        this.eventData = eventData;\n        var eventObj = extend({}, eventData, null, true);\n        var formElements = this.getFormElements(cls.EVENT_WINDOW_DIALOG_CLASS);\n        if ((!this.cellClickAction || this.cellClickAction && !isNullOrUndefined(this.parent.editorTemplate)) &&\n            eventObj[this.fields.endTime].getHours() === 0 && eventObj[this.fields.endTime].getMinutes() === 0) {\n            this.trimAllDay(eventObj);\n        }\n        var keyNames = Object.keys(eventObj);\n        for (var _i = 0, formElements_2 = formElements; _i < formElements_2.length; _i++) {\n            var curElement = formElements_2[_i];\n            var columnName = curElement.name || this.getColumnName(curElement);\n            if (!isNullOrUndefined(columnName) && columnName !== '') {\n                if (keyNames.indexOf(columnName) !== -1) {\n                    this.setValueToElement(curElement, eventObj[\"\" + columnName]);\n                }\n                else {\n                    this.setDefaultValueToElement(curElement);\n                }\n            }\n        }\n        if (isNullOrUndefined(this.parent.editorTemplate)) {\n            this.onAllDayChange(eventObj[this.fields.isAllDay]);\n            var timezoneObj = this.getInstance(cls.TIME_ZONE_CLASS + '.' + EVENT_FIELD);\n            if (!(isNullOrUndefined(eventObj[this.fields.startTimezone]) && isNullOrUndefined(eventObj[this.fields.endTimezone]))) {\n                timezoneObj.checked = true;\n                timezoneObj.dataBind();\n            }\n            this.timezoneChangeStyle(timezoneObj.checked);\n            delete eventObj.Timezone;\n        }\n    };\n    EventWindow.prototype.getColumnName = function (element) {\n        var attrName = element.getAttribute('data-name') || '';\n        if (attrName === '') {\n            var isDropDowns = false;\n            var fieldSelector = '';\n            if (element.classList.contains('e-dropdownlist')) {\n                fieldSelector = 'e-ddl';\n                isDropDowns = true;\n            }\n            else if (element.classList.contains('e-multiselect')) {\n                fieldSelector = 'e-multiselect';\n                isDropDowns = true;\n            }\n            else if (element.classList.contains('e-datetimepicker')) {\n                fieldSelector = 'e-datetimepicker';\n            }\n            else if (element.classList.contains('e-datepicker')) {\n                fieldSelector = 'e-datepicker';\n            }\n            else if (element.classList.contains('e-checkbox')) {\n                fieldSelector = 'e-checkbox';\n            }\n            else if (element.classList.contains('e-numerictextbox')) {\n                fieldSelector = 'e-numerictextbox';\n            }\n            var classSelector = isDropDowns ? \".\" + fieldSelector + \":not(.e-control)\" : \".\" + fieldSelector;\n            var control = closest(element, classSelector) || element.querySelector(\".\" + fieldSelector);\n            if (control) {\n                var attrEle = control.querySelector('[name]');\n                if (attrEle) {\n                    attrName = attrEle.name;\n                }\n            }\n        }\n        return attrName;\n    };\n    EventWindow.prototype.onAllDayChange = function (allDayStatus) {\n        var startObj = this.getInstance(cls.EVENT_WINDOW_START_CLASS);\n        var endObj = this.getInstance(cls.EVENT_WINDOW_END_CLASS);\n        var timezoneDiv = this.element.querySelector('.e-time-zone-container');\n        var format;\n        if (allDayStatus) {\n            format = (isNullOrUndefined(this.parent.dateFormat)) ? this.getFormat('dateFormats') : this.parent.dateFormat;\n            addClass(this.element.querySelectorAll('.e-time-icon'), cls.EVENT_WINDOW_ICON_DISABLE_CLASS);\n            addClass([timezoneDiv], cls.DISABLE_CLASS);\n            if (this.element.querySelector('.' + cls.EVENT_WINDOW_TIME_ZONE_DIV_CLASS)) {\n                removeClass([this.element.querySelector('.' + cls.EVENT_WINDOW_TIME_ZONE_DIV_CLASS)], cls.ENABLE_CLASS);\n            }\n            startObj.format = endObj.format = format;\n        }\n        else {\n            format = (isNullOrUndefined(this.parent.dateFormat)) ? this.getFormat('dateFormats') + ' ' +\n                this.parent.activeViewOptions.timeFormat : this.parent.dateFormat + ' ' + this.parent.activeViewOptions.timeFormat;\n            removeClass(this.element.querySelectorAll('.e-time-icon'), cls.EVENT_WINDOW_ICON_DISABLE_CLASS);\n            removeClass([timezoneDiv], cls.DISABLE_CLASS);\n            if (this.element.querySelector('.e-checkbox-wrapper .e-time-zone').checked) {\n                addClass([this.element.querySelector('.' + cls.EVENT_WINDOW_TIME_ZONE_DIV_CLASS)], cls.ENABLE_CLASS);\n            }\n            startObj.format = endObj.format = format;\n        }\n        if (this.cellClickAction) {\n            this.updateDateTime(allDayStatus, startObj, endObj);\n        }\n        startObj.dataBind();\n        endObj.dataBind();\n        if (!isNullOrUndefined(this.recurrenceEditor)) {\n            this.recurrenceEditor.updateRuleUntilDate(startObj.value);\n        }\n    };\n    EventWindow.prototype.updateDateTime = function (allDayStatus, startObj, endObj) {\n        var startDate;\n        var endDate;\n        if (allDayStatus) {\n            startDate = util.resetTime(new Date(this.eventWindowTime.startTime.getTime()));\n            if (this.parent.activeCellsData.isAllDay) {\n                var temp = util.addDays(new Date(this.eventWindowTime.endTime.getTime()), -1).getTime();\n                endDate = (+this.eventWindowTime.startTime > temp) ? this.eventWindowTime.endTime : new Date(temp);\n            }\n            else {\n                endDate = util.resetTime(new Date(this.eventWindowTime.endTime.getTime()));\n            }\n        }\n        else {\n            var start = this.parent.activeCellsData.startTime;\n            startDate = new Date(this.eventWindowTime.startTime.getTime());\n            startDate.setHours(start.getHours(), start.getMinutes(), start.getSeconds());\n            if (this.parent.activeCellsData.isAllDay) {\n                var startHour = this.parent.getStartEndTime(this.parent.workHours.start);\n                startDate.setHours(startHour.getHours(), startHour.getMinutes(), startHour.getSeconds());\n                endDate = new Date(startDate.getTime());\n                endDate.setMilliseconds(util.MS_PER_MINUTE * this.getSlotDuration());\n            }\n            else {\n                endDate = new Date(startDate.getTime());\n                endDate.setMilliseconds(this.parent.activeCellsData.endTime.getTime() - this.parent.activeCellsData.startTime.getTime());\n            }\n        }\n        this.eventWindowTime = { startTime: new Date(startDate.getTime()), endTime: new Date(endDate.getTime()) };\n        startObj.value = startDate;\n        endObj.value = endDate;\n        startObj.dataBind();\n        endObj.dataBind();\n    };\n    EventWindow.prototype.getFormat = function (formatType) {\n        var format;\n        if (isNullOrUndefined(this.parent.locale) || this.parent.locale === 'en' || this.parent.locale === 'en-US') {\n            format = getValue(formatType + '.short', getDefaultDateObject(this.parent.getCalendarMode()));\n        }\n        else {\n            format = getValue(\"main.\" + this.parent.locale + \".dates.calendars.\" + this.parent.getCalendarMode() + \".\" + formatType + \".short\", cldrData);\n        }\n        return format;\n    };\n    EventWindow.prototype.onEventDetailsUpdate = function (eventObj) {\n        if (!this.parent.eventSettings.allowEditing) {\n            return;\n        }\n        if (!this.parent.isAdaptive && isNullOrUndefined(this.parent.editorFooterTemplate)) {\n            removeClass([this.element.querySelector('.' + cls.DELETE_EVENT_CLASS)], cls.DISABLE_CLASS);\n        }\n        if (isNullOrUndefined(this.parent.editorHeaderTemplate)) {\n            this.element.querySelector('.' + cls.EVENT_WINDOW_TITLE_TEXT_CLASS).innerHTML = this.l10n.getConstant('editEvent');\n        }\n        this.element.querySelector('.' + cls.FORM_CLASS).setAttribute('data-id', eventObj[this.fields.id].toString());\n        if (isNullOrUndefined(this.parent.editorTemplate)) {\n            eventObj = extend({}, eventObj, null, true);\n            var timezoneObj = this.getInstance(cls.TIME_ZONE_CLASS + '.' + EVENT_FIELD);\n            var timezoneValue = void 0;\n            if (eventObj[this.fields.startTimezone] || eventObj[this.fields.endTimezone]) {\n                timezoneValue = true;\n                this.parent.eventBase.timezoneConvert(eventObj);\n            }\n            else {\n                timezoneValue = false;\n            }\n            eventObj.Timezone = timezoneValue;\n            timezoneObj.checked = timezoneValue;\n            timezoneObj.dataBind();\n        }\n        this.showDetails(eventObj);\n        if (eventObj[this.fields.recurrenceRule] && this.recurrenceEditor) {\n            this.recurrenceEditor.setRecurrenceRule(eventObj[this.fields.recurrenceRule], eventObj[this.fields.startTime]);\n        }\n        else if (!this.parent.isAdaptive && this.recurrenceEditor) {\n            this.recurrenceEditor.setProperties({ startDate: eventObj[this.fields.startTime] });\n            this.recurrenceEditor.setRecurrenceRule('');\n        }\n        this.repeatStartDate = eventObj[this.fields.startTime];\n        this.repeatRule = '';\n        if (eventObj[this.fields.recurrenceRule]) {\n            if (this.recurrenceEditor) {\n                this.recurrenceEditor.setRecurrenceRule(eventObj[this.fields.recurrenceRule], eventObj[this.fields.startTime]);\n            }\n            this.repeatRule = eventObj[this.fields.recurrenceRule];\n        }\n        if (this.parent.isAdaptive && isNullOrUndefined(this.parent.editorTemplate)) {\n            var element = this.element.querySelector('.' + REPEAT_CONTAINER_CLASS);\n            if (eventObj[this.fields.recurrenceRule]) {\n                removeClass([element], HIDE_STYLE_CLASS);\n                this.repeatStatus.setProperties({ checked: true });\n            }\n            else {\n                addClass([element], HIDE_STYLE_CLASS);\n                this.repeatStatus.setProperties({ checked: false });\n            }\n            this.updateRepeatLabel(this.repeatRule);\n        }\n        var isDisable = (this.parent.readonly || eventObj[this.fields.isReadonly]);\n        if (!this.parent.isAdaptive) {\n            var saveButton = this.element.querySelector('.' + cls.EVENT_WINDOW_SAVE_BUTTON_CLASS);\n            var deleteButton = this.element.querySelector('.' + cls.DELETE_EVENT_CLASS);\n            this.disableButton(saveButton, isDisable);\n            this.disableButton(deleteButton, isDisable);\n        }\n        else {\n            var saveIcon = this.element.querySelector('.' + cls.EVENT_WINDOW_SAVE_ICON_CLASS);\n            if (saveIcon) {\n                if (isDisable) {\n                    addClass([saveIcon], cls.ICON_DISABLE_CLASS);\n                }\n                else {\n                    removeClass([saveIcon], cls.ICON_DISABLE_CLASS);\n                }\n            }\n        }\n        this.dialogObject.show();\n    };\n    EventWindow.prototype.disableButton = function (element, value) {\n        if (element) {\n            element.ej2_instances[0].disabled = value;\n        }\n    };\n    EventWindow.prototype.renderRecurrenceEditor = function () {\n        return new RecurrenceEditor({\n            calendarMode: this.parent.calendarMode,\n            cssClass: this.parent.cssClass,\n            dateFormat: this.parent.dateFormat,\n            enableRtl: this.parent.enableRtl,\n            firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n            locale: this.parent.locale\n        });\n    };\n    EventWindow.prototype.updateMinMaxDateToEditor = function () {\n        var startDate = this.element.querySelector('.e-start');\n        var endDate = this.element.querySelector('.e-end');\n        if (startDate && endDate) {\n            var startObj = startDate.ej2_instances[0];\n            var endObj = endDate.ej2_instances[0];\n            startObj.min = this.parent.minDate;\n            startObj.max = this.parent.maxDate;\n            endObj.min = this.parent.minDate;\n            endObj.max = this.parent.maxDate;\n            startObj.dataBind();\n            endObj.dataBind();\n        }\n        if (this.recurrenceEditor) {\n            var untilDate = this.recurrenceEditor.element.querySelector('.e-until-date');\n            if (untilDate) {\n                var untilObj = untilDate.ej2_instances[0];\n                untilObj.min = this.parent.minDate;\n                untilObj.max = this.parent.maxDate;\n                untilObj.dataBind();\n            }\n        }\n    };\n    EventWindow.prototype.updateRepeatLabel = function (repeatRule) {\n        if (this.parent.isAdaptive && !this.repeatDialogObject) {\n            this.renderRepeatDialog();\n        }\n        var data = repeatRule ?\n            (this.l10n.getConstant('repeats') + ' ' + this.recurrenceEditor.getRuleSummary(repeatRule)) : this.l10n.getConstant('repeat');\n        this.repeatStatus.setProperties({ label: data });\n    };\n    EventWindow.prototype.dialogClose = function (event) {\n        if (this.isEnterKey) {\n            this.isEnterKey = false;\n            return;\n        }\n        this.dialogEvent = event;\n        this.isCrudAction = false;\n        this.parent.activeEventData = { event: undefined, element: undefined };\n        this.parent.currentAction = null;\n        this.dialogObject.hide();\n    };\n    EventWindow.prototype.resetForm = function () {\n        this.fieldValidator.destroyToolTip();\n        this.resetFormFields();\n        if (!this.parent.isAdaptive && this.recurrenceEditor && !this.recurrenceEditor.isDestroyed) {\n            this.recurrenceEditor.resetFields();\n        }\n    };\n    EventWindow.prototype.timezoneChangeStyle = function (value) {\n        var timezoneDiv = this.element.querySelector('.' + cls.EVENT_WINDOW_TIME_ZONE_DIV_CLASS);\n        var localTimezoneName = this.parent.tzModule.getLocalTimezoneName();\n        if (value) {\n            addClass([timezoneDiv], cls.ENABLE_CLASS);\n            var startTimezoneObj = this.getInstance(cls.EVENT_WINDOW_START_TZ_CLASS);\n            var endTimezoneObj = this.getInstance(cls.EVENT_WINDOW_END_TZ_CLASS);\n            var timezone = startTimezoneObj.dataSource;\n            if (!startTimezoneObj.value || !this.parent.timezone) {\n                var found = timezone.some(function (tz) { return tz.Value === localTimezoneName; });\n                if (!found) {\n                    timezone.push({ Value: localTimezoneName, Text: localTimezoneName });\n                    startTimezoneObj.dataSource = timezone;\n                    endTimezoneObj.dataSource = timezone;\n                    startTimezoneObj.dataBind();\n                    endTimezoneObj.dataBind();\n                }\n            }\n            startTimezoneObj.value = startTimezoneObj.value || this.parent.timezone || localTimezoneName;\n            endTimezoneObj.value = endTimezoneObj.value || this.parent.timezone || localTimezoneName;\n            startTimezoneObj.dataBind();\n            endTimezoneObj.dataBind();\n        }\n        else {\n            removeClass([timezoneDiv], cls.ENABLE_CLASS);\n        }\n    };\n    EventWindow.prototype.resetFormFields = function () {\n        var formElement = this.getFormElements(cls.EVENT_WINDOW_DIALOG_CLASS);\n        for (var _i = 0, formElement_1 = formElement; _i < formElement_1.length; _i++) {\n            var currentElement = formElement_1[_i];\n            var columnName = currentElement.name || this.getColumnName(currentElement);\n            if (!isNullOrUndefined(columnName) && columnName !== '') {\n                this.setDefaultValueToElement(currentElement);\n            }\n        }\n    };\n    EventWindow.prototype.eventSave = function (event, alert) {\n        if (this.isEnterKey) {\n            this.isEnterKey = false;\n            return;\n        }\n        var formElement = this.element.querySelector('.' + cls.FORM_CLASS);\n        if (formElement && formElement.classList.contains('e-formvalidator') &&\n            !formElement.ej2_instances[0].validate()) {\n            return;\n        }\n        var dataCollection = this.getEventDataFromEditor();\n        if (this.processEventValidation(dataCollection.tempData, alert)) {\n            return;\n        }\n        this.eventCrudData = dataCollection.eventData;\n        this.dialogEvent = event;\n        this.isCrudAction = true;\n        this.dialogObject.hide();\n    };\n    EventWindow.prototype.getEventDataFromEditor = function () {\n        var eventObj = extend({}, this.getObjectFromFormData(cls.EVENT_WINDOW_DIALOG_CLASS));\n        if (!eventObj.Timezone) {\n            eventObj[this.fields.startTimezone] = null;\n            eventObj[this.fields.endTimezone] = null;\n        }\n        delete eventObj.Timezone;\n        delete eventObj.Repeat;\n        this.setDefaultValueToObject(eventObj);\n        eventObj[this.fields.recurrenceRule] = this.recurrenceEditor ? this.recurrenceEditor.getRecurrenceRule() || null : undefined;\n        var tempObj = extend({}, eventObj, null, true);\n        if (eventObj[this.fields.isAllDay]) {\n            eventObj[this.fields.startTime] = (isNullOrUndefined(eventObj[this.fields.startTime])) ? null\n                : util.resetTime(new Date(eventObj[this.fields.startTime].getTime()));\n            eventObj[this.fields.endTime] = (isNullOrUndefined(eventObj[this.fields.endTime])) ? null\n                : util.addDays(util.resetTime(new Date(eventObj[this.fields.endTime].getTime())), 1);\n        }\n        return { eventData: eventObj, tempData: tempObj };\n    };\n    EventWindow.prototype.processEventValidation = function (eventObj, alert) {\n        var alertType;\n        if (isNullOrUndefined(this.parent.editorTemplate)) {\n            if (!eventObj[this.fields.startTime] || !eventObj[this.fields.endTime]) {\n                this.parent.quickPopup.openValidationError('invalidDateError');\n                return true;\n            }\n            if (eventObj[this.fields.startTime] > eventObj[this.fields.endTime]) {\n                this.parent.quickPopup.openValidationError('startEndError');\n                return true;\n            }\n        }\n        if (this.recurrenceEditor && this.recurrenceEditor.value && this.recurrenceEditor.value !== '') {\n            if (this.parent.currentAction !== 'EditOccurrence') {\n                alertType = this.recurrenceValidation(eventObj[this.fields.startTime], eventObj[this.fields.endTime], alert);\n            }\n            var isShowAlert = true;\n            if (alertType === 'seriesChangeAlert' && this.parent.uiStateValues.isIgnoreOccurrence) {\n                isShowAlert = false;\n            }\n            if (!isNullOrUndefined(alertType) && isShowAlert\n                && ((!this.parent.enableRecurrenceValidation && alertType === 'wrongPattern') || this.parent.enableRecurrenceValidation)) {\n                this.parent.quickPopup.openRecurrenceValidationAlert(alertType);\n                return true;\n            }\n        }\n        return false;\n    };\n    EventWindow.prototype.processCrudActions = function (eventObj) {\n        var _this = this;\n        this.parent.uiStateValues.isBlock = false;\n        var resourceData = this.getResourceData(eventObj);\n        var isResourceEventExpand = (this.parent.activeViewOptions.group.resources.length > 0 ||\n            this.parent.resourceCollection.length > 0) && !this.parent.activeViewOptions.group.allowGroupEdit\n            && !isNullOrUndefined(resourceData);\n        var eventId = this.getEventIdFromForm();\n        if (!isNullOrUndefined(eventId)) {\n            var eveId_1 = this.parent.eventBase.getEventIDType() === 'string' ? eventId : parseInt(eventId, 10);\n            var editedData = this.parent.eventsData.filter(function (data) {\n                return data[_this.fields.id] === eveId_1;\n            })[0];\n            if (isNullOrUndefined(editedData)) {\n                editedData = this.parent.blockData.filter(function (data) {\n                    return data[_this.fields.id] === eveId_1;\n                })[0];\n            }\n            eventObj = extend({}, editedData, eventObj);\n            if (eventObj[this.fields.isReadonly]) {\n                return false;\n            }\n            var currentAction = void 0;\n            if (!isNullOrUndefined(editedData[this.fields.recurrenceRule])) {\n                currentAction = this.parent.currentAction;\n                eventObj.Guid = this.parent.activeEventData.event.Guid;\n                if (this.parent.currentAction === 'EditOccurrence') {\n                    if (!eventObj[this.fields.recurrenceID]) {\n                        eventObj[this.fields.id] = this.parent.eventBase.getEventMaxID();\n                        eventObj.Guid = this.parent.activeEventData.event.Guid;\n                    }\n                    else {\n                        eveId_1 = eventObj[this.fields.recurrenceID];\n                        currentAction = null;\n                    }\n                    if (this.parent.enableRecurrenceValidation && this.editOccurrenceValidation(eveId_1, eventObj)) {\n                        return true;\n                    }\n                }\n                if (this.parent.currentAction === 'EditSeries' || eventObj[this.fields.id] !== editedData[this.fields.id]) {\n                    eventObj[this.fields.recurrenceID] = editedData[this.fields.id];\n                }\n                else if (this.parent.currentAction === 'EditFollowingEvents') {\n                    eventObj[this.fields.id] = this.parent.eventBase.getEventMaxID();\n                    eventObj[this.fields.followingID] = editedData[this.fields.id];\n                }\n            }\n            if (isResourceEventExpand) {\n                this.resourceSaveEvent(eventObj, 'Save', currentAction);\n            }\n            else {\n                this.parent.saveEvent(eventObj, currentAction);\n            }\n        }\n        else {\n            this.parent.currentAction = 'Add';\n            if (isResourceEventExpand) {\n                this.resourceSaveEvent(eventObj, this.parent.currentAction);\n            }\n            else {\n                eventObj[this.fields.id] = this.parent.eventBase.getEventMaxID();\n                this.parent.addEvent(eventObj);\n            }\n        }\n        return this.parent.uiStateValues.isBlock;\n    };\n    EventWindow.prototype.getResourceData = function (eventObj) {\n        var resourceData = null;\n        if (!isNullOrUndefined(this.parent.resourceBase) && !isNullOrUndefined(this.parent.resourceBase.resourceCollection)\n            && this.parent.resourceBase.resourceCollection.length > 0) {\n            var lastResourceData = this.parent.resourceBase.resourceCollection.slice(-1)[0];\n            resourceData = eventObj[lastResourceData.field];\n        }\n        return resourceData;\n    };\n    EventWindow.prototype.getObjectFromFormData = function (className) {\n        var formElement = this.getFormElements(className);\n        var eventObj = {};\n        for (var _i = 0, formElement_2 = formElement; _i < formElement_2.length; _i++) {\n            var currentElement = formElement_2[_i];\n            var columnName = currentElement.name || this.getColumnName(currentElement);\n            if (!isNullOrUndefined(columnName) && columnName !== '') {\n                eventObj[\"\" + columnName] = this.getValueFromElement(currentElement);\n            }\n        }\n        return eventObj;\n    };\n    EventWindow.prototype.setDefaultValueToObject = function (eventObj) {\n        if (!isNullOrUndefined(eventObj[this.fields.subject])) {\n            eventObj[this.fields.subject] = eventObj[this.fields.subject] || this.parent.eventSettings.fields.subject.default\n                || this.l10n.getConstant('addTitle');\n        }\n        if (!isNullOrUndefined(eventObj[this.fields.location])) {\n            eventObj[this.fields.location] = eventObj[this.fields.location] || this.parent.eventSettings.fields.location.default;\n        }\n        if (!isNullOrUndefined(eventObj[this.fields.description])) {\n            eventObj[this.fields.description] = eventObj[this.fields.description] || this.parent.eventSettings.fields.description.default;\n        }\n    };\n    EventWindow.prototype.recurrenceValidation = function (startDate, endDate, alert) {\n        var alertMessage;\n        var recEditor = this.recurrenceEditor;\n        var interval = this.getInstance('e-repeat-interval.e-numerictextbox').value;\n        if (alert !== this.l10n.getConstant('ok')) {\n            var activeEvent = this.parent.activeEventData.event;\n            var excludedEvents = [];\n            if ((this.parent.currentAction === 'EditSeries' || this.parent.currentAction === 'EditFollowingEvents')\n                && !isNullOrUndefined(activeEvent)) {\n                var eventStartTime = activeEvent[this.parent.eventFields.startTime];\n                var seriesEvents = this.parent.eventBase.getSeriesEvents(this.eventData, eventStartTime);\n                if (seriesEvents.length > 0) {\n                    excludedEvents = this.parent.eventBase.getEditedOccurrences(seriesEvents, eventStartTime);\n                }\n                else {\n                    var event_2 = this.parent.eventBase.getEventById(activeEvent[this.parent.eventFields.id]);\n                    excludedEvents = this.parent.eventBase.getEditedOccurrences([event_2], eventStartTime);\n                }\n                if (this.parent.currentAction === 'EditSeries'\n                    && !isNullOrUndefined(this.eventData[this.parent.eventFields.recurrenceException])) {\n                    excludedEvents.push(this.eventData);\n                }\n            }\n            if (excludedEvents.length > 0) {\n                alertMessage = 'seriesChangeAlert';\n            }\n            if (this.getInstance('e-end-on-left .e-ddl .e-dropdownlist').value === 'until' &&\n                this.getInstance('e-end-on-date .e-datepicker').value < startDate) {\n                alertMessage = 'wrongPattern';\n            }\n            if (isNullOrUndefined(alertMessage)) {\n                var types = recEditor.value.split(';')[1].split('=')[1].split(',');\n                var obj = { 'SU': 0, 'MO': 1, 'TU': 2, 'WE': 3, 'TH': 4, 'FR': 5, 'SA': 6 };\n                var temp = [];\n                var tempDiff = [];\n                var tempValue = void 0;\n                switch (recEditor.value.split(';')[0].split('=')[1]) {\n                    case 'DAILY':\n                        if ((((endDate.getTime() - startDate.getTime()) / (1000 * 3600)) > (interval * 24))) {\n                            alertMessage = 'createError';\n                        }\n                        break;\n                    case 'WEEKLY':\n                        types = recEditor.value.split(';')[1].split('=')[1].split(',');\n                        for (var index = 0; index < types.length * (interval + 1); index++) {\n                            temp[parseInt(index.toString(), 10)] =\n                                (types.length > index) ? obj[types[parseInt(index.toString(), 10)]] :\n                                    temp[index - types.length] + (7 * interval);\n                        }\n                        tempValue = temp.sort(function (a, b) { return a - b; });\n                        for (var index = 1; index < tempValue.length; index++) {\n                            tempDiff.push(tempValue[parseInt(index.toString(), 10)] - tempValue[index - 1]);\n                        }\n                        if ((((endDate.getTime() - startDate.getTime()) / (1000 * 3600)) >= Math.min.apply(Math, tempDiff) * 24)\n                            || isNullOrUndefined(interval)) {\n                            alertMessage = 'createError';\n                        }\n                        break;\n                    case 'MONTHLY':\n                        if (endDate.getTime() >= new Date(+startDate).setMonth(startDate.getMonth() + interval)) {\n                            alertMessage = 'createError';\n                        }\n                        break;\n                    case 'YEARLY':\n                        if (endDate.getTime() >= new Date(+startDate).setFullYear(startDate.getFullYear() + interval)) {\n                            alertMessage = 'createError';\n                        }\n                        break;\n                }\n            }\n        }\n        else {\n            if (endDate.getTime() >= new Date(+startDate).setMonth(startDate.getMonth() + interval)) {\n                alertMessage = 'createError';\n            }\n            if (isNullOrUndefined(alertMessage)) {\n                this.parent.quickPopup.quickDialog.hide();\n            }\n        }\n        if (isNullOrUndefined(interval)) {\n            alertMessage = 'createError';\n        }\n        return alertMessage;\n    };\n    EventWindow.prototype.getRecurrenceIndex = function (recColl, event) {\n        var recIndex;\n        for (var index = 0; index < recColl.length; index++) {\n            if (event[this.fields.startTime].valueOf() === recColl[parseInt(index.toString(), 10)][this.fields.startTime].valueOf()) {\n                recIndex = index;\n                break;\n            }\n        }\n        return recIndex;\n    };\n    EventWindow.prototype.trimAllDay = function (data) {\n        if (data[this.fields.isAllDay]) {\n            var temp = util.addDays(new Date(+data[this.fields.endTime]), -1).getTime();\n            data[this.fields.endTime] = (+data[this.fields.startTime] > temp) ? data[this.fields.endTime] : new Date(temp);\n        }\n    };\n    EventWindow.prototype.editOccurrenceValidation = function (eventId, currentData, editData) {\n        var _this = this;\n        if (editData === void 0) {\n            editData = this.eventData;\n        }\n        var recurColl = this.parent.getOccurrencesByID(eventId);\n        var excludedDatas = this.parent.eventsData.filter(function (data) {\n            return data[_this.fields.recurrenceID] === eventId;\n        });\n        excludedDatas.map(function (data) { return recurColl.push(extend({}, data)); });\n        currentData = extend({}, currentData);\n        this.trimAllDay(currentData);\n        for (var _i = 0, recurColl_1 = recurColl; _i < recurColl_1.length; _i++) {\n            var data = recurColl_1[_i];\n            this.trimAllDay(data);\n        }\n        this.parent.eventBase.sortByTime(recurColl);\n        var index = this.getRecurrenceIndex(recurColl, editData);\n        if (isNullOrUndefined(index)) {\n            return false;\n        }\n        var currentStartTime = new Date(+currentData[this.fields.startTime]);\n        var currentEndTime = new Date(+currentData[this.fields.endTime]);\n        var nextStartTime;\n        var nextEndTime;\n        if (index !== recurColl.length - 1) {\n            nextStartTime = new Date(+recurColl[index + 1][this.fields.startTime]);\n            nextEndTime = new Date(+recurColl[index + 1][this.fields.endTime]);\n        }\n        var lastEndTime = new Date(+recurColl[recurColl.length - 1][this.fields.endTime]);\n        if (index === 0) {\n            if (!isNullOrUndefined(recurColl[index + 1])) {\n                if (!(nextStartTime.getTime() >= currentEndTime.getTime()) &&\n                    (util.resetTime(lastEndTime).getTime() >=\n                        util.resetTime(currentStartTime).getTime()) ||\n                    util.resetTime(lastEndTime).getTime() < util.resetTime(currentStartTime).getTime()) {\n                    this.parent.quickPopup.openRecurrenceValidationAlert('occurrenceAlert');\n                    return true;\n                }\n                else if (!(util.resetTime(currentStartTime).getTime() <\n                    util.resetTime(nextStartTime).getTime())) {\n                    this.parent.quickPopup.openRecurrenceValidationAlert('sameDayAlert');\n                    return true;\n                }\n            }\n            return false;\n        }\n        else {\n            var previousStartTime = new Date(+recurColl[index - 1][this.fields.startTime]);\n            var previousEndTime = new Date(+recurColl[index - 1][this.fields.endTime]);\n            if (index === recurColl.length - 1) {\n                if (util.resetTime(new Date(+recurColl[(recurColl.length - 1) - index][this.fields.startTime])).getTime() >\n                    util.resetTime(currentStartTime).getTime()) {\n                    this.parent.quickPopup.openRecurrenceValidationAlert('occurrenceAlert');\n                    return true;\n                }\n                else if (!((previousEndTime.getTime() <= currentStartTime.getTime()) &&\n                    (util.resetTime(currentStartTime).getTime() > util.resetTime(previousStartTime).getTime()))) {\n                    this.parent.quickPopup.openRecurrenceValidationAlert('sameDayAlert');\n                    return true;\n                }\n            }\n            else if (!(((util.resetTime(previousStartTime).getTime() < util.resetTime(currentStartTime).getTime()) ||\n                util.resetTime(new Date(+recurColl[0][this.fields.startTime])).getTime() >\n                    util.resetTime(currentStartTime).getTime()) &&\n                ((util.resetTime(nextStartTime).getTime() > util.resetTime(currentStartTime).getTime()) ||\n                    (lastEndTime.getTime() < currentStartTime.getTime())))) {\n                this.parent.quickPopup.openRecurrenceValidationAlert('sameDayAlert');\n                return true;\n            }\n            else if (!(previousEndTime.getTime() <= currentStartTime.getTime() && nextStartTime.getTime() >=\n                currentEndTime.getTime()) || (util.resetTime(nextEndTime).getTime() <\n                util.resetTime(currentStartTime).getTime()) ||\n                (util.resetTime(previousStartTime).getTime() > util.resetTime(currentEndTime).getTime()) ||\n                !(util.resetTime(currentStartTime).getTime() < util.resetTime(nextStartTime).getTime())) {\n                this.parent.quickPopup.openRecurrenceValidationAlert('occurrenceAlert');\n                return true;\n            }\n        }\n        return false;\n    };\n    EventWindow.prototype.resourceSaveEvent = function (eventObj, action, currentAction) {\n        var _this = this;\n        var lastResourceData = this.parent.resourceBase.resourceCollection.slice(-1)[0];\n        var resourceData = eventObj[lastResourceData.field];\n        resourceData = (resourceData instanceof Array) ? resourceData.reverse() : [resourceData].reverse();\n        var lastLevel = this.parent.resourceBase.lastResourceLevel;\n        var eventList = [];\n        var _loop_2 = function (i) {\n            var events = extend({}, eventObj, null, true);\n            events[this_2.fields.id] = this_2.parent.eventBase.getEventMaxID();\n            var temp = [];\n            var addValues = function () {\n                if (action === 'Save' && i === resourceData.length - 1) {\n                    if (temp.length > 0) {\n                        temp[0][_this.fields.id] = eventObj[_this.fields.id];\n                        for (var k = 1; k < temp.length; k++) {\n                            temp[parseInt(k.toString(), 10)][_this.fields.id] = _this.parent.eventBase.getEventMaxID(i);\n                            eventList.push(temp[parseInt(k.toString(), 10)]);\n                            _this.parent.saveEvent(temp[0], currentAction);\n                        }\n                    }\n                    else {\n                        events[_this.fields.id] = eventObj[_this.fields.id];\n                        _this.parent.saveEvent(events, currentAction);\n                    }\n                }\n                else {\n                    if (temp.length > 0) {\n                        for (var j = 0; j < temp.length; j++) {\n                            temp[parseInt(j.toString(), 10)][_this.fields.id] = _this.parent.eventBase.getEventMaxID(j);\n                            eventList.push(temp[parseInt(j.toString(), 10)]);\n                        }\n                    }\n                    else {\n                        events[_this.fields.id] = _this.parent.eventBase.getEventMaxID(i);\n                        eventList.push(events);\n                    }\n                }\n            };\n            if (this_2.parent.activeViewOptions.group.byGroupID && (!isNullOrUndefined(lastLevel))) {\n                var lastResource = lastResourceData.dataSource;\n                var resCol = this_2.parent.resourceCollection;\n                var index = void 0;\n                if (resCol.length > 1) {\n                    index =\n                        util.findIndexInData(lastResource, lastResourceData.idField, resourceData[parseInt(i.toString(), 10)], events, resCol);\n                }\n                else {\n                    index =\n                        util.findIndexInData(lastResource, lastResourceData.idField, resourceData[parseInt(i.toString(), 10)]);\n                }\n                if (index < 0) {\n                    return { value: void 0 };\n                }\n                var groupId_1 = lastResource[parseInt(index.toString(), 10)][lastResourceData.groupIDField];\n                var filter = lastLevel.filter(function (obj) { return obj.resourceData[lastResourceData.idField] ===\n                    resourceData[parseInt(i.toString(), 10)]; }).\n                    filter(function (obj) { return obj.resourceData[lastResourceData.groupIDField] === groupId_1; })[0];\n                var groupOrder = filter.groupOrder;\n                for (var index_1 = 0; index_1 < this_2.parent.resourceBase.resourceCollection.length; index_1++) {\n                    var field = this_2.parent.resourceBase.resourceCollection[parseInt(index_1.toString(), 10)].field;\n                    events[\"\" + field] = (groupOrder[parseInt(index_1.toString(), 10)] instanceof Array) ? groupOrder[parseInt(index_1.toString(), 10)][0] :\n                        groupOrder[parseInt(index_1.toString(), 10)];\n                }\n                addValues();\n            }\n            else {\n                for (var index = 0; index < this_2.parent.resourceBase.resourceCollection.length - 1; index++) {\n                    var field = this_2.parent.resourceBase.resourceCollection[parseInt(index.toString(), 10)].field;\n                    if (events[\"\" + field] instanceof Array && events[\"\" + field].length > 1) {\n                        for (var k = 0; k < events[\"\" + field].length; k++) {\n                            var event_3 = extend({}, events, null, true);\n                            event_3[\"\" + field] = eventObj[\"\" + field][parseInt(k.toString(), 10)];\n                            event_3[lastResourceData.field] = resourceData[parseInt(i.toString(), 10)];\n                            temp.push(event_3);\n                        }\n                    }\n                    else {\n                        if (temp.length === 0) {\n                            events[\"\" + field] = (eventObj[\"\" + field] instanceof Array) ?\n                                eventObj[\"\" + field][0] : eventObj[\"\" + field];\n                            events[lastResourceData.field] = resourceData[parseInt(i.toString(), 10)];\n                        }\n                        else {\n                            for (var l = 0; l < temp.length; l++) {\n                                temp[parseInt(l.toString(), 10)][\"\" + field] = (eventObj[\"\" + field] instanceof Array) ?\n                                    eventObj[\"\" + field][0] : eventObj[\"\" + field];\n                            }\n                        }\n                    }\n                }\n                events[lastResourceData.field] = resourceData[parseInt(i.toString(), 10)];\n                addValues();\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < resourceData.length; i++) {\n            var state_1 = _loop_2(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        if (eventList.length > 0) {\n            for (var _i = 0, eventList_1 = eventList; _i < eventList_1.length; _i++) {\n                var event_4 = eventList_1[_i];\n                event_4[this.fields.recurrenceException] = null;\n                event_4[this.fields.recurrenceID] = null;\n            }\n            this.parent.addEvent(eventList);\n        }\n    };\n    EventWindow.prototype.getEventIdFromForm = function () {\n        return this.element.querySelector('.' + cls.FORM_CLASS).getAttribute('data-id');\n    };\n    EventWindow.prototype.getFormElements = function (className) {\n        var elements = [];\n        if (className === cls.EVENT_WINDOW_DIALOG_CLASS) {\n            elements = [].slice.call(this.element.querySelectorAll('.' + EVENT_FIELD));\n        }\n        else {\n            elements = [].slice.call(this.parent.element.querySelectorAll('.' + className + ' .' + EVENT_FIELD));\n        }\n        return elements;\n    };\n    EventWindow.prototype.getValueFromElement = function (element) {\n        var value;\n        if (element.classList.contains('e-datepicker')) {\n            value = element.ej2_instances[0].value;\n        }\n        else if (element.classList.contains('e-datetimepicker')) {\n            value = element.ej2_instances[0].value;\n        }\n        else if (element.classList.contains('e-dropdownlist')) {\n            value = element.ej2_instances[0].value;\n        }\n        else if (element.classList.contains('e-multiselect')) {\n            value = element.ej2_instances[0].value;\n        }\n        else if (element.classList.contains('e-checkbox')) {\n            value = element.ej2_instances[0].checked;\n        }\n        else if (element.classList.contains('e-numerictextbox')) {\n            value = element.ej2_instances[0].value;\n        }\n        else {\n            if (element.type === 'checkbox') {\n                value = element.checked;\n            }\n            else {\n                value = this.parent.enableHtmlSanitizer ?\n                    SanitizeHtmlHelper.sanitize(element.value) : element.value;\n            }\n        }\n        return value;\n    };\n    EventWindow.prototype.setValueToElement = function (element, value) {\n        if (element.classList.contains('e-datepicker')) {\n            var instance = element.ej2_instances[0];\n            instance.value = value;\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-datetimepicker')) {\n            var instance = element.ej2_instances[0];\n            if (instance.element.classList.contains(cls.EVENT_WINDOW_START_CLASS)) {\n                this.eventWindowTime.startTime = new Date('' + value);\n            }\n            else {\n                this.eventWindowTime.endTime = new Date('' + value);\n            }\n            instance.value = value;\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-dropdownlist')) {\n            var instance = element.ej2_instances[0];\n            instance.value = value;\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-multiselect')) {\n            var instance = element.ej2_instances[0];\n            instance.value = [];\n            instance.value = ((value instanceof Array) ? value : [value]);\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-checkbox')) {\n            var instance = element.ej2_instances[0];\n            instance.checked = value;\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-numerictextbox')) {\n            var instance = element.ej2_instances[0];\n            instance.value = value;\n            instance.dataBind();\n        }\n        else {\n            if (element.type !== 'checkbox') {\n                element.value = value || '';\n            }\n            else {\n                element.checked = value;\n            }\n        }\n    };\n    EventWindow.prototype.setDefaultValueToElement = function (element) {\n        if (element.classList.contains('e-datepicker')) {\n            var instance = element.ej2_instances[0];\n            instance.value = this.parent.getCurrentTime();\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-datetimepicker')) {\n            var instance = element.ej2_instances[0];\n            var dateValue = this.parent.getCurrentTime();\n            this.eventWindowTime = { startTime: dateValue, endTime: dateValue };\n            instance.value = dateValue;\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-dropdownlist')) {\n            var instance = element.ej2_instances[0];\n            instance.value = null;\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-multiselect')) {\n            var instance = element.ej2_instances[0];\n            instance.value = [];\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-checkbox')) {\n            var instance = element.ej2_instances[0];\n            instance.checked = false;\n            instance.dataBind();\n        }\n        else if (element.classList.contains('e-numerictextbox')) {\n            var instance = element.ej2_instances[0];\n            instance.value = null;\n            instance.dataBind();\n        }\n        else {\n            if (element.type === 'checkbox') {\n                element.checked = false;\n            }\n            else {\n                element.value = '';\n            }\n        }\n    };\n    EventWindow.prototype.getInstance = function (className) {\n        var element = this.element.querySelector('.' + className);\n        return element ? element.ej2_instances[0] : null;\n    };\n    EventWindow.prototype.eventDelete = function (event) {\n        if (this.isEnterKey) {\n            this.isEnterKey = false;\n            return;\n        }\n        switch (this.parent.currentAction) {\n            case 'EditOccurrence':\n                if (!isNullOrUndefined(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])) {\n                    this.parent.currentAction = 'DeleteOccurrence';\n                }\n                else {\n                    this.parent.currentAction = 'Delete';\n                }\n                break;\n            case 'EditSeries':\n                this.parent.currentAction = 'DeleteSeries';\n                break;\n            case 'Save':\n                this.parent.currentAction = 'Delete';\n                break;\n            case 'EditFollowingEvents':\n                if (!isNullOrUndefined(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])) {\n                    this.parent.currentAction = 'DeleteFollowingEvents';\n                }\n                break;\n        }\n        this.dialogEvent = event;\n        this.isCrudAction = false;\n        this.dialogObject.hide();\n        this.parent.quickPopup.openDeleteAlert();\n    };\n    EventWindow.prototype.getRecurrenceEditorInstance = function () {\n        if (this.parent.isAdaptive && !this.repeatDialogObject) {\n            this.renderRepeatDialog();\n        }\n        return this.recurrenceEditor;\n    };\n    EventWindow.prototype.destroyComponents = function () {\n        var formElements = this.getFormElements(cls.EVENT_WINDOW_DIALOG_CLASS);\n        for (var _i = 0, formElements_3 = formElements; _i < formElements_3.length; _i++) {\n            var element = formElements_3[_i];\n            var instance = void 0;\n            if (element.classList.contains('e-datetimepicker')) {\n                instance = element.ej2_instances;\n            }\n            else if (element.classList.contains('e-datepicker')) {\n                instance = element.ej2_instances;\n            }\n            else if (element.classList.contains('e-checkbox')) {\n                instance = element.ej2_instances;\n            }\n            else if (element.classList.contains('e-dropdownlist')) {\n                instance = element.ej2_instances;\n            }\n            else if (element.classList.contains('e-multiselect')) {\n                instance = element.ej2_instances;\n            }\n            else if (element.classList.contains('e-numerictextbox')) {\n                instance = element.ej2_instances;\n            }\n            if (instance && instance[0]) {\n                instance[0].destroy();\n            }\n        }\n        if (this.buttonObj) {\n            this.buttonObj.destroy();\n        }\n    };\n    EventWindow.prototype.detachComponents = function () {\n        var formElements = this.getFormElements(cls.EVENT_WINDOW_DIALOG_CLASS);\n        for (var _i = 0, formElements_4 = formElements; _i < formElements_4.length; _i++) {\n            var element = formElements_4[_i];\n            detach(element);\n        }\n    };\n    EventWindow.prototype.destroy = function (isIgnore) {\n        if (this.parent && !this.parent.isDestroyed) {\n            this.parent.resetTemplates(['editorTemplate', 'editorHeaderTemplate', 'editorFooterTemplate']);\n        }\n        this.destroyComponents();\n        if (this.recurrenceEditor) {\n            this.recurrenceEditor.destroy();\n            detach(this.recurrenceEditor.element);\n            this.recurrenceEditor = null;\n        }\n        if (this.fieldValidator) {\n            this.fieldValidator.destroy();\n            this.fieldValidator = null;\n        }\n        if (this.repeatDialogObject) {\n            this.repeatDialogObject.destroy();\n            this.repeatDialogObject = null;\n        }\n        this.detachComponents();\n        if (this.dialogObject) {\n            if (this.dialogObject.element) {\n                var form = this.dialogObject.element.querySelector('form');\n                util.removeChildren(form);\n                detach(form);\n                EventHandler.remove(this.dialogObject.element, 'keydown', this.preventEventSave);\n            }\n            this.dialogObject.destroy();\n            this.dialogObject = null;\n        }\n        if (this.element) {\n            remove(this.element);\n            this.element = null;\n        }\n        if (!isIgnore) {\n            this.l10n = null;\n            this.parent = null;\n            this.fields = null;\n            this.buttonObj = null;\n            this.repeatStatus = null;\n            this.eventWindowTime = null;\n            this.dialogEvent = null;\n        }\n    };\n    return EventWindow;\n}());\nexport { EventWindow };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, addClass, remove, isNullOrUndefined, setStyleAttribute, createElement, prepend, removeClass } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Virtual Scroll\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.translateY = 0;\n        this.itemSize = 60;\n        this.bufferCount = 3;\n        this.renderedLength = 0;\n        this.averageRowHeight = 0;\n        this.startIndex = 0;\n        this.existingDataCollection = [];\n        this.enableTransition = true;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.addEventListener = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.virtualScroll, this.virtualScrolling, this);\n    };\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.virtualScroll, this.virtualScrolling);\n    };\n    VirtualScroll.prototype.getRenderedCount = function () {\n        this.setItemSize();\n        var containerSize = this.isHorizontalScroll ? this.parent.element.clientWidth : this.parent.element.clientHeight;\n        this.renderedLength = Math.ceil(containerSize / this.itemSize) + this.bufferCount;\n        return this.renderedLength;\n    };\n    VirtualScroll.prototype.renderVirtualTrack = function (contentWrap) {\n        var wrap = createElement('div', { className: cls.VIRTUAL_TRACK_CLASS });\n        if (this.isHorizontalScroll) {\n            var colCount = this.parent.activeView.colLevels[this.parent.activeView.colLevels.length - 1].length;\n            wrap.style.width = (colCount * this.itemSize) + 'px';\n        }\n        else {\n            wrap.style.height = (this.parent.resourceBase.expandedResources.length * this.itemSize) + 'px';\n        }\n        contentWrap.appendChild(wrap);\n    };\n    VirtualScroll.prototype.updateVirtualScrollHeight = function () {\n        var virtual = this.parent.element.querySelector('.' + cls.VIRTUAL_TRACK_CLASS);\n        var lastResourceIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n        var lastRenderIndex = this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length - 1].groupIndex;\n        if (lastRenderIndex !== lastResourceIndex) {\n            var conTable = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n            this.renderedLength = conTable.querySelector('tbody').children.length;\n            virtual.style.height = (conTable.offsetHeight + (this.parent.resourceBase.expandedResources.length - (this.renderedLength)) *\n                conTable.offsetHeight / this.renderedLength) + 'px';\n            var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            if ((conWrap.scrollHeight - conWrap.scrollTop) < conWrap.offsetHeight * this.bufferCount) {\n                virtual.style.height = parseInt(virtual.style.height, 10) + (conWrap.offsetHeight * this.bufferCount) + 'px';\n            }\n        }\n        else {\n            virtual.style.height = '';\n        }\n        this.averageRowHeight = virtual.offsetHeight / this.parent.resourceBase.expandedResources.length;\n    };\n    VirtualScroll.prototype.updateVirtualTrackHeight = function (wrap) {\n        var resourceCount = this.parent.resourceBase.renderedResources.length;\n        if (resourceCount !== this.getRenderedCount()) {\n            wrap.style.height = this.parent.element.querySelector('.e-content-wrap').clientHeight + 'px';\n            var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n            var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n            this.translateY = 0;\n            this.setTranslate(resWrap, conWrap, eventWrap);\n        }\n        else {\n            var lastRenderIndex = this.parent.resourceBase.renderedResources[resourceCount - 1].groupIndex;\n            var lastCollIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n            var renderedResCount = resourceCount + (lastCollIndex - lastRenderIndex);\n            renderedResCount = (renderedResCount > this.parent.resourceBase.expandedResources.length) ?\n                this.parent.resourceBase.expandedResources.length : renderedResCount;\n            wrap.style.height = (renderedResCount * this.itemSize) + 'px';\n        }\n    };\n    VirtualScroll.prototype.setItemSize = function () {\n        if (this.isHorizontalScroll) {\n            this.itemSize = util.getElementWidthFromClass(this.parent.activeView.element, cls.WORK_CELLS_CLASS, this.parent.uiStateValues.isTransformed) || this.itemSize;\n        }\n        else {\n            this.itemSize = this.parent.getElementHeightFromClass(this.parent.activeView.element, cls.WORK_CELLS_CLASS) || this.itemSize;\n        }\n    };\n    VirtualScroll.prototype.refreshLayout = function () {\n        var initialHeight = this.parent.uiStateValues.scheduleHeight;\n        this.parent.uiStateValues.scheduleHeight = this.parent.element.offsetHeight;\n        var preRenderedLength = this.renderedLength;\n        if (this.parent.uiStateValues.scheduleHeight !== initialHeight) {\n            if (preRenderedLength < this.getRenderedCount()) {\n                this.isRemoteRefresh = true;\n            }\n            var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n            var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n            if (!this.parent.rowAutoHeight) {\n                this.enableTransition = false;\n                removeClass([conWrap, resWrap], 'e-transition');\n            }\n            var firstTDIndex = parseInt(resWrap.querySelector('tbody td').getAttribute('data-group-index'), 10);\n            var endIndex = (firstTDIndex + this.renderedLength);\n            firstTDIndex = (endIndex > this.parent.resourceBase.expandedResources.length) ?\n                (this.parent.resourceBase.expandedResources.length - this.renderedLength) : firstTDIndex;\n            firstTDIndex = firstTDIndex < 0 ? 0 : firstTDIndex;\n            this.existingDataCollection = this.parent.resourceBase.renderedResources;\n            this.parent.resourceBase.renderedResources = this.parent.resourceBase.expandedResources.slice(firstTDIndex, endIndex);\n            if (this.parent.resourceBase.renderedResources.length > 0) {\n                this.updateContent(resWrap, conWrap, eventWrap, this.parent.resourceBase.renderedResources);\n            }\n        }\n    };\n    VirtualScroll.prototype.renderEvents = function () {\n        this.setTabIndex();\n        var dynamicData = this.triggerScrollEvent(events.virtualScrollStop);\n        if (this.parent.activeViewOptions && this.parent.activeViewOptions.enableLazyLoading && this.parent.crudModule) {\n            if (dynamicData.length > 0) {\n                this.parent.crudModule.refreshProcessedData(true, dynamicData);\n                this.parent.hideSpinner();\n                return;\n            }\n            this.parent.crudModule.refreshDataManager();\n            return;\n        }\n        if (this.parent.crudModule) {\n            this.parent.crudModule.refreshProcessedData(true);\n        }\n        if (this.parent.currentView !== 'Month') {\n            this.parent.notify(events.contentReady, {});\n        }\n        this.parent.hideSpinner();\n    };\n    VirtualScroll.prototype.virtualScrolling = function () {\n        var _this = this;\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n            this.parent.quickPopup.morePopup.hide();\n        }\n        var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (this.isHorizontalScroll) {\n            this.horizontalScrolling(conWrap);\n        }\n        else {\n            var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n            var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n            var timeIndicator = this.parent.element.querySelector('.' + cls.CURRENT_TIMELINE_CLASS);\n            var conTable = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n            if (!this.parent.rowAutoHeight) {\n                addClass([conWrap, resWrap], 'e-transition');\n            }\n            this.renderedLength = resWrap.querySelector('tbody').children.length;\n            var firstTDIndex = parseInt(resWrap.querySelector('tbody td').getAttribute('data-group-index'), 10);\n            var scrollHeight = this.parent.rowAutoHeight ?\n                (conTable.offsetHeight - conWrap.offsetHeight) : this.bufferCount * this.itemSize;\n            var resCollection = [];\n            this.existingDataCollection = this.parent.resourceBase.renderedResources;\n            if ((conWrap.scrollTop) - this.translateY < 0) {\n                resCollection = this.upScroll(conWrap, firstTDIndex);\n            }\n            else if (conWrap.scrollTop - this.translateY > scrollHeight) {\n                resCollection = this.downScroll(conWrap, firstTDIndex);\n            }\n            if (!isNullOrUndefined(resCollection) && resCollection.length > 0) {\n                this.triggerScrollEvent(events.virtualScrollStart);\n                var selectedEle = this.parent.getSelectedCells();\n                this.focusedEle = selectedEle[selectedEle.length - 1] || this.focusedEle;\n                this.updateContent(resWrap, conWrap, eventWrap, resCollection);\n                this.setTranslate(resWrap, conWrap, eventWrap, timeIndicator);\n                if (this.parent.dragAndDropModule && this.parent.dragAndDropModule.actionObj.action === 'drag') {\n                    this.parent.dragAndDropModule.navigationWrapper();\n                }\n                window.clearTimeout(this.timeValue);\n                this.timeValue = window.setTimeout(function () { _this.renderEvents(); }, 250);\n            }\n        }\n    };\n    VirtualScroll.prototype.horizontalScrolling = function (conWrap) {\n        var _this = this;\n        var resCollection = [];\n        var scrollWidth = this.bufferCount * this.itemSize;\n        if (Math.abs(conWrap.scrollLeft) - Math.abs(this.translateY) < 0) {\n            resCollection = this.leftScroll(conWrap);\n        }\n        else if (Math.abs(conWrap.scrollLeft) - Math.abs(this.translateY) > scrollWidth) {\n            resCollection = this.rightScroll(conWrap);\n        }\n        if (!isNullOrUndefined(resCollection) && resCollection.length > 0) {\n            if (this.parent.resourceBase.expandedResources.length !== resCollection.length ||\n                this.parent.resourceBase.expandedResources[0] !== resCollection[0] ||\n                this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1] !==\n                    resCollection[resCollection.length - 1]) {\n                this.triggerScrollEvent(events.virtualScrollStart);\n                var colLevels = this.parent.activeView.colLevels.slice(0);\n                this.updateHorizontalContent(conWrap, resCollection);\n                setStyleAttribute(conWrap.querySelector('table'), { transform: \"translateX(\" + this.translateY + \"px)\" });\n                this.parent.activeView.colLevels = colLevels;\n                if (this.parent.dragAndDropModule && this.parent.dragAndDropModule.actionObj.action === 'drag') {\n                    this.parent.dragAndDropModule.navigationWrapper();\n                }\n            }\n            window.clearTimeout(this.timeValue);\n            this.timeValue = window.setTimeout(function () { _this.renderEvents(); }, 250);\n        }\n    };\n    VirtualScroll.prototype.triggerScrollEvent = function (action) {\n        var _this = this;\n        var dynamicData = [];\n        if (!this.parent.activeView) {\n            return dynamicData;\n        }\n        var eventArgs = {\n            startDate: this.parent.activeView.startDate(),\n            endDate: this.parent.activeView.endDate(),\n            startIndex: this.parent.resourceBase.renderedResources[0].groupIndex,\n            endIndex: this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length - 1].groupIndex,\n            resourceData: this.parent.resourceBase.renderedResources.map(function (x) { return x.resourceData; }),\n            name: action\n        };\n        this.parent.trigger(action, eventArgs, function (args) {\n            if (action === events.virtualScrollStart) {\n                _this.parent.showSpinner();\n            }\n            else if (action === events.virtualScrollStop && !isNullOrUndefined(args.eventData) && args.eventData.length > 0) {\n                dynamicData = args.eventData;\n            }\n        });\n        return dynamicData;\n    };\n    VirtualScroll.prototype.upScroll = function (conWrap, firstTDIndex) {\n        var index = 0;\n        index = (~~(conWrap.scrollTop / this.itemSize) + Math.ceil(conWrap.clientHeight / this.itemSize)) - this.renderedLength;\n        if (this.parent.rowAutoHeight) {\n            index = (index > firstTDIndex) ? firstTDIndex - this.bufferCount : index;\n        }\n        index = (index > 0) ? index : 0;\n        var prevSetCollection = this.getBufferCollection(index, index + this.renderedLength);\n        this.parent.resourceBase.renderedResources = prevSetCollection;\n        if (firstTDIndex === 0) {\n            this.translateY = conWrap.scrollTop;\n        }\n        else {\n            var height = (this.parent.rowAutoHeight) ? this.averageRowHeight : this.itemSize;\n            height = (height > 0) ? height : this.itemSize;\n            this.translateY = (conWrap.scrollTop - (this.bufferCount * height) > 0) ?\n                conWrap.scrollTop - (this.bufferCount * height) : 0;\n        }\n        return prevSetCollection;\n    };\n    VirtualScroll.prototype.downScroll = function (conWrap, firstTDIndex) {\n        var lastResource = this.parent.resourceBase.\n            renderedResources[this.parent.resourceBase.renderedResources.length - 1].groupIndex;\n        var lastResourceIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n        if (lastResource === lastResourceIndex) {\n            return null;\n        }\n        var nextSetResIndex = 0;\n        nextSetResIndex = ~~(conWrap.scrollTop / this.itemSize);\n        if (this.parent.rowAutoHeight) {\n            nextSetResIndex = ~~((conWrap.scrollTop - this.translateY) / this.averageRowHeight) + firstTDIndex;\n            nextSetResIndex = (nextSetResIndex > firstTDIndex + this.bufferCount) ? nextSetResIndex : firstTDIndex + this.bufferCount;\n        }\n        var lastIndex = nextSetResIndex + this.renderedLength;\n        lastIndex = (lastIndex > this.parent.resourceBase.expandedResources.length) ?\n            nextSetResIndex + (this.parent.resourceBase.expandedResources.length - nextSetResIndex) : lastIndex;\n        var nextSetCollection = this.getBufferCollection(lastIndex - this.renderedLength, lastIndex);\n        this.translateY = conWrap.scrollTop;\n        return nextSetCollection;\n    };\n    VirtualScroll.prototype.leftScroll = function (conWrap) {\n        var index = 0;\n        index = (~~(Math.abs(conWrap.scrollLeft) / this.itemSize) + Math.ceil(conWrap.clientWidth / this.itemSize)) - this.renderedLength;\n        index = (index > 0) ? index : 0;\n        return this.getCollection(index, index + this.renderedLength);\n    };\n    VirtualScroll.prototype.rightScroll = function (conWrap) {\n        var lastLevel = this.parent.activeView.colLevels[this.parent.activeView.colLevels.length - 1];\n        var nextSetIndex = 0;\n        nextSetIndex = ~~(Math.abs(conWrap.scrollLeft) / this.itemSize);\n        var lastIndex = nextSetIndex + this.renderedLength;\n        lastIndex = (lastIndex > lastLevel.length - 1) ? lastLevel.length - 1 : lastIndex;\n        return this.getCollection(lastIndex - this.renderedLength, lastIndex);\n    };\n    VirtualScroll.prototype.getCollection = function (startIndex, endIndex) {\n        this.translateY = startIndex * this.itemSize;\n        var lastLevel = this.getResCollection(startIndex, endIndex);\n        if (this.parent.enableRtl) {\n            this.translateY = -this.translateY;\n        }\n        return lastLevel;\n    };\n    VirtualScroll.prototype.getResCollection = function (startIndex, endIndex) {\n        var lastLevel = this.parent.activeView.colLevels[this.parent.activeView.colLevels.length - 1];\n        var resCollection = [];\n        var index = { startIndex: 0, endIndex: 0 };\n        if (this.parent.activeViewOptions.group.byDate) {\n            if (lastLevel[parseInt(startIndex.toString(), 10)].date.getTime() ===\n                this.parent.resourceBase.expandedResources[0].date.getTime() &&\n                lastLevel[parseInt(endIndex.toString(), 10)].date.getTime() ===\n                    this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].date.getTime()) {\n                return this.parent.resourceBase.expandedResources;\n            }\n            resCollection =\n                this.getByDateCollection(lastLevel[parseInt(startIndex.toString(), 10)], lastLevel[parseInt(endIndex.toString(), 10)], index);\n            this.setRenderedDates(resCollection);\n        }\n        else {\n            if (lastLevel[parseInt(startIndex.toString(), 10)].groupIndex === this.parent.resourceBase.expandedResources[0].groupIndex &&\n                lastLevel[parseInt(endIndex.toString(), 10)].groupIndex ===\n                    this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex) {\n                return this.parent.resourceBase.expandedResources;\n            }\n            resCollection =\n                this.getByIdCollection(lastLevel[parseInt(startIndex.toString(), 10)], lastLevel[parseInt(endIndex.toString(), 10)], index);\n        }\n        if (this.parent.currentView !== 'Month') {\n            this.startIndex = index.startIndex;\n            resCollection = lastLevel.slice(index.startIndex, index.endIndex);\n        }\n        this.translateY = index.startIndex * this.itemSize;\n        return resCollection;\n    };\n    VirtualScroll.prototype.getByDateCollection = function (firstItem, lastItem, index) {\n        var resCollection = this.parent.activeView.colLevels[0].filter(function (data) {\n            return firstItem.date.getTime() <= data.date.getTime() &&\n                data.date.getTime() <= lastItem.date.getTime();\n        });\n        this.setStartEndIndex(this.parent.activeView.colLevels[0], resCollection[0], resCollection[resCollection.length - 1], index);\n        return resCollection;\n    };\n    VirtualScroll.prototype.getByIdCollection = function (firstItem, lastItem, index) {\n        var resCollection = this.parent.resourceBase.lastResourceLevel.filter(function (data) {\n            return firstItem.groupIndex <= data.groupIndex && data.groupIndex <= lastItem.groupIndex;\n        });\n        this.parent.resourceBase.renderedResources = resCollection;\n        this.setStartEndIndex(this.parent.resourceBase.lastResourceLevel, resCollection[0], resCollection[resCollection.length - 1], index);\n        return resCollection;\n    };\n    VirtualScroll.prototype.setStartEndIndex = function (data, firstItem, lastItem, colIndex) {\n        var index = 0;\n        data.filter(function (data) {\n            if (firstItem === data) {\n                colIndex.startIndex = index;\n            }\n            else if (lastItem === data) {\n                colIndex.endIndex = index + data.colSpan;\n            }\n            index += data.colSpan;\n        });\n        if (firstItem === lastItem) {\n            colIndex.endIndex = colIndex.startIndex + lastItem.colSpan;\n        }\n    };\n    VirtualScroll.prototype.updateContent = function (resWrap, conWrap, eventWrap, resCollection) {\n        var renderedLength = resWrap.querySelector('tbody').children.length;\n        if (document.activeElement && document.activeElement.classList.contains(cls.RESOURCE_CELLS_CLASS)) {\n            this.isResourceCell = true;\n            this.parent.element.focus();\n        }\n        for (var i = 0; i < renderedLength; i++) {\n            remove(eventWrap.querySelector('div'));\n        }\n        this.parent.resourceBase.renderedResources = resCollection;\n        var currentGroupIndices = this.parent.activeView.getGroupIndices(resCollection);\n        var previousGroupIndices = this.parent.activeView.getGroupIndices(this.existingDataCollection);\n        var newGroupIndices = currentGroupIndices.filter(function (index) { return previousGroupIndices.indexOf(index) < 0; });\n        var resWrapRows = Array.from(resWrap.querySelectorAll('tbody tr'));\n        var conWrapRows = Array.from(conWrap.querySelectorAll('tbody tr'));\n        var resWrapBody = resWrap.querySelector('tbody');\n        var conWrapBody = conWrap.querySelector('tbody');\n        this.removeObsoleteRows(resWrapRows, currentGroupIndices);\n        this.removeObsoleteRows(conWrapRows, currentGroupIndices);\n        var resourceRows = this.parent.resourceBase.getContentRows(resCollection, true);\n        var contentRows = this.parent.activeView.getContentRows();\n        var eventRows = this.parent.activeView.getEventRows(resCollection.length);\n        for (var i = 0; i < newGroupIndices.length; i++) {\n            var index = currentGroupIndices.indexOf(newGroupIndices[parseInt(i.toString(), 10)]);\n            if (index === 0) {\n                prepend([resourceRows[parseInt(i.toString(), 10)]], resWrapBody);\n                prepend([contentRows[parseInt(i.toString(), 10)]], conWrapBody);\n            }\n            else if (resWrapBody && conWrapBody && resWrapBody.children[parseInt(index.toString(), 10)] &&\n                conWrapBody.children[parseInt(index.toString(), 10)]) {\n                resWrapBody.insertBefore(resourceRows[parseInt(i.toString(), 10)], resWrapBody.children[parseInt(index.toString(), 10)]);\n                conWrapBody.insertBefore(contentRows[parseInt(i.toString(), 10)], conWrapBody.children[parseInt(index.toString(), 10)]);\n            }\n            else {\n                append([resourceRows[parseInt(i.toString(), 10)]], resWrapBody);\n                append([contentRows[parseInt(i.toString(), 10)]], conWrapBody);\n            }\n        }\n        append(eventRows, eventWrap);\n    };\n    VirtualScroll.prototype.removeObsoleteRows = function (elements, currentGroupIndices) {\n        elements.forEach(function (element) {\n            var groupIndex = parseInt(element.firstElementChild.getAttribute('data-group-index'), 10);\n            if (currentGroupIndices.indexOf(groupIndex) < 0) {\n                remove(element);\n            }\n        });\n    };\n    VirtualScroll.prototype.updateHorizontalContent = function (conWrap, resCollection) {\n        this.existingDataCollection = this.parent.resourceBase.expandedResources;\n        this.parent.resourceBase.expandedResources = resCollection;\n        var selectedEle = this.parent.getSelectedCells();\n        this.focusedEle = selectedEle[selectedEle.length - 1] || this.focusedEle;\n        var tbody = conWrap.querySelector('tbody');\n        var renderedRows = Array.from(tbody.querySelectorAll('tr'));\n        if (this.parent.currentView === 'Month') {\n            this.updateMonthViewContent(conWrap, resCollection);\n        }\n        else {\n            this.updateOtherViewContent(conWrap, resCollection, renderedRows);\n        }\n    };\n    VirtualScroll.prototype.updateMonthViewContent = function (conWrap, resCollection) {\n        var renderedLength = conWrap.querySelectorAll(' tr').length;\n        for (var i = 0; i < renderedLength; i++) {\n            remove(conWrap.querySelector('tbody tr'));\n        }\n        if (this.parent.activeViewOptions.group.byDate) {\n            this.parent.activeView.colLevels[0] = resCollection;\n        }\n        else {\n            this.parent.activeView.colLevels[this.parent.activeView.colLevels.length - 2] = resCollection;\n        }\n        var contentRows = this.parent.activeView.getContentRows();\n        append(contentRows, conWrap.querySelector('tbody'));\n    };\n    VirtualScroll.prototype.updateOtherViewContent = function (conWrap, resCollection, renderedRows) {\n        var tbody = conWrap.querySelector('tbody');\n        var colGroup = conWrap.querySelector('colgroup');\n        var thead = conWrap.querySelector('thead');\n        var table = conWrap.querySelector('table');\n        this.parent.activeView.colLevels[this.parent.activeView.colLevels.length - 1] = resCollection;\n        var newGroupIndices = new Set(resCollection.map(function (data) { return data.groupIndex; }));\n        renderedRows.forEach(function (row) {\n            var tdElements = row.querySelectorAll('td');\n            tdElements.forEach(function (td) {\n                var groupIndex = parseInt(td.getAttribute('data-group-index'), 10);\n                if (!newGroupIndices.has(groupIndex)) {\n                    td.remove();\n                }\n            });\n        });\n        var col = [].slice.call(conWrap.querySelector('colgroup').children);\n        for (var i = 0; i < col.length; i++) {\n            remove(col[parseInt(i.toString(), 10)]);\n        }\n        resCollection.forEach(function () { return colGroup.appendChild(createElement('col')); });\n        var tHead = [].slice.call(conWrap.querySelector('thead').children);\n        for (var i = 0; i < tHead.length; i++) {\n            remove(tHead[parseInt(i.toString(), 10)]);\n        }\n        thead.appendChild(this.parent.eventBase.createEventWrapper('', this.startIndex > 0 ? this.startIndex : 0));\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            thead.appendChild(this.parent.eventBase.createEventWrapper('timeIndicator'));\n        }\n        prepend([thead], table);\n        var contentRows = this.parent.activeView.getContentRows();\n        this.mergeNewTdData(tbody, contentRows);\n    };\n    VirtualScroll.prototype.mergeNewTdData = function (tbody, contentRows) {\n        var existingRows = Array.from(tbody.querySelectorAll('tr'));\n        existingRows.forEach(function (existingRow, rowIndex) {\n            if (rowIndex < contentRows.length) {\n                var newRow = contentRows[parseInt(rowIndex.toString(), 10)];\n                var existingTds_1 = Array.from(existingRow.querySelectorAll('td'));\n                var newTds = Array.from(newRow.querySelectorAll('td'));\n                newTds.forEach(function (newTd) {\n                    var newGroupIndex = parseInt(newTd.getAttribute('data-group-index').toString(), 10);\n                    var inserted = false;\n                    for (var _i = 0, existingTds_2 = existingTds_1; _i < existingTds_2.length; _i++) {\n                        var existingTd = existingTds_2[_i];\n                        var existingGroupIndex = parseInt(existingTd.getAttribute('data-group-index').toString(), 10);\n                        if (newGroupIndex < existingGroupIndex) {\n                            existingRow.insertBefore(newTd, existingTd);\n                            inserted = true;\n                            break;\n                        }\n                    }\n                    if (!inserted) {\n                        existingRow.appendChild(newTd);\n                    }\n                });\n            }\n        });\n    };\n    VirtualScroll.prototype.getBufferCollection = function (startIndex, endIndex) {\n        return this.parent.resourceBase.expandedResources.slice(startIndex, endIndex);\n    };\n    VirtualScroll.prototype.setTranslate = function (resWrap, conWrap, eventWrap, timeIndicator) {\n        setStyleAttribute(resWrap.querySelector('table'), { transform: \"translateY(\" + this.translateY + \"px)\" });\n        setStyleAttribute(conWrap.querySelector('table'), { transform: \"translateY(\" + this.translateY + \"px)\" });\n        setStyleAttribute(eventWrap, { transform: \"translateY(\" + this.translateY + \"px)\" });\n        if (!isNullOrUndefined(timeIndicator)) {\n            setStyleAttribute(timeIndicator, { transform: \"translateY(\" + this.translateY + \"px)\" });\n        }\n    };\n    VirtualScroll.prototype.updateFocusedWorkCell = function () {\n        if (this.focusedEle) {\n            var date = parseInt(this.focusedEle.getAttribute('data-date'), 10);\n            var groupIndex = parseInt(this.focusedEle.getAttribute('data-group-index'), 10);\n            var ele = this.parent.element.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-date=\\\"\" + date + \"\\\"][data-group-index=\\\"\" + groupIndex + \"\\\"]\");\n            if (ele) {\n                this.parent.addSelectedClass([ele], ele, true);\n            }\n            this.focusedEle = null;\n        }\n    };\n    VirtualScroll.prototype.setRenderedDates = function (resCollection) {\n        if (this.parent.currentView !== 'Month') {\n            var dateCol_1 = resCollection.map(function (x) { return x.date; });\n            this.parent.resourceBase.renderedResources.forEach(function (x) { return x.renderDates = dateCol_1; });\n        }\n        else {\n            var dateCol_2 = resCollection.map(function (x) { return x.date.getDay(); });\n            var renderDates_1 = this.parent.activeView.renderDates.filter(function (x) { return dateCol_2.indexOf(x.getDay()) >= 0; });\n            this.parent.resourceBase.renderedResources.forEach(function (x) { return x.renderDates = renderDates_1; });\n        }\n    };\n    VirtualScroll.prototype.setTabIndex = function () {\n        var resColWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n        var resCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.RESOURCE_CELLS_CLASS));\n        if (resCells && resColWrap) {\n            resCells.forEach(function (element) {\n                if (element.getBoundingClientRect().top >= resColWrap.getBoundingClientRect().top) {\n                    element.setAttribute('tabindex', '0');\n                }\n            });\n        }\n        var focusResCell = this.parent.element.querySelector(\".\" + cls.RESOURCE_CELLS_CLASS + \"[tabindex=\\\"\" + 0 + \"\\\"]\");\n        if (this.isResourceCell && focusResCell) {\n            focusResCell.focus();\n            this.isResourceCell = false;\n        }\n    };\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n        this.focusedEle = null;\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import { isNullOrUndefined, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { VirtualScroll } from '../actions/virtual-scroll';\nimport { EventTooltip } from '../popups/event-tooltip';\nimport * as cls from '../base/css-constant';\n/**\n * Schedule DOM rendering\n */\nvar Render = /** @class */ (function () {\n    function Render(parent) {\n        this.parent = parent;\n    }\n    Render.prototype.render = function (viewName, isDataRefresh) {\n        if (isDataRefresh === void 0) { isDataRefresh = true; }\n        this.initializeLayout(viewName);\n        if (this.parent.activeView && isDataRefresh) {\n            this.parent.crudModule.refreshDataManager();\n        }\n    };\n    Render.prototype.initializeLayout = function (viewName) {\n        if (this.parent.activeView) {\n            var templates = [\n                'cellTemplate', 'tooltipTemplate', 'majorSlotTemplate', 'minorSlotTemplate',\n                'headerTooltipTemplate', 'dateHeaderTemplate', 'dayHeaderTemplate', 'monthHeaderTemplate',\n                'headerIndentTemplate', 'resourceHeaderTemplate', 'cellHeaderTemplate', 'dateRangeTemplate'\n            ];\n            if (this.parent.activeEventTemplates.length > 0) {\n                templates = templates.concat(this.parent.activeEventTemplates);\n                this.parent.activeEventTemplates = [];\n            }\n            else {\n                templates.push('eventTemplate');\n            }\n            this.parent.resetTemplates(templates);\n            this.parent.activeView.removeEventListener();\n            this.parent.activeView.destroy();\n        }\n        switch (viewName) {\n            case 'Day':\n                this.parent.activeView = this.parent.dayModule;\n                break;\n            case 'Week':\n                this.parent.activeView = this.parent.weekModule;\n                break;\n            case 'WorkWeek':\n                this.parent.activeView = this.parent.workWeekModule;\n                break;\n            case 'Month':\n                this.parent.activeView = this.parent.monthModule;\n                break;\n            case 'Year':\n                this.parent.activeView = this.parent.yearModule;\n                break;\n            case 'Agenda':\n                this.parent.activeView = this.parent.agendaModule;\n                break;\n            case 'MonthAgenda':\n                this.parent.activeView = this.parent.monthAgendaModule;\n                break;\n            case 'TimelineDay':\n                this.parent.activeView = this.parent.timelineViewsModule;\n                if (!isNullOrUndefined(this.parent.activeView)) {\n                    this.parent.activeView.viewClass = 'e-timeline-day-view';\n                }\n                break;\n            case 'TimelineWorkWeek':\n                this.parent.activeView = this.parent.timelineViewsModule;\n                if (!isNullOrUndefined(this.parent.activeView)) {\n                    this.parent.activeView.viewClass = 'e-timeline-work-week-view';\n                }\n                break;\n            case 'TimelineWeek':\n                this.parent.activeView = this.parent.timelineViewsModule;\n                if (!isNullOrUndefined(this.parent.activeView)) {\n                    this.parent.activeView.viewClass = 'e-timeline-week-view';\n                }\n                break;\n            case 'TimelineMonth':\n                this.parent.activeView = this.parent.timelineMonthModule;\n                break;\n            case 'TimelineYear':\n                this.parent.activeView = this.parent.timelineYearModule;\n                break;\n        }\n        if (isNullOrUndefined(this.parent.activeView)) {\n            var firstView = this.parent.viewCollections[0].option;\n            if (firstView) {\n                this.parent.setProperties({ currentView: firstView }, true);\n                if (this.parent.headerModule) {\n                    this.parent.headerModule.updateActiveView();\n                    this.parent.headerModule.setCalendarView();\n                }\n                console.warn('[WARNING] :: Module \"' + viewName + '\" is not available in Schedule component!' +\n                    ' You either misspelled the module name or forgot to load it.');\n                return this.initializeLayout(firstView);\n            }\n            throw Error('Inject required modules');\n        }\n        this.parent.uiStateValues.scheduleHeight = this.parent.element.offsetHeight;\n        this.parent.activeView.viewIndex = this.parent.viewIndex;\n        this.updateLabelText(viewName);\n        this.parent.activeView.addEventListener();\n        this.parent.activeView.getRenderDates();\n        this.parent.uiStateValues.isGroupAdaptive = this.parent.activeViewOptions.group.resources.length > 0 &&\n            (this.parent.enableAdaptiveUI && !this.parent.isAdaptive ||\n                this.parent.isAdaptive && this.parent.activeViewOptions.group.enableCompactView);\n        if (this.parent.virtualScrollModule) {\n            this.parent.virtualScrollModule.destroy();\n            this.parent.virtualScrollModule = null;\n        }\n        if ((['Agenda', 'MonthAgenda', 'Year', 'TimelineYear'].indexOf(this.parent.currentView) === -1 ||\n            (this.parent.currentView === 'TimelineYear' && this.parent.activeViewOptions.orientation === 'Vertical'))\n            && this.parent.activeViewOptions.allowVirtualScrolling\n            && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.virtualScrollModule = new VirtualScroll(this.parent);\n            if (this.parent.activeView.isTimelineView()) {\n                this.parent.uiStateValues.top = 0;\n            }\n            else {\n                this.parent.virtualScrollModule.isHorizontalScroll = true;\n                this.parent.uiStateValues.left = 0;\n            }\n        }\n        this.updateHeader();\n        this.parent.currentTimezoneDate = this.parent.getCurrentTime();\n        this.parent.activeView.renderLayout(cls.CURRENT_PANEL_CLASS);\n        this.parent.renderTemplates();\n        if (this.parent.eventTooltip) {\n            this.parent.eventTooltip.destroy();\n            this.parent.eventTooltip = null;\n        }\n        if (this.parent.eventSettings.enableTooltip || (this.parent.activeViewOptions.group.resources.length > 0\n            && this.parent.activeViewOptions.group.headerTooltipTemplate)) {\n            this.parent.eventTooltip = new EventTooltip(this.parent);\n        }\n    };\n    Render.prototype.updateHeader = function () {\n        if (this.parent.headerModule) {\n            this.parent.headerModule.setDayOfWeek(this.parent.activeViewOptions.firstDayOfWeek);\n            if (this.parent.activeViewOptions.readonly) {\n                addClass([this.parent.element], cls.READ_ONLY);\n            }\n            else if (this.parent.element.classList.contains(cls.READ_ONLY)) {\n                removeClass([this.parent.element], cls.READ_ONLY);\n            }\n            this.parent.headerModule.updateDateRange();\n            this.parent.headerModule.updateHeaderItems('remove');\n        }\n    };\n    Render.prototype.updateLabelText = function (view) {\n        this.parent.element.setAttribute('role', 'application');\n        this.parent.element.removeAttribute('aria-labelledby');\n        this.parent.element.removeAttribute('aria-label');\n        if (view === 'Year') {\n            this.parent.element.setAttribute('aria-label', this.parent.activeView.getLabelText(view));\n        }\n        else {\n            this.parent.element.setAttribute('aria-labelledby', this.parent.element.id + '_table');\n        }\n    };\n    return Render;\n}());\nexport { Render };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * A class that represents the configuration of working hours related options of scheduler.\n */\nvar WorkHours = /** @class */ (function (_super) {\n    __extends(WorkHours, _super);\n    function WorkHours() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], WorkHours.prototype, \"highlight\", void 0);\n    __decorate([\n        Property('09:00')\n    ], WorkHours.prototype, \"start\", void 0);\n    __decorate([\n        Property('18:00')\n    ], WorkHours.prototype, \"end\", void 0);\n    return WorkHours;\n}(ChildProperty));\nexport { WorkHours };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * A class that represents the configuration of options related to timescale on scheduler.\n */\nvar TimeScale = /** @class */ (function (_super) {\n    __extends(TimeScale, _super);\n    function TimeScale() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TimeScale.prototype, \"enable\", void 0);\n    __decorate([\n        Property(60)\n    ], TimeScale.prototype, \"interval\", void 0);\n    __decorate([\n        Property(2)\n    ], TimeScale.prototype, \"slotCount\", void 0);\n    __decorate([\n        Property()\n    ], TimeScale.prototype, \"minorSlotTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TimeScale.prototype, \"majorSlotTemplate\", void 0);\n    return TimeScale;\n}(ChildProperty));\nexport { TimeScale };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * A class that defines the template options available to customize the quick popup of scheduler.\n */\nvar QuickInfoTemplates = /** @class */ (function (_super) {\n    __extends(QuickInfoTemplates, _super);\n    function QuickInfoTemplates() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Both')\n    ], QuickInfoTemplates.prototype, \"templateType\", void 0);\n    __decorate([\n        Property()\n    ], QuickInfoTemplates.prototype, \"header\", void 0);\n    __decorate([\n        Property()\n    ], QuickInfoTemplates.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], QuickInfoTemplates.prototype, \"footer\", void 0);\n    return QuickInfoTemplates;\n}(ChildProperty));\nexport { QuickInfoTemplates };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * A class that represents the header rows related configurations on timeline views.\n */\nvar HeaderRows = /** @class */ (function (_super) {\n    __extends(HeaderRows, _super);\n    function HeaderRows() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], HeaderRows.prototype, \"option\", void 0);\n    __decorate([\n        Property()\n    ], HeaderRows.prototype, \"template\", void 0);\n    return HeaderRows;\n}(ChildProperty));\nexport { HeaderRows };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable max-len */\nimport { isNullOrUndefined, extend, removeClass } from '@syncfusion/ej2-base';\nimport { getRecurrenceStringFromDate, generate } from '../../recurrence-editor/date-generator';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\n/**\n * Schedule CRUD operations\n */\nvar Crud = /** @class */ (function () {\n    function Crud(parent) {\n        this.parent = parent;\n        this.crudObj = { sourceEvent: null, targetEvent: null, isCrudAction: false };\n    }\n    Crud.prototype.getQuery = function () {\n        var start = this.parent.activeView.startDate();\n        var end = this.parent.activeView.endDate();\n        return this.parent.dataModule.generateQuery(start, end);\n    };\n    Crud.prototype.getTable = function () {\n        if (this.parent.eventSettings.query) {\n            var query = this.parent.eventSettings.query.clone();\n            return query.fromTable;\n        }\n        return null;\n    };\n    Crud.prototype.refreshDataManager = function () {\n        var _this = this;\n        if (!this.parent.activeView) {\n            return;\n        }\n        if (this.parent.uiStateValues && this.parent.uiStateValues.isPreventEventRefresh) {\n            this.parent.uiStateValues.isPreventEventRefresh = false;\n            this.parent.refreshEvents(false);\n            this.parent.hideSpinner();\n            return;\n        }\n        var start = this.parent.activeView.startDate();\n        var end = this.parent.activeView.endDate();\n        var dataManager = this.parent.dataModule.getData(this.parent.dataModule.generateQuery(start, end));\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e); }).catch(function (e) { return _this.dataManagerFailure(e); });\n    };\n    Crud.prototype.dataManagerSuccess = function (e) {\n        var _this = this;\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.trigger(events.dataBinding, e, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            var resultData = extend([], args.result, null, true);\n            _this.parent.eventsData = resultData.filter(function (data) { return !data[_this.parent.eventFields.isBlock]; });\n            _this.parent.blockData = resultData.filter(function (data) { return data[_this.parent.eventFields.isBlock]; });\n            _this.refreshProcessedData();\n            if (_this.parent.dragAndDropModule && _this.parent.dragAndDropModule.actionObj.action === 'drag') {\n                _this.parent.dragAndDropModule.navigationWrapper();\n            }\n            _this.parent.trigger(events.dataBound, null, function () {\n                _this.parent.hideSpinner();\n                if (_this.parent.isPrinting) {\n                    setTimeout(function () {\n                        _this.parent.notify(events.print, {});\n                    }, 100);\n                }\n            });\n        });\n    };\n    Crud.prototype.dataManagerFailure = function (e) {\n        var _this = this;\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.trigger(events.actionFailure, { error: e }, function () { return _this.parent.hideSpinner(); });\n    };\n    Crud.prototype.refreshProcessedData = function (isVirtualScrollAction, dynamicEvents) {\n        if (isVirtualScrollAction === void 0) { isVirtualScrollAction = false; }\n        if (this.parent.dragAndDropModule) {\n            this.parent.dragAndDropModule.actionObj.action = '';\n            removeClass([this.parent.element], 'e-event-action');\n        }\n        if (this.parent.activeViewOptions && this.parent.activeViewOptions.eventTemplate) {\n            var templateNames = ['eventTemplate'];\n            if (this.crudObj.isCrudAction &&\n                ['Agenda', 'MonthAgenda', 'Year', 'TimelineYear'].indexOf(this.parent.currentView) === -1) {\n                templateNames = [];\n                for (var i = 0, len = this.crudObj.sourceEvent.length; i < len; i++) {\n                    templateNames.push('eventTemplate_' + this.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex);\n                    if (this.crudObj.targetEvent[parseInt(i.toString(), 10)] && this.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex !==\n                        this.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex) {\n                        templateNames.push('eventTemplate_' + this.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex);\n                    }\n                }\n            }\n            if (templateNames.length > 0) {\n                this.parent.resetTemplates(templateNames);\n            }\n        }\n        if (isVirtualScrollAction) {\n            this.parent.notify(events.dataReady, { processedData: dynamicEvents ? this.parent.eventBase.processData(dynamicEvents) : this.parent.eventsProcessed });\n            return;\n        }\n        var eventsData = this.parent.eventsData || [];\n        var blockData = this.parent.blockData || [];\n        var data = eventsData.concat(blockData);\n        this.parent.notify(events.dataReady, { processedData: this.parent.eventBase ? this.parent.eventBase.processData(data) : [] });\n    };\n    Crud.prototype.refreshData = function (args) {\n        var _this = this;\n        var actionArgs = {\n            requestType: args.requestType, cancel: false, data: args.data,\n            addedRecords: args.editParams.addedRecords, changedRecords: args.editParams.changedRecords,\n            deletedRecords: args.editParams.deletedRecords\n        };\n        if (this.parent.dragAndDropModule && this.parent.dragAndDropModule.actionObj && this.parent.dragAndDropModule.actionObj.element && this.parent.dragAndDropModule.actionObj.action) {\n            this.parent.dragAndDropModule.actionObj.element.style.display = 'none';\n        }\n        if (this.parent.resizeModule && this.parent.resizeModule.actionObj && this.parent.resizeModule.actionObj.element && this.parent.resizeModule.actionObj.action) {\n            this.parent.resizeModule.actionObj.element.style.display = 'none';\n        }\n        if (this.parent.isSpecificResourceEvents()) {\n            if (args.requestType === 'eventCreated' || args.requestType === 'eventRemoved') {\n                this.crudObj.isCrudAction = true;\n                this.crudObj.sourceEvent = [];\n                var crudData = args.data instanceof Array ? (args.data.length === 0 &&\n                    args.requestType === 'eventRemoved' ? args.editParams.deletedRecords : args.data) :\n                    ((typeof args.data === 'string' || typeof args.data === 'number') && args.requestType === 'eventRemoved') ?\n                        args.editParams.deletedRecords : [args.data];\n                var _loop_1 = function (data) {\n                    this_1.crudObj.isCrudAction = !(args.requestType === 'eventRemoved' && !isNullOrUndefined(data.parent));\n                    var groupIndex = this_1.parent.eventBase.getGroupIndexFromEvent(data);\n                    if (groupIndex > -1 && this_1.parent.crudModule.crudObj.sourceEvent.filter(function (tdData) { return tdData.groupIndex === groupIndex; }).length === 0\n                        && this_1.crudObj.isCrudAction) {\n                        this_1.crudObj.sourceEvent.push(this_1.parent.resourceBase.lastResourceLevel[parseInt(groupIndex.toString(), 10)]);\n                    }\n                };\n                var this_1 = this;\n                for (var _i = 0, crudData_1 = crudData; _i < crudData_1.length; _i++) {\n                    var data = crudData_1[_i];\n                    _loop_1(data);\n                }\n                this.crudObj.targetEvent = this.crudObj.sourceEvent;\n            }\n        }\n        if (this.parent.dataModule.dataManager.dataSource.offline) {\n            this.parent.trigger(events.actionComplete, actionArgs, function (offlineArgs) {\n                if (!offlineArgs.cancel) {\n                    _this.refreshDataManager();\n                }\n            });\n        }\n        else {\n            args.promise.then(function () {\n                if (!_this.parent || _this.parent && _this.parent.isDestroyed) {\n                    return;\n                }\n                _this.parent.trigger(events.actionComplete, actionArgs, function (onlineArgs) {\n                    if (!onlineArgs.cancel) {\n                        _this.refreshDataManager();\n                    }\n                });\n            }).catch(function (e) {\n                if (!_this.parent || _this.parent && _this.parent.isDestroyed) {\n                    return;\n                }\n                _this.parent.trigger(events.actionFailure, { error: e });\n            });\n        }\n    };\n    Crud.prototype.addEvent = function (eventData) {\n        var _this = this;\n        if (this.parent.eventSettings.allowAdding && !this.parent.activeViewOptions.readonly) {\n            if (!this.isBlockEvent(eventData) && this.parent.eventBase.isBlockRange(eventData)) {\n                this.parent.quickPopup.openValidationError('blockAlert', eventData);\n                return;\n            }\n            var addEvents = (eventData instanceof Array) ? eventData : [eventData];\n            if (addEvents.length === 0) {\n                return;\n            }\n            var args = {\n                requestType: 'eventCreate', cancel: false, data: addEvents,\n                addedRecords: addEvents, changedRecords: [], deletedRecords: []\n            };\n            this.parent.trigger(events.actionBegin, args, function (addArgs) {\n                if (!addArgs.cancel) {\n                    var fields = _this.parent.eventFields;\n                    var editParams = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n                    var promise = void 0;\n                    if (addArgs.addedRecords instanceof Array) {\n                        for (var _i = 0, _a = addArgs.addedRecords; _i < _a.length; _i++) {\n                            var event_1 = _a[_i];\n                            event_1 = _this.parent.eventBase.updateEventDateTime(event_1);\n                            var eventData_1 = extend({}, _this.parent.eventBase.processTimezone(event_1, true), null, true);\n                            editParams.addedRecords.push(eventData_1);\n                        }\n                        promise = _this.parent.dataModule.dataManager.saveChanges(editParams, fields.id, _this.getTable(), _this.getQuery());\n                    }\n                    else {\n                        var event_2 = _this.parent.eventBase.processTimezone(addArgs.addedRecords, true);\n                        editParams.addedRecords.push(event_2);\n                        promise = _this.parent.dataModule.dataManager.insert(event_2, _this.getTable(), _this.getQuery());\n                    }\n                    var crudArgs = {\n                        requestType: 'eventCreated', cancel: false, data: addArgs.addedRecords, promise: promise, editParams: editParams\n                    };\n                    _this.refreshData(crudArgs);\n                }\n            });\n        }\n    };\n    Crud.prototype.saveEvent = function (eventData, action) {\n        var _this = this;\n        if (this.parent.eventSettings.allowEditing && !this.parent.activeViewOptions.readonly) {\n            if (this.parent.currentAction !== 'EditFollowingEvents' && !this.isBlockEvent(eventData)\n                && this.parent.eventBase.isBlockRange(eventData)) {\n                this.parent.quickPopup.openValidationError('blockAlert', eventData);\n                this.parent.crudModule.crudObj.isCrudAction = false;\n                return;\n            }\n            var updateEvents = (eventData instanceof Array) ? eventData : [eventData];\n            if (updateEvents.length === 0) {\n                return;\n            }\n            this.parent.currentAction = action;\n            if (action) {\n                switch (action) {\n                    case 'Save':\n                        this.processSave(eventData);\n                        break;\n                    case 'EditOccurrence':\n                        this.processOccurrences(eventData, action);\n                        break;\n                    case 'EditFollowingEvents':\n                        this.processFollowSeries(eventData, action);\n                        break;\n                    case 'EditSeries':\n                        this.processEntireSeries(eventData, action);\n                        break;\n                }\n            }\n            else {\n                var args = {\n                    requestType: 'eventChange', cancel: false, data: eventData,\n                    addedRecords: [], changedRecords: updateEvents, deletedRecords: []\n                };\n                this.parent.trigger(events.actionBegin, args, function (saveArgs) {\n                    if (!saveArgs.cancel) {\n                        var promise = void 0;\n                        var fields = _this.parent.eventFields;\n                        var editParams = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n                        if (saveArgs.changedRecords instanceof Array) {\n                            for (var _i = 0, _a = saveArgs.changedRecords; _i < _a.length; _i++) {\n                                var event_3 = _a[_i];\n                                event_3 = _this.parent.eventBase.updateEventDateTime(event_3);\n                                var eventData_2 = extend({}, _this.parent.eventBase.processTimezone(event_3, true), null, true);\n                                editParams.changedRecords.push(eventData_2);\n                            }\n                            promise = _this.parent.dataModule.dataManager.saveChanges(editParams, fields.id, _this.getTable(), _this.getQuery());\n                        }\n                        else {\n                            var event_4 = _this.parent.eventBase.processTimezone(saveArgs.changedRecords, true);\n                            editParams.changedRecords.push(event_4);\n                            promise = _this.parent.dataModule.dataManager.update(fields.id, event_4, _this.getTable(), _this.getQuery());\n                        }\n                        var cloneEvent = extend({}, saveArgs.changedRecords[saveArgs.changedRecords.length - 1], null, true);\n                        _this.parent.eventBase.selectWorkCellByTime([_this.parent.eventBase.processTimezone(cloneEvent)]);\n                        var crudArgs = {\n                            requestType: 'eventChanged', cancel: false,\n                            data: saveArgs.changedRecords, promise: promise, editParams: editParams\n                        };\n                        _this.refreshData(crudArgs);\n                    }\n                });\n            }\n        }\n    };\n    Crud.prototype.deleteEvent = function (eventData, action) {\n        var _this = this;\n        if (this.parent.eventSettings.allowDeleting && !this.parent.activeViewOptions.readonly) {\n            this.parent.currentAction = action;\n            var deleteEvents = [];\n            if (typeof eventData === 'string' || typeof eventData === 'number') {\n                deleteEvents = this.parent.eventsData.filter(function (eventObj) {\n                    return eventObj[_this.parent.eventFields.id] === eventData;\n                });\n            }\n            else {\n                deleteEvents = (eventData instanceof Array ? eventData : [eventData]);\n            }\n            if (deleteEvents.length === 0) {\n                return;\n            }\n            if (action) {\n                switch (action) {\n                    case 'Delete':\n                        this.processDelete(deleteEvents);\n                        break;\n                    case 'DeleteOccurrence':\n                        this.processOccurrences(deleteEvents, action);\n                        break;\n                    case 'DeleteFollowingEvents':\n                        this.processFollowSeries(deleteEvents, action);\n                        break;\n                    case 'DeleteSeries':\n                        this.processEntireSeries(deleteEvents, action);\n                        break;\n                }\n            }\n            else {\n                var args = {\n                    requestType: 'eventRemove', cancel: false, data: eventData,\n                    addedRecords: [], changedRecords: [], deletedRecords: deleteEvents\n                };\n                this.parent.trigger(events.actionBegin, args, function (deleteArgs) {\n                    if (!deleteArgs.cancel) {\n                        var promise = void 0;\n                        var fields = _this.parent.eventFields;\n                        var editParams = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n                        if (deleteArgs.deletedRecords.length > 1) {\n                            editParams.deletedRecords = editParams.deletedRecords.concat(deleteArgs.deletedRecords);\n                            promise = _this.parent.dataModule.dataManager.saveChanges(editParams, fields.id, _this.getTable(), _this.getQuery());\n                        }\n                        else {\n                            editParams.deletedRecords.push(deleteArgs.deletedRecords[0]);\n                            promise = _this.parent.dataModule.dataManager.remove(fields.id, deleteArgs.deletedRecords[0], _this.getTable(), _this.getQuery());\n                        }\n                        _this.parent.eventBase.selectWorkCellByTime(deleteArgs.deletedRecords);\n                        var crudArgs = {\n                            requestType: 'eventRemoved', cancel: false,\n                            data: deleteArgs.deletedRecords, promise: promise, editParams: editParams\n                        };\n                        _this.refreshData(crudArgs);\n                    }\n                });\n            }\n        }\n    };\n    Crud.prototype.processOccurrences = function (eventData, action) {\n        var _this = this;\n        var occurrenceData = [];\n        var isDeletedRecords = false;\n        if (eventData instanceof Array) {\n            for (var _i = 0, eventData_3 = eventData; _i < eventData_3.length; _i++) {\n                var event_5 = eventData_3[_i];\n                occurrenceData.push({ occurrence: event_5, parent: this.getParentEvent(event_5) });\n            }\n        }\n        else {\n            occurrenceData = { occurrence: eventData, parent: this.getParentEvent(eventData) };\n        }\n        var updateEvents = (eventData instanceof Array) ? eventData : [eventData];\n        var args = {\n            requestType: action === 'EditOccurrence' ? 'eventChange' : 'eventRemove',\n            cancel: false,\n            addedRecords: [], changedRecords: updateEvents, deletedRecords: []\n        };\n        args.data = occurrenceData;\n        this.parent.trigger(events.actionBegin, args, function (occurrenceArgs) {\n            if (!occurrenceArgs.cancel) {\n                var fields = _this.parent.eventFields;\n                var editParams = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n                var occurrenceEvents = (occurrenceData instanceof Array ? occurrenceData : [occurrenceData]);\n                var _loop_2 = function (a, count) {\n                    var childEvent = occurrenceArgs.changedRecords[parseInt(a.toString(), 10)];\n                    var parentEvent = occurrenceEvents[parseInt(a.toString(), 10)].parent;\n                    var parentException = parentEvent[fields.recurrenceException];\n                    var editedData = void 0;\n                    var exceptionDate = void 0;\n                    switch (action) {\n                        case 'EditOccurrence':\n                            editedData = _this.parent.eventsProcessed.filter(function (event) { return event.Guid === childEvent.Guid; })[0];\n                            exceptionDate = _this.excludeDateCheck(editedData[fields.startTime], parentException);\n                            if (exceptionDate !== parentEvent[fields.recurrenceException]) {\n                                parentEvent[fields.recurrenceException] = exceptionDate;\n                                childEvent[fields.recurrenceException] = getRecurrenceStringFromDate(editedData[fields.startTime]);\n                                childEvent[fields.recurrenceID] = parentEvent[fields.id];\n                                childEvent[fields.followingID] = null;\n                                editParams.changedRecords.push(_this.parent.eventBase.processTimezone(parentEvent, true));\n                                editParams.addedRecords.push(_this.parent.eventBase.processTimezone(childEvent, true));\n                            }\n                            else {\n                                editParams.changedRecords.push(_this.parent.eventBase.processTimezone(childEvent, true));\n                            }\n                            break;\n                        case 'DeleteOccurrence':\n                            if (!childEvent[fields.recurrenceException]) {\n                                parentEvent[fields.recurrenceException] =\n                                    _this.excludeDateCheck(childEvent[fields.startTime], parentException);\n                                editParams.changedRecords.push(_this.parent.eventBase.processTimezone(parentEvent, true));\n                            }\n                            if (childEvent[fields.id] !== parentEvent[fields.id]) {\n                                editParams.deletedRecords.push(childEvent);\n                                isDeletedRecords = true;\n                            }\n                            break;\n                    }\n                };\n                for (var a = 0, count = occurrenceArgs.changedRecords.length; a < count; a++) {\n                    _loop_2(a, count);\n                }\n                var promise = _this.parent.dataModule.dataManager.saveChanges(editParams, fields.id, _this.getTable(), _this.getQuery());\n                var cloneEvent = extend({}, occurrenceArgs.changedRecords[occurrenceArgs.changedRecords.length - 1], null, true);\n                _this.parent.eventBase.selectWorkCellByTime(action === 'EditOccurrence' ? [_this.parent.eventBase.processTimezone(cloneEvent)] : [cloneEvent]);\n                var crudArgs = {\n                    requestType: action === 'EditOccurrence' ? 'eventChanged' : 'eventRemoved',\n                    cancel: false, data: isDeletedRecords ? occurrenceArgs.deletedRecords : occurrenceArgs.changedRecords,\n                    promise: promise, editParams: editParams\n                };\n                _this.refreshData(crudArgs);\n            }\n        });\n    };\n    Crud.prototype.processFollowSeries = function (eventData, action) {\n        var _this = this;\n        var followData = [];\n        if (eventData instanceof Array) {\n            for (var _i = 0, eventData_4 = eventData; _i < eventData_4.length; _i++) {\n                var event_6 = eventData_4[_i];\n                followData.push({ occurrence: event_6, parent: this.getParentEvent(event_6) });\n            }\n        }\n        else {\n            followData = { occurrence: eventData, parent: this.getParentEvent(eventData) };\n        }\n        var updateFollowEvents = (eventData instanceof Array) ? eventData : [eventData];\n        var args = {\n            requestType: action === 'EditFollowingEvents' ? 'eventChange' : 'eventRemove', cancel: false,\n            addedRecords: [], changedRecords: updateFollowEvents, deletedRecords: []\n        };\n        args.data = followData;\n        this.parent.trigger(events.actionBegin, args, function (followArgs) {\n            if (!followArgs.cancel) {\n                var fields_1 = _this.parent.eventFields;\n                var editParams = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n                var followEvents = followData instanceof Array ? followData : [followData];\n                var _loop_3 = function (a, count) {\n                    var childEvent = followArgs.changedRecords[parseInt(a.toString(), 10)];\n                    var parentEvent = followEvents[parseInt(a.toString(), 10)].parent;\n                    var followData_1 = _this.parent.eventBase.getEventCollections(parentEvent, childEvent);\n                    var isSpanned = void 0;\n                    switch (action) {\n                        case 'EditFollowingEvents':\n                            _this.processRecurrenceRule(parentEvent, childEvent);\n                            isSpanned = !_this.parent.eventBase.isFollowingEvent(parentEvent, childEvent);\n                            childEvent[fields_1.followingID] = isSpanned ? null : parentEvent[fields_1.id];\n                            childEvent[fields_1.recurrenceID] = null;\n                            editParams.addedRecords.push(_this.parent.eventBase.processTimezone(childEvent, true));\n                            editParams.changedRecords.push(_this.parent.eventBase.processTimezone(parentEvent, true));\n                            if (!_this.parent.uiStateValues.isIgnoreOccurrence) {\n                                childEvent[fields_1.recurrenceException] = null;\n                                if (followData_1.occurrence.length > 0) {\n                                    var rule = followData_1.occurrence.slice(-1)[0][fields_1.recurrenceRule];\n                                    if (rule.indexOf('COUNT') === -1) {\n                                        childEvent[fields_1.recurrenceRule] = rule;\n                                    }\n                                }\n                                if (followData_1.follow.length > 0) {\n                                    childEvent[fields_1.recurrenceRule] = followData_1.follow.slice(-1)[0][fields_1.recurrenceRule];\n                                    editParams.deletedRecords = editParams.deletedRecords.concat(followData_1.follow);\n                                }\n                                if (isSpanned) {\n                                    followData_1.occurrence = followData_1.occurrence.filter(function (eventObj) {\n                                        return eventObj[fields_1.recurrenceID] === parentEvent[fields_1.id];\n                                    });\n                                }\n                                editParams.deletedRecords = editParams.deletedRecords.concat(followData_1.occurrence);\n                            }\n                            break;\n                        case 'DeleteFollowingEvents':\n                            _this.processRecurrenceRule(parentEvent, childEvent[fields_1.startTime]);\n                            editParams.changedRecords.push(_this.parent.eventBase.processTimezone(parentEvent, true));\n                            editParams.deletedRecords = editParams.deletedRecords.concat(followData_1.occurrence).concat(followData_1.follow);\n                            break;\n                    }\n                };\n                for (var a = 0, count = followArgs.changedRecords.length; a < count; a++) {\n                    _loop_3(a, count);\n                }\n                var promise = _this.parent.dataModule.dataManager.saveChanges(editParams, fields_1.id, _this.getTable(), _this.getQuery());\n                var cloneEvent = extend({}, followArgs.changedRecords[followArgs.changedRecords.length - 1], null, true);\n                _this.parent.eventBase.selectWorkCellByTime(action === 'EditFollowingEvents' ? [_this.parent.eventBase.processTimezone(cloneEvent)] : [cloneEvent]);\n                var crudArgs = {\n                    requestType: action === 'EditFollowingEvents' ? 'eventChanged' : 'eventRemoved',\n                    cancel: false, data: followArgs.changedRecords, promise: promise, editParams: editParams\n                };\n                _this.refreshData(crudArgs);\n            }\n        });\n    };\n    Crud.prototype.processEntireSeries = function (eventData, action) {\n        var _this = this;\n        var seriesData = [];\n        var isDeletedRecords = false;\n        if (eventData instanceof Array) {\n            for (var _i = 0, eventData_5 = eventData; _i < eventData_5.length; _i++) {\n                var event_7 = eventData_5[_i];\n                seriesData.push(this.getParentEvent(event_7, true));\n            }\n        }\n        else {\n            seriesData = this.getParentEvent(eventData, true);\n        }\n        var updateSeriesEvents = (eventData instanceof Array) ? eventData : [eventData];\n        var args = {\n            requestType: action === 'EditSeries' ? 'eventChange' : 'eventRemove', cancel: false,\n            addedRecords: [], changedRecords: [], deletedRecords: []\n        };\n        args.data = seriesData;\n        if (action === 'EditSeries') {\n            args.changedRecords = updateSeriesEvents;\n        }\n        else {\n            args.deletedRecords = updateSeriesEvents;\n        }\n        if (action === 'EditSeries' && !this.parent.uiStateValues.isIgnoreOccurrence) {\n            var seriesEvents = seriesData instanceof Array ? seriesData : [seriesData];\n            for (var a = 0, count = args.changedRecords.length; a < count; a++) {\n                var parentEvent = seriesEvents[parseInt(a.toString(), 10)];\n                var eventCollections = this.parent.eventBase.getEventCollections(parentEvent);\n                var deletedEvents = eventCollections.follow.concat(eventCollections.occurrence);\n                args.deletedRecords = args.deletedRecords.concat(deletedEvents);\n            }\n        }\n        this.parent.trigger(events.actionBegin, args, function (seriesArgs) {\n            if (!seriesArgs.cancel) {\n                var fields_2 = _this.parent.eventFields;\n                var editParams = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n                var seriesEvents = seriesData instanceof Array ? seriesData : [seriesData];\n                var records = action === 'EditSeries' ? seriesArgs.changedRecords : seriesArgs.deletedRecords;\n                var _loop_4 = function (a, count) {\n                    var childEvent = records[parseInt(a.toString(), 10)];\n                    var parentEvent = seriesEvents[parseInt(a.toString(), 10)];\n                    var eventCollections = _this.parent.eventBase.getEventCollections(parentEvent);\n                    var deletedEvents = eventCollections.follow.concat(eventCollections.occurrence);\n                    switch (action) {\n                        case 'EditSeries':\n                            childEvent[fields_2.id] = parentEvent[fields_2.id];\n                            childEvent[fields_2.recurrenceID] = null;\n                            childEvent[fields_2.followingID] = null;\n                            if (_this.parent.uiStateValues.isIgnoreOccurrence && childEvent[fields_2.recurrenceException]) {\n                                var originalParent = _this.parent.eventsData.filter(function (eventObj) {\n                                    return eventObj[fields_2.id] === childEvent[fields_2.id];\n                                });\n                                if (originalParent.length > 0) {\n                                    childEvent[fields_2.recurrenceRule] = originalParent[0][fields_2.recurrenceRule];\n                                }\n                            }\n                            else {\n                                childEvent[fields_2.recurrenceException] = null;\n                                editParams.deletedRecords = editParams.deletedRecords.concat(deletedEvents);\n                            }\n                            editParams.changedRecords.push(_this.parent.eventBase.processTimezone(childEvent, true));\n                            _this.parent.uiStateValues.isIgnoreOccurrence = false;\n                            break;\n                        case 'DeleteSeries':\n                            editParams.deletedRecords = editParams.deletedRecords.concat(deletedEvents.concat(parentEvent));\n                            isDeletedRecords = true;\n                            break;\n                    }\n                };\n                for (var a = 0, count = records.length; a < count; a++) {\n                    _loop_4(a, count);\n                }\n                var promise = _this.parent.dataModule.dataManager.saveChanges(editParams, fields_2.id, _this.getTable(), _this.getQuery());\n                var cloneEvent = extend({}, records[records.length - 1], null, true);\n                _this.parent.eventBase.selectWorkCellByTime(action === 'EditSeries' ? [_this.parent.eventBase.processTimezone(cloneEvent)] : [cloneEvent]);\n                var crudArgs = {\n                    requestType: action === 'EditSeries' ? 'eventChanged' : 'eventRemoved',\n                    cancel: false, data: isDeletedRecords ? seriesArgs.deletedRecords : seriesArgs.changedRecords,\n                    promise: promise, editParams: editParams\n                };\n                _this.refreshData(crudArgs);\n            }\n        });\n    };\n    Crud.prototype.processDelete = function (eventData) {\n        var _this = this;\n        var deleteData = [];\n        for (var _i = 0, eventData_6 = eventData; _i < eventData_6.length; _i++) {\n            var eventObj = eventData_6[_i];\n            if (eventObj[this.parent.eventFields.recurrenceRule]) {\n                deleteData.push({ occurrence: eventObj, parent: this.getParentEvent(eventObj) });\n            }\n            else {\n                deleteData.push(eventObj);\n            }\n        }\n        var args = {\n            requestType: 'eventRemove', cancel: false,\n            addedRecords: [], changedRecords: [], deletedRecords: eventData\n        };\n        args.data = deleteData;\n        this.parent.trigger(events.actionBegin, args, function (deleteArgs) {\n            if (!deleteArgs.cancel) {\n                var fields_3 = _this.parent.eventFields;\n                var editParams = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n                var _loop_5 = function (a, count) {\n                    var isDelete = isNullOrUndefined(deleteArgs.deletedRecords[parseInt(a.toString(), 10)][_this.parent.eventFields.recurrenceRule]);\n                    if (!isDelete) {\n                        var parentEvent_1 = deleteData[parseInt(a.toString(), 10)].parent;\n                        var isEdited = editParams.changedRecords.filter(function (obj) {\n                            return obj[fields_3.id] === parentEvent_1[fields_3.id];\n                        });\n                        var editedDate = deleteArgs.deletedRecords[parseInt(a.toString(), 10)][fields_3.startTime];\n                        if (isEdited.length > 0) {\n                            var editedData = isEdited[0];\n                            editedData[fields_3.recurrenceException] =\n                                _this.excludeDateCheck(editedDate, editedData[fields_3.recurrenceException]);\n                        }\n                        else {\n                            parentEvent_1[fields_3.recurrenceException] =\n                                _this.excludeDateCheck(editedDate, parentEvent_1[fields_3.recurrenceException]);\n                        }\n                        if (isEdited.length === 0) {\n                            editParams.changedRecords.push(_this.parent.eventBase.processTimezone(parentEvent_1, true));\n                        }\n                        isDelete = deleteArgs.deletedRecords[parseInt(a.toString(), 10)][fields_3.id] !== parentEvent_1[fields_3.id];\n                    }\n                    if (isDelete) {\n                        editParams.deletedRecords.push(deleteArgs.deletedRecords[parseInt(a.toString(), 10)]);\n                    }\n                };\n                for (var a = 0, count = deleteArgs.deletedRecords.length; a < count; a++) {\n                    _loop_5(a, count);\n                }\n                var promise = _this.parent.dataModule.dataManager.saveChanges(editParams, fields_3.id, _this.getTable(), _this.getQuery());\n                _this.parent.eventBase.selectWorkCellByTime(deleteArgs.deletedRecords);\n                var crudArgs = {\n                    requestType: 'eventRemoved', cancel: false, data: deleteArgs.deletedRecords, promise: promise, editParams: editParams\n                };\n                _this.refreshData(crudArgs);\n            }\n        });\n    };\n    Crud.prototype.processSave = function (data) {\n        var _this = this;\n        var eventData = (data instanceof Array) ? data : [data];\n        var editData = [];\n        for (var _i = 0, eventData_7 = eventData; _i < eventData_7.length; _i++) {\n            var eventObj = eventData_7[_i];\n            if (eventObj[this.parent.eventFields.recurrenceRule]) {\n                editData.push({ occurrence: eventObj, parent: this.getParentEvent(eventObj) });\n            }\n            else {\n                editData.push(eventObj);\n            }\n        }\n        var args = { requestType: 'eventChange', cancel: false, addedRecords: [], changedRecords: eventData, deletedRecords: [] };\n        args.data = editData;\n        this.parent.trigger(events.actionBegin, args, function (editArgs) {\n            if (!editArgs.cancel) {\n                var fields = _this.parent.eventFields;\n                var editParams = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n                for (var _i = 0, _a = editArgs.changedRecords; _i < _a.length; _i++) {\n                    var record = _a[_i];\n                    if (!isNullOrUndefined(record[fields.recurrenceRule]) && isNullOrUndefined(record[fields.recurrenceException])) {\n                        var exceptionString = getRecurrenceStringFromDate(record[fields.startTime]);\n                        var parentEle = _this.getParentEvent(record);\n                        parentEle[fields.recurrenceException] = isNullOrUndefined(parentEle[fields.recurrenceException]) ?\n                            exceptionString : parentEle[fields.recurrenceException].concat(',' + exceptionString);\n                        record[fields.id] = _this.parent.getEventMaxID();\n                        record[fields.recurrenceException] = exceptionString;\n                        editParams.addedRecords.push(_this.parent.eventBase.processTimezone(record, true));\n                        editParams.changedRecords.push(_this.parent.eventBase.processTimezone(parentEle, true));\n                    }\n                    else {\n                        editParams.changedRecords.push(_this.parent.eventBase.processTimezone(record, true));\n                    }\n                }\n                var promise = _this.parent.dataModule.dataManager.saveChanges(editParams, fields.id, _this.getTable(), _this.getQuery());\n                var cloneEvent = extend({}, editArgs.changedRecords[editArgs.changedRecords.length - 1], null, true);\n                _this.parent.eventBase.selectWorkCellByTime([_this.parent.eventBase.processTimezone(cloneEvent)]);\n                var crudArgs = { requestType: 'eventChanged', cancel: false, data: editArgs.changedRecords, promise: promise, editParams: editParams };\n                _this.refreshData(crudArgs);\n            }\n        });\n    };\n    Crud.prototype.getParentEvent = function (event, isParent) {\n        if (isParent === void 0) { isParent = false; }\n        var parentEvent = this.parent.eventBase.getParentEvent(event, isParent) || event;\n        if (parentEvent[this.parent.eventFields.startTimezone] || parentEvent[this.parent.eventFields.endTimezone]) {\n            this.parent.eventBase.timezoneConvert(parentEvent);\n        }\n        return parentEvent;\n    };\n    Crud.prototype.excludeDateCheck = function (eventStartTime, exceptionDateList) {\n        var timezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n        if (timezone) {\n            eventStartTime = this.parent.tzModule.remove(new Date(+eventStartTime.getTime()), timezone);\n        }\n        var exDate = getRecurrenceStringFromDate(eventStartTime);\n        if (!isNullOrUndefined(exceptionDateList)) {\n            if (exceptionDateList.indexOf(exDate) === -1) {\n                exceptionDateList = !(isNullOrUndefined(exceptionDateList)) ? exceptionDateList + ',' + exDate : exDate;\n            }\n        }\n        else {\n            exceptionDateList = exDate;\n        }\n        return exceptionDateList;\n    };\n    Crud.prototype.processRecurrenceRule = function (parentEvent, followEvent) {\n        var fields = this.parent.eventFields;\n        var recurrenceRule = parentEvent[fields.recurrenceRule];\n        var endDate;\n        if (followEvent instanceof Date) {\n            endDate = new Date(+followEvent);\n        }\n        else {\n            endDate = new Date(+followEvent[fields.startTime]);\n            var newRecurrenceRule = followEvent[fields.recurrenceRule];\n            if (newRecurrenceRule) {\n                var startDate = parentEvent[fields.startTime];\n                var ruleException = (this.parent.currentAction === 'DeleteFollowingEvents') ? followEvent[fields.recurrenceException] : null;\n                var dateCollection = generate(startDate, newRecurrenceRule, ruleException, this.parent.activeViewOptions.firstDayOfWeek);\n                var untilDate = new Date(dateCollection.slice(-1)[0]);\n                untilDate.setHours(endDate.getHours(), endDate.getMinutes(), endDate.getSeconds());\n                endDate.setHours(startDate.getHours(), startDate.getMinutes(), startDate.getSeconds());\n                followEvent[fields.recurrenceRule] = this.getUpdatedRecurrenceRule(newRecurrenceRule, new Date(+untilDate), false);\n            }\n        }\n        parentEvent[fields.recurrenceRule] = this.getUpdatedRecurrenceRule(recurrenceRule, util.addDays(new Date(endDate.getTime()), -1), true);\n    };\n    Crud.prototype.getUpdatedRecurrenceRule = function (recurrenceRule, untilDate, isParent) {\n        var splitRule = recurrenceRule.split(';');\n        var updatedRule = '';\n        for (var _i = 0, splitRule_1 = splitRule; _i < splitRule_1.length; _i++) {\n            var rule = splitRule_1[_i];\n            if (rule !== '') {\n                var ruleKey = rule.split('=')[0];\n                var ruleValue = rule.split('=')[1];\n                if (ruleKey === 'COUNT' || ruleKey === 'UNTIL') {\n                    ruleValue = getRecurrenceStringFromDate(untilDate);\n                    rule = rule.replace(rule, 'UNTIL=' + ruleValue);\n                }\n                updatedRule += rule + ';';\n            }\n        }\n        if (isParent && updatedRule.indexOf('UNTIL') === -1) {\n            updatedRule += 'UNTIL=' + getRecurrenceStringFromDate(untilDate);\n        }\n        return updatedRule;\n    };\n    Crud.prototype.isBlockEvent = function (eventData) {\n        var eventCollection = (eventData instanceof Array) ? eventData : [eventData];\n        var value = false;\n        for (var _i = 0, eventCollection_1 = eventCollection; _i < eventCollection_1.length; _i++) {\n            var event_8 = eventCollection_1[_i];\n            value = event_8[this.parent.eventFields.isBlock] || false;\n        }\n        return value;\n    };\n    /**\n     * To destroy the crud module.\n     *\n     * @returns {void}\n     * @private\n     */\n    Crud.prototype.destroy = function () {\n        this.crudObj = null;\n        this.parent = null;\n    };\n    return Crud;\n}());\nexport { Crud };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { extend, closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Work cell interactions\n */\nvar WorkCellInteraction = /** @class */ (function () {\n    function WorkCellInteraction(parent) {\n        this.parent = parent;\n        EventHandler.add(this.parent.element, 'mouseover', this.onHover, this);\n    }\n    WorkCellInteraction.prototype.cellMouseDown = function (e) {\n        if (this.isPreventAction(e)) {\n            return;\n        }\n        this.parent.notify(event.cellMouseDown, { event: e });\n    };\n    WorkCellInteraction.prototype.cellClick = function (e) {\n        var _this = this;\n        if (this.isPreventAction(e)) {\n            return;\n        }\n        var queryStr = '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' + cls.HEADER_CELLS_CLASS;\n        var target = closest(e.target, queryStr);\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (!isNullOrUndefined(closest(e.target, '.' + cls.NEW_EVENT_CLASS))) {\n            this.parent.eventWindow.openEditor(this.parent.activeCellsData, 'Add');\n            return;\n        }\n        var isWorkCell = target.classList.contains(cls.WORK_CELLS_CLASS) ||\n            target.classList.contains(cls.ALLDAY_CELLS_CLASS);\n        if (this.parent.uiStateValues.isTapHold && !this.parent.uiStateValues.action && isWorkCell) {\n            this.parent.uiStateValues.isTapHold = false;\n            this.parent.eventBase.removeSelectedAppointmentClass();\n            this.parent.selectedElements = [];\n        }\n        var navigateEle = closest(e.target, '.' + cls.NAVIGATE_CLASS);\n        var navigateView = this.parent.getNavigateView();\n        var sameView = this.parent.currentView === navigateView;\n        if (isNullOrUndefined(navigateEle) || sameView ||\n            isNullOrUndefined(this.parent.viewOptions[navigateView.charAt(0).toLowerCase() + navigateView.slice(1)])) {\n            if (this.parent.activeViewOptions.readonly && this.parent.currentView !== 'MonthAgenda') {\n                if (this.parent.quickPopup) {\n                    this.parent.quickPopup.quickPopupHide();\n                }\n                return;\n            }\n            if (this.parent.isAdaptive && (e.target.classList.contains(cls.MORE_INDICATOR_CLASS) ||\n                closest(e.target, '.' + cls.MORE_INDICATOR_CLASS))) {\n                return;\n            }\n            if (isWorkCell && e.shiftKey && e.which === 1 && this.parent.keyboardInteractionModule) {\n                this.parent.keyboardInteractionModule.onMouseSelection(e);\n                return;\n            }\n            this.parent.activeCellsData = this.parent.getCellDetails(target);\n            var args = extend(this.parent.activeCellsData, { cancel: false, event: e, name: 'cellClick' });\n            this.parent.trigger(event.cellClick, args, function (clickArgs) {\n                if (!clickArgs.cancel) {\n                    if (isWorkCell) {\n                        _this.parent.selectCell(target);\n                    }\n                    if (_this.parent.allowInline) {\n                        var inlineArgs = {\n                            element: clickArgs.element,\n                            groupIndex: clickArgs.groupIndex, type: 'Cell'\n                        };\n                        _this.parent.notify(event.inlineClick, inlineArgs);\n                    }\n                    else {\n                        _this.parent.notify(event.cellClick, clickArgs);\n                    }\n                }\n                else {\n                    if (_this.parent.quickPopup) {\n                        _this.parent.quickPopup.quickPopupHide();\n                    }\n                }\n            });\n        }\n        else {\n            var date = this.parent.getDateFromElement(target);\n            if (!isNullOrUndefined(date) && this.parent.isMinMaxDate(date)) {\n                this.parent.setProperties({ selectedDate: date }, true);\n                this.parent.changeView(this.parent.getNavigateView(), e);\n            }\n        }\n    };\n    WorkCellInteraction.prototype.cellDblClick = function (e) {\n        var _this = this;\n        var queryStr = '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' + cls.HEADER_CELLS_CLASS;\n        var target = closest(e.target, queryStr);\n        if (this.parent.activeViewOptions.readonly || this.isPreventAction(e) || isNullOrUndefined(target)) {\n            return;\n        }\n        var args = extend(this.parent.activeCellsData, { cancel: false, event: e, name: 'cellDoubleClick' });\n        this.parent.trigger(event.cellDoubleClick, args, function (clickArgs) {\n            var date = new Date(clickArgs.startTime.getTime());\n            if (!_this.parent.isMinMaxDate(new Date(date.setHours(0, 0, 0, 0)))) {\n                return;\n            }\n            if (!clickArgs.cancel) {\n                _this.parent.eventWindow.openEditor(_this.parent.activeCellsData, 'Add');\n            }\n        });\n    };\n    WorkCellInteraction.prototype.onHover = function (e) {\n        var targetSelector = '.' + cls.WORK_CELLS_CLASS + ',.' + cls.TIME_SLOT_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' +\n            cls.HEADER_CELLS_CLASS + ',.' + cls.RESOURCE_CELLS_CLASS + ',.' + cls.APPOINTMENT_CLASS + ',.' + cls.WEEK_NUMBER_CLASS +\n            ',.' + cls.MONTH_HEADER_CLASS;\n        var hoverTarget = closest(e.target, targetSelector);\n        if (hoverTarget) {\n            var hoverArgs = { element: hoverTarget, event: e };\n            this.parent.trigger(event.hover, hoverArgs);\n        }\n    };\n    WorkCellInteraction.prototype.isPreventAction = function (e) {\n        if (closest(e.target, '.' + cls.NAVIGATE_CLASS)) {\n            return false;\n        }\n        if (closest(e.target, '.' + cls.APPOINTMENT_WRAPPER_CLASS) &&\n            !closest(e.target, '.' + cls.MORE_INDICATOR_CLASS)) {\n            return true;\n        }\n        var target = closest(e.target, '.' + cls.APPOINTMENT_CLASS + ',.' + cls.RESOURCE_GROUP_CELLS_CLASS);\n        if (!isNullOrUndefined(target)) {\n            return true;\n        }\n        target = closest(e.target, '.' + cls.HEADER_CELLS_CLASS);\n        if (this.parent.activeView && this.parent.activeView.isTimelineView() && !isNullOrUndefined(target)) {\n            return true;\n        }\n        return false;\n    };\n    WorkCellInteraction.prototype.destroy = function () {\n        EventHandler.remove(this.parent.element, 'mouseover', this.onHover);\n    };\n    return WorkCellInteraction;\n}());\nexport { WorkCellInteraction };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configuration that applies on each appointment field options of scheduler.\n */\nvar FieldOptions = /** @class */ (function (_super) {\n    __extends(FieldOptions, _super);\n    function FieldOptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldOptions.prototype, \"name\", void 0);\n    __decorate([\n        Property()\n    ], FieldOptions.prototype, \"default\", void 0);\n    __decorate([\n        Property()\n    ], FieldOptions.prototype, \"title\", void 0);\n    __decorate([\n        Property({})\n    ], FieldOptions.prototype, \"validation\", void 0);\n    return FieldOptions;\n}(ChildProperty));\nexport { FieldOptions };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { FieldOptions } from './field-options';\n/**\n * A class that holds the collection of event fields that requires to be mapped with the dataSource\n * fields along with its available configuration settings. Each field in it accepts both string and object\n *  data type. When each of the field is assigned with simple `string` value, it is assumed that the dataSource field\n *  name is mapped with it. If the `object` type is defined on each fields, then the validation related settings and mapping of\n *  those fields with dataSource can be given altogether within it.\n */\nvar Field = /** @class */ (function (_super) {\n    __extends(Field, _super);\n    function Field() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Id')\n    ], Field.prototype, \"id\", void 0);\n    __decorate([\n        Property('IsBlock')\n    ], Field.prototype, \"isBlock\", void 0);\n    __decorate([\n        Complex({ name: 'Subject' }, FieldOptions)\n    ], Field.prototype, \"subject\", void 0);\n    __decorate([\n        Complex({ name: 'StartTime' }, FieldOptions)\n    ], Field.prototype, \"startTime\", void 0);\n    __decorate([\n        Complex({ name: 'EndTime' }, FieldOptions)\n    ], Field.prototype, \"endTime\", void 0);\n    __decorate([\n        Complex({ name: 'StartTimezone' }, FieldOptions)\n    ], Field.prototype, \"startTimezone\", void 0);\n    __decorate([\n        Complex({ name: 'EndTimezone' }, FieldOptions)\n    ], Field.prototype, \"endTimezone\", void 0);\n    __decorate([\n        Complex({ name: 'Location' }, FieldOptions)\n    ], Field.prototype, \"location\", void 0);\n    __decorate([\n        Complex({ name: 'Description' }, FieldOptions)\n    ], Field.prototype, \"description\", void 0);\n    __decorate([\n        Complex({ name: 'IsAllDay' }, FieldOptions)\n    ], Field.prototype, \"isAllDay\", void 0);\n    __decorate([\n        Complex({ name: 'RecurrenceID' }, FieldOptions)\n    ], Field.prototype, \"recurrenceID\", void 0);\n    __decorate([\n        Complex({ name: 'RecurrenceRule' }, FieldOptions)\n    ], Field.prototype, \"recurrenceRule\", void 0);\n    __decorate([\n        Complex({ name: 'RecurrenceException' }, FieldOptions)\n    ], Field.prototype, \"recurrenceException\", void 0);\n    __decorate([\n        Property('IsReadonly')\n    ], Field.prototype, \"isReadonly\", void 0);\n    __decorate([\n        Property('FollowingID')\n    ], Field.prototype, \"followingID\", void 0);\n    return Field;\n}(ChildProperty));\nexport { Field };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Field } from './fields';\n/**\n * Holds the configuration of event related options and dataSource binding to Schedule.\n */\nvar EventSettings = /** @class */ (function (_super) {\n    __extends(EventSettings, _super);\n    function EventSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], EventSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property([])\n    ], EventSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], EventSettings.prototype, \"query\", void 0);\n    __decorate([\n        Complex({}, Field)\n    ], EventSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], EventSettings.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property('AllDayRow')\n    ], EventSettings.prototype, \"spannedEventPlacement\", void 0);\n    __decorate([\n        Property(1)\n    ], EventSettings.prototype, \"minimumEventDuration\", void 0);\n    __decorate([\n        Property()\n    ], EventSettings.prototype, \"tooltipTemplate\", void 0);\n    __decorate([\n        Property()\n    ], EventSettings.prototype, \"resourceColorField\", void 0);\n    __decorate([\n        Property(false)\n    ], EventSettings.prototype, \"editFollowingEvents\", void 0);\n    __decorate([\n        Property(true)\n    ], EventSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(true)\n    ], EventSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(true)\n    ], EventSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property(false)\n    ], EventSettings.prototype, \"enableMaxHeight\", void 0);\n    __decorate([\n        Property(false)\n    ], EventSettings.prototype, \"enableIndicator\", void 0);\n    __decorate([\n        Property(false)\n    ], EventSettings.prototype, \"ignoreWhitespace\", void 0);\n    __decorate([\n        Property()\n    ], EventSettings.prototype, \"sortComparer\", void 0);\n    __decorate([\n        Property()\n    ], EventSettings.prototype, \"includeFiltersInQuery\", void 0);\n    return EventSettings;\n}(ChildProperty));\nexport { EventSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * A class that holds the resource grouping related configurations on Schedule.\n */\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], Group.prototype, \"byDate\", void 0);\n    __decorate([\n        Property(true)\n    ], Group.prototype, \"byGroupID\", void 0);\n    __decorate([\n        Property(false)\n    ], Group.prototype, \"allowGroupEdit\", void 0);\n    __decorate([\n        Property([])\n    ], Group.prototype, \"resources\", void 0);\n    __decorate([\n        Property(true)\n    ], Group.prototype, \"enableCompactView\", void 0);\n    __decorate([\n        Property()\n    ], Group.prototype, \"headerTooltipTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Group.prototype, \"hideNonWorkingDays\", void 0);\n    return Group;\n}(ChildProperty));\nexport { Group };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * A class that represents the resource related configurations and its data binding options.\n */\nvar Resources = /** @class */ (function (_super) {\n    __extends(Resources, _super);\n    function Resources() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Resources.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], Resources.prototype, \"title\", void 0);\n    __decorate([\n        Property()\n    ], Resources.prototype, \"name\", void 0);\n    __decorate([\n        Property(false)\n    ], Resources.prototype, \"allowMultiple\", void 0);\n    __decorate([\n        Property([])\n    ], Resources.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], Resources.prototype, \"query\", void 0);\n    __decorate([\n        Property('Id')\n    ], Resources.prototype, \"idField\", void 0);\n    __decorate([\n        Property('Text')\n    ], Resources.prototype, \"textField\", void 0);\n    __decorate([\n        Property('Expanded')\n    ], Resources.prototype, \"expandedField\", void 0);\n    __decorate([\n        Property('GroupID')\n    ], Resources.prototype, \"groupIDField\", void 0);\n    __decorate([\n        Property('Color')\n    ], Resources.prototype, \"colorField\", void 0);\n    __decorate([\n        Property('StartHour')\n    ], Resources.prototype, \"startHourField\", void 0);\n    __decorate([\n        Property('EndHour')\n    ], Resources.prototype, \"endHourField\", void 0);\n    __decorate([\n        Property('WorkDays')\n    ], Resources.prototype, \"workDaysField\", void 0);\n    __decorate([\n        Property('CssClass')\n    ], Resources.prototype, \"cssClassField\", void 0);\n    return Resources;\n}(ChildProperty));\nexport { Resources };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable max-len */\nimport { extend, isNullOrUndefined, createElement, EventHandler, addClass, append, removeClass, remove, closest, classList } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Data } from '../actions/data';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nvar ResourceBase = /** @class */ (function () {\n    function ResourceBase(parent) {\n        this.resourceCollection = [];\n        this.leftPixel = 25;\n        this.resourceDateTree = [];\n        this.parent = parent;\n    }\n    ResourceBase.prototype.renderResourceHeaderIndent = function (tr) {\n        var resColTd = createElement('td', { className: cls.RESOURCE_LEFT_TD_CLASS });\n        var resColDiv = createElement('div', { className: cls.RESOURCE_TEXT_CLASS });\n        if (this.parent.activeViewOptions.headerIndentTemplate) {\n            var data = { className: [resColTd.className], type: 'emptyCells' };\n            this.parent.renderHeaderIndentTemplate(data, resColTd);\n        }\n        else {\n            resColTd.appendChild(resColDiv);\n        }\n        var args = { elementType: 'emptyCells', element: resColTd };\n        this.parent.trigger(events.renderCell, args);\n        tr.appendChild(resColTd);\n    };\n    ResourceBase.prototype.hideResourceRows = function (tBody) {\n        if (this.resourceCollection.length <= 1 || this.parent.virtualScrollModule) {\n            return;\n        }\n        var trCount = this.lastResourceLevel.length;\n        for (var i = 0; i < trCount; i++) {\n            var resData = this.lastResourceLevel[parseInt(i.toString(), 10)].resourceData;\n            var res = this.lastResourceLevel[parseInt(i.toString(), 10)].resource;\n            if (resData.ClassName === cls.RESOURCE_PARENT_CLASS && !resData[res.expandedField] &&\n                !isNullOrUndefined(resData[res.expandedField])) {\n                var trCollection = [].slice.call(tBody.children);\n                var slicedCollection = trCollection.slice(i + 1, i + (parseInt(resData.Count, 10) + 1));\n                addClass(slicedCollection, cls.HIDDEN_CLASS);\n            }\n        }\n    };\n    ResourceBase.prototype.createResourceColumn = function () {\n        var resColl = this.resourceCollection;\n        var resDiv = createElement('div', { className: cls.RESOURCE_COLUMN_WRAP_CLASS });\n        var tbl = this.parent.activeView.createTableLayout(cls.RESOURCE_COLUMN_TABLE_CLASS);\n        if (!this.parent.uiStateValues.isGroupAdaptive && this.parent.rowAutoHeight && this.parent.activeView.isTimelineView()\n            && this.parent.activeViewOptions.group.resources.length > 0) {\n            addClass([tbl], cls.AUTO_HEIGHT);\n        }\n        var tBody = tbl.querySelector('tbody');\n        var resData = this.generateTreeData(true);\n        this.countCalculation(resColl.slice(0, -2), resColl.slice(0, -1));\n        this.renderedResources = this.lastResourceLevel;\n        if (this.parent.virtualScrollModule) {\n            var resourceCount = this.parent.virtualScrollModule.getRenderedCount();\n            this.setExpandedResources();\n            resData = this.expandedResources.slice(0, resourceCount);\n            this.renderedResources = resData;\n        }\n        append(this.getContentRows(resData), tBody);\n        this.hideResourceRows(tBody);\n        tbl.appendChild(tBody);\n        resDiv.appendChild(tbl);\n        return resDiv;\n    };\n    ResourceBase.prototype.setRenderedResources = function () {\n        var resColl = this.resourceCollection;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var temp = this.generateTreeData(true);\n        this.countCalculation(resColl.slice(0, -2), resColl.slice(0, -1));\n        this.renderedResources = this.lastResourceLevel;\n    };\n    ResourceBase.prototype.setExpandedResources = function () {\n        var resources = [];\n        for (var i = 0; i < this.lastResourceLevel.length; i++) {\n            var resource = this.lastResourceLevel[parseInt(i.toString(), 10)].resourceData;\n            var count = resource.Count;\n            resources.push(this.lastResourceLevel[parseInt(i.toString(), 10)]);\n            var isExpanded = resource[this.lastResourceLevel[parseInt(i.toString(), 10)].resource.expandedField];\n            if (!isNullOrUndefined(isExpanded) && !isExpanded && count > 0) {\n                i = i + count;\n            }\n        }\n        this.expandedResources = resources;\n    };\n    ResourceBase.prototype.getContentRows = function (resData, isVirtualScroll) {\n        var resRows = [];\n        var left;\n        var rIndex;\n        var resColl = this.resourceCollection;\n        var tr = createElement('tr');\n        var td = createElement('td', { attrs: { tabindex: isVirtualScroll ? '-1' : '0' } });\n        var existingGroupIndices = this.parent.activeView.getGroupIndices();\n        for (var i = 0; i < resData.length; i++) {\n            if (existingGroupIndices.length > 0 && existingGroupIndices.indexOf(resData[parseInt(i.toString(), 10)].groupIndex) > -1) {\n                continue;\n            }\n            var ntd = td.cloneNode();\n            rIndex = util.findIndexInData(resColl, 'name', resData[parseInt(i.toString(), 10)].resource.name);\n            if (rIndex === resColl.length - 1) {\n                extend(resData[parseInt(i.toString(), 10)].resourceData, { ClassName: cls.RESOURCE_CHILD_CLASS });\n                this.renderedResources[parseInt(i.toString(), 10)].className = [cls.RESOURCE_CHILD_CLASS];\n            }\n            else {\n                extend(resData[parseInt(i.toString(), 10)].resourceData, { ClassName: cls.RESOURCE_PARENT_CLASS });\n                this.renderedResources[parseInt(i.toString(), 10)].className = [cls.RESOURCE_PARENT_CLASS];\n            }\n            left = (rIndex * this.leftPixel) + 'px';\n            if (resData[parseInt(i.toString(), 10)].resourceData.ClassName === cls.RESOURCE_PARENT_CLASS\n                && !isNullOrUndefined(resData[parseInt(i.toString(), 10)].resourceData.Count) && (resData[parseInt(i.toString(), 10)].resourceData.Count > 0)) {\n                var iconClass = void 0;\n                if (resData[parseInt(i.toString(), 10)].resourceData[resColl[parseInt(rIndex.toString(), 10)].expandedField] ||\n                    isNullOrUndefined(resData[parseInt(i.toString(), 10)].resourceData[resColl[parseInt(rIndex.toString(), 10)].expandedField])) {\n                    iconClass = cls.RESOURCE_COLLAPSE_CLASS;\n                }\n                else {\n                    iconClass = cls.RESOURCE_EXPAND_CLASS;\n                }\n                var iconDiv = createElement('div');\n                addClass([iconDiv], [cls.RESOURCE_TREE_ICON_CLASS, iconClass]);\n                this.setMargin(iconDiv, left);\n                ntd.appendChild(iconDiv);\n                if (this.resourceCollection.length > 1) {\n                    EventHandler.add(iconDiv, 'click', this.onTreeIconClick, this);\n                }\n            }\n            this.parent.activeView.setResourceHeaderContent(ntd, resData[parseInt(i.toString(), 10)], cls.RESOURCE_TEXT_CLASS);\n            ntd.setAttribute('data-group-index', resData[parseInt(i.toString(), 10)].groupIndex.toString());\n            ntd.setAttribute('aria-label', resData[parseInt(i.toString(), 10)].resourceData[resData[parseInt(i.toString(), 10)].resource.textField] + ' resource');\n            if (!this.parent.activeViewOptions.resourceHeaderTemplate) {\n                this.setMargin(ntd.querySelector('.' + cls.RESOURCE_TEXT_CLASS), left);\n            }\n            var classCollection = [cls.RESOURCE_CELLS_CLASS, resData[parseInt(i.toString(), 10)].resourceData.ClassName];\n            addClass([ntd], classCollection);\n            var args = { elementType: 'resourceHeader', element: ntd, groupIndex: resData[parseInt(i.toString(), 10)].groupIndex };\n            this.parent.trigger(events.renderCell, args);\n            var ntr = tr.cloneNode();\n            ntr.appendChild(ntd);\n            resRows.push(ntr);\n        }\n        return resRows;\n    };\n    ResourceBase.prototype.setMargin = function (element, value) {\n        if (!this.parent.enableRtl) {\n            element.style.marginLeft = value;\n        }\n        else {\n            element.style.marginRight = value;\n        }\n    };\n    ResourceBase.prototype.countCalculation = function (parentCollection, wholeCollection) {\n        var collection;\n        for (var y = 0; y < parentCollection.length; y++) {\n            var data = parentCollection[parentCollection.length - (y + 1)].dataSource;\n            for (var x = 0; x < data.length; x++) {\n                var totalCount = 0;\n                if (this.parent.activeViewOptions.group.byGroupID) {\n                    var query = new Query().where(wholeCollection[wholeCollection.length - 1].groupIDField, 'equal', data[parseInt(x.toString(), 10)][parentCollection[parentCollection.length - (y + 1)].idField]);\n                    collection = new DataManager(wholeCollection[wholeCollection.length - 1].dataSource).executeLocal(query);\n                }\n                else {\n                    collection = wholeCollection[wholeCollection.length - 1].dataSource;\n                }\n                for (var z = 0; z < collection.length; z++) {\n                    totalCount = totalCount + parseInt(collection[parseInt(z.toString(), 10)].Count, 10);\n                }\n                totalCount = totalCount + parseInt(data[parseInt(x.toString(), 10)].Count, 10);\n                extend(data[parseInt(x.toString(), 10)], { Count: totalCount });\n            }\n            wholeCollection = wholeCollection.slice(0, -1);\n        }\n    };\n    ResourceBase.prototype.onTreeIconClick = function (e) {\n        var _this = this;\n        if (this.parent.eventTooltip) {\n            this.parent.eventTooltip.close();\n        }\n        var target = e.target;\n        var hide;\n        var trElement = closest(target, '.' + cls.RESOURCE_PARENT_CLASS)\n            .parentElement;\n        var index = parseInt(trElement.children[0].getAttribute('data-group-index'), 10);\n        var args = {\n            cancel: false, event: e, groupIndex: index,\n            requestType: !target.classList.contains(cls.RESOURCE_COLLAPSE_CLASS) ? 'resourceExpand' : 'resourceCollapse'\n        };\n        this.parent.trigger(events.actionBegin, args, function (actionArgs) {\n            if (!actionArgs.cancel) {\n                if (target.classList.contains(cls.RESOURCE_COLLAPSE_CLASS)) {\n                    classList(target, [cls.RESOURCE_EXPAND_CLASS], [cls.RESOURCE_COLLAPSE_CLASS]);\n                    hide = true;\n                }\n                else {\n                    classList(target, [cls.RESOURCE_COLLAPSE_CLASS], [cls.RESOURCE_EXPAND_CLASS]);\n                    hide = false;\n                }\n                var eventElements = [].slice.call(_this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS + ',.' + cls.MORE_INDICATOR_CLASS));\n                for (var _i = 0, eventElements_1 = eventElements; _i < eventElements_1.length; _i++) {\n                    var element = eventElements_1[_i];\n                    remove(element);\n                }\n                if (_this.parent.virtualScrollModule) {\n                    _this.updateVirtualContent(index, hide, e, target);\n                }\n                else {\n                    _this.updateContent(index, hide);\n                }\n                var data = { cssProperties: _this.parent.getCssProperties(), module: 'scroll' };\n                _this.parent.notify(events.scrollUiUpdate, data);\n                args = {\n                    cancel: false, event: e, groupIndex: index,\n                    requestType: target.classList.contains(cls.RESOURCE_COLLAPSE_CLASS) ? 'resourceExpanded' : 'resourceCollapsed'\n                };\n                _this.parent.refreshEvents(false);\n                _this.parent.trigger(events.actionComplete, args);\n            }\n        });\n    };\n    ResourceBase.prototype.updateContent = function (index, hide) {\n        var rowCollection = [];\n        var workCellCollection = [];\n        var headerRowCollection = [];\n        var pNode;\n        var clickedRes = this.lastResourceLevel[parseInt(index.toString(), 10)].resourceData;\n        var resRows = [].slice.call(this.parent.element.querySelectorAll('.' + cls.RESOURCE_COLUMN_WRAP_CLASS + ' ' + 'tr'));\n        var contentRows = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_WRAP_CLASS + ' ' + 'tbody tr'));\n        var eventRows = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_WRAP_CLASS + ' .' + cls.APPOINTMENT_CONTAINER_CLASS));\n        for (var j = 0; j < clickedRes.Count; j++) {\n            rowCollection.push(resRows[index + j + 1]);\n            workCellCollection.push(contentRows[index + j + 1]);\n            headerRowCollection.push(eventRows[index + j + 1]);\n        }\n        var clonedCollection = this.lastResourceLevel;\n        for (var i = 0; i < rowCollection.length; i++) {\n            var expanded = true;\n            pNode = rowCollection[parseInt(i.toString(), 10)].children[0].classList.contains(cls.RESOURCE_PARENT_CLASS);\n            clonedCollection[parseInt(index.toString(), 10)].resourceData[clonedCollection[parseInt(index.toString(), 10)].resource.expandedField] = !hide;\n            if (hide) {\n                if (pNode) {\n                    var trElem = rowCollection[parseInt(i.toString(), 10)].querySelector('.' + cls.RESOURCE_TREE_ICON_CLASS);\n                    if (trElem) {\n                        classList(trElem, [cls.RESOURCE_EXPAND_CLASS], [cls.RESOURCE_COLLAPSE_CLASS]);\n                    }\n                }\n                if (!rowCollection[parseInt(i.toString(), 10)].classList.contains(cls.HIDDEN_CLASS)) {\n                    addClass([rowCollection[parseInt(i.toString(), 10)], workCellCollection[parseInt(i.toString(), 10)], headerRowCollection[parseInt(i.toString(), 10)]], cls.HIDDEN_CLASS);\n                }\n            }\n            else {\n                if (pNode) {\n                    var rowIndex = rowCollection[parseInt(i.toString(), 10)].rowIndex;\n                    if (!clonedCollection[parseInt(rowIndex.toString(), 10)].resourceData[clonedCollection[parseInt(rowIndex.toString(), 10)].resource.expandedField]\n                        && !isNullOrUndefined(clonedCollection[parseInt(rowIndex.toString(), 10)].resourceData[clonedCollection[parseInt(rowIndex.toString(), 10)].resource.expandedField])) {\n                        rowCollection.splice(i + 1, (parseInt(clonedCollection[parseInt(rowIndex.toString(), 10)].resourceData.Count, 10)));\n                        workCellCollection.splice(i + 1, (parseInt(clonedCollection[parseInt(rowIndex.toString(), 10)].resourceData.Count, 10)));\n                        headerRowCollection.splice(i + 1, (parseInt(clonedCollection[parseInt(rowIndex.toString(), 10)].resourceData.Count, 10)));\n                        expanded = false;\n                    }\n                    if (expanded) {\n                        var trElem = rowCollection[parseInt(i.toString(), 10)].querySelector('.' + cls.RESOURCE_TREE_ICON_CLASS);\n                        if (trElem) {\n                            classList(trElem, [cls.RESOURCE_COLLAPSE_CLASS], [cls.RESOURCE_EXPAND_CLASS]);\n                        }\n                    }\n                }\n                if (rowCollection[parseInt(i.toString(), 10)].classList.contains(cls.HIDDEN_CLASS)) {\n                    removeClass([rowCollection[parseInt(i.toString(), 10)], workCellCollection[parseInt(i.toString(), 10)], headerRowCollection[parseInt(i.toString(), 10)]], cls.HIDDEN_CLASS);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ResourceBase.prototype.updateVirtualContent = function (index, expand, e, target) {\n        this.lastResourceLevel[parseInt(index.toString(), 10)].resourceData[this.lastResourceLevel[parseInt(index.toString(), 10)].resource.expandedField] = !expand;\n        this.setExpandedResources();\n        var resourceCount = this.parent.virtualScrollModule.getRenderedCount();\n        var startIndex = this.expandedResources.indexOf(this.renderedResources[0]);\n        this.parent.virtualScrollModule.existingDataCollection = this.renderedResources;\n        this.renderedResources = this.expandedResources.slice(startIndex, startIndex + resourceCount);\n        if (this.renderedResources.length < resourceCount) {\n            var sIndex = this.expandedResources.length - resourceCount;\n            sIndex = (sIndex > 0) ? sIndex : 0;\n            this.renderedResources = this.expandedResources.slice(sIndex, this.expandedResources.length);\n        }\n        var virtualTrack = this.parent.element.querySelector('.' + cls.VIRTUAL_TRACK_CLASS);\n        this.parent.virtualScrollModule.updateVirtualTrackHeight(virtualTrack);\n        var resTable = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS + ' ' + 'table');\n        var contentTable = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS + ' ' + 'table');\n        var eventTable = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n        this.parent.virtualScrollModule.updateContent(resTable, contentTable, eventTable, this.renderedResources);\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CURRENT_TIMELINE_CLASS);\n        if (!isNullOrUndefined(timeIndicator)) {\n            timeIndicator.style.height =\n                this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight + 'px';\n        }\n    };\n    ResourceBase.prototype.renderResourceHeader = function () {\n        var resourceWrapper = createElement('div', { className: cls.RESOURCE_TOOLBAR_CONTAINER });\n        resourceWrapper.innerHTML = '<div class=\"' + cls.RESOURCE_HEADER_TOOLBAR + '\"><div class=\"' + cls.RESOURCE_MENU + '\">' +\n            '<div class=\"e-icons ' + cls.RESOURCE_MENU_ICON + '\"></div></div><div class=\"' + cls.RESOURCE_LEVEL_TITLE + '\"></div></div>';\n        if (this.parent.currentView === 'MonthAgenda') {\n            var target = this.parent.activeView.getPanel().querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            target.insertBefore(resourceWrapper, target.querySelector('.' + cls.WRAPPER_CONTAINER_CLASS));\n        }\n        else {\n            this.parent.element.insertBefore(resourceWrapper, this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS));\n        }\n        this.renderResourceHeaderText();\n        EventHandler.add(resourceWrapper.querySelector('.' + cls.RESOURCE_MENU_ICON), 'click', this.menuClick, this);\n    };\n    ResourceBase.prototype.renderResourceTree = function () {\n        this.popupOverlay = createElement('div', { className: cls.RESOURCE_TREE_POPUP_OVERLAY });\n        var treeWrapper = createElement('div', { className: cls.RESOURCE_TREE_POPUP + ' e-popup-close' });\n        if (this.parent.currentView === 'MonthAgenda') {\n            var target = this.parent.activeView.getPanel().querySelector('.' + cls.WRAPPER_CONTAINER_CLASS);\n            target.insertBefore(treeWrapper, target.children[0]);\n            target.appendChild(this.popupOverlay);\n        }\n        else {\n            this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS).appendChild(treeWrapper);\n            this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS).appendChild(this.popupOverlay);\n        }\n        var resourceTree = createElement('div', { className: cls.RESOURCE_TREE });\n        treeWrapper.appendChild(resourceTree);\n        this.treeViewObj = new TreeView({\n            cssClass: this.parent.cssClass,\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            fields: {\n                dataSource: [].slice.call(this.generateTreeData()),\n                id: 'resourceId',\n                text: 'resourceName',\n                child: 'resourceChild'\n            },\n            nodeTemplate: this.parent.resourceHeaderTemplate,\n            nodeClicked: this.resourceClick.bind(this),\n            created: this.resourceTreeCreated.bind(this)\n        });\n        this.treeViewObj.root = this.parent.root ? this.parent.root : this.parent;\n        this.treeViewObj.appendTo(resourceTree);\n        this.treeViewObj.expandAll();\n        this.treePopup = new Popup(treeWrapper, {\n            targetType: 'relative',\n            actionOnScroll: 'none',\n            content: this.treeViewObj.element,\n            relateTo: this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS),\n            enableRtl: this.parent.enableRtl,\n            hideAnimation: { name: 'SlideLeftOut', duration: 500 },\n            showAnimation: { name: 'SlideLeftIn', duration: 500 },\n            viewPortElement: this.parent.element.querySelector('.' + (this.parent.currentView === 'MonthAgenda' ?\n                cls.WRAPPER_CONTAINER_CLASS : cls.TABLE_CONTAINER_CLASS))\n        });\n        this.parent.on(events.documentClick, this.documentClick, this);\n    };\n    ResourceBase.prototype.resourceTreeCreated = function () {\n        if (this.parent.activeViewOptions.resourceHeaderTemplate && this.parent.portals && this.treeViewObj.portals) {\n            this.parent.portals = this.parent.portals.concat(this.treeViewObj.portals);\n            this.parent.renderTemplates();\n        }\n    };\n    ResourceBase.prototype.generateTreeData = function (isTimeLine) {\n        var _this = this;\n        var treeCollection = [];\n        var resTreeColl = [];\n        var groupIndex = 0;\n        var _loop_1 = function (i, len) {\n            var treeHandler = function (treeLevel, index, levelId) {\n                var resource = _this.resourceCollection[parseInt(index.toString(), 10)];\n                var treeArgs;\n                var resObj;\n                if (!isTimeLine) {\n                    treeArgs = {\n                        resourceId: levelId,\n                        resourceName: treeLevel.resourceData[resource.textField],\n                        resource: treeLevel.resource,\n                        resourceData: treeLevel.resourceData\n                    };\n                }\n                else {\n                    resObj = {\n                        type: 'resourceHeader', resource: treeLevel.resource,\n                        resourceData: treeLevel.resourceData, groupIndex: groupIndex,\n                        groupOrder: treeLevel.groupOrder\n                    };\n                    resTreeColl.push(resObj);\n                    groupIndex++;\n                }\n                if (treeLevel.child.length > 0 && !isTimeLine) {\n                    treeArgs.resourceChild = [];\n                }\n                var count = 1;\n                for (var _i = 0, _a = treeLevel.child; _i < _a.length; _i++) {\n                    var tree = _a[_i];\n                    if (!isTimeLine) {\n                        treeArgs.resourceChild.push(treeHandler(tree, index + 1, levelId + '-' + count));\n                    }\n                    else {\n                        treeHandler(tree, index + 1, levelId + '-' + count);\n                    }\n                    count += 1;\n                }\n                if (isTimeLine) {\n                    extend(resObj.resourceData, { Count: count - 1 });\n                }\n                return treeArgs;\n            };\n            if (!isTimeLine) {\n                treeCollection.push(treeHandler(this_1.resourceTreeLevel[parseInt(i.toString(), 10)], 0, (i + 1).toString()));\n            }\n            else {\n                treeHandler(this_1.resourceTreeLevel[parseInt(i.toString(), 10)], 0, (i + 1).toString());\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, len = this.resourceTreeLevel.length; i < len; i++) {\n            _loop_1(i, len);\n        }\n        if (isTimeLine) {\n            this.lastResourceLevel = resTreeColl;\n            return resTreeColl;\n        }\n        else {\n            return treeCollection;\n        }\n    };\n    ResourceBase.prototype.renderResourceHeaderText = function () {\n        var resource = this.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n        var headerCollection = [];\n        var _loop_2 = function (i, len) {\n            var resourceLevel = this_2.resourceCollection[parseInt(i.toString(), 10)];\n            var resourceText = resourceLevel.dataSource.filter(function (resData) {\n                return resData[resourceLevel.idField] === resource.groupOrder[parseInt(i.toString(), 10)];\n            });\n            var resourceName = createElement('div', { className: cls.RESOURCE_NAME });\n            this_2.parent.sanitize(resourceText[0][resourceLevel.textField], resourceName);\n            headerCollection.push(resourceName);\n            var levelIcon = createElement('div', { className: 'e-icons e-icon-next' });\n            headerCollection.push(levelIcon);\n        };\n        var this_2 = this;\n        for (var i = 0, len = resource.groupOrder.length; i < len; i++) {\n            _loop_2(i, len);\n        }\n        headerCollection.pop();\n        var target = (this.parent.currentView === 'MonthAgenda') ? this.parent.activeView.getPanel() : this.parent.element;\n        var headerWrapper = target.querySelector('.' + cls.RESOURCE_LEVEL_TITLE);\n        util.removeChildren(headerWrapper);\n        for (var _i = 0, headerCollection_1 = headerCollection; _i < headerCollection_1.length; _i++) {\n            var header = headerCollection_1[_i];\n            headerWrapper.appendChild(header);\n        }\n        if (this.lastResourceLevel.length === 1) {\n            addClass([this.parent.element.querySelector('.' + cls.RESOURCE_MENU)], cls.DISABLE_CLASS);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ResourceBase.prototype.menuClick = function (event) {\n        if (this.parent.element.querySelector('.' + cls.RESOURCE_TREE_POPUP).classList.contains(cls.POPUP_OPEN)) {\n            this.treePopup.hide();\n            removeClass([this.popupOverlay], cls.ENABLE_CLASS);\n        }\n        else {\n            var treeNodes = [].slice.call(this.treeViewObj.element.querySelectorAll('.e-list-item:not(.e-has-child)'));\n            removeClass(treeNodes, 'e-active');\n            addClass([treeNodes[this.parent.uiStateValues.groupIndex]], 'e-active');\n            this.treePopup.show();\n            addClass([this.popupOverlay], cls.ENABLE_CLASS);\n        }\n    };\n    ResourceBase.prototype.selectResourceByIndex = function (groupIndex) {\n        if (this.lastResourceLevel && groupIndex > -1 && groupIndex < this.lastResourceLevel.length) {\n            this.triggerEvents(groupIndex);\n        }\n    };\n    ResourceBase.prototype.resourceClick = function (event) {\n        if (!event.node.classList.contains('e-has-child')) {\n            this.treePopup.hide();\n            removeClass([this.popupOverlay], cls.ENABLE_CLASS);\n            var treeNodes = [].slice.call(this.treeViewObj.element.querySelectorAll('.e-list-item:not(.e-has-child)'));\n            var groupIndex = treeNodes.indexOf(event.node);\n            this.triggerEvents(groupIndex, event);\n            event.event.preventDefault();\n        }\n    };\n    ResourceBase.prototype.triggerEvents = function (groupIndex, event) {\n        var _this = this;\n        var args = { cancel: false, event: (event) ? event.event : null, groupIndex: groupIndex, requestType: 'resourceChange' };\n        this.parent.trigger(events.actionBegin, args, function (actionArgs) {\n            if (!actionArgs.cancel) {\n                _this.parent.uiStateValues.groupIndex = actionArgs.groupIndex;\n                _this.parent.renderModule.render(_this.parent.currentView);\n                args = {\n                    cancel: false, event: (event) ? event.event : null, groupIndex: _this.parent.uiStateValues.groupIndex, requestType: 'resourceChanged'\n                };\n                _this.parent.adaptiveGroupIndex = _this.parent.uiStateValues.groupIndex;\n                _this.parent.trigger(events.actionComplete, args);\n            }\n        });\n    };\n    ResourceBase.prototype.documentClick = function (args) {\n        if (closest(args.event.target, '.' + cls.RESOURCE_TREE_POPUP)) {\n            return;\n        }\n        var treeWrapper = this.parent.element.querySelector('.' + cls.RESOURCE_TREE_POPUP);\n        if (treeWrapper && treeWrapper.classList.contains(cls.POPUP_OPEN)) {\n            this.treePopup.hide();\n            removeClass([this.popupOverlay], cls.ENABLE_CLASS);\n        }\n    };\n    ResourceBase.prototype.bindResourcesData = function (isSetModel) {\n        var _this = this;\n        this.parent.showSpinner();\n        var promises = [];\n        for (var _i = 0, _a = this.parent.resources; _i < _a.length; _i++) {\n            var resource = _a[_i];\n            var dataModule = new Data(this.parent, resource.dataSource, resource.query);\n            promises.push(dataModule.getData(dataModule.generateQuery()));\n        }\n        Promise.all(promises).then(function (e) { return _this.dataManagerSuccess(e, isSetModel); })\n            .catch(function (e) { return _this.parent.crudModule.dataManagerFailure(e); });\n    };\n    ResourceBase.prototype.dataManagerSuccess = function (e, isSetModel) {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.resourceCollection = [];\n        for (var i = 0, length_1 = e.length; i < length_1; i++) {\n            var resource = this.parent.resources[parseInt(i.toString(), 10)];\n            var resourceObj = this.getResourceModel(resource, e[parseInt(i.toString(), 10)].result);\n            this.parent.resourceCollection.push(resourceObj);\n        }\n        this.refreshLayout(isSetModel);\n    };\n    ResourceBase.prototype.getResourceModel = function (resource, resourceData) {\n        var resourceObj = {\n            field: resource.field,\n            title: resource.title,\n            name: resource.name,\n            allowMultiple: resource.allowMultiple,\n            dataSource: resourceData || resource.dataSource,\n            idField: resource.idField,\n            textField: resource.textField,\n            groupIDField: resource.groupIDField,\n            colorField: resource.colorField,\n            startHourField: resource.startHourField,\n            endHourField: resource.endHourField,\n            workDaysField: resource.workDaysField,\n            expandedField: resource.expandedField,\n            cssClassField: resource.cssClassField\n        };\n        return resourceObj;\n    };\n    ResourceBase.prototype.refreshLayout = function (isSetModel) {\n        if (isNullOrUndefined(this.parent.uiStateValues.groupIndex) || !(this.parent.enablePersistence)) {\n            this.parent.uiStateValues.groupIndex = 0;\n        }\n        this.parent.renderElements(isSetModel);\n    };\n    ResourceBase.prototype.setResourceCollection = function () {\n        var requiredResources = [];\n        this.resourceCollection = [];\n        this.colorIndex = null;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            for (var _i = 0, _a = this.parent.activeViewOptions.group.resources; _i < _a.length; _i++) {\n                var resource = _a[_i];\n                var index_1 = util.findIndexInData(this.parent.resourceCollection, 'name', resource);\n                if (index_1 >= 0) {\n                    requiredResources.push(this.parent.resourceCollection[parseInt(index_1.toString(), 10)]);\n                }\n            }\n        }\n        else if (this.parent.resourceCollection.length > 0) {\n            requiredResources = this.parent.resourceCollection;\n        }\n        var index = 0;\n        for (var _b = 0, requiredResources_1 = requiredResources; _b < requiredResources_1.length; _b++) {\n            var resource = requiredResources_1[_b];\n            var resources = this.getResourceModel(resource);\n            if (resource.name === this.parent.eventSettings.resourceColorField) {\n                this.colorIndex = index;\n            }\n            index++;\n            this.resourceCollection.push(resources);\n        }\n        if (isNullOrUndefined(this.colorIndex)) {\n            this.colorIndex = this.resourceCollection.length - 1;\n        }\n    };\n    ResourceBase.prototype.generateResourceLevels = function (innerDates, isTimeLine) {\n        var _this = this;\n        var resources = this.resourceCollection;\n        var resTreeGroup = [];\n        var lastColumnDates = [];\n        var group = function (resources, index, prevResource, prevResourceData, prevOrder) {\n            var resTree = [];\n            var resource = resources[0];\n            if (resource) {\n                var data = void 0;\n                if (prevResourceData && _this.parent.activeViewOptions.group.byGroupID) {\n                    var id_1 = prevResourceData[prevResource.idField];\n                    data = resource.dataSource.filter(function (e) {\n                        return e[resource.groupIDField] === id_1;\n                    });\n                }\n                else {\n                    data = resource.dataSource;\n                }\n                for (var i = 0; i < data.length; i++) {\n                    var groupOrder = [];\n                    if (prevOrder && prevOrder.length > 0) {\n                        groupOrder = groupOrder.concat(prevOrder);\n                    }\n                    groupOrder.push(data[parseInt(i.toString(), 10)][resource.idField]);\n                    var items = group(resources.slice(1), index + 1, resource, data[parseInt(i.toString(), 10)], groupOrder);\n                    // Here validate child item empty top level resource only\n                    if (index === 0 && items.length === 0 && _this.resourceCollection.length > 1) {\n                        continue;\n                    }\n                    var dateCol = [];\n                    var renderDates = _this.parent.activeView.renderDates;\n                    var resWorkDays = void 0;\n                    if (!_this.parent.activeViewOptions.group.byDate && index + 1 === _this.resourceCollection.length) {\n                        var workDays = data[parseInt(i.toString(), 10)][resource.workDaysField];\n                        var resStartHour = data[parseInt(i.toString(), 10)][resource.startHourField];\n                        var resEndHour = data[parseInt(i.toString(), 10)][resource.endHourField];\n                        if (workDays && workDays.length > 0) {\n                            renderDates = _this.parent.activeView.getRenderDates(workDays);\n                            resWorkDays = workDays;\n                            dateCol = _this.parent.activeView.getDateSlots(renderDates, workDays);\n                        }\n                        else {\n                            resWorkDays = _this.parent.activeViewOptions.workDays;\n                            dateCol = innerDates;\n                        }\n                        var dateSlots = _this.generateCustomHours(dateCol, resStartHour, resEndHour, groupOrder);\n                        lastColumnDates = lastColumnDates.concat(dateSlots);\n                    }\n                    var resCssClass = data[parseInt(i.toString(), 10)][resource.cssClassField];\n                    var slotData = {\n                        type: 'resourceHeader', className: ['e-resource-cells'],\n                        resourceLevelIndex: index, groupOrder: groupOrder,\n                        resource: resource, resourceData: data[parseInt(i.toString(), 10)],\n                        colSpan: _this.parent.activeViewOptions.group.byDate ? 1 : dateCol.length,\n                        renderDates: renderDates, workDays: resWorkDays, cssClass: resCssClass,\n                        child: items\n                    };\n                    resTree.push(slotData);\n                }\n                if (!resTreeGroup[parseInt(index.toString(), 10)]) {\n                    resTreeGroup[parseInt(index.toString(), 10)] = [];\n                }\n                if (resTree.length > 0) {\n                    resTreeGroup[parseInt(index.toString(), 10)].push(resTree);\n                }\n                return resTree;\n            }\n            return [];\n        };\n        this.resourceTreeLevel = group(resources, 0);\n        return (isTimeLine) ? [] : this.generateHeaderLevels(resTreeGroup, lastColumnDates, innerDates);\n    };\n    ResourceBase.prototype.generateCustomHours = function (renderDates, startHour, endHour, groupOrder) {\n        var dateSlots = extend([], renderDates, null, true);\n        for (var _i = 0, dateSlots_1 = dateSlots; _i < dateSlots_1.length; _i++) {\n            var dateSlot = dateSlots_1[_i];\n            if (startHour) {\n                dateSlot.startHour = this.parent.getStartEndTime(startHour);\n            }\n            if (endHour) {\n                dateSlot.endHour = this.parent.getStartEndTime(endHour);\n            }\n            if (groupOrder) {\n                dateSlot.groupOrder = groupOrder;\n            }\n        }\n        return dateSlots;\n    };\n    ResourceBase.prototype.generateHeaderLevels = function (resTreeGroup, lastColumnDates, headerDates) {\n        var headerLevels = [];\n        for (var i = resTreeGroup.length - 1; i >= 0; i--) {\n            var temp = 0;\n            for (var _i = 0, _a = resTreeGroup[parseInt(i.toString(), 10)]; _i < _a.length; _i++) {\n                var currentLevelChilds = _a[_i];\n                for (var _b = 0, currentLevelChilds_1 = currentLevelChilds; _b < currentLevelChilds_1.length; _b++) {\n                    var currentLevelChild = currentLevelChilds_1[_b];\n                    if (resTreeGroup[i + 1] && resTreeGroup[i + 1].length > 0) {\n                        var nextLevelChilds = resTreeGroup[parseInt((i + 1).toString(), 10)][parseInt(temp.toString(), 10)];\n                        if (!nextLevelChilds) {\n                            continue;\n                        }\n                        var colSpan = 0;\n                        for (var _c = 0, nextLevelChilds_1 = nextLevelChilds; _c < nextLevelChilds_1.length; _c++) {\n                            var nextLevelChild = nextLevelChilds_1[_c];\n                            if (!this.parent.activeViewOptions.group.byGroupID || (this.parent.activeViewOptions.group.byGroupID &&\n                                nextLevelChild.resourceData[nextLevelChild.resource.groupIDField] ===\n                                    currentLevelChild.resourceData[currentLevelChild.resource.idField])) {\n                                colSpan += nextLevelChild.colSpan;\n                            }\n                        }\n                        currentLevelChild.colSpan = colSpan;\n                    }\n                    currentLevelChild.groupIndex = temp;\n                    temp++;\n                    headerLevels[currentLevelChild.resourceLevelIndex] = headerLevels[currentLevelChild.resourceLevelIndex] || [];\n                    headerLevels[currentLevelChild.resourceLevelIndex].push(currentLevelChild);\n                }\n            }\n        }\n        this.lastResourceLevel = headerLevels.slice(-1)[0] || [];\n        if (!this.parent.activeViewOptions.group.byDate) {\n            var index = 0;\n            for (var _d = 0, _e = this.lastResourceLevel; _d < _e.length; _d++) {\n                var lastLevelResource = _e[_d];\n                for (var i = 0; i < lastLevelResource.colSpan; i++) {\n                    lastColumnDates[parseInt(index.toString(), 10)].groupIndex = lastLevelResource.groupIndex;\n                    index++;\n                }\n            }\n            headerLevels.push(lastColumnDates);\n            return headerLevels;\n        }\n        var dateHeaderLevels = [];\n        var levels = extend([], headerLevels, null, true);\n        var datesColumn = [];\n        if (this.parent.activeViewOptions.group.hideNonWorkingDays) {\n            var renderDates_1 = [];\n            var dateIndex = 0;\n            var _loop_3 = function (headerDate) {\n                this_3.resourceDateTree[parseInt(dateIndex.toString(), 10)] = [];\n                var currentDateLevels = [];\n                var _loop_4 = function (j) {\n                    var workDays = this_3.lastResourceLevel[parseInt(j.toString(), 10)].resourceData[this_3.lastResourceLevel[parseInt(j.toString(), 10)].resource.workDaysField];\n                    if (!workDays) {\n                        workDays = this_3.parent.activeViewOptions.workDays;\n                    }\n                    if (workDays.indexOf(headerDate.date.getDay()) !== -1) {\n                        var resTd_1 = extend({}, this_3.lastResourceLevel[parseInt(j.toString(), 10)], null, true);\n                        resTd_1.date = headerDate.date;\n                        this_3.lastResourceLevel[parseInt(j.toString(), 10)].workDays = workDays;\n                        resTd_1.startHour = this_3.parent.getStartEndTime(resTd_1.resourceData[resTd_1.resource.startHourField]) ||\n                            headerDate.startHour;\n                        resTd_1.endHour = this_3.parent.getStartEndTime(resTd_1.resourceData[resTd_1.resource.endHourField]) ||\n                            headerDate.endHour;\n                        this_3.resourceDateTree[parseInt(dateIndex.toString(), 10)].push(resTd_1);\n                        var _loop_5 = function (k) {\n                            if (!currentDateLevels[parseInt(k.toString(), 10)]) {\n                                currentDateLevels[parseInt(k.toString(), 10)] = [];\n                            }\n                            if (k === resTd_1.groupOrder.length - 1) {\n                                if (!renderDates_1[parseInt(j.toString(), 10)]) {\n                                    renderDates_1[parseInt(j.toString(), 10)] = [];\n                                }\n                                var filterDates = resTd_1.renderDates.filter(function (x) { return x.getDay() === headerDate.date.getDay(); });\n                                renderDates_1[parseInt(j.toString(), 10)] = renderDates_1[parseInt(j.toString(), 10)].concat(filterDates);\n                                currentDateLevels[parseInt(k.toString(), 10)].push(resTd_1);\n                                return \"continue\";\n                            }\n                            var currentLevel = levels[parseInt(k.toString(), 10)];\n                            var filteredResource = currentLevel.filter(function (data) {\n                                return data.resourceData[data.resource.idField] === resTd_1.groupOrder[parseInt(k.toString(), 10)];\n                            });\n                            if (filteredResource && filteredResource.length > 0) {\n                                var existedResource = currentDateLevels[parseInt(k.toString(), 10)].filter(function (data) {\n                                    return data.resourceData[data.resource.idField] === resTd_1.groupOrder[parseInt(k.toString(), 10)];\n                                });\n                                if (existedResource && existedResource.length > 0) {\n                                    existedResource[0].colSpan += 1;\n                                }\n                                else {\n                                    var filteredTd = extend({}, filteredResource[0], null, true);\n                                    filteredTd.colSpan = 1;\n                                    currentDateLevels[parseInt(k.toString(), 10)].push(filteredTd);\n                                }\n                            }\n                        };\n                        for (var k = 0; k < resTd_1.groupOrder.length; k++) {\n                            _loop_5(k);\n                        }\n                    }\n                };\n                for (var j = 0; j < this_3.lastResourceLevel.length; j++) {\n                    _loop_4(j);\n                }\n                if (currentDateLevels.length > 0) {\n                    for (var l = 0; l < levels.length; l++) {\n                        if (!dateHeaderLevels[parseInt(l.toString(), 10)]) {\n                            dateHeaderLevels[parseInt(l.toString(), 10)] = [];\n                        }\n                        dateHeaderLevels[parseInt(l.toString(), 10)] = dateHeaderLevels[parseInt(l.toString(), 10)].concat(currentDateLevels[parseInt(l.toString(), 10)]);\n                    }\n                    headerDate.colSpan = currentDateLevels[currentDateLevels.length - 1].length;\n                    datesColumn.push(headerDate);\n                }\n                dateIndex++;\n            };\n            var this_3 = this;\n            for (var _f = 0, headerDates_1 = headerDates; _f < headerDates_1.length; _f++) {\n                var headerDate = headerDates_1[_f];\n                _loop_3(headerDate);\n            }\n            this.resourceDateTree = this.resourceDateTree.filter(function (data) { return data.length > 0; });\n            this.lastResourceLevel.forEach(function (x, index) {\n                if (renderDates_1[parseInt(index.toString(), 10)]) {\n                    x.renderDates = renderDates_1[parseInt(index.toString(), 10)].sort(function (a, b) { return a.getTime() - b.getTime(); });\n                }\n            });\n            dateHeaderLevels.unshift(datesColumn);\n            return dateHeaderLevels;\n        }\n        var dateColSpan = 0;\n        for (var _g = 0, _h = levels[0]; _g < _h.length; _g++) {\n            var firstRowTd = _h[_g];\n            dateColSpan += firstRowTd.colSpan;\n        }\n        for (var _j = 0, headerDates_2 = headerDates; _j < headerDates_2.length; _j++) {\n            var headerDate = headerDates_2[_j];\n            headerDate.colSpan = dateColSpan;\n            datesColumn.push(headerDate);\n            var resGroup = extend([], levels, null, true);\n            for (var k = 0, length_2 = resGroup.length; k < length_2; k++) {\n                if (k === resGroup.length - 1) {\n                    for (var _k = 0, _l = resGroup[parseInt(k.toString(), 10)]; _k < _l.length; _k++) {\n                        var resTd = _l[_k];\n                        resTd.date = headerDate.date;\n                        resTd.workDays = headerDate.workDays;\n                        resTd.startHour = this.parent.getStartEndTime(resTd.resourceData[resTd.resource.startHourField]) ||\n                            headerDate.startHour;\n                        resTd.endHour = this.parent.getStartEndTime(resTd.resourceData[resTd.resource.endHourField]) ||\n                            headerDate.endHour;\n                    }\n                }\n                if (!dateHeaderLevels[parseInt(k.toString(), 10)]) {\n                    dateHeaderLevels[parseInt(k.toString(), 10)] = [];\n                }\n                dateHeaderLevels[parseInt(k.toString(), 10)] = dateHeaderLevels[parseInt(k.toString(), 10)].concat(resGroup[parseInt(k.toString(), 10)]);\n            }\n        }\n        dateHeaderLevels.unshift(datesColumn);\n        return dateHeaderLevels;\n    };\n    ResourceBase.prototype.setResourceValues = function (eventObj, groupIndex) {\n        var _this = this;\n        var setValues = function (index, field, value) {\n            if (_this.resourceCollection[parseInt(index.toString(), 10)].allowMultiple && _this.parent.activeViewOptions.group.allowGroupEdit) {\n                eventObj[\"\" + field] = [value];\n            }\n            else {\n                eventObj[\"\" + field] = value;\n            }\n        };\n        if (groupIndex === void 0) {\n            groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex :\n                this.parent.activeCellsData.groupIndex;\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !isNullOrUndefined(groupIndex)) {\n            var groupOrder = this.lastResourceLevel[parseInt(groupIndex.toString(), 10)].groupOrder;\n            for (var index = 0; index < this.resourceCollection.length; index++) {\n                setValues(index, this.resourceCollection[parseInt(index.toString(), 10)].field, groupOrder[parseInt(index.toString(), 10)]);\n            }\n        }\n        else if (this.parent.resourceCollection.length > 0) {\n            for (var index = 0; index < this.resourceCollection.length; index++) {\n                var data = this.resourceCollection[parseInt(index.toString(), 10)].dataSource[0];\n                if (data) {\n                    setValues(index, this.resourceCollection[parseInt(index.toString(), 10)].field, data[this.resourceCollection[parseInt(index.toString(), 10)].idField]);\n                }\n            }\n        }\n    };\n    ResourceBase.prototype.getResourceColor = function (eventObj, groupOrder) {\n        var colorFieldIndex = (!isNullOrUndefined(groupOrder) &&\n            this.colorIndex > groupOrder.length - 1) ? groupOrder.length - 1 : this.colorIndex;\n        var resource = this.resourceCollection[parseInt(colorFieldIndex.toString(), 10)];\n        if (isNullOrUndefined(groupOrder) && this.parent.activeViewOptions.group.allowGroupEdit && resource.allowMultiple) {\n            return undefined;\n        }\n        var id = isNullOrUndefined(groupOrder) ? eventObj[resource.field] : groupOrder[parseInt(colorFieldIndex.toString(), 10)];\n        var data = this.filterData(resource.dataSource, resource.idField, id);\n        if (data.length > 0) {\n            return data[0][resource.colorField];\n        }\n        return undefined;\n    };\n    ResourceBase.prototype.getCssClass = function (eventObj) {\n        var resource = this.resourceCollection.slice(-1)[0];\n        if (this.parent.activeViewOptions.group.allowGroupEdit && resource.allowMultiple) {\n            return undefined;\n        }\n        var data = this.filterData(resource.dataSource, resource.idField, eventObj[resource.field]);\n        if (data.length > 0) {\n            return data[0][resource.cssClassField];\n        }\n        return undefined;\n    };\n    ResourceBase.prototype.getResourceRenderDates = function () {\n        // eslint-disable-next-line prefer-spread\n        var resourceDates = [].concat.apply([], this.lastResourceLevel.map(function (e) { return e.renderDates; }));\n        var time = resourceDates.map(function (dateObj) { return dateObj.getTime(); });\n        var removeDuplicateDates = function (dateColl) { return dateColl.filter(function (date, index) {\n            return time.indexOf(date.getTime()) === index;\n        }); };\n        var renderDates = removeDuplicateDates(resourceDates);\n        renderDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        return renderDates;\n    };\n    ResourceBase.prototype.filterData = function (dataSource, field, value) {\n        return dataSource.filter(function (data) { return data[\"\" + field] === value; });\n    };\n    ResourceBase.prototype.getResourceData = function (eventObj, index, groupEditIndex) {\n        if (this.parent.activeViewOptions.group.allowGroupEdit) {\n            var resourceObj = {};\n            for (var _i = 0, groupEditIndex_1 = groupEditIndex; _i < groupEditIndex_1.length; _i++) {\n                var groupIndex = groupEditIndex_1[_i];\n                var resourceLevel = this.lastResourceLevel[parseInt(groupIndex.toString(), 10)].groupOrder;\n                for (var level = 0, length_3 = resourceLevel.length; level < length_3; level++) {\n                    var fieldName = this.resourceCollection[parseInt(level.toString(), 10)].field;\n                    if (isNullOrUndefined(resourceObj[\"\" + fieldName])) {\n                        resourceObj[\"\" + fieldName] = [];\n                    }\n                    resourceObj[\"\" + fieldName].push(resourceLevel[parseInt(level.toString(), 10)]);\n                }\n            }\n            eventObj = extend(eventObj, resourceObj);\n        }\n        else {\n            for (var level = 0, length_4 = this.resourceCollection.length; level < length_4; level++) {\n                if (this.lastResourceLevel[parseInt(index.toString(), 10)]) {\n                    eventObj[this.resourceCollection[parseInt(level.toString(), 10)].field] = this.lastResourceLevel[parseInt(index.toString(), 10)].groupOrder[parseInt(level.toString(), 10)];\n                }\n            }\n        }\n    };\n    ResourceBase.prototype.addResource = function (resources, name, index) {\n        var resourceCollection = (resources instanceof Array) ? resources : [resources];\n        var _loop_6 = function (resource) {\n            if (resource.name === name) {\n                resourceCollection.forEach(function (addObj, i) {\n                    return new DataManager({ json: resource.dataSource }).insert(addObj, null, null, index + i);\n                });\n                return \"break\";\n            }\n        };\n        for (var _i = 0, _a = this.parent.resourceCollection; _i < _a.length; _i++) {\n            var resource = _a[_i];\n            var state_1 = _loop_6(resource);\n            if (state_1 === \"break\")\n                break;\n        }\n        this.refreshLayout(true);\n    };\n    ResourceBase.prototype.removeResource = function (resourceId, name) {\n        var resourceCollection = (resourceId instanceof Array) ? resourceId : [resourceId];\n        var _loop_7 = function (resource) {\n            if (resource.name === name) {\n                resourceCollection.forEach(function (removeObj) {\n                    return new DataManager({ json: resource.dataSource }).remove(resource.idField, removeObj);\n                });\n                return \"break\";\n            }\n        };\n        for (var _i = 0, _a = this.parent.resourceCollection; _i < _a.length; _i++) {\n            var resource = _a[_i];\n            var state_2 = _loop_7(resource);\n            if (state_2 === \"break\")\n                break;\n        }\n        this.refreshLayout(true);\n    };\n    ResourceBase.prototype.getIndexFromResourceId = function (id, name, resourceData, event, parentField) {\n        name = name || this.parent.resourceCollection.slice(-1)[0].name;\n        if (isNullOrUndefined(resourceData)) {\n            resourceData = this.resourceCollection.filter(function (e) { return e.name === name; })[0];\n            if (isNullOrUndefined(resourceData)) {\n                return null;\n            }\n        }\n        var resource = resourceData.dataSource.filter(function (e) {\n            if (event && e[resourceData.idField] === id) {\n                if (e[resourceData.groupIDField] === event[\"\" + parentField]) {\n                    return e[resourceData.idField] === id;\n                }\n                return null;\n            }\n            else {\n                return e[resourceData.idField] === id;\n            }\n        })[0];\n        return (this.lastResourceLevel.map(function (e) { return e.resourceData; }).indexOf(resource));\n    };\n    ResourceBase.prototype.resourceExpand = function (id, name, hide) {\n        var resource = this.parent.resourceCollection.filter(function (e) {\n            if (e.name === name) {\n                return e;\n            }\n            return null;\n        })[0];\n        var index = 0;\n        var resourceData = resource.dataSource.filter(function (e) { return e[resource.idField] === id; })[0];\n        if (!this.parent.activeViewOptions.group.byGroupID) {\n            index = this.getIndexFromResourceId(id, name, resource);\n        }\n        else {\n            index = this.lastResourceLevel.map(function (e) { return e.resourceData; }).indexOf(resourceData);\n        }\n        var target = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS + ' ' + (\"[data-group-index=\\\"\" + index + \"\\\"]\") +\n            ' ' + '.' + cls.RESOURCE_TREE_ICON_CLASS);\n        if (target) {\n            if (target.classList.contains(cls.RESOURCE_EXPAND_CLASS) && !hide) {\n                target.click();\n            }\n            else if (target.classList.contains(cls.RESOURCE_COLLAPSE_CLASS) && hide) {\n                target.click();\n            }\n        }\n    };\n    ResourceBase.prototype.resourceScroll = function (id, name) {\n        if (this.parent.isAdaptive || ['Agenda', 'MonthAgenda'].indexOf(this.parent.currentView) > -1) {\n            return;\n        }\n        var levelName = name || this.parent.resourceCollection.slice(-1)[0].name;\n        var levelIndex = this.parent.resourceCollection.length - 1;\n        var resource = this.parent.resourceCollection.filter(function (e, index) {\n            if (e.name === levelName) {\n                levelIndex = index;\n                return e;\n            }\n            return null;\n        })[0];\n        var scrollElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var index = 0;\n        if (this.parent.activeView.isTimelineView()) {\n            if (!this.parent.activeViewOptions.group.byGroupID) {\n                index = this.getIndexFromResourceId(id, levelName, resource);\n            }\n            else {\n                var resourceData = resource.dataSource.filter(function (e) {\n                    return e[resource.idField] === id;\n                })[0];\n                index = this.lastResourceLevel.map(function (e) { return e.resourceData; }).indexOf(resourceData);\n            }\n            if (this.parent.virtualScrollModule) {\n                var virtual = this.parent.element.querySelector('.' + cls.VIRTUAL_TRACK_CLASS);\n                var averageRowHeight = Math.round(virtual.offsetHeight / this.expandedResources.length);\n                if (this.parent.rowAutoHeight) {\n                    scrollElement.scrollTop = 0;\n                    this.parent.virtualScrollModule.virtualScrolling();\n                }\n                scrollElement.scrollTop = (index * averageRowHeight) - (((this.parent.virtualScrollModule.bufferCount - 1) * averageRowHeight));\n                this.parent.virtualScrollModule.virtualScrolling();\n                if (this.parent.rowAutoHeight) {\n                    var td = this.parent.element.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-group-index=\\\"\" + index + \"\\\"]\");\n                    if (td && !td.parentElement.classList.contains(cls.HIDDEN_CLASS)) {\n                        scrollElement.scrollTop =\n                            (scrollElement.scrollTop < td.offsetTop) ? td.offsetTop : scrollElement.scrollTop + td.offsetTop;\n                    }\n                }\n                else {\n                    scrollElement.scrollTop = (index * averageRowHeight);\n                }\n            }\n            else {\n                var td = this.parent.element.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-group-index=\\\"\" + index + \"\\\"]\");\n                if (td && !td.parentElement.classList.contains(cls.HIDDEN_CLASS)) {\n                    scrollElement.scrollTop = td.offsetTop;\n                }\n            }\n        }\n        else {\n            if (!this.parent.activeViewOptions.group.byGroupID) {\n                index = this.getIndexFromResourceId(id, levelName, resource);\n            }\n            else {\n                if (levelName === this.parent.resourceCollection.slice(-1)[0].name) {\n                    index = this.lastResourceLevel.map(function (e) { return e.resourceData[resource.idField]; }).indexOf(id);\n                }\n                else {\n                    index = resource.dataSource.map(function (e) { return e[resource.idField]; }).indexOf(id);\n                }\n            }\n            var offsetTarget = this.parent.currentView === 'Month' ? this.parent.element.querySelector(\".\" + cls.DATE_HEADER_WRAP_CLASS + \" tbody tr:nth-child(\" + (levelIndex + 1) + \")\")\n                : this.parent.element.querySelector(\".\" + cls.HEADER_ROW_CLASS + \":nth-child(\" + (levelIndex + 1) + \")\");\n            var offset = [].slice.call(offsetTarget.children).map(function (node) { return node.offsetLeft; });\n            scrollElement.scrollLeft = offset[parseInt(index.toString(), 10)];\n        }\n    };\n    ResourceBase.prototype.destroy = function () {\n        this.parent.off(events.documentClick, this.documentClick);\n        if (this.treeViewObj) {\n            if (this.treeViewObj.portals && this.treeViewObj.portals.length > 0) {\n                var treeViewTemplates = this.treeViewObj.portals.map(function (x) { return x.propName; });\n                if (treeViewTemplates.length > 0) {\n                    this.parent.resetTemplates(treeViewTemplates);\n                }\n            }\n            this.treeViewObj.destroy();\n            this.treeViewObj = null;\n        }\n        if (this.treePopup) {\n            this.treePopup.destroy();\n            this.treePopup = null;\n            remove(this.parent.element.querySelector('.' + cls.RESOURCE_TREE_POPUP));\n            remove(this.parent.element.querySelector('.' + cls.RESOURCE_TREE_POPUP_OVERLAY));\n        }\n        var resToolBarEle = this.parent.element.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER);\n        if (resToolBarEle) {\n            remove(resToolBarEle);\n        }\n    };\n    return ResourceBase;\n}());\nexport { ResourceBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Event } from '@syncfusion/ej2-base';\nvar ToolbarItem = /** @class */ (function (_super) {\n    __extends(ToolbarItem, _super);\n    function ToolbarItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], ToolbarItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], ToolbarItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], ToolbarItem.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], ToolbarItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ToolbarItem.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property(false)\n    ], ToolbarItem.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], ToolbarItem.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], ToolbarItem.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], ToolbarItem.prototype, \"visible\", void 0);\n    __decorate([\n        Property('None')\n    ], ToolbarItem.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], ToolbarItem.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], ToolbarItem.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], ToolbarItem.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], ToolbarItem.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], ToolbarItem.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], ToolbarItem.prototype, \"align\", void 0);\n    __decorate([\n        Property(-1)\n    ], ToolbarItem.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Property('Custom')\n    ], ToolbarItem.prototype, \"name\", void 0);\n    __decorate([\n        Event()\n    ], ToolbarItem.prototype, \"click\", void 0);\n    return ToolbarItem;\n}(ChildProperty));\nexport { ToolbarItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, Property, Event, Animation, Collection, append } from '@syncfusion/ej2-base';\nimport { EventHandler, Browser, Internationalization, getDefaultDateObject, cldrData, L10n } from '@syncfusion/ej2-base';\nimport { getValue, compile, extend, isNullOrUndefined, NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { getElement, removeClass, addClass, classList, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { HeaderRenderer } from '../renderer/header-renderer';\nimport { Scroll } from '../actions/scroll';\nimport { ScheduleTouch } from '../actions/touch';\nimport { KeyboardInteraction } from '../actions/keyboard';\nimport { Data } from '../actions/data';\nimport { EventBase } from '../event-renderer/event-base';\nimport { InlineEdit } from '../event-renderer/inline-edit';\nimport { QuickPopups } from '../popups/quick-popups';\nimport { EventTooltip } from '../popups/event-tooltip';\nimport { EventWindow } from '../popups/event-window';\nimport { Render } from '../renderer/renderer';\nimport { WorkHours } from '../models/work-hours';\nimport { TimeScale } from '../models/time-scale';\nimport { QuickInfoTemplates } from '../models/quick-info-templates';\nimport { HeaderRows } from '../models/header-rows';\nimport { Crud } from '../actions/crud';\nimport { WorkCellInteraction } from '../actions/work-cells';\nimport { EventSettings } from '../models/event-settings';\nimport { Group } from '../models/group';\nimport { Resources } from '../models/resources';\nimport { Gregorian, Islamic } from '../../common/calendar-util';\nimport { ResourceBase } from '../base/resource';\nimport { Timezone, timezoneData } from '../timezone/timezone';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\nimport { ToolbarItem } from '../models/toolbar';\n/**\n * Represents the Schedule component that displays a list of events scheduled against specific date and timings,\n * thus helping us to plan and manage it properly.\n * ```html\n * <div id=\"schedule\"></div>\n * ```\n * ```typescript\n * <script>\n *   var scheduleObj = new Schedule();\n *   scheduleObj.appendTo(\"#schedule\");\n * </script>\n * ```\n */\nvar Schedule = /** @class */ (function (_super) {\n    __extends(Schedule, _super);\n    /**\n     * Constructor for creating the Schedule widget\n     *\n     * @param {ScheduleModel} options Accepts the schedule model properties to initiate the rendering\n     * @param {string | HTMLElement} element Accepts the DOM element reference\n     */\n    function Schedule(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.adaptiveGroupIndex = 0;\n        return _this;\n    }\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.render = function () {\n        var addClasses = [];\n        var removeClasses = [];\n        addClasses.push(cls.ROOT);\n        if (this.enableRtl) {\n            addClasses.push(cls.RTL);\n        }\n        else {\n            removeClasses.push(cls.RTL);\n        }\n        if (this.isAdaptive) {\n            addClasses.push(cls.DEVICE_CLASS);\n        }\n        else {\n            removeClasses.push(cls.DEVICE_CLASS);\n        }\n        if (this.enableAdaptiveUI) {\n            addClasses.push(cls.ADAPTIVE_CLASS);\n        }\n        else {\n            removeClasses.push(cls.ADAPTIVE_CLASS);\n        }\n        if (this.allowMultiDrag) {\n            addClasses.push(cls.MULTI_DRAG);\n        }\n        else {\n            removeClasses.push(cls.MULTI_DRAG);\n        }\n        if (this.cssClass) {\n            var cssClass = this.cssClass.split(' ');\n            for (var _i = 0, cssClass_1 = cssClass; _i < cssClass_1.length; _i++) {\n                var cls_1 = cssClass_1[_i];\n                addClasses.push(cls_1);\n            }\n        }\n        classList(this.element, addClasses, removeClasses);\n        this.validateDate();\n        createSpinner({ target: this.element });\n        this.scrollModule = new Scroll(this);\n        this.scrollModule.setWidth();\n        this.scrollModule.setHeight();\n        this.renderModule = new Render(this);\n        this.eventBase = new EventBase(this);\n        this.workCellAction = new WorkCellInteraction(this);\n        if (this.allowKeyboardInteraction) {\n            this.keyboardInteractionModule = new KeyboardInteraction(this);\n        }\n        this.inlineModule = new InlineEdit(this);\n        this.initializeDataModule();\n        this.renderTableContainer();\n        this.activeViewOptions = this.getActiveViewOptions();\n        this.initializeResources();\n        this.wireEvents();\n    };\n    Schedule.prototype.renderTableContainer = function () {\n        if (!this.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS)) {\n            this.element.appendChild(this.createElement('div', { className: cls.TABLE_CONTAINER_CLASS }));\n        }\n    };\n    Schedule.prototype.getEventTemplateName = function (resIndex) {\n        var templateName = 'eventTemplate_' + resIndex;\n        if (this.activeEventTemplates.indexOf(templateName) < 0) {\n            this.activeEventTemplates.push(templateName);\n        }\n        return templateName;\n    };\n    /**\n     * Method to get element width\n     *\n     * @param {HTMLElement} element Accepts the DOM element\n     * @returns {number} Returns the width of the given element\n     * @private\n     */\n    Schedule.prototype.getElementWidth = function (element) {\n        return util.getElementWidth(element, this.uiStateValues.isTransformed);\n    };\n    /**\n     * Method to get element height\n     *\n     * @param {HTMLElement} element Accepts the DOM element\n     * @returns {number} Returns the Height of the given element\n     * @private\n     */\n    Schedule.prototype.getElementHeight = function (element) {\n        return util.getElementHeight(element, this.uiStateValues.isTransformed);\n    };\n    /**\n     * Method to get height from element\n     *\n     * @param {Element} element Accepts the DOM element\n     * @param {string} elementClass Accepts the element class\n     * @returns {number} Returns the height of the element\n     * @private\n     */\n    Schedule.prototype.getElementHeightFromClass = function (element, elementClass) {\n        return util.getElementHeightFromClass(element, elementClass, this.uiStateValues.isTransformed);\n    };\n    /**\n     * Method to render react templates\n     *\n     * @param {Function} callback - Specifies the callBack method\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.renderTemplates = function (callback) {\n        if (this.isReact) {\n            this.renderReactTemplates(callback);\n        }\n        else if (callback) {\n            callback();\n        }\n    };\n    /**\n     * Method to reset react templates\n     *\n     * @param {string[]} templates Accepts the template ID\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.resetTemplates = function (templates) {\n        if (this.isAngular || this.isReact) {\n            this.clearTemplate(templates);\n        }\n    };\n    /**\n     * This method renders untrusted strings and scripts securely by sanitizing them first.\n     *\n     * @param {string} value - A string value representing the HTML string value to be sanitized.\n     * @param {HTMLElement} element - An HTML element to which the sanitized or unsanitized HTML string will be assigned.\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.sanitize = function (value, element) {\n        if (this.enableHtmlSanitizer) {\n            element.innerText = SanitizeHtmlHelper.sanitize(value);\n        }\n        else {\n            element.innerHTML = value;\n        }\n    };\n    Schedule.prototype.initializeResources = function (isSetModel) {\n        if (isSetModel === void 0) { isSetModel = false; }\n        if (this.resources.length > 0) {\n            this.resourceBase = new ResourceBase(this);\n            this.resourceBase.bindResourcesData(isSetModel);\n        }\n        else {\n            this.resourceBase = null;\n            this.resourceCollection = [];\n            this.renderElements(isSetModel);\n        }\n    };\n    Schedule.prototype.destroyEditorWindow = function () {\n        if (this.eventWindow) {\n            this.eventWindow.destroy();\n            this.eventWindow = null;\n        }\n        this.eventWindow = new EventWindow(this);\n    };\n    /**\n     * Method to render the layout elements\n     *\n     * @param {boolean} isLayoutOnly Accepts the boolean value to render layout or not\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.renderElements = function (isLayoutOnly) {\n        if (isLayoutOnly) {\n            this.initializeView(this.currentView);\n            this.eventWindow.refresh();\n            return;\n        }\n        this.destroyHeaderModule();\n        if (this.showHeaderBar) {\n            this.headerModule = new HeaderRenderer(this);\n        }\n        this.renderTableContainer();\n        this.uiStateValues.isTransformed = Math.round(this.element.getBoundingClientRect().width) !== this.element.offsetWidth;\n        if (Browser.isDevice || Browser.isTouch) {\n            this.scheduleTouchModule = new ScheduleTouch(this);\n        }\n        this.initializeView(this.currentView);\n        this.destroyPopups();\n        if (!this.isPrinting) {\n            this.initializePopups();\n        }\n    };\n    Schedule.prototype.validateDate = function (selectedDate) {\n        if (selectedDate === void 0) { selectedDate = this.selectedDate; }\n        // persist the selected date value\n        var date = selectedDate instanceof Date ? new Date(selectedDate.getTime()) : new Date(selectedDate);\n        var minDate = isNullOrUndefined(this.minDate) ? new Date(1900, 0, 1) :\n            this.minDate instanceof Date ? new Date(this.minDate.getTime()) : new Date(this.minDate);\n        var maxDate = isNullOrUndefined(this.maxDate) ? new Date(2099, 11, 31) :\n            this.maxDate instanceof Date ? new Date(this.maxDate.getTime()) : new Date(this.maxDate);\n        if (minDate <= maxDate) {\n            if (date < minDate) {\n                date = minDate;\n            }\n            if (date > maxDate) {\n                date = maxDate;\n            }\n            this.setProperties({ selectedDate: new Date('' + date), minDate: new Date('' + minDate), maxDate: new Date('' + maxDate) }, true);\n            if (this.eventWindow) {\n                this.eventWindow.updateMinMaxDateToEditor();\n            }\n        }\n        else {\n            throw Error('minDate should be equal or less than maxDate');\n        }\n    };\n    Schedule.prototype.getViewIndex = function (viewName) {\n        for (var item = 0; item < this.viewCollections.length; item++) {\n            var checkIndex = this.viewCollections[parseInt(item.toString(), 10)].option;\n            if (checkIndex === viewName) {\n                return item;\n            }\n        }\n        return -1;\n    };\n    Schedule.prototype.setViewOptions = function (isModuleLoad) {\n        if (isModuleLoad === void 0) { isModuleLoad = false; }\n        if (isNullOrUndefined(this.views) || this.views.length === 0) {\n            return;\n        }\n        this.viewOptions = {};\n        this.viewCollections = [];\n        var viewName;\n        var selectedView;\n        var prevIndex = this.viewIndex;\n        var count = 0;\n        this.viewIndex = -1;\n        for (var _i = 0, _a = this.views; _i < _a.length; _i++) {\n            var view = _a[_i];\n            var isOptions = (typeof view === 'string') ? false : true;\n            if (typeof view === 'string') {\n                viewName = view;\n                if (this.currentView === viewName) {\n                    selectedView = viewName;\n                    this.viewIndex = count;\n                }\n            }\n            else {\n                viewName = view.option;\n                if (view.isSelected) {\n                    selectedView = viewName;\n                    this.viewIndex = count;\n                }\n            }\n            var obj = extend({ option: viewName }, isOptions ? view : {});\n            var fieldViewName = viewName.charAt(0).toLowerCase() + viewName.slice(1);\n            obj.cellHeaderTemplateName = obj.cellHeaderTemplate ? obj.option : '';\n            obj.dateHeaderTemplateName = obj.dateHeaderTemplate ? obj.option : '';\n            obj.dateRangeTemplateName = obj.dateRangeTemplate ? obj.option : '';\n            obj.cellTemplateName = obj.cellTemplate ? obj.option : '';\n            obj.dayHeaderTemplateName = obj.dayHeaderTemplate ? obj.option : '';\n            obj.monthHeaderTemplateName = obj.monthHeaderTemplate ? obj.option : '';\n            obj.resourceHeaderTemplateName = obj.resourceHeaderTemplate ? obj.option : '';\n            obj.headerIndentTemplateName = obj.headerIndentTemplate ? obj.option : '';\n            obj.eventTemplateName = obj.eventTemplate ? obj.option : '';\n            if (!isNullOrUndefined(obj.firstDayOfWeek) && obj.firstDayOfWeek === 0) {\n                delete obj.firstDayOfWeek;\n            }\n            if (!isNullOrUndefined(obj.interval) && obj.interval === 1) {\n                delete obj.interval;\n            }\n            this.viewCollections.push(obj);\n            if (isNullOrUndefined(this.viewOptions[\"\" + fieldViewName])) {\n                this.viewOptions[\"\" + fieldViewName] = [obj];\n            }\n            else {\n                this.viewOptions[\"\" + fieldViewName].push(obj);\n            }\n            count++;\n        }\n        if (!isModuleLoad && selectedView) {\n            this.setProperties({ currentView: selectedView }, true);\n        }\n        if (this.viewIndex === -1) {\n            var currentIndex = this.getViewIndex(this.currentView);\n            this.viewIndex = ((typeof this.views[0] !== 'string') && (!isNullOrUndefined(prevIndex) && prevIndex !== -1)) ? prevIndex :\n                (currentIndex === -1) ? 0 : currentIndex;\n        }\n    };\n    Schedule.prototype.getActiveViewOptions = function () {\n        var timeScale = {\n            enable: this.timeScale.enable,\n            interval: this.timeScale.interval,\n            slotCount: this.timeScale.slotCount,\n            majorSlotTemplate: this.timeScale.majorSlotTemplate,\n            minorSlotTemplate: this.timeScale.minorSlotTemplate\n        };\n        var isYearView = this.viewCollections[this.viewIndex].option.indexOf('Year') > -1;\n        var group = {\n            byDate: isYearView ? false : this.group.byDate,\n            byGroupID: this.group.byGroupID,\n            allowGroupEdit: this.group.allowGroupEdit,\n            resources: isNullOrUndefined(this.group.resources) ? [] : this.group.resources,\n            headerTooltipTemplate: this.group.headerTooltipTemplate,\n            enableCompactView: this.group.enableCompactView,\n            hideNonWorkingDays: ['Day', 'Week', 'WorkWeek', 'Month'].indexOf(this.currentView) > -1 ? this.group.hideNonWorkingDays : false\n        };\n        var workDays = this.viewCollections[this.viewIndex].workDays ? [] : this.workDays;\n        var scheduleOptions = {\n            dateFormat: this.dateFormat,\n            endHour: this.endHour,\n            isSelected: false,\n            option: null,\n            readonly: this.readonly,\n            startHour: this.startHour,\n            allowVirtualScrolling: false,\n            cellHeaderTemplate: this.cellHeaderTemplate,\n            dayHeaderTemplate: this.dayHeaderTemplate,\n            monthHeaderTemplate: this.monthHeaderTemplate,\n            cellTemplate: this.cellTemplate,\n            eventTemplate: this.eventSettings.template,\n            dateHeaderTemplate: this.dateHeaderTemplate,\n            dateRangeTemplate: this.dateRangeTemplate,\n            resourceHeaderTemplate: this.resourceHeaderTemplate,\n            headerIndentTemplate: this.headerIndentTemplate,\n            firstMonthOfYear: this.firstMonthOfYear,\n            firstDayOfWeek: this.firstDayOfWeek,\n            workDays: workDays,\n            monthsCount: this.monthsCount,\n            showWeekend: this.showWeekend,\n            showWeekNumber: this.showWeekNumber,\n            displayName: null,\n            interval: 1,\n            timeScale: timeScale,\n            timeFormat: this.internalTimeFormat,\n            group: group,\n            headerRows: this.headerRows,\n            orientation: 'Horizontal',\n            numberOfWeeks: 0,\n            displayDate: null,\n            enableLazyLoading: false\n        };\n        var viewOptions = this.viewCollections[this.viewIndex];\n        var viewsData = extend(scheduleOptions, viewOptions, undefined, true);\n        if (this.firstDayOfWeek !== 0 && viewOptions.firstDayOfWeek && this.firstDayOfWeek !== viewOptions.firstDayOfWeek) {\n            viewsData.firstDayOfWeek = this.firstDayOfWeek;\n        }\n        if (viewsData.displayDate) {\n            viewsData.displayDate = viewsData.displayDate instanceof Date ? new Date(viewsData.displayDate.getTime()) :\n                new Date(viewsData.displayDate);\n        }\n        if (viewsData.enableLazyLoading && !isNullOrUndefined(viewsData.group.resources) && viewsData.group.resources.length > 0 &&\n            (['Agenda', 'MonthAgenda', 'Year', 'TimelineYear'].indexOf(viewsData.option) === -1 ||\n                (viewsData.option === 'TimelineYear' && viewsData.orientation === 'Vertical'))) {\n            viewsData.allowVirtualScrolling = true;\n        }\n        return viewsData;\n    };\n    Schedule.prototype.initializeDataModule = function () {\n        this.eventFields = {\n            id: this.eventSettings.fields.id,\n            isBlock: this.eventSettings.fields.isBlock,\n            subject: this.eventSettings.fields.subject.name,\n            startTime: this.eventSettings.fields.startTime.name,\n            endTime: this.eventSettings.fields.endTime.name,\n            startTimezone: this.eventSettings.fields.startTimezone.name,\n            endTimezone: this.eventSettings.fields.endTimezone.name,\n            location: this.eventSettings.fields.location.name,\n            description: this.eventSettings.fields.description.name,\n            isAllDay: this.eventSettings.fields.isAllDay.name,\n            recurrenceID: this.eventSettings.fields.recurrenceID.name,\n            recurrenceRule: this.eventSettings.fields.recurrenceRule.name,\n            recurrenceException: this.eventSettings.fields.recurrenceException.name,\n            isReadonly: this.eventSettings.fields.isReadonly,\n            followingID: this.eventSettings.fields.followingID\n        };\n        this.setEditorTitles();\n        this.dataModule = new Data(this, this.eventSettings.dataSource, this.eventSettings.query);\n        this.crudModule = new Crud(this);\n    };\n    Schedule.prototype.setEditorTitles = function () {\n        this.editorTitles = {\n            subject: this.eventSettings.fields.subject.title || this.localeObj.getConstant('title'),\n            startTime: this.eventSettings.fields.startTime.title || this.localeObj.getConstant('start'),\n            endTime: this.eventSettings.fields.endTime.title || this.localeObj.getConstant('end'),\n            isAllDay: this.eventSettings.fields.isAllDay.title || this.localeObj.getConstant('allDay'),\n            startTimezone: this.eventSettings.fields.startTimezone.title || this.localeObj.getConstant('startTimezone'),\n            endTimezone: this.eventSettings.fields.endTimezone.title || this.localeObj.getConstant('endTimezone'),\n            location: this.eventSettings.fields.location.title || this.localeObj.getConstant('location'),\n            description: this.eventSettings.fields.description.title || this.localeObj.getConstant('description'),\n            recurrenceRule: this.eventSettings.fields.recurrenceRule.title || this.localeObj.getConstant('repeat')\n        };\n    };\n    Schedule.prototype.initializeView = function (viewName) {\n        this.showSpinner();\n        this.activeViewOptions = this.getActiveViewOptions();\n        if (this.resourceBase) {\n            this.resourceBase.setResourceCollection();\n        }\n        this.initializeTemplates();\n        this.renderModule.render(viewName);\n    };\n    Schedule.prototype.initializeTemplates = function () {\n        this.cellHeaderTemplateFn = this.templateParser(this.activeViewOptions.cellHeaderTemplate);\n        this.dayHeaderTemplateFn = this.templateParser(this.activeViewOptions.dayHeaderTemplate);\n        this.monthHeaderTemplateFn = this.templateParser(this.activeViewOptions.monthHeaderTemplate);\n        this.cellTemplateFn = this.templateParser(this.activeViewOptions.cellTemplate);\n        this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\n        this.dateRangeTemplateFn = this.templateParser(this.activeViewOptions.dateRangeTemplate);\n        this.majorSlotTemplateFn = this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate);\n        this.minorSlotTemplateFn = this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate);\n        this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\n        this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\n        this.headerIndentTemplateFn = this.templateParser(this.activeViewOptions.headerIndentTemplate);\n        this.headerTooltipTemplateFn = this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);\n        this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\n        this.editorTemplateFn = this.templateParser(this.editorTemplate);\n        this.editorHeaderTemplateFn = this.templateParser(this.editorHeaderTemplate);\n        this.editorFooterTemplateFn = this.templateParser(this.editorFooterTemplate);\n        this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\n        this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\n        this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\n    };\n    Schedule.prototype.initializePopups = function () {\n        this.eventWindow = new EventWindow(this);\n        this.quickPopup = new QuickPopups(this);\n    };\n    /**\n     * Method to get day names\n     *\n     * @param {string} type Accepts the day name\n     * @returns {string[]} Returns the collection of day names\n     * @private\n     */\n    Schedule.prototype.getDayNames = function (type) {\n        var culShortNames = [];\n        var cldrObj;\n        var nameSpace = '';\n        if (isNullOrUndefined(this.locale) || this.locale === 'en' || this.locale === 'en-US') {\n            nameSpace = 'days.stand-alone.';\n            cldrObj = (getValue(nameSpace + type, getDefaultDateObject(this.getCalendarMode())));\n        }\n        else {\n            nameSpace = 'main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.days.format.' + type;\n            cldrObj = (getValue(nameSpace, cldrData));\n        }\n        for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n            var obj = _a[_i];\n            culShortNames.push(getValue(obj, cldrObj));\n        }\n        return culShortNames;\n    };\n    Schedule.prototype.setCldrTimeFormat = function () {\n        if (!isNullOrUndefined(this.timeFormat)) {\n            this.internalTimeFormat = this.timeFormat;\n            return;\n        }\n        if (isNullOrUndefined(this.locale) || this.locale === 'en' || this.locale === 'en-US') {\n            this.internalTimeFormat = (getValue('timeFormats.short', getDefaultDateObject(this.getCalendarMode())));\n        }\n        else {\n            this.internalTimeFormat = (getValue('main.' + '' + this.locale + '.dates.calendars.' + this.getCalendarMode() + '.timeFormats.short', cldrData));\n        }\n    };\n    /**\n     * Method to get calendar mode\n     *\n     * @returns {string} Returns the calendar mode\n     * @private\n     */\n    Schedule.prototype.getCalendarMode = function () {\n        return !isNullOrUndefined(this.calendarMode) ? this.calendarMode.toLowerCase() : 'gregorian';\n    };\n    /**\n     * Method to get time in string\n     *\n     * @param {Date} date Accepts the date object\n     * @returns {string} Returns the time in string\n     * @private\n     */\n    Schedule.prototype.getTimeString = function (date) {\n        var time = this.globalize.formatDate(date, {\n            format: this.activeViewOptions.timeFormat,\n            type: 'time', calendar: this.getCalendarMode()\n        });\n        return time.toLocaleUpperCase();\n    };\n    /**\n     * Method to get  date object\n     *\n     * @param {Date} date Accepts the date object\n     * @returns {Date} Returns the date object\n     * @private\n     */\n    Schedule.prototype.getDateTime = function (date) {\n        return date instanceof Date ? new Date(date.getTime()) : new Date(date);\n    };\n    Schedule.prototype.setCalendarMode = function () {\n        if (this.calendarMode === 'Islamic') {\n            this.calendarUtil = new Islamic();\n        }\n        else {\n            this.calendarUtil = new Gregorian();\n        }\n    };\n    /**\n     * Method to change the current view\n     *\n     * @param {View} view Accepts the view name\n     * @param {Event} event Accepts the event object\n     * @param {boolean} muteOnChange Accepts the value to enable or disable mute on change\n     * @param {number} index Accepts the index value\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.changeView = function (view, event, muteOnChange, index) {\n        var _this = this;\n        if (isNullOrUndefined(index)) {\n            index = this.getViewIndex(view);\n        }\n        if (!muteOnChange && index === this.viewIndex && this.currentView === view || index < 0) {\n            return;\n        }\n        var previousView = this.activeViewOptions ? this.activeViewOptions.option : this.currentView;\n        var args = { requestType: 'viewNavigate', cancel: false, event: event };\n        this.trigger(events.actionBegin, args, function (actionArgs) {\n            if (!actionArgs.cancel) {\n                var navArgs = {\n                    action: 'view', cancel: false, currentDate: _this.selectedDate, previousView: previousView, currentView: view, viewIndex: index\n                };\n                _this.trigger(events.navigating, navArgs, function (navigationArgs) {\n                    if (!navigationArgs.cancel) {\n                        var isVertical = ['Day', 'Week', 'WorkWeek'].indexOf(view) > -1 && ['Day', 'Week', 'WorkWeek'].indexOf(previousView) < 0;\n                        _this.uiStateValues.isInitial = isVertical || view.indexOf('Timeline') > -1 || view.indexOf('Year') > -1;\n                        _this.uiStateValues.top = view.indexOf('Timeline') > -1 && previousView.indexOf('Timeline') < 0 ? 0 : _this.uiStateValues.top;\n                        _this.viewIndex = navigationArgs.viewIndex;\n                        _this.setProperties({ currentView: view }, true);\n                        if (_this.headerModule) {\n                            _this.headerModule.updateActiveView();\n                            _this.headerModule.setCalendarDate(_this.selectedDate);\n                            _this.headerModule.setCalendarView();\n                        }\n                        _this.initializeView(_this.currentView);\n                        _this.animateLayout();\n                        args = { requestType: 'viewNavigate', cancel: false, event: event };\n                        _this.trigger(events.actionComplete, args);\n                    }\n                    else {\n                        _this.currentView = previousView;\n                    }\n                });\n            }\n            else {\n                _this.currentView = previousView;\n            }\n        });\n    };\n    /**\n     * Method to change the view date\n     *\n     * @param {Date} selectedDate Accepts the selected date\n     * @param {Event} event Accepts the event object\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.changeDate = function (selectedDate, event) {\n        var _this = this;\n        var args = { requestType: 'dateNavigate', cancel: false, event: event };\n        this.trigger(events.actionBegin, args, function (actionArgs) {\n            if (!actionArgs.cancel) {\n                var navArgs = {\n                    action: 'date', cancel: false, previousDate: _this.selectedDate, currentDate: selectedDate\n                };\n                _this.trigger(events.navigating, navArgs, function (navigationArgs) {\n                    if (!navigationArgs.cancel) {\n                        _this.uiStateValues.isInitial = _this.activeView.isTimelineView() && _this.currentView !== 'TimelineYear';\n                        _this.validateDate(navigationArgs.currentDate);\n                        if (_this.headerModule) {\n                            _this.headerModule.setCalendarDate(navigationArgs.currentDate);\n                        }\n                        if (_this.currentView === 'MonthAgenda' && _this.monthAgendaModule) {\n                            _this.monthAgendaModule.monthAgendaDate = new Date('' + _this.selectedDate);\n                        }\n                        _this.initializeView(_this.currentView);\n                        _this.animateLayout();\n                        args = { requestType: 'dateNavigate', cancel: false, event: event };\n                        _this.trigger(events.actionComplete, args);\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * Method to validate min and max date\n     *\n     * @param {Date} date Accepts the date object\n     * @returns {boolean} Returns the boolean result to validate the min and max date\n     * @private\n     */\n    Schedule.prototype.isMinMaxDate = function (date) {\n        if (date === void 0) { date = this.selectedDate; }\n        var maxDate = isNullOrUndefined(this.maxDate) ? new Date(2099, 11, 31) : this.maxDate;\n        var minDate = isNullOrUndefined(this.minDate) ? new Date(1900, 0, 1) : this.minDate;\n        return ((date.getTime() >= minDate.getTime()) && (date.getTime() <= maxDate.getTime()));\n    };\n    /**\n     * Method to validate the selected date\n     *\n     * @param {Date} date Accepts the date object\n     * @returns {boolean} Returns the boolean value for given date is selected date or not\n     * @private\n     */\n    Schedule.prototype.isSelectedDate = function (date) {\n        return date.setHours(0, 0, 0, 0) === new Date('' + this.selectedDate).setHours(0, 0, 0, 0);\n    };\n    /**\n     * Method to get the current time\n     *\n     * @param {Date} date Accepts the date object\n     * @returns {Date} Returns the date object after performing the timezone conversion\n     * @private\n     */\n    Schedule.prototype.getCurrentTime = function (date) {\n        if (date === void 0) { date = new Date(); }\n        if (this.timezone) {\n            return this.tzModule.convert(date, this.tzModule.getLocalTimezoneName(), this.timezone);\n        }\n        return date;\n    };\n    /** Method to get navigate view\n     *\n     * @returns {View} Return the navigate view name\n     * @private\n     */\n    Schedule.prototype.getNavigateView = function () {\n        if (this.activeView.isTimelineView()) {\n            return this.currentView === 'TimelineMonth' || this.currentView === 'TimelineYear' ? 'TimelineDay' : 'Agenda';\n        }\n        return 'Day';\n    };\n    Schedule.prototype.animateLayout = function () {\n        if (!this.activeView.element) {\n            return;\n        }\n        new Animation({ duration: 600, name: 'FadeIn', timingFunction: 'easeIn' }).animate(this.activeView.element);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     *\n     * @returns {ModuleDeclaration[]} Returns the declared modules\n     * @private\n     */\n    Schedule.prototype.requiredModules = function () {\n        var modules = [];\n        this.setViewOptions(true);\n        for (var _i = 0, _a = Object.keys(this.viewOptions); _i < _a.length; _i++) {\n            var view = _a[_i];\n            view = (view === 'timelineDay' || view === 'timelineWeek' || view === 'timelineWorkWeek') ? 'timelineViews' : view;\n            modules.push({ member: view, args: [this] });\n        }\n        if (this.allowDragAndDrop) {\n            modules.push({ member: 'dragAndDrop', args: [this] });\n        }\n        if (this.allowResizing) {\n            modules.push({ member: 'resize', args: [this] });\n        }\n        modules.push({ member: 'excelExport', args: [this] });\n        modules.push({ member: 'iCalendarExport', args: [this] });\n        modules.push({ member: 'iCalendarImport', args: [this] });\n        modules.push({ member: 'print', args: [this] });\n        return modules;\n    };\n    /**\n     * Initializes the values of private members.\n     *\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.preRender = function () {\n        this.isAdaptive = Browser.isDevice || util.isIPadDevice();\n        this.globalize = new Internationalization(this.locale);\n        this.tzModule = new Timezone();\n        if (this && isNullOrUndefined(this.uiStateValues) || !(this.enablePersistence)) {\n            this.uiStateValues = {\n                expand: false, isInitial: true, left: 0, top: 0, isGroupAdaptive: false,\n                isIgnoreOccurrence: false, groupIndex: this.adaptiveGroupIndex, action: false,\n                isBlock: false, isCustomMonth: true, isPreventTimezone: false, isTransformed: false\n            };\n        }\n        this.currentTimezoneDate = this.getCurrentTime();\n        this.activeCellsData = {\n            startTime: new Date(this.currentTimezoneDate),\n            endTime: new Date(this.currentTimezoneDate),\n            isAllDay: false\n        };\n        this.activeEventData = { event: undefined, element: undefined };\n        this.getDefaultLocale();\n        this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n        this.setCldrTimeFormat();\n        this.setCalendarMode();\n        this.eventsData = [];\n        this.eventsProcessed = [];\n        this.blockData = [];\n        this.blockProcessed = [];\n        this.resourceCollection = [];\n        this.currentAction = null;\n        this.selectedElements = [];\n        this.activeEventTemplates = [];\n        this.setViewOptions();\n    };\n    Schedule.prototype.getDefaultLocale = function () {\n        this.defaultLocale = {\n            day: 'Day',\n            week: 'Week',\n            workWeek: 'Work Week',\n            month: 'Month',\n            year: 'Year',\n            agenda: 'Agenda',\n            weekAgenda: 'Week Agenda',\n            workWeekAgenda: 'Work Week Agenda',\n            monthAgenda: 'Month Agenda',\n            today: 'Today',\n            noEvents: 'No events',\n            emptyContainer: 'There are no events scheduled on this day.',\n            allDay: 'All day',\n            start: 'Start',\n            end: 'End',\n            more: 'more',\n            close: 'Close',\n            cancel: 'Cancel',\n            noTitle: '(No Title)',\n            delete: 'Delete',\n            deleteEvent: 'Delete Event',\n            deleteMultipleEvent: 'Delete Multiple Events',\n            selectedItems: 'Items selected',\n            deleteSeries: 'Entire Series',\n            edit: 'Edit',\n            editSeries: 'Entire Series',\n            editEvent: 'Edit Event',\n            createEvent: 'Create',\n            subject: 'Subject',\n            addTitle: 'Add title',\n            moreDetails: 'More Details',\n            moreEvents: 'More Events',\n            save: 'Save',\n            editContent: 'How would you like to change the appointment in the series?',\n            deleteContent: 'Are you sure you want to delete this event?',\n            deleteMultipleContent: 'Are you sure you want to delete the selected events?',\n            newEvent: 'New Event',\n            title: 'Title',\n            location: 'Location',\n            description: 'Description',\n            timezone: 'Timezone',\n            startTimezone: 'Start Timezone',\n            endTimezone: 'End Timezone',\n            repeat: 'Repeat',\n            saveButton: 'Save',\n            cancelButton: 'Cancel',\n            deleteButton: 'Delete',\n            recurrence: 'Recurrence',\n            wrongPattern: 'The recurrence pattern is not valid.',\n            seriesChangeAlert: 'Do you want to cancel the changes made to specific ' +\n                'instances of this series and match it to the whole series again?',\n            createError: 'The duration of the event must be shorter than how frequently it occurs. ' +\n                'Shorten the duration, or change the recurrence pattern in the recurrence event editor.',\n            sameDayAlert: 'Two occurrences of the same event cannot occur on the same day.',\n            occurenceAlert: 'Cannot reschedule an occurrence of the recurring appointment if it skips over ' +\n                'a later occurrence of the same appointment.',\n            editRecurrence: 'Edit Recurrence',\n            recurringEvent: 'Recurring Event',\n            repeats: 'Repeats',\n            alert: 'Alert',\n            startEndError: 'The selected end date occurs before the start date.',\n            invalidDateError: 'The entered date value is invalid.',\n            blockAlert: 'Events cannot be scheduled within the blocked time range.',\n            ok: 'Ok',\n            yes: 'Yes',\n            no: 'No',\n            of: 'of',\n            occurrence: 'Occurrence',\n            series: 'Series',\n            previous: 'Previous',\n            next: 'Next',\n            timelineDay: 'Timeline Day',\n            timelineWeek: 'Timeline Week',\n            timelineWorkWeek: 'Timeline Work Week',\n            timelineMonth: 'Timeline Month',\n            timelineYear: 'Timeline Year',\n            editFollowingEvent: 'Following Events',\n            deleteTitle: 'Delete Event',\n            editTitle: 'Edit Event',\n            beginFrom: 'Begin From',\n            endAt: 'Ends At',\n            expandAllDaySection: 'Expand-all-day-section',\n            collapseAllDaySection: 'Collapse-all-day-section',\n            searchTimezone: 'Search Timezone',\n            noRecords: 'No records found'\n        };\n    };\n    Schedule.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.onScheduleResize, this);\n        EventHandler.add(window, 'orientationchange', this.onScheduleResize, this);\n        EventHandler.add(document, Browser.touchStartEvent, this.onDocumentClick, this);\n    };\n    /**\n     * Method to remove selected class\n     *\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.removeSelectedClass = function () {\n        var selectedCells = this.getSelectedCells();\n        for (var _i = 0, selectedCells_1 = selectedCells; _i < selectedCells_1.length; _i++) {\n            var cell = selectedCells_1[_i];\n            if (this.currentView !== 'Year') {\n                cell.setAttribute('aria-selected', 'false');\n            }\n            cell.removeAttribute('tabindex');\n        }\n        removeClass(selectedCells, cls.SELECTED_CELL_CLASS);\n        if (this.keyboardInteractionModule && this.keyboardInteractionModule.selectedCells.length > 0) {\n            this.keyboardInteractionModule.selectedCells = [];\n        }\n    };\n    /**\n     * Method to add selected class\n     *\n     * @param {HTMLTableCellElement[]} cells Accepts the collection of elements\n     * @param {HTMLTableCellElement} focusCell Accepts the focus element\n     * @param {boolean} isPreventScroll Accepts the boolean value to prevent scroll\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.addSelectedClass = function (cells, focusCell, isPreventScroll) {\n        if (this.currentView !== 'Year') {\n            for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {\n                var cell = cells_1[_i];\n                cell.setAttribute('aria-selected', 'true');\n            }\n        }\n        addClass(cells, cls.SELECTED_CELL_CLASS);\n        if (focusCell) {\n            focusCell.setAttribute('tabindex', '0');\n            focusCell.focus({ preventScroll: isPreventScroll || false });\n        }\n    };\n    /**\n     * Method to select cell\n     *\n     * @param {HTMLElement | HTMLTableCellElement} element Accepts the select element\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.selectCell = function (element) {\n        this.removeSelectedClass();\n        this.addSelectedClass([element], element);\n    };\n    /**\n     * Method to get all day row element\n     *\n     * @returns {Element} Returns the all day row element\n     * @private\n     */\n    Schedule.prototype.getAllDayRow = function () {\n        return this.element.querySelector('.' + cls.ALLDAY_ROW_CLASS);\n    };\n    /**\n     * Method to get content table element\n     *\n     * @returns {HTMLElement} Returns the content table element\n     * @private\n     */\n    Schedule.prototype.getContentTable = function () {\n        return this.activeView.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n    };\n    /**\n     * Method to get all content table rows\n     *\n     * @returns {HTMLElement[]} Returns the content table rows\n     * @private\n     */\n    Schedule.prototype.getTableRows = function () {\n        return [].slice.call(this.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr:not(.' + cls.HIDDEN_CLASS + ')'));\n    };\n    /**\n     * Method to get work cell elements\n     *\n     * @returns {Element[]} Returns the all work cell elements\n     * @private\n     */\n    Schedule.prototype.getWorkCellElements = function () {\n        return [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n    };\n    /**\n     * Method to get the index from date collection\n     *\n     * @param {Date[]} collection Accepts the collections of date\n     * @param {Date} date Accepts the date object\n     * @returns {number} Returns the index compared date with date collections\n     * @private\n     */\n    Schedule.prototype.getIndexOfDate = function (collection, date) {\n        return collection.map(Number).indexOf(+date);\n    };\n    /**\n     * Method to find all day cell\n     *\n     * @param {Element} td Accepts the DOM Element\n     * @returns {boolean} Returns the boolean value\n     * @private\n     */\n    Schedule.prototype.isAllDayCell = function (td) {\n        if (['Month', 'TimelineMonth', 'TimelineYear', 'MonthAgenda'].indexOf(this.currentView) > -1 ||\n            td.classList.contains(cls.ALLDAY_CELLS_CLASS) ||\n            td.classList.contains(cls.HEADER_CELLS_CLASS) || !this.activeViewOptions.timeScale.enable) {\n            return true;\n        }\n        if (this.activeView.isTimelineView() && this.activeViewOptions.headerRows.length > 0 &&\n            this.activeViewOptions.headerRows.slice(-1)[0].option !== 'Hour') {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Method to get date from element\n     *\n     * @param {Element} td Accepts the DOM element\n     * @returns {Date} Returns the date object\n     * @private\n     */\n    Schedule.prototype.getDateFromElement = function (td) {\n        var dateString;\n        if (!isNullOrUndefined(td)) {\n            dateString = td.getAttribute('data-date');\n        }\n        if (!isNullOrUndefined(dateString)) {\n            var dateInMS = parseInt(dateString, 10);\n            var date = new Date(dateInMS);\n            return date;\n        }\n        return undefined;\n    };\n    /**\n     * Method to get target element from given selector\n     *\n     * @param {string} selector Accepts the element selector\n     * @param {number} left Accepts the pageX value\n     * @param {number} top Accepts the pageY value\n     * @returns {Element[]} Returns the collection of elements based on the given selector\n     * @private\n     */\n    Schedule.prototype.getTargetElement = function (selector, left, top) {\n        var element = document.elementFromPoint(left, top);\n        var targetElement;\n        if (element) {\n            targetElement = element.closest(selector);\n        }\n        return (targetElement) ? [targetElement] : null;\n    };\n    /**\n     * Method to process cell header template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getCellHeaderTemplate = function () {\n        return this.cellHeaderTemplateFn;\n    };\n    /**\n     * Method to process cell header template in year view.\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getDayHeaderTemplate = function () {\n        return this.dayHeaderTemplateFn;\n    };\n    /**\n     * Method to process cell header template in year view.\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getMonthHeaderTemplate = function () {\n        return this.monthHeaderTemplateFn;\n    };\n    /**\n     * Method to process cell template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getCellTemplate = function () {\n        return this.cellTemplateFn;\n    };\n    /**\n     * Method to process date header template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getDateHeaderTemplate = function () {\n        return this.dateHeaderTemplateFn;\n    };\n    /**\n     * Method to process date range template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getDateRangeTemplate = function () {\n        return this.dateRangeTemplateFn;\n    };\n    /**\n     * Method to process major slot template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getMajorSlotTemplate = function () {\n        return this.majorSlotTemplateFn;\n    };\n    /**\n     * Method to process minor slot template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getMinorSlotTemplate = function () {\n        return this.minorSlotTemplateFn;\n    };\n    /**\n     * Method to process appointment template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getAppointmentTemplate = function () {\n        return this.appointmentTemplateFn;\n    };\n    /**\n     * Method to process appointment tooltip template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getEventTooltipTemplate = function () {\n        return this.eventTooltipTemplateFn;\n    };\n    /**\n     * Method to process header tooltip template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getHeaderTooltipTemplate = function () {\n        return this.headerTooltipTemplateFn;\n    };\n    /**\n     * Method to process editor template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getEditorTemplate = function () {\n        return this.editorTemplateFn;\n    };\n    /**\n     * Method to process editor header template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getEditorHeaderTemplate = function () {\n        return this.editorHeaderTemplateFn;\n    };\n    /**\n     * Method to process editor footer template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getEditorFooterTemplate = function () {\n        return this.editorFooterTemplateFn;\n    };\n    /**\n     * Method to process quick info header template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getQuickInfoTemplatesHeader = function () {\n        return this.quickInfoTemplatesHeaderFn;\n    };\n    /**\n     * Method to process quick info content template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getQuickInfoTemplatesContent = function () {\n        return this.quickInfoTemplatesContentFn;\n    };\n    /**\n     * Method to process quick info footer template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getQuickInfoTemplatesFooter = function () {\n        return this.quickInfoTemplatesFooterFn;\n    };\n    /**\n     * Method to process resource header template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getResourceHeaderTemplate = function () {\n        return this.resourceHeaderTemplateFn;\n    };\n    /**\n     * Method to process indent template\n     *\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.getHeaderIndentTemplate = function () {\n        return this.headerIndentTemplateFn;\n    };\n    /**\n     * Method to get dynamic CSS properties\n     *\n     * @returns {ScrollCss} Returns the CSS properties dynamically\n     * @private\n     */\n    Schedule.prototype.getCssProperties = function () {\n        var cssProps = {\n            border: this.enableRtl ? 'borderLeftWidth' : 'borderRightWidth',\n            padding: this.enableRtl ? 'paddingLeft' : 'paddingRight',\n            rtlBorder: this.enableRtl ? 'borderRightWidth' : 'borderLeftWidth',\n            rtlPadding: this.enableRtl ? 'paddingRight' : 'paddingLeft'\n        };\n        return cssProps;\n    };\n    /**\n     * Method to remove new event element in adaptive mode\n     *\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.removeNewEventElement = function () {\n        var eventClone = this.element.querySelector('.' + cls.NEW_EVENT_CLASS);\n        if (!isNullOrUndefined(eventClone)) {\n            remove(eventClone);\n        }\n    };\n    /**\n     * Method to get start end time from string\n     *\n     * @param {string} startEndTime Accepts the start end time string value\n     * @returns {Date} Returns the date object\n     * @private\n     */\n    Schedule.prototype.getStartEndTime = function (startEndTime) {\n        if (!isNullOrUndefined(startEndTime) && startEndTime !== '') {\n            var startEndDate = util.resetTime(new Date(this.currentTimezoneDate) || this.getCurrentTime());\n            var timeString = startEndTime.split(':');\n            if (timeString.length === 2) {\n                startEndDate.setHours(parseInt(timeString[0], 10), parseInt(timeString[1], 10), 0);\n            }\n            return startEndDate;\n        }\n        return null;\n    };\n    Schedule.prototype.onDocumentClick = function (args) {\n        this.notify(events.documentClick, { event: args });\n    };\n    Schedule.prototype.onScheduleResize = function () {\n        if (isNullOrUndefined(this.activeView) || ((this.isAdaptive || util.isMobile()) && document.activeElement\n            && (document.activeElement.classList.contains(cls.SUBJECT_CLASS) ||\n                document.activeElement.classList.contains(cls.INLINE_SUBJECT_CLASS))) || this.uiStateValues.isTapHold) {\n            return;\n        }\n        if (this.virtualScrollModule && this.activeView.isTimelineView()) {\n            this.virtualScrollModule.refreshLayout();\n        }\n        if (this.activeViewOptions.timeScale.enable && this.activeView) {\n            this.activeView.highlightCurrentTime();\n        }\n        if (this.quickPopup) {\n            this.quickPopup.onClosePopup();\n        }\n        util.resetScrollbarWidth();\n        if (this.currentView === 'Month' || ((this.currentView !== 'Agenda' && this.currentView !== 'MonthAgenda')\n            && !this.activeViewOptions.timeScale.enable) || this.activeView.isTimelineView()) {\n            this.activeView.resetColWidth();\n            this.notify(events.scrollUiUpdate, { cssProperties: this.getCssProperties(), isPreventScrollUpdate: true });\n            var isRemoteRefresh = false;\n            if (this.activeViewOptions.enableLazyLoading && this.virtualScrollModule && this.virtualScrollModule.isRemoteRefresh) {\n                isRemoteRefresh = this.virtualScrollModule.isRemoteRefresh;\n                this.virtualScrollModule.isRemoteRefresh = false;\n            }\n            this.refreshEvents(isRemoteRefresh);\n            if (this.virtualScrollModule && !this.virtualScrollModule.enableTransition) {\n                var resWrap = this.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n                var conWrap = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n                this.virtualScrollModule.enableTransition = true;\n                addClass([conWrap, resWrap], 'e-transition');\n            }\n        }\n        else {\n            this.notify(events.contentReady, {});\n        }\n    };\n    /**\n     * Method to process the templates\n     *\n     * @param {string | Function} template Accepts the template in string\n     * @returns {CallbackFunction} Returns the callback function\n     * @private\n     */\n    Schedule.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (typeof template === 'function') {\n                    return compile(template);\n                }\n                else {\n                    if (document.querySelectorAll(template).length) {\n                        return compile(document.querySelector(template).innerHTML.trim());\n                    }\n                    else {\n                        return compile(template);\n                    }\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Retrieves the selected cells.\n     *\n     * @returns {Element[]} The elements of currently selected cells will be returned.\n     * @private\n     */\n    Schedule.prototype.getSelectedCells = function () {\n        return [].slice.call(this.element.querySelectorAll('.' + cls.SELECTED_CELL_CLASS));\n    };\n    /**\n     * Method to generate the announcement string\n     *\n     * @param {Object} event Accepts the event object\n     * @param {string} subject Accepts the subject text\n     * @returns {string} Returns the announcement string\n     * @private\n     */\n    Schedule.prototype.getAnnouncementString = function (event, subject) {\n        var resourceName;\n        if (this.quickPopup && this.activeViewOptions.group.resources.length > 0) {\n            var constantText = '\"s event - ';\n            resourceName = this.quickPopup.getResourceText({ event: event }, 'event') + constantText;\n        }\n        var recordSubject = (subject || (event[this.eventFields.subject] || this.eventSettings.fields.subject.default));\n        var recordLocation = (event[this.eventFields.location] || this.eventSettings.fields.location.default);\n        var skeleton = 'full';\n        var startDateText = this.globalize.formatDate(event[this.eventFields.startTime], {\n            type: 'dateTime', skeleton: skeleton, calendar: this.getCalendarMode()\n        });\n        var endDateText = this.globalize.formatDate(event[this.eventFields.endTime], {\n            type: 'dateTime', skeleton: skeleton, calendar: this.getCalendarMode()\n        });\n        var announcementString = recordSubject + ' ' + this.localeObj.getConstant('beginFrom') + ' '\n            + startDateText + ' ' + this.localeObj.getConstant('endAt') + ' ' + endDateText;\n        if (resourceName) {\n            announcementString = resourceName + ' ' + announcementString;\n        }\n        if (recordLocation && recordLocation !== '') {\n            announcementString = announcementString + ' ' + this.localeObj.getConstant('location') + ' ' + recordLocation;\n        }\n        if (event[this.eventFields.recurrenceRule] && event[this.eventFields.recurrenceRule] !== ''\n            && event[this.eventFields.id] === event[this.eventFields.recurrenceID]) {\n            announcementString = announcementString + ' ' + this.localeObj.getConstant('recurringEvent');\n        }\n        return announcementString;\n    };\n    /**\n     * Method to process the element boundary validation\n     *\n     * @param {number} pageY Accepts the pageY value\n     * @param {number} pageX Accepts the pageX value\n     * @returns {ResizeEdges} Returns the boundary validation object\n     * @private\n     */\n    Schedule.prototype.boundaryValidation = function (pageY, pageX) {\n        var autoScrollDistance = 30;\n        var scrollEdges = { left: false, right: false, top: false, bottom: false };\n        var viewBoundaries = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS).getBoundingClientRect();\n        if ((pageY < viewBoundaries.top + autoScrollDistance + window.pageYOffset) &&\n            (pageY > viewBoundaries.top + window.pageYOffset)) {\n            scrollEdges.top = true;\n        }\n        if ((pageY > (viewBoundaries.bottom - autoScrollDistance) + window.pageYOffset) &&\n            (pageY < viewBoundaries.bottom + window.pageYOffset)) {\n            scrollEdges.bottom = true;\n        }\n        if ((pageX < viewBoundaries.left + autoScrollDistance + window.pageXOffset) &&\n            (pageX > viewBoundaries.left + window.pageXOffset)) {\n            scrollEdges.left = true;\n        }\n        if ((pageX > (viewBoundaries.right - autoScrollDistance) + window.pageXOffset) &&\n            (pageX < viewBoundaries.right + window.pageXOffset)) {\n            scrollEdges.right = true;\n        }\n        return scrollEdges;\n    };\n    /**\n     * Method to get the week number.\n     *\n     * @param {Date[]} dates Accepts the date collections\n     * @returns {number} Returns the week number\n     * @private\n     */\n    Schedule.prototype.getWeekNumberContent = function (dates) {\n        var weekNumber;\n        if (this.weekRule === 'FirstDay') {\n            var weekNumberDate = util.getWeekLastDate(dates.slice(-1)[0], this.firstDayOfWeek);\n            weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekNumberDate));\n        }\n        else if (this.weekRule === 'FirstFourDayWeek') {\n            var weekFirstDate = util.getWeekFirstDate(dates.slice(-1)[0], this.firstDayOfWeek);\n            var weekLastDate = util.getWeekLastDate(dates.slice(-1)[0], this.firstDayOfWeek);\n            var weekMidDate = util.getWeekMiddleDate(weekFirstDate, weekLastDate);\n            weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekMidDate));\n        }\n        else if (this.weekRule === 'FirstFullWeek') {\n            var weekFirstDate = util.getWeekFirstDate(dates.slice(-1)[0], this.firstDayOfWeek);\n            weekNumber = this.globalize.formatNumber(util.getWeekNumber(weekFirstDate));\n        }\n        return weekNumber;\n    };\n    /**\n     * Method to render the header indent template.\n     *\n     * @param {TdData} data Accepts the td data\n     * @param {Element} td Accepts the td element\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.renderHeaderIndentTemplate = function (data, td) {\n        if (this.activeViewOptions.headerIndentTemplate) {\n            var scheduleId = this.element.id + '_';\n            var viewName = this.activeViewOptions.headerIndentTemplateName;\n            var templateId = scheduleId + viewName + 'headerIndentTemplate';\n            var indentTemplate = [].slice.call(this.getHeaderIndentTemplate()(data, this, 'headerIndentTemplate', templateId, false, undefined, undefined, this.root));\n            append(indentTemplate, td);\n        }\n    };\n    /**\n     * Method to check for refreshing the targeted resource row events.\n     *\n     * @returns {boolean} Returns the boolean value\n     * @private\n     */\n    Schedule.prototype.isSpecificResourceEvents = function () {\n        return this.activeViewOptions.group.resources.length > 0 && !this.activeViewOptions.group.allowGroupEdit &&\n            !this.rowAutoHeight && !this.virtualScrollModule && this.activeViewOptions.group.byGroupID;\n    };\n    Schedule.prototype.unWireEvents = function () {\n        EventHandler.remove(window, 'resize', this.onScheduleResize);\n        EventHandler.remove(window, 'orientationchange', this.onScheduleResize);\n        EventHandler.remove(document, Browser.touchStartEvent, this.onDocumentClick);\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @returns {string} Returns the module name\n     * @private\n     */\n    Schedule.prototype.getModuleName = function () {\n        return 'schedule';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persistance data\n     * @private\n     */\n    Schedule.prototype.getPersistData = function () {\n        return this.addOnPersist(['currentView', 'selectedDate', 'scrollTop', 'scrollLeft', 'adaptiveGroupIndex']);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @returns {void}\n     * @private\n     */\n    Schedule.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.isReact && isNullOrUndefined(this.activeView)) {\n            return;\n        }\n        var state = {\n            isRefresh: false, isResource: false, isDate: false, isView: false, isLayout: false, isDataManager: false\n        };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'views':\n                    this.setViewOptions();\n                    if (this.headerModule) {\n                        this.headerModule.updateItems();\n                    }\n                    state.isView = true;\n                    break;\n                case 'currentView':\n                    state.isView = true;\n                    break;\n                case 'minDate':\n                case 'maxDate':\n                case 'selectedDate':\n                    state.isDate = true;\n                    break;\n                case 'dateFormat':\n                    this.activeViewOptions = this.getActiveViewOptions();\n                    if (this.headerModule) {\n                        this.headerModule.updateDateRange();\n                    }\n                    break;\n                case 'showHeaderBar':\n                case 'toolbarItems':\n                    this.destroyHeaderModule();\n                    if (newProp.showHeaderBar) {\n                        this.headerModule = new HeaderRenderer(this);\n                        this.headerModule.updateDateRange();\n                    }\n                    this.notify(events.scrollUiUpdate, { cssProperties: this.getCssProperties() });\n                    if (this.activeView.isTimelineView()) {\n                        this.refreshEvents(false);\n                    }\n                    break;\n                case 'workDays':\n                    if (JSON.stringify(oldProp.workDays) !== JSON.stringify(newProp.workDays)) {\n                        state.isLayout = true;\n                    }\n                    break;\n                case 'showWeekend':\n                case 'startHour':\n                case 'endHour':\n                case 'workHours':\n                case 'readonly':\n                case 'headerRows':\n                case 'showWeekNumber':\n                case 'rowAutoHeight':\n                    state.isLayout = true;\n                    break;\n                case 'locale':\n                case 'calendarMode':\n                    this.globalize = new Internationalization(this.locale);\n                    this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n                    this.setCldrTimeFormat();\n                    this.setCalendarMode();\n                    state.isRefresh = true;\n                    break;\n                case 'firstDayOfWeek':\n                    this.activeViewOptions.firstDayOfWeek = newProp.firstDayOfWeek;\n                    if (this.eventWindow) {\n                        this.eventWindow.refreshRecurrenceEditor();\n                    }\n                    state.isLayout = true;\n                    break;\n                case 'showTimeIndicator':\n                    if (this.activeViewOptions.timeScale.enable && this.activeView) {\n                        this.activeView.highlightCurrentTime();\n                    }\n                    break;\n                case 'cellHeaderTemplate':\n                    this.activeViewOptions.cellHeaderTemplate = newProp.cellHeaderTemplate;\n                    this.cellHeaderTemplateFn = this.templateParser(this.activeViewOptions.cellHeaderTemplate);\n                    state.isLayout = true;\n                    break;\n                case 'cellTemplate':\n                    this.activeViewOptions.cellTemplate = newProp.cellTemplate;\n                    this.cellTemplateFn = this.templateParser(this.activeViewOptions.cellTemplate);\n                    state.isLayout = true;\n                    break;\n                case 'dateHeaderTemplate':\n                    this.activeViewOptions.dateHeaderTemplate = newProp.dateHeaderTemplate;\n                    this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\n                    state.isLayout = true;\n                    break;\n                case 'dateRangeTemplate':\n                    this.activeViewOptions.dateRangeTemplate = newProp.dateRangeTemplate;\n                    this.dateRangeTemplateFn = this.templateParser(this.activeViewOptions.dateRangeTemplate);\n                    if (this.headerModule) {\n                        this.headerModule.updateDateRange();\n                    }\n                    break;\n                case 'dayHeaderTemplate':\n                    this.activeViewOptions.dayHeaderTemplate = newProp.dayHeaderTemplate;\n                    this.dayHeaderTemplateFn = this.templateParser(this.activeViewOptions.dayHeaderTemplate);\n                    state.isLayout = true;\n                    break;\n                case 'monthHeaderTemplate':\n                    this.activeViewOptions.monthHeaderTemplate = newProp.monthHeaderTemplate;\n                    this.monthHeaderTemplateFn = this.templateParser(this.activeViewOptions.monthHeaderTemplate);\n                    state.isLayout = true;\n                    break;\n                case 'resourceHeaderTemplate':\n                    this.activeViewOptions.resourceHeaderTemplate = newProp.resourceHeaderTemplate;\n                    this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\n                    state.isLayout = true;\n                    break;\n                case 'timezone':\n                    this.eventBase.timezonePropertyChange(oldProp.timezone);\n                    if (this.headerModule) {\n                        this.headerModule.setCalendarTimezone();\n                    }\n                    break;\n                case 'enableRtl':\n                    this.setRtlClass();\n                    state.isRefresh = true;\n                    break;\n                default:\n                    this.extendedPropertyChange(prop, newProp, oldProp, state);\n                    break;\n            }\n        }\n        this.propertyChangeAction(state);\n    };\n    Schedule.prototype.propertyChangeAction = function (state) {\n        if (state.isRefresh) {\n            this.refresh();\n        }\n        else if (state.isResource) {\n            this.initializeResources(true);\n        }\n        else if (state.isView) {\n            this.changeView(this.currentView, null, true);\n        }\n        else if (state.isDate) {\n            if (isNullOrUndefined(this.selectedDate)) {\n                this.setProperties({ selectedDate: this.getCurrentTime() }, true);\n            }\n            this.changeDate(this.selectedDate);\n        }\n        else if (state.isLayout) {\n            this.activeCellsData = null;\n            this.initializeView(this.currentView);\n        }\n        else if (state.isDataManager && this.crudModule) {\n            if (this.dragAndDropModule) {\n                this.dragAndDropModule.actionObj.action = '';\n                removeClass([this.element], cls.EVENT_ACTION_CLASS);\n            }\n            this.crudModule.refreshDataManager();\n        }\n    };\n    Schedule.prototype.allDayRowScrollUpdate = function () {\n        var dateHeader = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        var allDayRow = this.element.querySelector('.' + cls.ALLDAY_ROW_CLASS);\n        if (this.height === 'auto' || !this.enableAllDayScroll) {\n            addClass([dateHeader], cls.ALLDAY_APPOINTMENT_AUTO);\n            if (dateHeader.classList.contains(cls.ALLDAY_APPOINTMENT_SCROLL)) {\n                removeClass([dateHeader], cls.ALLDAY_APPOINTMENT_SCROLL);\n            }\n            if (this.uiStateValues.expand) {\n                var allDayCells = [].slice.call(this.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\n                allDayCells[0].style.height = (allDayRow.style.height) ? allDayRow.style.height : allDayCells[1].style.height;\n            }\n        }\n        else {\n            if (dateHeader.classList.contains(cls.ALLDAY_APPOINTMENT_AUTO)) {\n                removeClass([dateHeader], cls.ALLDAY_APPOINTMENT_AUTO);\n            }\n            this.eventBase.allDayExpandScroll(dateHeader);\n        }\n        if (!this.uiStateValues.expand) {\n            allDayRow.style.height = '';\n        }\n    };\n    Schedule.prototype.extendedPropertyChange = function (prop, newProp, oldProp, state) {\n        switch (prop) {\n            case 'width':\n            case 'height':\n            case 'enableAllDayScroll':\n                if (['Day', 'Week', 'WorkWeek'].indexOf(this.currentView) > -1) {\n                    this.allDayRowScrollUpdate();\n                }\n                this.notify(events.uiUpdate, { module: 'scroll', properties: { width: newProp.width, height: newProp.height } });\n                break;\n            case 'cssClass':\n                if (oldProp.cssClass) {\n                    removeClass([this.element], oldProp.cssClass.split(' '));\n                }\n                if (newProp.cssClass) {\n                    addClass([this.element], newProp.cssClass.split(' '));\n                }\n                break;\n            case 'hideEmptyAgendaDays':\n            case 'agendaDaysCount':\n                this.activeViewOptions = this.getActiveViewOptions();\n                state.isView = true;\n                break;\n            case 'eventSettings':\n                this.onEventSettingsPropertyChanged(newProp.eventSettings, oldProp.eventSettings, state);\n                break;\n            case 'allowKeyboardInteraction':\n                if (this.keyboardInteractionModule) {\n                    this.keyboardInteractionModule.destroy();\n                    this.keyboardInteractionModule = null;\n                }\n                if (newProp.allowKeyboardInteraction) {\n                    this.keyboardInteractionModule = new KeyboardInteraction(this);\n                }\n                break;\n            case 'timezoneDataSource':\n                if (this.eventWindow) {\n                    this.eventWindow.refresh();\n                }\n                break;\n            case 'editorTemplate':\n                if (!isNullOrUndefined(this.editorTemplate)) {\n                    this.editorTemplateFn = this.templateParser(this.editorTemplate);\n                }\n                if (this.eventWindow) {\n                    this.eventWindow.setDialogContent();\n                }\n                break;\n            case 'editorHeaderTemplate':\n                if (!isNullOrUndefined(this.editorHeaderTemplate)) {\n                    this.editorHeaderTemplateFn = this.templateParser(this.editorHeaderTemplate);\n                }\n                if (this.eventWindow) {\n                    this.eventWindow.setDialogHeader();\n                }\n                break;\n            case 'editorFooterTemplate':\n                if (!isNullOrUndefined(this.editorFooterTemplate)) {\n                    this.editorFooterTemplateFn = this.templateParser(this.editorFooterTemplate);\n                }\n                if (this.eventWindow) {\n                    this.eventWindow.setDialogFooter();\n                }\n                break;\n            case 'quickInfoTemplates':\n                if (this.quickInfoTemplates.header) {\n                    this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\n                }\n                if (this.quickInfoTemplates.content) {\n                    this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\n                }\n                if (this.quickInfoTemplates.footer) {\n                    this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\n                }\n                break;\n            case 'group':\n                this.onGroupSettingsPropertyChanged(newProp.group, oldProp.group, state);\n                break;\n            case 'resources':\n                state.isResource = true;\n                break;\n            case 'timeScale':\n                this.activeViewOptions.timeScale.interval = newProp.timeScale.interval || this.activeViewOptions.timeScale.interval;\n                this.activeViewOptions.timeScale.slotCount = newProp.timeScale.slotCount || this.activeViewOptions.timeScale.slotCount;\n                if (this.eventWindow) {\n                    this.eventWindow.refreshDateTimePicker();\n                }\n                state.isLayout = true;\n                break;\n            case 'allowDragAndDrop':\n            case 'allowResizing':\n            case 'eventDragArea':\n                this.refreshEvents(false);\n                break;\n            case 'weekRule':\n                state.isLayout = true;\n                break;\n            case 'firstMonthOfYear':\n                this.activeViewOptions.firstMonthOfYear = newProp.firstMonthOfYear;\n                this.viewIndex = this.activeView.viewIndex;\n                state.isLayout = true;\n                break;\n            case 'monthsCount':\n                this.activeViewOptions.monthsCount = newProp.monthsCount;\n                this.viewIndex = this.activeView.viewIndex;\n                state.isLayout = true;\n                break;\n            case 'timeFormat':\n                this.internalTimeFormat = newProp.timeFormat || this.activeViewOptions.timeFormat;\n                if (this.eventWindow) {\n                    this.eventWindow.refreshDateTimePicker();\n                }\n                state.isLayout = true;\n                break;\n            case 'enableAdaptiveUI':\n                if (this.showHeaderBar && this.headerModule) {\n                    this.destroyHeaderModule();\n                    this.headerModule = new HeaderRenderer(this);\n                    this.headerModule.updateDateRange();\n                }\n                state.isLayout = true;\n                break;\n            case 'headerIndentTemplate':\n                this.activeViewOptions.headerIndentTemplate = newProp.headerIndentTemplate;\n                this.headerIndentTemplateFn = this.templateParser(this.activeViewOptions.headerIndentTemplate);\n                state.isLayout = true;\n                break;\n        }\n    };\n    Schedule.prototype.setRtlClass = function () {\n        if (this.enableRtl) {\n            addClass([this.element], 'e-rtl');\n        }\n        else {\n            removeClass([this.element], 'e-rtl');\n        }\n    };\n    Schedule.prototype.onGroupSettingsPropertyChanged = function (newProp, oldProp, state) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if (prop === 'headerTooltipTemplate') {\n                this.headerTooltipTemplateFn = this.templateParser(newProp.headerTooltipTemplate);\n            }\n            else {\n                state.isLayout = true;\n                if (this.eventWindow) {\n                    this.eventWindow.refresh();\n                }\n            }\n        }\n    };\n    Schedule.prototype.onEventSettingsPropertyChanged = function (newProp, oldProp, state) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'dataSource':\n                case 'query':\n                case 'fields':\n                case 'includeFiltersInQuery':\n                    this.initializeDataModule();\n                    state.isDataManager = true;\n                    break;\n                case 'template':\n                    this.activeViewOptions.eventTemplate = newProp.template;\n                    this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\n                    state.isDataManager = true;\n                    break;\n                case 'enableTooltip':\n                    if (this.eventTooltip) {\n                        this.eventTooltip.destroy();\n                        this.eventTooltip = null;\n                    }\n                    if (newProp.enableTooltip) {\n                        this.eventTooltip = new EventTooltip(this);\n                    }\n                    break;\n                case 'tooltipTemplate':\n                    this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\n                    break;\n                case 'resourceColorField':\n                    if (this.resourceBase) {\n                        this.resourceBase.setResourceCollection();\n                    }\n                    state.isDataManager = true;\n                    break;\n                case 'editFollowingEvents':\n                    if (this.quickPopup) {\n                        this.quickPopup.refreshQuickDialog();\n                    }\n                    break;\n                case 'allowAdding':\n                case 'allowEditing':\n                case 'allowDeleting':\n                    if (this.showHeaderBar && this.headerModule) {\n                        this.headerModule.updateAddIcon();\n                    }\n                    if (this.eventWindow) {\n                        this.eventWindow.refresh();\n                    }\n                    break;\n                case 'spannedEventPlacement':\n                case 'minimumEventDuration':\n                case 'enableMaxHeight':\n                case 'enableIndicator':\n                    this.refreshEvents(false);\n                    break;\n                case 'ignoreWhitespace':\n                    state.isLayout = true;\n                    break;\n            }\n        }\n    };\n    Schedule.prototype.destroyHeaderModule = function () {\n        if (this.headerModule) {\n            this.headerModule.destroy();\n            this.headerModule = null;\n        }\n    };\n    Schedule.prototype.destroyPopups = function () {\n        if (this.quickPopup) {\n            this.quickPopup.destroy();\n            this.quickPopup = null;\n        }\n        if (this.eventWindow) {\n            this.eventWindow.destroy();\n            this.eventWindow = null;\n        }\n    };\n    /**\n     * Allows to show the spinner on schedule at the required scenarios.\n     *\n     * @function showSpinner\n     * @returns {void}\n     */\n    Schedule.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * When the spinner is shown manually using `showSpinner` method, it can be hidden using this `hideSpinner` method.\n     *\n     * @function hideSpinner\n     * @returns {void}\n     */\n    Schedule.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * Sets different working hours on the required working days by accepting the required start and end time as well as the date collection\n     *  as its parameters.\n     *\n     * @function setWorkHours\n     * @param {Date} dates Collection of dates on which the given start and end hour range needs to be applied.\n     * @param {string} start Defines the work start hour.\n     * @param {string} end Defines the work end hour.\n     * @param {number} groupIndex Defines the resource index from last level.\n     * @returns {void}\n     */\n    Schedule.prototype.setWorkHours = function (dates, start, end, groupIndex) {\n        var cells = [];\n        cells = this.getWorkHourCells(dates, start, end, groupIndex);\n        addClass(cells, cls.WORK_HOURS_CLASS);\n    };\n    /**\n     * Removes or resets different working hours on the required working days by accepting the required start and end time as well as the\n     * date collection as its parameters.\n     * if no parameters has been passed to this function, it will remove all the work hours.\n     *\n     * @param {Date} dates Collection of dates on which the given start and end hour range need to be applied.\n     * @param {string} start Defines the work start hour.\n     * @param {string} end Defines the work end hour.\n     * @param {number} groupIndex Defines the resource index from last level.\n     * @returns {void}\n     */\n    Schedule.prototype.resetWorkHours = function (dates, start, end, groupIndex) {\n        if (dates === void 0) { dates = this.activeView.renderDates; }\n        if (dates && start && end) {\n            var cells = this.getWorkHourCells(dates, start, end, groupIndex);\n            removeClass(cells, cls.WORK_HOURS_CLASS);\n        }\n        else {\n            var workHourCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_HOURS_CLASS));\n            removeClass(workHourCells, cls.WORK_HOURS_CLASS);\n        }\n    };\n    Schedule.prototype.getWorkHourCells = function (dates, start, end, groupIndex) {\n        if (['Agenda', 'MonthAgenda', 'Month', 'TimelineMonth'].indexOf(this.currentView) > -1) {\n            return [];\n        }\n        var startHour = this.getStartEndTime(start);\n        var endHour = this.getStartEndTime(end);\n        var tableEle = this.getContentTable();\n        if (isNullOrUndefined(startHour) || isNullOrUndefined(endHour) || !tableEle) {\n            return [];\n        }\n        startHour.setMilliseconds(0);\n        endHour.setMilliseconds(0);\n        var viewStartHour = this.activeView.getStartHour();\n        if (startHour < viewStartHour) {\n            startHour = viewStartHour;\n        }\n        var viewEndHour = this.activeView.getEndHour();\n        if (endHour > viewEndHour) {\n            endHour = viewEndHour;\n        }\n        var msMajorInterval = this.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n        var msInterval = msMajorInterval / this.activeViewOptions.timeScale.slotCount;\n        var offsetDiff = ((viewStartHour.getTimezoneOffset() - startHour.getTimezoneOffset()) * util.MS_PER_MINUTE);\n        var endOffsetDiff = Math.abs((viewStartHour.getTimezoneOffset() - endHour.getTimezoneOffset()) * util.MS_PER_MINUTE);\n        var startIndex = Math.round((startHour.getTime() - viewStartHour.getTime() + offsetDiff) / msInterval);\n        var endIndex = Math.ceil((endHour.getTime() - viewStartHour.getTime() - endOffsetDiff) / msInterval);\n        var tempStartIndex = startIndex;\n        var tempEndIndex = endIndex;\n        var cells = [];\n        for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {\n            var date = dates_1[_i];\n            date = this.getDateTime(date);\n            util.resetTime(date);\n            var renderDates = this.activeView.renderDates;\n            if (!isNullOrUndefined(groupIndex) && this.resourceBase && !this.activeView.isTimelineView()) {\n                renderDates = this.resourceBase.lastResourceLevel[parseInt(groupIndex.toString(), 10)].renderDates;\n            }\n            var colIndex = this.getIndexOfDate(renderDates, date);\n            if (colIndex >= 0) {\n                if (this.activeView.isTimelineView()) {\n                    var slotsPerDay = Math.round((viewEndHour.getTime() - viewStartHour.getTime()) / msInterval);\n                    startIndex = tempStartIndex + (colIndex * slotsPerDay);\n                    endIndex = tempEndIndex + (colIndex * slotsPerDay);\n                }\n                for (var i = startIndex; i < endIndex; i++) {\n                    if (this.activeView.isTimelineView()) {\n                        var rowIndex = (!isNullOrUndefined(groupIndex)) ? groupIndex : 0;\n                        cells.push(tableEle.rows[parseInt(rowIndex.toString(), 10)].cells[parseInt(i.toString(), 10)]);\n                    }\n                    else {\n                        if (!isNullOrUndefined(groupIndex)) {\n                            var selector = '.' + cls.WORK_CELLS_CLASS + '[data-group-index=\"' + groupIndex + '\"]';\n                            var tds = [].slice.call(tableEle.rows[parseInt(i.toString(), 10)].querySelectorAll(selector));\n                            cells.push(tds[parseInt(colIndex.toString(), 10)]);\n                        }\n                        else {\n                            cells.push(tableEle.rows[parseInt(i.toString(), 10)].cells[parseInt(colIndex.toString(), 10)]);\n                        }\n                    }\n                }\n            }\n        }\n        return cells;\n    };\n    /**\n     * Retrieves the start and end time information of the specific cell element.\n     *\n     * @function getCellDetails\n     * @param {Element | Element[]} tdCol Accepts the single or collection of elements.\n     * @returns {CellClickEventArgs} Object An object holding the startTime, endTime and all-day information along with the target HTML element will be returned.\n     */\n    Schedule.prototype.getCellDetails = function (tdCol) {\n        var td = (tdCol instanceof Array) ? tdCol : [tdCol];\n        var firstTd = getElement(td[0]);\n        var lastTd = getElement(td.slice(-1)[0]);\n        var startTime = this.getDateFromElement(firstTd);\n        var endTime = this.getDateFromElement(lastTd);\n        if (isNullOrUndefined(startTime) || isNullOrUndefined(endTime)) {\n            return undefined;\n        }\n        var endDateFromColSpan = this.activeView.isTimelineView() && !isNullOrUndefined(lastTd.getAttribute('colSpan')) &&\n            this.headerRows.length > 0;\n        var duration = endDateFromColSpan ? parseInt(lastTd.getAttribute('colSpan'), 10) : 1;\n        if (!this.activeViewOptions.timeScale.enable || endDateFromColSpan || lastTd.classList.contains(cls.ALLDAY_CELLS_CLASS) ||\n            lastTd.classList.contains(cls.HEADER_CELLS_CLASS)) {\n            endTime = util.addDays(new Date(endTime.getTime()), duration);\n        }\n        else {\n            endTime = this.activeView.getEndDateFromStartDate(endTime);\n        }\n        var data = {\n            startTime: startTime,\n            endTime: endTime,\n            isAllDay: this.isAllDayCell(firstTd),\n            element: tdCol\n        };\n        var groupIndex = firstTd.getAttribute('data-group-index');\n        if (!isNullOrUndefined(groupIndex)) {\n            data.groupIndex = parseInt(groupIndex, 10);\n        }\n        return data;\n    };\n    /**\n     * Retrieves the selected cell elements.\n     *\n     * @function getSelectedElements\n     * @returns {Element[]} The elements of currently selected cells will be returned.\n     */\n    Schedule.prototype.getSelectedElements = function () {\n        if (this.keyboardInteractionModule && this.keyboardInteractionModule.selectedCells.length > 0) {\n            return this.keyboardInteractionModule.selectedCells;\n        }\n        return this.getSelectedCells();\n    };\n    /**\n     * To get the resource collection\n     *\n     * @function getResourceCollections\n     * @returns {ResourcesModel[]} Returns the resource collections\n     */\n    Schedule.prototype.getResourceCollections = function () {\n        return this.resourceCollection;\n    };\n    /**\n     * To set the resource collection\n     *\n     * @function setResourceCollections\n     * @param {ResourcesModel[]} resourceCol Accepts the resource collections in ResourcesModel type\n     * @param {boolean} isEventDataRefresh Accepts the boolean to refresh the appointment data source from remote or local\n     * @returns {void}\n     */\n    Schedule.prototype.setResourceCollections = function (resourceCol, isEventDataRefresh) {\n        if (isEventDataRefresh === void 0) { isEventDataRefresh = true; }\n        if (!isEventDataRefresh && this.uiStateValues) {\n            this.uiStateValues.isPreventEventRefresh = true;\n        }\n        this.setProperties({ resources: resourceCol }, false);\n    };\n    /**\n     * Current View could be change based on the provided parameters.\n     *\n     * @function changeCurrentView\n     * @param {View} viewName Accept the view in the viewCollections.\n     * @param {number} viewIndex Accept the viewIndex in the viewCollections.\n     * @returns {void}\n     */\n    Schedule.prototype.changeCurrentView = function (viewName, viewIndex) {\n        var index = this.getViewIndex(viewName);\n        var view = viewName.charAt(0).toLowerCase() + viewName.slice(1);\n        var viewOptions = this.viewOptions[\"\" + view];\n        if (viewOptions) {\n            index = this.viewCollections.indexOf(viewOptions[viewIndex || 0]);\n        }\n        if (index === -1 || index === this.viewIndex) {\n            return;\n        }\n        this.changeView(viewName, null, null, index);\n    };\n    /**\n     * Return the current view Index.\n     *\n     * @function getCurrentViewIndex\n     * @returns {number} Returns the view index\n     */\n    Schedule.prototype.getCurrentViewIndex = function () {\n        return this.viewIndex;\n    };\n    /**\n     * Retrieves the resource details based on the provided resource index.\n     *\n     * @param {number} index index of the resources at the last level.\n     * @returns {ResourceDetails} Object An object holding the details of resource and resourceData.\n     */\n    Schedule.prototype.getResourcesByIndex = function (index) {\n        if (this.resourceBase && this.resourceBase.lastResourceLevel) {\n            if (index < 0 || index >= this.resourceBase.lastResourceLevel.length) {\n                return undefined;\n            }\n            var data = this.resourceBase.lastResourceLevel[parseInt(index.toString(), 10)];\n            var groupData = {};\n            this.resourceBase.setResourceValues(groupData, index);\n            return { resource: data.resource, resourceData: data.resourceData, groupData: groupData };\n        }\n        return undefined;\n    };\n    /**\n     * This method allows to expand the resource that available on the scheduler.\n     *\n     * @function expandResource\n     * @param {string | number} resourceId Accepts the resource id in either string or number type\n     * @param {string} name Accepts the name of the resource collection\n     * @returns {void}\n     */\n    Schedule.prototype.expandResource = function (resourceId, name) {\n        if (this.activeView.isTimelineView() && this.resourceBase && this.resourceCollection.length > 1) {\n            this.resourceBase.resourceExpand(resourceId, name, false);\n        }\n    };\n    /**\n     * This method allows to collapse the resource that available on the scheduler.\n     *\n     * @function collapseResource\n     * @param {string | number} resourceId Accepts the resource id in either string or number type\n     * @param {string} name Accepts the name of the resource collection\n     * @returns {void}\n     */\n    Schedule.prototype.collapseResource = function (resourceId, name) {\n        if (this.activeView.isTimelineView() && this.resourceBase && this.resourceCollection.length > 1) {\n            this.resourceBase.resourceExpand(resourceId, name, true);\n        }\n    };\n    /**\n     * Scrolls the Schedule content area to the specified time.\n     *\n     * @function scrollTo\n     * @param {string} hour Accepts the time value in the skeleton format of 'Hm'.\n     * @param {Date} scrollDate Accepts the date object value.\n     * @returns {void}\n     */\n    Schedule.prototype.scrollTo = function (hour, scrollDate) {\n        if (this.currentView.indexOf('Agenda') < 0 && isNullOrUndefined(this.element.querySelector('.e-work-cells'))) {\n            return;\n        }\n        if (this.activeView.scrollToDate && isNullOrUndefined(hour) && scrollDate) {\n            this.activeView.scrollToDate(scrollDate);\n        }\n        else if (this.activeView.scrollToHour) {\n            this.activeView.scrollToHour(hour, scrollDate);\n        }\n    };\n    /**\n     * This method allows scroll to the position of the any resources that available on the scheduler.\n     * This method is applicable for without Agenda and Month agenda views of the schedule.\n     *\n     * @function scrollToResource\n     * @param {string | number} resourceId Accepts the resource id in either string or number type\n     * @param {string} groupName Accepts the name of the resource collection\n     * @returns {void}\n     */\n    Schedule.prototype.scrollToResource = function (resourceId, groupName) {\n        if (this.resourceBase && this.resourceBase.lastResourceLevel) {\n            this.resourceBase.resourceScroll(resourceId, groupName);\n        }\n    };\n    /**\n     * Exports the Scheduler events to a calendar (.ics) file. By default, the calendar is exported with a file name `Calendar.ics`.\n     * To change this file name on export, pass the custom string value as `fileName` to get the file downloaded with this provided name.\n     *\n     * @function exportToICalendar\n     * @param {string} fileName Accepts the string value.\n     * @param {Object[]} customData Accepts the collection of objects.\n     * @returns {void}\n     */\n    Schedule.prototype.exportToICalendar = function (fileName, customData) {\n        if (this.iCalendarExportModule) {\n            this.iCalendarExportModule.initializeCalendarExport(fileName, customData);\n        }\n        else {\n            console.warn('[WARNING] :: Module \"ICalendarExport\" is not available in Schedule component!' +\n                ' You either misspelled the module name or forgot to load it.');\n            throw Error('Inject ICalendarExport module');\n        }\n    };\n    /**\n     * Imports the events from an .ics file downloaded from any of the calendars like Google or Outlook into the Scheduler.\n     * This method accepts the blob object or string format of an .ics file to be imported as a mandatory argument.\n     *\n     * @function importICalendar\n     * @param {Blob | string} fileContent Accepts the file object or string format of an .ics file.\n     * @returns {void}\n     */\n    Schedule.prototype.importICalendar = function (fileContent) {\n        if (this.iCalendarImportModule) {\n            this.iCalendarImportModule.initializeCalendarImport(fileContent);\n        }\n        else {\n            console.warn('[WARNING] :: Module \"ICalendarImport\" is not available in Schedule component!' +\n                ' You either misspelled the module name or forgot to load it.');\n            throw Error('Inject ICalendarImport module');\n        }\n    };\n    /**\n     * Adds the newly created event into the Schedule dataSource.\n     *\n     * @function addEvent\n     * @param {Object | Object[]} data Single or collection of event objects to be added into Schedule.\n     * @returns {void}\n     */\n    Schedule.prototype.addEvent = function (data) {\n        this.crudModule.addEvent(data);\n    };\n    /**\n     * Generates the occurrences of a single recurrence event based on the provided event.\n     *\n     * @function generateEventOccurrences\n     * @param {Object} event Accepts the parent recurrence event from which the occurrences are generated.\n     * @param {Date} startDate Accepts the start date for the event occurrences. If not provided, the event's start date will be used.\n     * @returns {Object[]} Returns the collection of occurrence event objects.\n     */\n    Schedule.prototype.generateEventOccurrences = function (event, startDate) {\n        return (this.eventBase) ? this.eventBase.generateOccurrence(event, startDate) : [];\n    };\n    /**\n     * Allows the Scheduler events data to be exported as an Excel file either in .xlsx or .csv file formats.\n     * By default, the whole event collection bound to the Scheduler gets exported as an Excel file.\n     * To export only the specific events of Scheduler, you need to pass the custom data collection as\n     * a parameter to this `exportToExcel` method. This method accepts the export options as arguments such as fileName,\n     * exportType, fields, customData, and includeOccurrences. The `fileName` denotes the name to be given for the exported\n     * file and the `exportType` allows you to set the format of an Excel file to be exported either as .xlsx or .csv.\n     * The custom or specific field collection of event dataSource to be exported can be provided through `fields` option\n     * and the custom data collection can be exported by passing them through the `customData` option. There also exists\n     * option to export each individual instances of the recurring events to an Excel file, by setting true or false to the\n     * `includeOccurrences` option, denoting either to include or exclude the occurrences as separate instances on an exported Excel file.\n     *\n     * @function exportToExcel\n     * @param {ExportOptions} excelExportOptions The export options to be set before start with exporting the Scheduler events to an Excel file.\n     * @returns {void}\n     */\n    Schedule.prototype.exportToExcel = function (excelExportOptions) {\n        if (this.excelExportModule) {\n            this.excelExportModule.initializeExcelExport(excelExportOptions);\n        }\n        else {\n            console.warn('[WARNING] :: Module \"ExcelExport\" is not available in Schedule component!' +\n                ' You either misspelled the module name or forgot to load it.');\n            throw Error('Inject ExcelExport module');\n        }\n    };\n    /**\n     * Method allows to print the scheduler.\n     *\n     * @function print\n     * @param {ScheduleModel} printOptions The export options to be set before start with exporting\n     * the Scheduler events to the print window.\n     * @returns {void}\n     */\n    Schedule.prototype.print = function (printOptions) {\n        if (this.printModule) {\n            this.printModule.print(printOptions);\n        }\n        else {\n            console.warn('[WARNING] :: Module \"Print\" is not available in Schedule component!' +\n                ' You either misspelled the module name or forgot to load it.');\n            throw Error('Inject Print module');\n        }\n    };\n    /**\n     * Updates the changes made in the event object by passing it as an parameter into the dataSource.\n     *\n     * @function saveEvent\n     * @param {Object | Object[]} data Single or collection of event objects to be saved into Schedule.\n     * @param {CurrentAction} currentAction Denotes the action that takes place either for editing occurrence or series.\n     *  The valid current action names are `EditOccurrence` or `EditSeries`.\n     * @returns {void}\n     */\n    Schedule.prototype.saveEvent = function (data, currentAction) {\n        this.crudModule.saveEvent(data, currentAction);\n    };\n    /**\n     * Deletes the events based on the provided ID or event collection in the argument list.\n     *\n     * @function deleteEvent\n     * @param {string | number | Object | Object[]} id Accepts the ID as string or number type or single or collection of the event object which needs to be removed from the Schedule.\n     * @param {CurrentAction} currentAction Denotes the delete action that takes place either on occurrence or series events.\n     *  The valid current action names are `Delete`, `DeleteOccurrence` or `DeleteSeries`.\n     * @returns {void}\n     */\n    Schedule.prototype.deleteEvent = function (id, currentAction) {\n        this.crudModule.deleteEvent(id, currentAction);\n    };\n    /**\n     * Retrieves the entire collection of events bound to the Schedule.\n     *\n     * @function getEvents\n     * @param {Date} startDate Accepts the start date.\n     * @param {Date} endDate Accepts te end date.\n     * @param {boolean} includeOccurrences Accepts the boolean value to process the occurrence from recurrence series.\n     * @returns {Object[]} Returns the collection of event objects from the Schedule.\n     */\n    Schedule.prototype.getEvents = function (startDate, endDate, includeOccurrences) {\n        var eventCollections = [];\n        if (includeOccurrences) {\n            eventCollections = this.eventBase.getProcessedEvents();\n        }\n        else {\n            eventCollections = this.eventsData;\n        }\n        if (startDate) {\n            startDate = this.getDateTime(startDate);\n        }\n        if (endDate) {\n            endDate = this.getDateTime(endDate);\n        }\n        eventCollections = this.eventBase.filterEventsByRange(eventCollections, startDate, endDate);\n        return eventCollections;\n    };\n    /**\n     * Retrieves the entire collection of block events bound to the Schedule.\n     *\n     * @function getBlockEvents\n     * @param {Date} startDate Accepts the start date.\n     * @param {Date} endDate Accepts te end date.\n     * @param {boolean} includeOccurrences Accepts the boolean value to process the occurrence from recurrence series.\n     * @returns {Object[]} Returns the collection of block event objects from the Schedule.\n     */\n    Schedule.prototype.getBlockEvents = function (startDate, endDate, includeOccurrences) {\n        var eventCollections = [];\n        if (includeOccurrences) {\n            eventCollections = this.eventBase.getProcessedEvents(this.blockData);\n        }\n        else {\n            eventCollections = this.blockData;\n        }\n        if (startDate) {\n            startDate = this.getDateTime(startDate);\n        }\n        if (endDate) {\n            endDate = this.getDateTime(endDate);\n        }\n        eventCollections = this.eventBase.filterEventsByRange(eventCollections, startDate, endDate);\n        return eventCollections;\n    };\n    /**\n     * Retrieves the occurrences of a single recurrence event based on the provided parent ID.\n     *\n     * @function getOccurrencesByID\n     * @param {number} eventID ID of the parent recurrence data from which the occurrences are fetched.\n     * @returns {Object[]} Returns the collection of occurrence event objects.\n     */\n    Schedule.prototype.getOccurrencesByID = function (eventID) {\n        return this.eventBase.getOccurrencesByID(eventID);\n    };\n    /**\n     * Retrieves all the occurrences that lies between the specific start and end time range.\n     *\n     * @function getOccurrencesByRange\n     * @param {Date} startTime Denotes the start time range.\n     * @param {Date} endTime Denotes the end time range.\n     * @returns {Object[]} Returns the collection of occurrence event objects that lies between the provided start and end time.\n     */\n    Schedule.prototype.getOccurrencesByRange = function (startTime, endTime) {\n        startTime = this.getDateTime(startTime);\n        endTime = this.getDateTime(endTime);\n        return this.eventBase.getOccurrencesByRange(startTime, endTime);\n    };\n    /**\n     * Retrieves the dates that lies on active view of Schedule.\n     *\n     * @function getCurrentViewDates\n     * @returns {Date[]} Returns the collection of dates.\n     */\n    Schedule.prototype.getCurrentViewDates = function () {\n        return this.activeView ? this.activeView.renderDates : [];\n    };\n    /**\n     * Set the recurrence editor instance from custom editor template.\n     *\n     * @function setRecurrenceEditor\n     * @param {RecurrenceEditor} recurrenceEditor instance has passed to fetch the instance in event window.\n     * @returns {void}\n     */\n    Schedule.prototype.setRecurrenceEditor = function (recurrenceEditor) {\n        this.eventWindow.setRecurrenceEditor(recurrenceEditor);\n    };\n    /**\n     * Get the maximum id of an event.\n     *\n     * @function getEventMaxID\n     * @returns {number | string} Returns the maximum ID from scheduler data collections.\n     */\n    Schedule.prototype.getEventMaxID = function () {\n        return this.eventBase.getEventMaxID();\n    };\n    /**\n     * Get deleted occurrences from given recurrence series.\n     *\n     * @function getDeletedOccurrences\n     * @param {string | number | Object} recurrenceData Accepts the parent ID of the event object or parent event object\n     * @returns {Object[]} Returns the collection of deleted occurrence events.\n     */\n    Schedule.prototype.getDeletedOccurrences = function (recurrenceData) {\n        return this.eventBase.getDeletedOccurrences(recurrenceData);\n    };\n    /**\n     * Retrieves the events that lies on the current date range of the active view of Schedule.\n     *\n     * @function getCurrentViewEvents\n     * @returns {Object[]} Returns the collection of events.\n     */\n    Schedule.prototype.getCurrentViewEvents = function () {\n        return this.eventsProcessed;\n    };\n    /**\n     * Refreshes the event dataSource. This method may be useful when the events alone in the schedule needs to be re-rendered.\n     *\n     * @function refreshEvents\n     * @param {boolean} isRemoteRefresh Accepts the boolean to refresh data from remote or local\n     * @returns {void}\n     */\n    Schedule.prototype.refreshEvents = function (isRemoteRefresh) {\n        if (isRemoteRefresh === void 0) { isRemoteRefresh = true; }\n        if (isRemoteRefresh) {\n            if (this.dragAndDropModule) {\n                this.dragAndDropModule.actionObj.action = '';\n                removeClass([this.element], cls.EVENT_ACTION_CLASS);\n            }\n            this.crudModule.refreshDataManager();\n        }\n        else {\n            if (this.uiStateValues) {\n                this.uiStateValues.isPreventTimezone = true;\n            }\n            if (this.crudModule) {\n                this.crudModule.refreshProcessedData();\n            }\n            if (this.uiStateValues) {\n                this.uiStateValues.isPreventTimezone = false;\n            }\n        }\n    };\n    /**\n     * Method to refresh the given Schedule templates\n     *\n     * @param {string} templateName Accepts the template name\n     * @returns {void}\n     */\n    Schedule.prototype.refreshTemplates = function (templateName) {\n        if (templateName) {\n            this.resetTemplates([templateName]);\n        }\n        else {\n            this.resetTemplates();\n        }\n        switch (templateName) {\n            case 'eventTemplate':\n                this.appointmentTemplateFn = this.templateParser(this.activeViewOptions.eventTemplate);\n                this.refreshEvents(false);\n                break;\n            case 'dateHeaderTemplate':\n                this.dateHeaderTemplateFn = this.templateParser(this.activeViewOptions.dateHeaderTemplate);\n                this.activeView.refreshHeader();\n                break;\n            case 'dateRangeTemplate':\n                this.dateRangeTemplateFn = this.templateParser(this.activeViewOptions.dateRangeTemplate);\n                if (this.headerModule) {\n                    this.headerModule.refresh();\n                }\n                break;\n            case 'resourceHeaderTemplate':\n                this.resourceHeaderTemplateFn = this.templateParser(this.activeViewOptions.resourceHeaderTemplate);\n                if (this.activeView.isTimelineView()) {\n                    this.activeView.refreshResourceHeader();\n                }\n                else {\n                    this.activeView.refreshHeader();\n                }\n                break;\n            case 'quickInfoTemplates':\n                if (this.quickPopup) {\n                    this.quickPopup.destroy();\n                    this.quickPopup = null;\n                }\n                this.quickPopup = new QuickPopups(this);\n                this.quickInfoTemplatesHeaderFn = this.templateParser(this.quickInfoTemplates.header);\n                this.quickInfoTemplatesContentFn = this.templateParser(this.quickInfoTemplates.content);\n                this.quickInfoTemplatesFooterFn = this.templateParser(this.quickInfoTemplates.footer);\n                break;\n            case 'editorTemplate':\n                this.destroyEditorWindow();\n                this.editorTemplateFn = this.templateParser(this.editorTemplate);\n                break;\n            case 'editorHeaderTemplate':\n                this.destroyEditorWindow();\n                this.editorHeaderTemplateFn = this.templateParser(this.editorHeaderTemplate);\n                break;\n            case 'editorFooterTemplate':\n                this.destroyEditorWindow();\n                this.editorFooterTemplateFn = this.templateParser(this.editorFooterTemplate);\n                break;\n            case 'tooltipTemplate':\n            case 'headerTooltipTemplate':\n                if (this.eventTooltip) {\n                    this.eventTooltip.destroy();\n                    this.eventTooltip = null;\n                }\n                this.eventTooltip = new EventTooltip(this);\n                this.eventTooltipTemplateFn = this.templateParser(this.eventSettings.tooltipTemplate);\n                this.headerTooltipTemplateFn = this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);\n                break;\n            default:\n                this.initializeView(this.currentView);\n                break;\n        }\n    };\n    /**\n     * Refreshes the Schedule layout without re-render.\n     *\n     * @function refreshLayout\n     * @returns {void}\n     */\n    Schedule.prototype.refreshLayout = function () {\n        this.onScheduleResize();\n        if (this.headerModule) {\n            this.headerModule.refresh();\n        }\n        if (this.eventWindow) {\n            this.eventWindow.refresh();\n        }\n    };\n    /**\n     * To retrieve the appointment object from element.\n     *\n     * @function getEventDetails\n     * @param {Element} element Denotes the event UI element on the Schedule.\n     * @returns {Object} Returns the event details.\n     */\n    Schedule.prototype.getEventDetails = function (element) {\n        element = getElement(element);\n        var guid = element.getAttribute('data-guid');\n        if (guid) {\n            return this.eventBase.getEventByGuid(guid);\n        }\n        return {};\n    };\n    /**\n     * To check whether the given time range slots are available for event creation or already occupied by other events.\n     * This method currently focuses on validating appointments within the current view date range.\n     * However, it does not extend this availability check to recurrence occurrences outside of the current date range.\n     *\n     * @function isSlotAvailable\n     * @param {Date | Object} startTime Denotes the start time of the slot.\n     * @param {Date} endTime Denotes the end time of the slot.\n     * @param {number} groupIndex Defines the resource index from last level.\n     * @returns {boolean} Returns true, if the slot that lies in the provided time range does not contain any other events.\n     */\n    Schedule.prototype.isSlotAvailable = function (startTime, endTime, groupIndex) {\n        var _this = this;\n        var eventStart;\n        var eventEnd;\n        var eventObj = this.activeEventData.event;\n        if (startTime instanceof Date || typeof (startTime) === 'string') {\n            eventStart = startTime;\n            eventEnd = endTime;\n        }\n        else {\n            eventObj = startTime;\n            eventStart = startTime[this.eventFields.startTime];\n            eventEnd = startTime[this.eventFields.endTime];\n            if (this.resourceBase) {\n                groupIndex = this.eventBase.getGroupIndexFromEvent(startTime);\n            }\n        }\n        if (isNullOrUndefined(eventStart) || isNullOrUndefined(eventEnd)) {\n            return true;\n        }\n        eventStart = this.getDateTime(eventStart);\n        eventEnd = this.getDateTime(eventEnd);\n        var eventCollection = this.eventBase.filterEvents(eventStart, eventEnd);\n        if (!isNullOrUndefined(groupIndex) && this.resourceBase && this.resourceBase.lastResourceLevel.length > 0) {\n            eventCollection =\n                this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[parseInt(groupIndex.toString(), 10)], eventCollection);\n        }\n        if (eventObj) {\n            if (eventObj.Guid) {\n                eventCollection = eventCollection.filter(function (event) { return event.Guid !== eventObj.Guid; });\n            }\n            else {\n                eventCollection = eventCollection.filter(function (event) {\n                    return event[_this.eventFields.id] !== eventObj[_this.eventFields.id];\n                });\n            }\n        }\n        return (eventCollection.length > 0) ? false : true;\n    };\n    /**\n     * To manually open the event editor on specific time or on certain events.\n     *\n     * @function openEditor\n     * @param {Object} data It can be either cell data or event data.\n     * @param {CurrentAction} action Defines the action for which the editor needs to be opened such as either for new event creation or\n     *  for editing of existing events. The applicable action names that can be used here are `Add`, `Save`, `EditOccurrence`\n     *  and `EditSeries`.\n     * @param {boolean} isEventData It allows to decide whether the editor needs to be opened with the clicked cell details or with the\n     *  passed event details.\n     * @param {number} repeatType It opens the editor with the recurrence options based on the provided repeat type.\n     * @returns {void}\n     */\n    Schedule.prototype.openEditor = function (data, action, isEventData, repeatType) {\n        if (action === 'Add' && !isEventData) {\n            data.startTime = this.getDateTime(data.startTime);\n            data.endTime = this.getDateTime(data.endTime);\n            if (!isNullOrUndefined(data.element)) {\n                data.element = getElement(data.element);\n            }\n        }\n        else {\n            data[this.eventFields.startTime] = this.getDateTime(data[this.eventFields.startTime]);\n            data[this.eventFields.endTime] = this.getDateTime(data[this.eventFields.endTime]);\n        }\n        this.currentAction = action;\n        if (action !== 'Add') {\n            this.activeEventData.event = data;\n        }\n        this.eventWindow.openEditor(data, action, isEventData, repeatType);\n    };\n    /**\n     * To manually close the event editor window\n     *\n     * @function closeEditor\n     * @returns {void}\n     */\n    Schedule.prototype.closeEditor = function () {\n        if (this.eventWindow) {\n            this.eventWindow.dialogClose();\n        }\n    };\n    /**\n     * To manually open the quick info popup based on cell or event details.\n     *\n     * @param {object} data Defines the cell or event data. If the data contains valid ID, it will open event quick info popup,\n     * otherwise cell quick info popup displayed.\n     * @returns {void}\n     */\n    Schedule.prototype.openQuickInfoPopup = function (data) {\n        var _this = this;\n        if (this.currentView === 'Year' || isNullOrUndefined(data)) {\n            return;\n        }\n        if (isNullOrUndefined(data[this.eventFields.id])) {\n            if (this.currentView === 'Agenda' || this.currentView === 'MonthAgenda' || isNullOrUndefined(this.activeView)) {\n                return;\n            }\n            var cellData = {\n                startTime: this.activeCellsData.startTime = this.getDateTime(data[this.eventFields.startTime]),\n                endTime: this.activeCellsData.endTime = this.getDateTime(data[this.eventFields.endTime]),\n                isAllDay: this.activeCellsData.isAllDay =\n                    !isNullOrUndefined(data[this.eventFields.isAllDay]) ? data[this.eventFields.isAllDay] : false\n            };\n            var startTime = this.activeView.getAdjustedDate(new Date(cellData.startTime));\n            if (startTime) {\n                var query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + startTime.getTime() + '\"]';\n                if (this.activeViewOptions.group.resources.length > 0 && !this.uiStateValues.isGroupAdaptive\n                    && this.resourceBase && this.eventBase) {\n                    cellData.groupIndex = this.eventBase.getGroupIndexFromEvent(data);\n                    query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + startTime.getTime() + '\"][data-group-index=\"' + cellData.groupIndex + '\"]';\n                }\n                var workCell = this.element.querySelector(query);\n                if (workCell) {\n                    workCell.focus();\n                    cellData.element = workCell;\n                    this.notify(events.cellClick, cellData);\n                }\n            }\n        }\n        else {\n            var app = this.getCurrentViewEvents().filter(function (item) {\n                return data[_this.eventFields.id] === item[_this.eventFields.id];\n            });\n            if (app.length <= 0) {\n                return;\n            }\n            var selectEvent = app[0];\n            if (data[this.eventFields.recurrenceRule]) {\n                var occurence = app.filter(function (x) {\n                    return x[_this.eventFields.startTime].getTime() === data[_this.eventFields.startTime].getTime();\n                });\n                if (occurence.length > 0) {\n                    selectEvent = occurence[0];\n                }\n            }\n            var element = this.element.querySelector('div[data-guid=\"' + selectEvent.Guid + '\"]');\n            if (element) {\n                this.eventBase.removeSelectedAppointmentClass();\n                this.eventBase.addSelectedAppointments([element], false);\n                this.activeEventData = { event: selectEvent, element: element };\n                if (this.currentView === 'Agenda' || this.currentView === 'MonthAgenda') {\n                    addClass([this.activeEventData.element], cls.AGENDA_SELECTED_CELL);\n                }\n                this.notify(events.eventClick, this.activeEventData);\n            }\n        }\n    };\n    /**\n     * To manually close the quick info popup\n     *\n     * @function closeQuickInfoPopup\n     * @returns {void}\n     */\n    Schedule.prototype.closeQuickInfoPopup = function () {\n        if (this.quickPopup) {\n            this.quickPopup.quickPopupHide(true);\n        }\n    };\n    /**\n     * Closes the tooltip.\n     * For example, when the context menu is opened for an event,\n     * the tooltip can be closed by calling this method.\n     *\n     * @function closeTooltip\n     * @returns {void}\n     */\n    Schedule.prototype.closeTooltip = function () {\n        if (this.eventTooltip) {\n            this.eventTooltip.close();\n        }\n    };\n    /**\n     * Select the resource based on group index in mobile mode.\n     *\n     * @param {number} groupIndex Defines the resource index based on last level.\n     * @returns {void}\n     */\n    Schedule.prototype.selectResourceByIndex = function (groupIndex) {\n        if (this.resourceBase && this.uiStateValues.isGroupAdaptive) {\n            this.resourceBase.selectResourceByIndex(groupIndex);\n        }\n    };\n    /**\n     * Select the resources to the based on id.\n     *\n     * @param {string | number} id id of the resource defined in resources collection.\n     * @param {string} name Name of the resource defined in resources collection.\n     * @returns {number} Returns the group index\n     */\n    Schedule.prototype.getIndexFromResourceId = function (id, name) {\n        if (this.resourceBase) {\n            return this.resourceBase.getIndexFromResourceId(id, name);\n        }\n        return null;\n    };\n    /**\n     * Adds the resources to the specified index.\n     *\n     * @param {Object | Object[]} resources Accepts the resource data in single or collection of data.\n     * @param {string} name Name of the resource defined in resources collection.\n     * @param {number} index Index or position where the resource should be added.\n     * @returns {void}\n     */\n    Schedule.prototype.addResource = function (resources, name, index) {\n        this.resourceBase.addResource(resources, name, index);\n    };\n    /**\n     * Removes the specified resource.\n     *\n     * @param {string | string[] | number | number[]} resourceId Specifies the resource id to be removed.\n     * @param {string} name Specifies the resource name from which the id should be referred.\n     * @returns {void}\n     */\n    Schedule.prototype.removeResource = function (resourceId, name) {\n        this.resourceBase.removeResource(resourceId, name);\n    };\n    /**\n     * Destroys the Schedule component.\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Schedule.prototype.destroy = function () {\n        if (this.eventTooltip) {\n            this.eventTooltip.destroy();\n            this.eventTooltip = null;\n        }\n        this.destroyPopups();\n        this.hideSpinner();\n        this.unWireEvents();\n        this.destroyHeaderModule();\n        if (this.eventBase) {\n            this.eventBase.destroy();\n            this.eventBase = null;\n        }\n        if (this.workCellAction) {\n            this.workCellAction.destroy();\n            this.workCellAction = null;\n        }\n        if (this.inlineModule) {\n            this.inlineModule.destroy();\n            this.inlineModule = null;\n        }\n        if (this.keyboardInteractionModule) {\n            this.keyboardInteractionModule.destroy();\n            this.keyboardInteractionModule = null;\n        }\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n        if (this.printModule) {\n            this.printModule.destroy();\n        }\n        if (this.activeView) {\n            this.resetTemplates();\n            this.activeView.removeEventListener();\n            this.activeView.destroy();\n            this.activeView = null;\n        }\n        if (this.scheduleTouchModule) {\n            this.scheduleTouchModule.destroy();\n            this.scheduleTouchModule = null;\n        }\n        if (this.crudModule) {\n            this.crudModule.destroy();\n            this.crudModule = null;\n        }\n        if (this.dataModule) {\n            this.dataModule.destroy();\n            this.dataModule = null;\n        }\n        _super.prototype.destroy.call(this);\n        var modules = [\n            'dayModule', 'weekModule', 'workWeekModule', 'monthModule', 'monthAgendaModule', 'yearModule', 'agendaModule',\n            'timelineViewsModule', 'timelineMonthModule', 'timelineYearModule', 'resizeModule', 'dragAndDropModule',\n            'excelExportModule', 'printModule', 'iCalendarExportModule', 'iCalendarImportModule', 'tzModule', 'eventsData',\n            'eventsProcessed', 'blockData', 'blockProcessed', 'uiStateValues', 'viewCollections', 'viewOptions', 'defaultLocale',\n            'localeObj', 'selectedElements', 'resourceCollection', 'editorTitles', 'eventFields', 'activeViewOptions',\n            'activeEventData', 'activeCellsData', 'renderModule'\n        ];\n        for (var _i = 0, modules_1 = modules; _i < modules_1.length; _i++) {\n            var module = modules_1[_i];\n            this[\"\" + module] = null;\n        }\n        util.removeChildren(this.element);\n        var removeClasses = [cls.ROOT, cls.RTL, cls.DEVICE_CLASS, cls.MULTI_DRAG];\n        if (this.cssClass) {\n            removeClasses = removeClasses.concat(this.cssClass.split(' '));\n        }\n        removeClass([this.element], removeClasses);\n    };\n    __decorate([\n        Property('auto')\n    ], Schedule.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Schedule.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"showHeaderBar\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"showTimeIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"allowSwiping\", void 0);\n    __decorate([\n        Collection([], ToolbarItem)\n    ], Schedule.prototype, \"toolbarItems\", void 0);\n    __decorate([\n        Property('Week')\n    ], Schedule.prototype, \"currentView\", void 0);\n    __decorate([\n        Property(['Day', 'Week', 'WorkWeek', 'Month', 'Agenda'])\n    ], Schedule.prototype, \"views\", void 0);\n    __decorate([\n        Property(new Date())\n    ], Schedule.prototype, \"selectedDate\", void 0);\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], Schedule.prototype, \"minDate\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], Schedule.prototype, \"maxDate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], Schedule.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"showWeekend\", void 0);\n    __decorate([\n        Property(0)\n    ], Schedule.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('FirstDay')\n    ], Schedule.prototype, \"weekRule\", void 0);\n    __decorate([\n        Property([1, 2, 3, 4, 5])\n    ], Schedule.prototype, \"workDays\", void 0);\n    __decorate([\n        Property(12)\n    ], Schedule.prototype, \"monthsCount\", void 0);\n    __decorate([\n        Property('00:00')\n    ], Schedule.prototype, \"startHour\", void 0);\n    __decorate([\n        Property('24:00')\n    ], Schedule.prototype, \"endHour\", void 0);\n    __decorate([\n        Property(null)\n    ], Schedule.prototype, \"timeFormat\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], Schedule.prototype, \"enableAllDayScroll\", void 0);\n    __decorate([\n        Property(false)\n    ], Schedule.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Complex({}, WorkHours)\n    ], Schedule.prototype, \"workHours\", void 0);\n    __decorate([\n        Complex({}, TimeScale)\n    ], Schedule.prototype, \"timeScale\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"allowKeyboardInteraction\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"dateHeaderTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"dateRangeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"cellHeaderTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"dayHeaderTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"monthHeaderTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"cellTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Schedule.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"showQuickInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Schedule.prototype, \"allowInline\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"allowMultiCellSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"allowMultiRowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Schedule.prototype, \"quickInfoOnSelectionEnd\", void 0);\n    __decorate([\n        Property(false)\n    ], Schedule.prototype, \"showWeekNumber\", void 0);\n    __decorate([\n        Property(false)\n    ], Schedule.prototype, \"rowAutoHeight\", void 0);\n    __decorate([\n        Property(false)\n    ], Schedule.prototype, \"allowMultiDrag\", void 0);\n    __decorate([\n        Property(0)\n    ], Schedule.prototype, \"firstMonthOfYear\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"editorTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"editorHeaderTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"editorFooterTemplate\", void 0);\n    __decorate([\n        Complex({}, QuickInfoTemplates)\n    ], Schedule.prototype, \"quickInfoTemplates\", void 0);\n    __decorate([\n        Property(7)\n    ], Schedule.prototype, \"agendaDaysCount\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"hideEmptyAgendaDays\", void 0);\n    __decorate([\n        Property(true)\n    ], Schedule.prototype, \"enableRecurrenceValidation\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"timezone\", void 0);\n    __decorate([\n        Complex({}, EventSettings)\n    ], Schedule.prototype, \"eventSettings\", void 0);\n    __decorate([\n        Property(timezoneData)\n    ], Schedule.prototype, \"timezoneDataSource\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"resourceHeaderTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"headerIndentTemplate\", void 0);\n    __decorate([\n        Complex({}, Group)\n    ], Schedule.prototype, \"group\", void 0);\n    __decorate([\n        Collection([], Resources)\n    ], Schedule.prototype, \"resources\", void 0);\n    __decorate([\n        Collection([], HeaderRows)\n    ], Schedule.prototype, \"headerRows\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property()\n    ], Schedule.prototype, \"eventDragArea\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"cellClick\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"cellDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"moreEventsClick\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"hover\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"navigating\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"renderCell\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"eventClick\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"eventDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"eventRendered\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"dataBinding\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"popupOpen\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"popupClose\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"virtualScrollStart\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"virtualScrollStop\", void 0);\n    __decorate([\n        Event()\n    ], Schedule.prototype, \"dataBound\", void 0);\n    Schedule = __decorate([\n        NotifyPropertyChanges\n    ], Schedule);\n    return Schedule;\n}(Component));\nexport { Schedule };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, extend, isNullOrUndefined, closest, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { formatUnit, remove, removeClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Base class for the common drag and resize related actions\n */\nvar ActionBase = /** @class */ (function () {\n    function ActionBase(parent) {\n        this.daysVariation = 0;\n        this.parent = parent;\n        this.actionObj = {\n            X: 0, Y: 0, groupIndex: 0, cellWidth: 0, cellHeight: 0, slotInterval: 0, interval: 0, actionIndex: 0,\n            cloneElement: [], originalElement: [], action: null, isAllDay: null, excludeSelectors: null,\n            index: 0, navigationInterval: null, scrollInterval: null\n        };\n        this.scrollArgs = { element: null, width: 0, height: 0 };\n        this.resizeEdges = { left: false, right: false, top: false, bottom: false };\n        this.scrollEdges = { left: false, right: false, top: false, bottom: false };\n    }\n    ActionBase.prototype.getChangedData = function (multiData) {\n        var _this = this;\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        eventObj[this.parent.eventFields.startTime] = this.actionObj.start;\n        eventObj[this.parent.eventFields.endTime] = this.actionObj.end;\n        if (!isNullOrUndefined(this.actionObj.isAllDay)) {\n            eventObj[this.parent.eventFields.isAllDay] = this.actionObj.isAllDay;\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var originalElement = this.getOriginalElement(this.actionObj.element);\n            if (originalElement) {\n                var indexCol_1 = originalElement.map(function (element) { return parseInt(element.getAttribute('data-group-index'), 10); });\n                if (indexCol_1.indexOf(this.actionObj.groupIndex) === -1 || (!isNullOrUndefined(multiData) && multiData.length > 0)) {\n                    var cloneIndex_1 = parseInt(this.actionObj.clone.getAttribute('data-group-index'), 10);\n                    indexCol_1 = indexCol_1.filter(function (index) { return index !== cloneIndex_1; });\n                    indexCol_1.push(this.actionObj.groupIndex);\n                    if (multiData && multiData.length > 0) {\n                        multiData.forEach(function (data) {\n                            _this.parent.resourceBase.getResourceData(data, _this.actionObj.groupIndex, indexCol_1);\n                        });\n                    }\n                    else {\n                        this.parent.resourceBase.getResourceData(eventObj, this.actionObj.groupIndex, indexCol_1);\n                    }\n                }\n            }\n        }\n        return eventObj;\n    };\n    ActionBase.prototype.saveChangedData = function (eventArgs, isMultiSelect) {\n        if (isMultiSelect === void 0) { isMultiSelect = false; }\n        this.parent.activeEventData.event = this.actionObj.event;\n        this.parent.currentAction = 'Save';\n        var currentAction;\n        var eventsCollection = [eventArgs.data];\n        if (isMultiSelect) {\n            eventsCollection = eventArgs.selectedData;\n        }\n        for (var _i = 0, eventsCollection_1 = eventsCollection; _i < eventsCollection_1.length; _i++) {\n            var eventObj = eventsCollection_1[_i];\n            var isSameResource = (this.parent.activeViewOptions.group.resources.length > 0) ?\n                parseInt(this.actionObj.element.getAttribute('data-group-index'), 10) === this.actionObj.groupIndex : true;\n            if (+eventObj[this.parent.eventFields.startTime] === +this.actionObj.event[this.parent.eventFields.startTime] &&\n                +eventObj[this.parent.eventFields.endTime] === +this.actionObj.event[this.parent.eventFields.endTime] && isSameResource) {\n                this.parent.crudModule.crudObj.isCrudAction = false;\n                return;\n            }\n            if (eventObj[this.parent.eventFields.recurrenceRule]) {\n                var eveId = (eventObj[this.parent.eventFields.recurrenceID] || eventObj[this.parent.eventFields.id]);\n                if (eventObj[this.parent.eventFields.id] === eventObj[this.parent.eventFields.recurrenceID]) {\n                    eventObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n                    currentAction = 'EditOccurrence';\n                }\n                if (this.parent.enableRecurrenceValidation\n                    && this.parent.eventWindow.editOccurrenceValidation(eveId, eventObj, this.actionObj.event)) {\n                    return;\n                }\n            }\n            else {\n                currentAction = null;\n            }\n            if (eventObj[this.parent.eventFields.startTimezone] || eventObj[this.parent.eventFields.endTimezone]) {\n                this.parent.eventBase.timezoneConvert(eventObj);\n            }\n            this.parent.crudModule.saveEvent(eventObj, currentAction);\n        }\n    };\n    ActionBase.prototype.calculateIntervalTime = function (date) {\n        var intervalTime = new Date(+date);\n        intervalTime.setMinutes(Math.floor(intervalTime.getMinutes() / this.actionObj.interval) * this.actionObj.interval);\n        return intervalTime;\n    };\n    ActionBase.prototype.getContentAreaDimension = function () {\n        var viewElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var trElement = [].slice.call(viewElement.querySelector('tr').children);\n        if (!this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.isAdaptive && !this.parent.enableAdaptiveUI && !this.parent.virtualScrollModule) {\n            trElement = this.getResourceElements(trElement);\n        }\n        var leftOffset = trElement[0].getBoundingClientRect();\n        var rightOffset = trElement.slice(-1)[0].getBoundingClientRect();\n        var viewDimension = {\n            bottom: viewElement.scrollHeight - 5,\n            left: this.parent.enableRtl ? rightOffset.left : leftOffset.left,\n            right: this.parent.enableRtl ? leftOffset.right : rightOffset.right,\n            top: 0,\n            leftOffset: this.parent.enableRtl ? rightOffset.right : leftOffset.right,\n            rightOffset: this.parent.enableRtl ? leftOffset.left : rightOffset.left\n        };\n        return viewDimension;\n    };\n    ActionBase.prototype.getIndex = function (index) {\n        var contentElements = [].slice.call(this.parent.getContentTable().querySelector('tr').children);\n        var indexes = { minIndex: 0, maxIndex: contentElements.length - 1 };\n        if (this.actionObj.action === 'resize' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeView.isTimelineView()) {\n            var groupElements = this.getResourceElements(contentElements);\n            indexes.minIndex = groupElements[0].cellIndex;\n            indexes.maxIndex = groupElements.slice(-1)[0].cellIndex;\n        }\n        if (index < indexes.minIndex) {\n            index = indexes.minIndex;\n        }\n        if (index > indexes.maxIndex) {\n            index = indexes.maxIndex;\n        }\n        return index;\n    };\n    ActionBase.prototype.updateTimePosition = function (date, multiData) {\n        var index = 0;\n        for (var _i = 0, _a = this.actionObj.cloneElement; _i < _a.length; _i++) {\n            var cloneElement = _a[_i];\n            var timeElement = cloneElement.querySelector('.' + cls.APPOINTMENT_TIME);\n            if (timeElement) {\n                var startTime = this.actionObj.start;\n                var endTime = this.actionObj.end;\n                if (multiData && multiData.length > 0) {\n                    startTime = multiData[parseInt(index.toString(), 10)][this.parent.eventFields.startTime];\n                    endTime = multiData[parseInt(index.toString(), 10)][this.parent.eventFields.endTime];\n                }\n                timeElement.innerHTML = this.parent.getTimeString(startTime) + ' - ' +\n                    this.parent.getTimeString(endTime);\n            }\n            index++;\n        }\n        if (!this.parent.activeViewOptions.timeScale.enable || !this.parent.isAdaptive || this.parent.currentView === 'Month' ||\n            this.parent.currentView === 'TimelineMonth') {\n            return;\n        }\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n        if (!timeIndicator) {\n            timeIndicator = createElement('div', { className: cls.CLONE_TIME_INDICATOR_CLASS });\n            var wrapperClass = this.parent.activeView.isTimelineView() ? cls.DATE_HEADER_WRAP_CLASS : cls.TIME_CELLS_WRAP_CLASS;\n            this.parent.element.querySelector('.' + wrapperClass).appendChild(timeIndicator);\n        }\n        timeIndicator.innerHTML = this.parent.getTimeString(date);\n        var offsetValue = 0;\n        if (this.parent.activeView.isTimelineView()) {\n            if (this.parent.enableRtl) {\n                var rightValue = parseInt(this.actionObj.clone.style.right, 10);\n                offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ?\n                    rightValue + this.actionObj.clone.offsetWidth : rightValue;\n                timeIndicator.style.right = formatUnit(offsetValue);\n            }\n            else {\n                var leftValue = parseInt(this.actionObj.clone.style.left, 10);\n                offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ?\n                    leftValue : leftValue + this.actionObj.clone.offsetWidth;\n                timeIndicator.style.left = formatUnit(offsetValue);\n            }\n        }\n        else {\n            offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.top ? this.actionObj.clone.offsetTop :\n                this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight;\n            timeIndicator.style.top = formatUnit(offsetValue);\n        }\n    };\n    ActionBase.prototype.getResourceElements = function (table) {\n        var _this = this;\n        return table.filter(function (element) {\n            return parseInt(element.getAttribute('data-group-index'), 10) === _this.actionObj.groupIndex;\n        });\n    };\n    ActionBase.prototype.getOriginalElement = function (element) {\n        var originalElement;\n        var guid = element.getAttribute('data-guid');\n        var isMorePopup = element.offsetParent && element.offsetParent.classList.contains(cls.MORE_EVENT_POPUP_CLASS);\n        if (isMorePopup || this.parent.activeView.isTimelineView() || (this.actionObj.action !== 'resize' && this.parent.virtualScrollModule)) {\n            originalElement = [].slice.call(this.parent.element.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n        }\n        else {\n            var tr = closest(element, 'tr');\n            if (tr) {\n                originalElement = [].slice.call(tr.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n            }\n        }\n        return originalElement;\n    };\n    ActionBase.prototype.createCloneElement = function (element) {\n        var cloneWrapper = createElement('div', { innerHTML: element.outerHTML });\n        var cloneElement = cloneWrapper.children[0];\n        var cloneClassLists = [cls.CLONE_ELEMENT_CLASS];\n        cloneClassLists.push((this.actionObj.action === 'drag') ? cls.DRAG_CLONE_CLASS : cls.RESIZE_CLONE_CLASS);\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineMonth') {\n            cloneClassLists.push(cls.MONTH_CLONE_ELEMENT_CLASS);\n        }\n        addClass([cloneElement], cloneClassLists);\n        addClass([element], cls.EVENT_ACTION_CLASS);\n        if (!isNullOrUndefined(element.parentElement)) {\n            element.parentElement.appendChild(cloneElement);\n        }\n        cloneElement.style.width = formatUnit(cloneElement.offsetWidth - 2);\n        var dragElement = document.querySelector(this.parent.eventDragArea);\n        if (this.parent.eventDragArea && this.actionObj.action === 'drag' && dragElement) {\n            dragElement.appendChild(cloneElement);\n        }\n        setStyleAttribute(cloneElement, { border: '0px' });\n        return cloneElement;\n    };\n    ActionBase.prototype.removeCloneElementClasses = function () {\n        var elements = this.actionObj.originalElement;\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear' ||\n            this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek') {\n            elements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.EVENT_ACTION_CLASS));\n        }\n        removeClass(elements, cls.EVENT_ACTION_CLASS);\n    };\n    ActionBase.prototype.removeCloneElement = function () {\n        this.actionObj.originalElement = [];\n        var dynamicEle = [].slice.call(this.parent.element.querySelectorAll('.e-dynamic-clone'));\n        for (var _i = 0, dynamicEle_1 = dynamicEle; _i < dynamicEle_1.length; _i++) {\n            var cloneEle = dynamicEle_1[_i];\n            remove(cloneEle);\n        }\n        for (var _a = 0, _b = this.actionObj.cloneElement; _a < _b.length; _a++) {\n            var cloneElement = _b[_a];\n            if (!isNullOrUndefined(cloneElement.parentNode)) {\n                remove(cloneElement);\n            }\n        }\n        this.actionObj.cloneElement = [];\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n        if (timeIndicator) {\n            remove(timeIndicator);\n        }\n    };\n    ActionBase.prototype.getCursorElement = function (e) {\n        var pages = this.parent.eventBase.getPageCoordinates(e);\n        return document.elementFromPoint(pages.clientX, pages.clientY);\n    };\n    ActionBase.prototype.autoScroll = function () {\n        var parent = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n        var xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n        var yInBounds = yIsScrollable && parent.scrollTop >= 0 && parent.scrollTop + parent.offsetHeight <= parent.scrollHeight;\n        var xInBounds = xIsScrollable && parent.scrollLeft >= 0 && parent.scrollLeft + parent.offsetWidth <= parent.scrollWidth;\n        if (this.actionObj.action === 'resize' && this.scrollEdges.right && (parent.scrollLeft + parent.offsetWidth) > parent.scrollWidth) {\n            var tdCollections = ([].slice.call(this.parent.getContentTable().querySelector('tr').children)).length - 1;\n            var cellIndex = Math.ceil((this.actionObj.clone.offsetLeft + (this.actionObj.clone.offsetWidth)) /\n                this.actionObj.cellWidth);\n            xInBounds = cellIndex === tdCollections;\n        }\n        if (yInBounds && (this.scrollEdges.top || this.scrollEdges.bottom)) {\n            parent.scrollTop += this.scrollEdges.top ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n            if (this.actionObj.action === 'resize') {\n                if (parent.scrollHeight !== parent.offsetHeight + parent.scrollTop && parent.scrollTop > 0) {\n                    this.actionObj.Y += this.scrollEdges.top ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n                }\n            }\n        }\n        if (xInBounds && (this.scrollEdges.left || this.scrollEdges.right)) {\n            parent.scrollLeft += this.scrollEdges.left ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n            if (this.actionObj.action === 'resize') {\n                if (parent.scrollWidth !== parent.offsetWidth + parent.scrollLeft && parent.scrollLeft > 0) {\n                    this.actionObj.X += this.scrollEdges.left ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n                }\n            }\n        }\n    };\n    ActionBase.prototype.autoScrollValidation = function () {\n        if (!this.actionObj.scroll.enable) {\n            return false;\n        }\n        var res = this.parent.boundaryValidation(this.actionObj.pageY, this.actionObj.pageX);\n        this.scrollEdges = res;\n        return res.bottom || res.top || res.left || res.right;\n    };\n    ActionBase.prototype.actionClass = function (type) {\n        if (type === 'addClass') {\n            addClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n        }\n        else {\n            removeClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n        }\n    };\n    ActionBase.prototype.updateScrollPosition = function (e) {\n        var _this = this;\n        this.scrollEventArgs = e;\n        if (this.actionObj.scroll.enable && isNullOrUndefined(this.actionObj.scrollInterval)) {\n            this.actionObj.scrollInterval = window.setInterval(function () {\n                if (_this.autoScrollValidation() && !_this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n                    if (_this.parent.activeView.isTimelineView() && _this.parent.activeViewOptions.group.resources.length > 0\n                        && _this.actionObj.groupIndex < 0) {\n                        return;\n                    }\n                    _this.autoScroll();\n                    if (_this.actionObj.action === 'drag') {\n                        _this.parent.dragAndDropModule.updateDraggingDateTime(_this.scrollEventArgs);\n                    }\n                    else {\n                        _this.parent.resizeModule.updateResizingDirection(_this.scrollEventArgs);\n                    }\n                }\n            }, this.actionObj.scroll.timeDelay);\n        }\n    };\n    ActionBase.prototype.updateOriginalElement = function (cloneElement) {\n        var query = '[data-id=\"' + cloneElement.getAttribute('data-id') + '\"]';\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            query = query.concat('[data-group-index = \"' + cloneElement.getAttribute('data-group-index') + '\"]');\n        }\n        var elements = [].slice.call(this.parent.element.querySelectorAll(query));\n        addClass(elements, cls.EVENT_ACTION_CLASS);\n        var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n        removeClass(eventWrappers, cls.EVENT_ACTION_CLASS);\n    };\n    ActionBase.prototype.getUpdatedEvent = function (startTime, endTime, eventObj) {\n        var event = JSON.parse(JSON.stringify(eventObj));\n        event[this.parent.eventFields.startTime] = startTime;\n        event[this.parent.eventFields.endTime] = endTime;\n        return event;\n    };\n    ActionBase.prototype.dynamicYearlyEventsRendering = function (event, isResize) {\n        if (isResize === void 0) { isResize = false; }\n        if (!isNullOrUndefined(this.parent.eventDragArea)) {\n            return;\n        }\n        var appWidth = this.actionObj.cellWidth - 7;\n        if (isResize && (this.resizeEdges.left || this.resizeEdges.right)) {\n            appWidth = this.actionObj.cellWidth * event.count;\n        }\n        if (!isResize && (this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length === 0)) {\n            var eventObj = this.yearEvent.isSpannedEvent(event, event[this.parent.eventFields.startTime]);\n            if (eventObj[this.parent.eventFields.startTime].getTime() ===\n                eventObj[this.parent.eventFields.endTime].getTime()) {\n                eventObj.isSpanned.count = 1;\n            }\n            appWidth = eventObj.isSpanned.count * this.actionObj.cellWidth;\n        }\n        if (!isResize && this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length !== 0) {\n            var eventObj = this.yearEvent.isSpannedEvent(event, event[this.parent.eventFields.startTime]);\n            appWidth = eventObj.isSpanned.count * this.actionObj.cellWidth;\n        }\n        var appointmentElement = this.createAppointmentElement(this.actionObj.groupIndex, event[this.parent.eventFields.subject]);\n        appointmentElement.setAttribute('drag', 'true');\n        addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n        setStyleAttribute(appointmentElement, {\n            'width': appWidth + 'px', 'border': '0px', 'pointer-events': 'none',\n            'position': 'absolute', 'overflow': 'hidden', 'padding': '3px'\n        });\n        if (this.actionObj.clone.style.backgroundColor !== '') {\n            setStyleAttribute(appointmentElement, { 'backgroundColor': this.actionObj.clone.style.backgroundColor });\n        }\n        var date = util.resetTime(event[this.parent.eventFields.startTime]).getTime();\n        var query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"]';\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"][data-group-index=\"' + this.actionObj.groupIndex + '\"]';\n        }\n        var cellTd = this.parent.element.querySelector(query);\n        if (isNullOrUndefined(cellTd)) {\n            return;\n        }\n        if (isResize) {\n            var dateHeader = cellTd.querySelector('.' + cls.DATE_HEADER_CLASS);\n            var appHeight = this.actionObj.cellHeight * event.count -\n                (dateHeader ? dateHeader.offsetHeight : 0) - 7;\n            if (this.resizeEdges.right || this.resizeEdges.left) {\n                appHeight = parseInt(this.actionObj.clone.style.height, 10);\n            }\n            setStyleAttribute(appointmentElement, { 'height': appHeight + 'px' });\n        }\n        this.renderDynamicElement(cellTd, appointmentElement, true);\n        this.actionObj.cloneElement.push(appointmentElement);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ActionBase.prototype.renderDynamicElement = function (cellTd, element, isAppointment) {\n        if (isAppointment === void 0) { isAppointment = false; }\n        if (cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS)) {\n            cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS).appendChild(element);\n        }\n        else {\n            var wrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            wrapper.appendChild(element);\n            cellTd.appendChild(wrapper);\n        }\n    };\n    ActionBase.prototype.createAppointmentElement = function (resIndex, innerText) {\n        var appointmentWrapper = createElement('div', {\n            className: cls.APPOINTMENT_CLASS,\n            innerHTML: innerText\n        });\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            appointmentWrapper.setAttribute('data-group-index', resIndex.toString());\n        }\n        return appointmentWrapper;\n    };\n    ActionBase.prototype.dynamicEventsRendering = function (event) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.eventDragArea)) {\n            return;\n        }\n        var dateRender = this.parent.activeView.renderDates;\n        var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n        var workDays = this.parent.activeViewOptions.workDays;\n        var groupOrder;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var renderedResource = this.parent.virtualScrollModule && this.parent.virtualScrollModule.isHorizontalScroll ?\n                this.parent.resourceBase.renderedResources : this.parent.resourceBase.lastResourceLevel;\n            var resources = renderedResource.\n                filter(function (res) { return res.groupIndex === _this.actionObj.groupIndex; });\n            dateRender = resources[0].renderDates;\n            var elementSelector = \".\" + cls.WORK_CELLS_CLASS + \"[data-group-index=\\\"\" + this.actionObj.groupIndex + \"\\\"]\";\n            workCells = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n            workDays = resources[0].workDays;\n            groupOrder = resources[0].groupOrder;\n        }\n        this.monthEvent.dateRender = dateRender;\n        this.monthEvent.getSlotDates(workDays);\n        if (this.resizeEdges.left || this.resizeEdges.right) {\n            var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n            for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n                var wrapper = eventWrappers_1[_i];\n                remove(wrapper);\n            }\n        }\n        var spannedEvents = this.monthEvent.splitEvent(event, dateRender);\n        for (var _a = 0, spannedEvents_1 = spannedEvents; _a < spannedEvents_1.length; _a++) {\n            var event_1 = spannedEvents_1[_a];\n            var day = this.parent.getIndexOfDate(dateRender, util.resetTime(event_1[this.monthEvent.fields.startTime]));\n            var diffInDays = event_1.data.count;\n            var appWidth = (diffInDays * this.actionObj.cellWidth) - 7;\n            var appointmentElement = this.monthEvent.createAppointmentElement(event_1, this.actionObj.groupIndex, true);\n            appointmentElement.setAttribute('drag', 'true');\n            addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n            this.monthEvent.applyResourceColor(appointmentElement, event_1, 'backgroundColor', groupOrder);\n            setStyleAttribute(appointmentElement, { 'width': appWidth + 'px', 'border': '0px', 'pointer-events': 'none' });\n            var cellTd = workCells[parseInt(day.toString(), 10)];\n            if (cellTd) {\n                this.monthEvent.renderElement(cellTd, appointmentElement, true);\n                this.actionObj.cloneElement.push(appointmentElement);\n            }\n        }\n    };\n    ActionBase.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.actionObj = {};\n        this.scrollArgs = {};\n        this.resizeEdges = { left: false, right: false, top: false, bottom: false };\n        this.scrollEdges = { left: false, right: false, top: false, bottom: false };\n    };\n    return ActionBase;\n}());\nexport { ActionBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, Browser, EventHandler, remove, closest, extend, formatUnit, setStyleAttribute, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ActionBase } from '../actions/action-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Schedule events resize actions\n */\nvar Resize = /** @class */ (function (_super) {\n    __extends(Resize, _super);\n    function Resize() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Resize.prototype.wireResizeEvent = function (element) {\n        var resizeElement = [].slice.call(element.querySelectorAll('.' + cls.EVENT_RESIZE_CLASS));\n        for (var _i = 0, resizeElement_1 = resizeElement; _i < resizeElement_1.length; _i++) {\n            var element_1 = resizeElement_1[_i];\n            EventHandler.add(element_1, Browser.touchStartEvent, this.resizeStart, this);\n        }\n    };\n    Resize.prototype.resizeHelper = function () {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.activeViewOptions.group.allowGroupEdit) {\n            for (var i = 0, len = this.actionObj.originalElement.length; i < len; i++) {\n                var cloneElement = this.createCloneElement(this.actionObj.originalElement[parseInt(i.toString(), 10)]);\n                this.actionObj.cloneElement[parseInt(i.toString(), 10)] = cloneElement;\n                if (this.actionObj.element === this.actionObj.originalElement[parseInt(i.toString(), 10)]) {\n                    this.actionObj.clone = cloneElement;\n                }\n            }\n        }\n        else {\n            if (this.actionObj.element) {\n                this.actionObj.clone = this.createCloneElement(this.actionObj.element);\n            }\n            this.actionObj.cloneElement = [this.actionObj.clone];\n            this.actionObj.originalElement = [this.actionObj.element];\n        }\n    };\n    Resize.prototype.resizeStart = function (e) {\n        var _this = this;\n        if (e && e.type === 'touchstart' && (!this.parent.uiStateValues.isTapHold ||\n            !closest(e.target, '.' + cls.APPOINTMENT_BORDER))) {\n            return;\n        }\n        this.actionObj.action = 'resize';\n        this.actionObj.slotInterval = this.parent.activeViewOptions.timeScale.interval / this.parent.activeViewOptions.timeScale.slotCount;\n        this.actionObj.interval = this.actionObj.slotInterval;\n        var resizeTarget = closest(e.target, '.' + cls.EVENT_RESIZE_CLASS);\n        this.actionObj.element = closest(resizeTarget, '.' + cls.APPOINTMENT_CLASS);\n        this.actionObj.event = this.parent.eventBase.getEventByGuid(this.actionObj.element.getAttribute('data-guid'));\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        var resizeArgs = {\n            cancel: false,\n            data: eventObj,\n            element: this.actionObj.element,\n            event: e,\n            interval: this.actionObj.interval,\n            scroll: { enable: true, scrollBy: 30, timeDelay: 100 }\n        };\n        this.parent.trigger(event.resizeStart, resizeArgs, function (resizeEventArgs) {\n            if (resizeEventArgs.cancel) {\n                return;\n            }\n            _this.actionClass('addClass');\n            _this.parent.uiStateValues.action = true;\n            _this.resizeEdges = {\n                left: resizeTarget.classList.contains(cls.LEFT_RESIZE_HANDLER),\n                right: resizeTarget.classList.contains(cls.RIGHT_RESIZE_HANDLER),\n                top: resizeTarget.classList.contains(cls.TOP_RESIZE_HANDLER),\n                bottom: resizeTarget.classList.contains(cls.BOTTOM_RESIZE_HANDLER)\n            };\n            _this.actionObj.groupIndex = _this.parent.uiStateValues.isGroupAdaptive ? _this.parent.uiStateValues.groupIndex : 0;\n            var workCell = _this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n            _this.actionObj.cellWidth = _this.parent.getElementWidth(workCell);\n            _this.actionObj.cellHeight = _this.parent.getElementHeight(workCell);\n            var hRows = _this.parent.activeViewOptions.headerRows.map(function (row) { return row.option; });\n            if (_this.parent.activeView.isTimelineView() && hRows.length > 0 && ['Date', 'Hour'].indexOf(hRows.slice(-1)[0]) < 0) {\n                var tr = _this.parent.getContentTable().querySelector('tr');\n                var noOfDays = 0;\n                var tdCollections = [].slice.call(tr.children);\n                for (var _i = 0, tdCollections_1 = tdCollections; _i < tdCollections_1.length; _i++) {\n                    var td = tdCollections_1[_i];\n                    noOfDays += parseInt(td.getAttribute('colspan'), 10);\n                }\n                var trRect = tr.getBoundingClientRect();\n                _this.actionObj.cellWidth = trRect.width / noOfDays;\n                _this.actionObj.cellHeight = trRect.height;\n            }\n            var pages = _this.parent.eventBase.getPageCoordinates(e);\n            _this.actionObj.X = pages.pageX;\n            _this.actionObj.Y = pages.pageY;\n            _this.actionObj.groupIndex = parseInt(_this.actionObj.element.getAttribute('data-group-index') || '0', 10);\n            _this.actionObj.interval = resizeEventArgs.interval;\n            _this.actionObj.scroll = resizeEventArgs.scroll;\n            _this.actionObj.start = new Date(eventObj[_this.parent.eventFields.startTime].getTime());\n            _this.actionObj.end = new Date(eventObj[_this.parent.eventFields.endTime].getTime());\n            _this.actionObj.originalElement = _this.getOriginalElement(_this.actionObj.element);\n            if (_this.parent.currentView === 'Month') {\n                _this.daysVariation = -1;\n                _this.monthEvent = new MonthEvent(_this.parent);\n            }\n            var viewElement = _this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            _this.scrollArgs = { element: viewElement, width: viewElement.scrollWidth, height: viewElement.scrollHeight };\n            // 883565 - To fix the resizing not working issue at the last column of the timeline view\n            if (['Month', 'TimelineYear'].indexOf(_this.parent.currentView) < 0) {\n                var scrollWidth = Math.round(_this.scrollArgs.width / _this.actionObj.cellWidth) * _this.actionObj.cellWidth;\n                _this.scrollArgs.width = _this.scrollArgs.width < scrollWidth ? scrollWidth : _this.scrollArgs.width;\n            }\n            EventHandler.add(document, Browser.touchMoveEvent, _this.resizing, _this);\n            EventHandler.add(document, Browser.touchEndEvent, _this.resizeStop, _this);\n        });\n    };\n    Resize.prototype.resizing = function (e) {\n        if (e && e.type === 'touchmove') {\n            e.preventDefault();\n        }\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        if (this.parent.element.querySelectorAll('.' + cls.RESIZE_CLONE_CLASS).length === 0) {\n            this.resizeHelper();\n        }\n        if ((!isNullOrUndefined(e.target)) && e.target.classList.contains(cls.DISABLE_DATES)) {\n            return;\n        }\n        var pages = this.parent.eventBase.getPageCoordinates(e);\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear') {\n            var doc = document.documentElement;\n            var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n            var top_1 = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n            this.actionObj.pageX = pages.pageX - left;\n            this.actionObj.pageY = pages.pageY - top_1;\n        }\n        else {\n            this.actionObj.pageX = pages.pageX;\n            this.actionObj.pageY = pages.pageY;\n        }\n        this.updateScrollPosition(e);\n        this.updateResizingDirection(e);\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        var resizeArgs = {\n            cancel: false,\n            data: eventObj,\n            element: this.actionObj.element,\n            event: e,\n            startTime: this.actionObj.start,\n            endTime: this.actionObj.end\n        };\n        if (this.parent.group.resources.length > 0) {\n            resizeArgs.groupIndex = this.actionObj.groupIndex;\n        }\n        this.parent.trigger(event.resizing, resizeArgs);\n    };\n    Resize.prototype.updateResizingDirection = function (e) {\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear') {\n            this.monthResizing();\n            return;\n        }\n        var resizeValidation = this.resizeValidation(e);\n        if (this.resizeEdges.left) {\n            if (resizeValidation) {\n                var leftStyles = this.getLeftRightStyles(e, true);\n                if (parseInt(leftStyles.width, 10) < 1) {\n                    return;\n                }\n                for (var _i = 0, _a = this.actionObj.cloneElement; _i < _a.length; _i++) {\n                    var cloneElement = _a[_i];\n                    setStyleAttribute(cloneElement, leftStyles);\n                    addClass([cloneElement], cls.LEFT_RESIZE_HANDLER);\n                }\n            }\n            this.horizontalResizing(!this.parent.enableRtl);\n        }\n        if (this.resizeEdges.right) {\n            if (resizeValidation) {\n                var rightStyles = this.getLeftRightStyles(e, false);\n                if (parseInt(rightStyles.width, 10) < 1) {\n                    return;\n                }\n                for (var _b = 0, _c = this.actionObj.cloneElement; _b < _c.length; _b++) {\n                    var cloneElement = _c[_b];\n                    setStyleAttribute(cloneElement, rightStyles);\n                    addClass([cloneElement], cls.RIGHT_RESIZE_HANDLER);\n                }\n            }\n            this.horizontalResizing(this.parent.enableRtl);\n        }\n        if (this.resizeEdges.top) {\n            if (resizeValidation) {\n                var topStyles = this.getTopBottomStyles(e, true);\n                if (parseInt(topStyles.height, 10) < 1) {\n                    return;\n                }\n                for (var _d = 0, _e = this.actionObj.cloneElement; _d < _e.length; _d++) {\n                    var cloneElement = _e[_d];\n                    setStyleAttribute(cloneElement, topStyles);\n                    addClass([cloneElement], cls.TOP_RESIZE_HANDLER);\n                }\n            }\n            this.verticalResizing(true);\n        }\n        if (this.resizeEdges.bottom) {\n            if (resizeValidation) {\n                var bottomStyles = this.getTopBottomStyles(e, false);\n                if (parseInt(bottomStyles.height, 10) < 1) {\n                    return;\n                }\n                for (var _f = 0, _g = this.actionObj.cloneElement; _f < _g.length; _f++) {\n                    var cloneElement = _g[_f];\n                    setStyleAttribute(cloneElement, bottomStyles);\n                    addClass([cloneElement], cls.BOTTOM_RESIZE_HANDLER);\n                }\n            }\n            this.verticalResizing(false);\n        }\n    };\n    Resize.prototype.monthResizing = function () {\n        this.removeCloneElement();\n        if (isNullOrUndefined(this.actionObj.pageX) || isNullOrUndefined(this.actionObj.pageY)) {\n            return;\n        }\n        var td = document.elementFromPoint(this.actionObj.pageX, this.actionObj.pageY);\n        if (isNullOrUndefined(td)) {\n            return;\n        }\n        var resizeTime = this.parent.getDateFromElement(td);\n        var isSameCell = this.parent.activeViewOptions.group.resources.length > 0 ?\n            parseInt(td.getAttribute('data-group-index'), 10) === this.actionObj.groupIndex : true;\n        var startTime = new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime());\n        var endTime = new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());\n        if ((!this.parent.enableRtl && this.resizeEdges.left) || (this.parent.enableRtl && this.resizeEdges.right)\n            || this.resizeEdges.top) {\n            startTime = resizeTime;\n        }\n        else if ((!this.parent.enableRtl && this.resizeEdges.right) || (this.parent.enableRtl && this.resizeEdges.left)\n            || this.resizeEdges.bottom) {\n            endTime = util.addDays(resizeTime, 1);\n        }\n        if (isSameCell && startTime < endTime) {\n            this.actionObj.start = startTime;\n            this.actionObj.end = endTime;\n            var event_1 = this.getUpdatedEvent(this.actionObj.start, this.actionObj.end, this.actionObj.event);\n            if (this.parent.currentView === 'TimelineYear') {\n                this.yearEventsRendering(event_1);\n            }\n            else {\n                this.dynamicEventsRendering(event_1);\n            }\n            this.updateOriginalElement(this.actionObj.clone);\n        }\n    };\n    Resize.prototype.yearEventsRendering = function (event) {\n        var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n        for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n            var wrapper = eventWrappers_1[_i];\n            remove(wrapper);\n        }\n        var endDate = new Date(event[this.parent.eventFields.endTime]);\n        var monthDiff = 0;\n        if (this.parent.activeViewOptions.group.resources.length === 0) {\n            monthDiff = this.getMonthDiff(event[this.parent.eventFields.startTime], util.addDays(endDate, -1));\n        }\n        for (var i = 0; i <= monthDiff; i++) {\n            var eventObj = void 0;\n            if (this.parent.activeViewOptions.group.resources.length === 0) {\n                eventObj = this.getEventCount(event, this.actionObj.start.getMonth() + i);\n            }\n            else {\n                eventObj = extend({}, event, null, true);\n                endDate = this.resizeEdges.left || this.resizeEdges.right ? util.addDays(endDate, -1) : endDate;\n                eventObj.count = this.getMonthDiff(event[this.parent.eventFields.startTime], endDate) + 1;\n            }\n            this.dynamicYearlyEventsRendering(eventObj, true);\n        }\n    };\n    Resize.prototype.getMonthDiff = function (startDate, endDate) {\n        var months;\n        months = (endDate.getFullYear() - startDate.getFullYear()) * 12;\n        months -= startDate.getMonth();\n        months += endDate.getMonth();\n        return months <= 0 ? 0 : months;\n    };\n    Resize.prototype.getEventCount = function (eventObj, month) {\n        var eventData = extend({}, eventObj, null, true);\n        var eventStart = eventData[this.parent.eventFields.startTime];\n        var eventEnd = eventData[this.parent.eventFields.endTime];\n        var monthStart = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n        var monthEnd = util.addDays(new Date(this.parent.selectedDate.getFullYear(), month + 1, 0), 1);\n        var count = 1;\n        if (eventStart.getTime() < monthStart.getTime()) {\n            eventData[this.parent.eventFields.startTime] = monthStart;\n        }\n        if (eventEnd.getTime() > monthEnd.getTime()) {\n            eventData[this.parent.eventFields.endTime] = monthEnd;\n        }\n        if (this.parent.activeViewOptions.group.resources.length === 0) {\n            count = Math.ceil((eventData[this.parent.eventFields.endTime].getTime() -\n                eventData[this.parent.eventFields.startTime].getTime()) / util.MS_PER_DAY);\n        }\n        eventData.count = count;\n        return eventData;\n    };\n    Resize.prototype.resizeStop = function (e) {\n        var _this = this;\n        EventHandler.remove(document, Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(document, Browser.touchEndEvent, this.resizeStop);\n        clearInterval(this.actionObj.scrollInterval);\n        this.actionObj.scrollInterval = null;\n        this.actionObj.action = null;\n        this.removeCloneElementClasses();\n        this.removeCloneElement();\n        this.actionClass('removeClass');\n        this.parent.uiStateValues.action = this.parent.uiStateValues.isTapHold = false;\n        var resizeArgs = { cancel: false, data: this.getChangedData(), element: this.actionObj.element, event: e };\n        this.parent.trigger(event.resizeStop, resizeArgs, function (resizeEventArgs) {\n            if (resizeEventArgs.cancel) {\n                return;\n            }\n            if (_this.parent.isSpecificResourceEvents()) {\n                _this.parent.crudModule.crudObj.sourceEvent =\n                    [_this.parent.resourceBase.lastResourceLevel[parseInt(resizeEventArgs.element.getAttribute('data-group-index'), 10)]];\n                _this.parent.crudModule.crudObj.targetEvent = _this.parent.crudModule.crudObj.sourceEvent;\n                _this.parent.crudModule.crudObj.isCrudAction = true;\n            }\n            _this.saveChangedData(resizeEventArgs);\n        });\n    };\n    Resize.prototype.verticalResizing = function (isTop) {\n        var offsetValue = this.actionObj.clone.offsetTop;\n        if (!isTop) {\n            offsetValue += this.actionObj.clone.offsetHeight;\n        }\n        var minutes = (offsetValue / this.actionObj.cellHeight) * this.actionObj.slotInterval;\n        var element = this.actionObj.clone.offsetParent;\n        if (isNullOrUndefined(element)) {\n            return;\n        }\n        var resizeTime = util.resetTime(this.parent.getDateFromElement(element));\n        resizeTime.setHours(this.parent.activeView.getStartHour().getHours());\n        resizeTime.setMinutes(minutes + this.parent.activeView.getStartHour().getMinutes());\n        if (isTop) {\n            this.actionObj.start = this.calculateIntervalTime(resizeTime);\n        }\n        else {\n            this.actionObj.end = this.calculateIntervalTime(resizeTime);\n        }\n        this.updateTimePosition(resizeTime);\n    };\n    Resize.prototype.horizontalResizing = function (isLeft) {\n        var eventStart = new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime());\n        var eventEnd = new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());\n        var resizeTime;\n        var headerName = this.parent.currentView;\n        var isTimelineMonth = this.parent.currentView === 'TimelineMonth';\n        if (this.parent.activeView.isTimelineView()) {\n            var tr = this.parent.getContentTable().querySelector('tr');\n            if (this.parent.activeViewOptions.headerRows.length > 0) {\n                var rows = this.parent.activeViewOptions.headerRows.map(function (row) { return row.option; });\n                headerName = rows.slice(-1)[0];\n                if (isTimelineMonth && headerName === 'Hour') {\n                    headerName = rows.slice(-2)[0] || 'Month';\n                }\n            }\n            resizeTime = isLeft ? eventStart : eventEnd;\n            var cellIndex = 0;\n            var tdCollections = [].slice.call(tr.children);\n            var isLastCell = false;\n            var pixelsPerMinute = this.actionObj.cellWidth / (this.parent.activeViewOptions.timeScale.interval /\n                this.parent.activeViewOptions.timeScale.slotCount);\n            var offset = parseFloat(this.parent.enableRtl ? this.actionObj.clone.style.right :\n                this.actionObj.clone.style.left);\n            offset = Math.round(offset / pixelsPerMinute) * pixelsPerMinute;\n            if (['Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1) {\n                var noOfDays = 0;\n                for (var _i = 0, tdCollections_2 = tdCollections; _i < tdCollections_2.length; _i++) {\n                    var td = tdCollections_2[_i];\n                    noOfDays += parseInt(td.getAttribute('colspan'), 10);\n                }\n                var offsetValue = this.parent.enableRtl ? parseInt(this.actionObj.clone.style.right, 10) :\n                    parseInt(this.actionObj.clone.style.left, 10);\n                offsetValue = Math.round(offsetValue / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n                if (!isLeft) {\n                    offsetValue += (this.parent.getElementWidth(this.actionObj.clone) - this.actionObj.cellWidth);\n                }\n                cellIndex = !isTimelineMonth ? Math.round(offsetValue / (this.parent.getElementWidth(tr) / noOfDays)) :\n                    Math.floor(offsetValue / Math.floor(this.parent.getElementWidth(tr) / noOfDays));\n                cellIndex = isLeft ? cellIndex : isTimelineMonth ? cellIndex + 1 : cellIndex;\n                isLastCell = cellIndex === tdCollections.length;\n                cellIndex = (cellIndex < 0) ? 0 : (cellIndex >= noOfDays) ? noOfDays - 1 : cellIndex;\n            }\n            else {\n                var cellWidth = this.actionObj.cellWidth;\n                cellIndex = isLeft ? Math.floor(offset / this.actionObj.cellWidth) :\n                    Math.ceil((offset + (this.parent.getElementWidth(this.actionObj.clone) - cellWidth)) / this.actionObj.cellWidth);\n                if (this.parent.enableRtl) {\n                    var cellOffsetWidth = 0;\n                    if (headerName === 'TimelineMonth' || (!this.parent.activeViewOptions.timeScale.enable &&\n                        !isTimelineMonth)) {\n                        cellOffsetWidth = this.actionObj.cellWidth;\n                    }\n                    var offsetWidth = (Math.floor(offset / this.actionObj.cellWidth) *\n                        this.actionObj.cellWidth) + (isLeft ? 0 : this.parent.getElementWidth(this.actionObj.clone) - cellOffsetWidth);\n                    cellIndex = Math.floor(offsetWidth / this.actionObj.cellWidth);\n                }\n                isLastCell = cellIndex === tdCollections.length;\n                cellIndex = this.getIndex(cellIndex);\n            }\n            var resizeDate = void 0;\n            if (['Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1) {\n                resizeDate = new Date(this.parent.activeView.renderDates[parseInt(cellIndex.toString(), 10)].getTime());\n            }\n            else {\n                resizeDate = this.parent.getDateFromElement(tr.children[parseInt(cellIndex.toString(), 10)]);\n            }\n            if (['TimelineMonth', 'Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1 ||\n                !this.parent.activeViewOptions.timeScale.enable) {\n                resizeTime = new Date(resizeDate.setHours(resizeTime.getHours(), resizeTime.getMinutes(), resizeTime.getSeconds()));\n            }\n            else {\n                if (!isLeft) {\n                    offset += this.parent.getElementWidth(this.actionObj.clone);\n                }\n                var spanMinutes = Math.ceil((this.actionObj.slotInterval / this.actionObj.cellWidth) *\n                    (offset - Math.floor(offset / this.actionObj.cellWidth) * this.actionObj.cellWidth));\n                spanMinutes = (isLastCell || (!isLeft && spanMinutes === 0)) ? this.actionObj.slotInterval : spanMinutes;\n                resizeTime = new Date(resizeDate.getTime());\n                resizeTime.setMinutes(resizeTime.getMinutes() + spanMinutes);\n                this.updateTimePosition(resizeTime);\n            }\n        }\n        else {\n            var cloneIndex = closest(this.actionObj.clone, 'td').cellIndex;\n            var originalWidth = Math.ceil((isLeft ? this.parent.getElementWidth(this.actionObj.element) : 0) /\n                this.actionObj.cellWidth) * this.actionObj.cellWidth;\n            var noOfDays = Math.ceil((this.parent.getElementWidth(this.actionObj.clone) - originalWidth) /\n                this.actionObj.cellWidth);\n            var tr = closest(this.actionObj.clone, 'tr');\n            var dayIndex = isLeft ? cloneIndex - noOfDays : cloneIndex + noOfDays - 1;\n            dayIndex = this.getIndex(dayIndex);\n            resizeTime = this.parent.getDateFromElement(tr.children[parseInt(dayIndex.toString(), 10)]);\n            if (isLeft) {\n                resizeTime.setHours(eventStart.getHours(), eventStart.getMinutes(), eventStart.getSeconds());\n            }\n            else {\n                resizeTime.setHours(eventEnd.getHours(), eventEnd.getMinutes(), eventEnd.getSeconds());\n            }\n        }\n        var isNotHourSlot = ['TimelineMonth', 'Year', 'Month', 'Week', 'Date'].indexOf(headerName) !== -1 ||\n            !this.parent.activeViewOptions.timeScale.enable;\n        if (isLeft) {\n            if ((eventEnd.getTime() - resizeTime.getTime()) <= 0) {\n                resizeTime = isNotHourSlot ? util.resetTime(eventEnd) : eventStart;\n            }\n            this.actionObj.start = !isNotHourSlot ? this.calculateIntervalTime(resizeTime) : resizeTime;\n        }\n        else {\n            var resizeEnd = (isNotHourSlot && resizeTime.getHours() === 0 && resizeTime.getMinutes() === 0) ?\n                util.addDays(resizeTime, 1) : resizeTime;\n            if (isNotHourSlot && (resizeEnd.getTime() - eventStart.getTime()) <= 0) {\n                resizeEnd = util.addDays(util.resetTime(eventStart), 1);\n            }\n            this.actionObj.end = !isNotHourSlot ? this.calculateIntervalTime(resizeEnd) : resizeEnd;\n        }\n    };\n    Resize.prototype.getTopBottomStyles = function (e, isTop) {\n        var viewElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var slotInterval = (this.actionObj.cellHeight / this.actionObj.slotInterval) * this.actionObj.interval;\n        var clnHeight = isTop ? this.actionObj.element.offsetHeight + (this.actionObj.Y - this.actionObj.pageY) :\n            this.actionObj.element.offsetHeight + (this.actionObj.pageY - this.actionObj.Y);\n        var clnTop = isTop ? this.actionObj.element.offsetTop -\n            (this.actionObj.Y - this.actionObj.pageY) : this.actionObj.clone.offsetTop;\n        clnHeight = (clnTop < 0) ? this.actionObj.clone.offsetHeight :\n            (this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight) > this.scrollArgs.height ?\n                this.actionObj.clone.offsetHeight : clnHeight;\n        clnTop = (clnTop < 0) ? 0 : clnTop;\n        clnTop = isTop ? Math.floor(clnTop / slotInterval) * slotInterval : clnTop;\n        clnHeight = clnTop + clnHeight >= viewElement.scrollHeight ? viewElement.scrollHeight - clnTop :\n            Math.ceil(clnHeight / slotInterval) * slotInterval;\n        if (!isTop && this.actionObj.clone.offsetTop + clnHeight >= this.parent.getContentTable().offsetHeight) {\n            clnHeight = this.parent.getContentTable().offsetHeight - this.actionObj.clone.offsetTop;\n        }\n        var styles = {\n            height: formatUnit(clnHeight < this.actionObj.cellHeight ? Math.floor(clnHeight / slotInterval) * slotInterval : clnHeight),\n            top: formatUnit((clnHeight < this.actionObj.cellHeight && isTop) ? Math.ceil(clnTop / slotInterval) * slotInterval : clnTop),\n            left: '0px', right: '0px', width: '100%'\n        };\n        return styles;\n    };\n    Resize.prototype.getLeftRightStyles = function (e, isLeft) {\n        var styles = {};\n        var isTimelineView = this.parent.activeView.isTimelineView();\n        var isTimeViews = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek'].indexOf(this.parent.currentView) > -1 &&\n            this.parent.activeViewOptions.timeScale.enable;\n        var slotInterval = (this.actionObj.cellWidth / this.actionObj.slotInterval) * this.actionObj.interval;\n        var pageWidth = isLeft ? (this.actionObj.X - this.actionObj.pageX) : (this.actionObj.pageX - this.actionObj.X);\n        var targetWidth = isTimelineView ?\n            (this.parent.getElementWidth(this.actionObj.element) / this.actionObj.cellWidth) * this.actionObj.cellWidth :\n            this.parent.currentView === 'Month' ? this.parent.getElementWidth(this.actionObj.element) :\n                Math.ceil(this.parent.getElementWidth(this.actionObj.element) / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n        var offsetWidth = targetWidth + (Math.ceil(pageWidth / this.actionObj.cellWidth) * this.actionObj.cellWidth);\n        var left = (this.parent.enableRtl) ? parseInt(this.actionObj.element.style.right, 10) : this.actionObj.clone.offsetLeft;\n        if (isTimeViews) {\n            offsetWidth = targetWidth + (Math.ceil(pageWidth / slotInterval) * slotInterval);\n            if (!isLeft) {\n                var roundedLeft = (+parseFloat(this.actionObj.element.style[this.parent.enableRtl ? 'right' : 'left'])).toFixed(1);\n                var roundedWidth = Math.round(targetWidth / slotInterval) * slotInterval;\n                if (roundedLeft !== left.toFixed(1) || roundedWidth !== targetWidth) {\n                    offsetWidth = (Math.round((left + offsetWidth) / slotInterval) * slotInterval) - left;\n                }\n            }\n            this.actionObj.event[this.parent.eventFields.isAllDay] = false;\n        }\n        var width = !isLeft && ((offsetWidth + this.actionObj.clone.offsetLeft > this.scrollArgs.width)) ?\n            this.parent.getElementWidth(this.actionObj.clone) : (offsetWidth < this.actionObj.cellWidth) ? offsetWidth : offsetWidth;\n        if (this.parent.enableRtl) {\n            var rightValue = isTimelineView ? parseInt(this.actionObj.element.style.right, 10) :\n                -(offsetWidth - this.actionObj.cellWidth);\n            rightValue = isTimelineView ? rightValue : isLeft ? 0 : rightValue > 0 ? 0 : rightValue;\n            if (isTimelineView && !isLeft) {\n                rightValue = rightValue - (Math.ceil((this.actionObj.pageX - this.actionObj.X) / slotInterval) * slotInterval);\n                if (rightValue < 0) {\n                    rightValue = parseInt(this.actionObj.clone.style.right, 10);\n                    width = parseInt(this.actionObj.clone.style.width, 10);\n                }\n            }\n            rightValue = rightValue >= this.scrollArgs.width ? this.scrollArgs.width - this.actionObj.cellWidth : rightValue;\n            styles.right = formatUnit(rightValue);\n            width = width + rightValue > this.scrollArgs.width ? this.parent.getElementWidth(this.actionObj.clone) : width;\n        }\n        else {\n            var offsetLeft = isLeft ? this.actionObj.element.offsetLeft - (this.actionObj.X - this.actionObj.pageX) :\n                this.parent.enableRtl ? this.actionObj.element.offsetLeft : 0;\n            if (isTimelineView) {\n                offsetLeft = isLeft ? offsetLeft : parseInt(this.actionObj.clone.style.left, 10);\n                if (this.parent.enableRtl) {\n                    offsetLeft = !isLeft ? (this.actionObj.pageX < this.actionObj.X - this.parent.getElementWidth(this.actionObj.clone))\n                        ? parseInt(this.actionObj.clone.style.right, 10) : offsetLeft : offsetLeft;\n                }\n                else {\n                    offsetLeft = isLeft ? (this.actionObj.pageX > this.actionObj.X + this.parent.getElementWidth(this.actionObj.clone) &&\n                        this.parent.getElementWidth(this.actionObj.clone) === this.actionObj.cellWidth) ?\n                        parseInt(this.actionObj.clone.style.left, 10) : offsetLeft : offsetLeft;\n                }\n            }\n            var leftValue = offsetLeft;\n            offsetLeft = isTimelineView ? isTimeViews ? isLeft ? this.actionObj.element.offsetLeft -\n                (Math.ceil((this.actionObj.element.offsetLeft - offsetLeft) / slotInterval) * slotInterval) : offsetLeft :\n                Math.floor(offsetLeft / this.actionObj.cellWidth) * this.actionObj.cellWidth :\n                Math.ceil(Math.abs(offsetLeft) / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n            if (offsetLeft < 0) {\n                if (isTimelineView && isLeft && (offsetLeft % slotInterval)) {\n                    offsetLeft = parseInt(this.actionObj.clone.style.left, 10);\n                    width = parseInt(this.actionObj.clone.style.width, 10);\n                }\n                else {\n                    offsetLeft = 0;\n                    width = this.parent.getElementWidth(this.actionObj.clone);\n                }\n            }\n            var cloneWidth = Math.ceil(this.parent.getElementWidth(this.actionObj.clone) / this.actionObj.cellWidth) *\n                this.actionObj.cellWidth;\n            if (isLeft) {\n                styles.left = formatUnit(isTimelineView ? offsetLeft : isLeft ? leftValue < 0 ? -offsetLeft :\n                    (Math.ceil((targetWidth - cloneWidth) / this.actionObj.cellWidth) * this.actionObj.cellWidth) : offsetLeft);\n            }\n        }\n        styles.width = formatUnit(width);\n        return styles;\n    };\n    Resize.prototype.resizeValidation = function (e) {\n        var pages = this.parent.eventBase.getPageCoordinates(e);\n        var viewDimension = this.getContentAreaDimension();\n        var isTimeScale = this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.timeScale.enable;\n        var cellWidth = this.actionObj.cellWidth;\n        var resizeValidation = false;\n        if (this.resizeEdges.left) {\n            if (pages.pageX < viewDimension.leftOffset && pages.pageX >= viewDimension.left && isTimeScale) {\n                cellWidth = 0;\n            }\n            resizeValidation = (pages.pageX - cellWidth) >= viewDimension.left;\n        }\n        if (this.resizeEdges.right) {\n            if (pages.pageX > viewDimension.rightOffset && pages.pageX <= viewDimension.right && isTimeScale) {\n                cellWidth = 0;\n            }\n            resizeValidation = (pages.pageX + cellWidth) <= viewDimension.right;\n        }\n        if (this.resizeEdges.top) {\n            resizeValidation = this.actionObj.clone.offsetTop >= viewDimension.top;\n        }\n        if (this.resizeEdges.bottom) {\n            resizeValidation = (this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight) <= this.scrollArgs.height;\n        }\n        return resizeValidation;\n    };\n    /**\n     * Get module name\n     *\n     * @returns {string} Returns the module name..\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    return Resize;\n}(ActionBase));\nexport { Resize };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, append, createElement, extend, remove, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, EventHandler } from '@syncfusion/ej2-base';\nimport { TimelineEvent } from './timeline-view';\nimport * as util from '../base/util';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\nvar EVENT_GAP = 2;\n/**\n * Year view events render\n */\nvar YearEvent = /** @class */ (function (_super) {\n    __extends(YearEvent, _super);\n    function YearEvent(parent) {\n        var _this = _super.call(this, parent, 'day') || this;\n        _this.isResource = false;\n        return _this;\n    }\n    YearEvent.prototype.renderAppointments = function () {\n        if (this.parent.dragAndDropModule) {\n            this.parent.dragAndDropModule.setDragArea();\n        }\n        this.fields = this.parent.eventFields;\n        var elementSelector = (this.parent.currentView === 'Year') ? '.' + cls.APPOINTMENT_CLASS :\n            '.' + cls.APPOINTMENT_WRAPPER_CLASS + ',.' + cls.MORE_INDICATOR_CLASS;\n        var eventWrappers = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n        for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n            var wrapper = eventWrappers_1[_i];\n            remove(wrapper);\n        }\n        this.renderedEvents = [];\n        if (this.parent.currentView === 'Year') {\n            this.yearViewEvents();\n        }\n        else {\n            this.removeCellHeight();\n            if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                this.isResource = true;\n                this.timelineResourceEvents();\n            }\n            else {\n                this.timelineYearViewEvents();\n            }\n        }\n        this.parent.renderTemplates();\n        this.parent.notify(events.contentReady, {});\n    };\n    YearEvent.prototype.yearViewEvents = function () {\n        var months = this.getMonths();\n        for (var _i = 0, months_1 = months; _i < months_1.length; _i++) {\n            var month = months_1[_i];\n            var queryString = \".e-month-calendar:nth-child(\" + (months.indexOf(month) + 1) + \") td.e-work-cells\";\n            var workCells = [].slice.call(this.parent.element.querySelectorAll(queryString));\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n            var monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            var monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n            var startDate = util.getWeekFirstDate(monthStart, this.parent.activeViewOptions.firstDayOfWeek);\n            var endDate = util.addDays(util.getWeekLastDate(monthEnd, this.parent.activeViewOptions.firstDayOfWeek), 1);\n            for (var index = 0; startDate.getTime() < endDate.getTime(); index++) {\n                var start = util.resetTime(new Date(startDate.getTime()));\n                var end = util.addDays(new Date(start.getTime()), 1);\n                startDate = util.addDays(new Date(startDate.getTime()), 1);\n                if (!this.parent.isMinMaxDate(start)) {\n                    continue;\n                }\n                var filterEvents = this.parent.eventBase.filterEvents(start, end);\n                if (filterEvents.length > 0) {\n                    var workCell = workCells[parseInt(index.toString(), 10)];\n                    if (workCell) {\n                        workCell.appendChild(createElement('div', { className: cls.APPOINTMENT_CLASS }));\n                    }\n                }\n            }\n        }\n    };\n    YearEvent.prototype.timelineYearViewEvents = function () {\n        var _this = this;\n        var workCell = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')');\n        this.cellWidth = this.parent.getElementWidth(workCell);\n        this.cellHeader = util.getOuterHeight(workCell.querySelector('.' + cls.DATE_HEADER_CLASS));\n        var eventTable = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n        this.eventHeight = this.parent.getElementHeightFromClass(eventTable, cls.APPOINTMENT_CLASS);\n        var selector = \".\" + cls.MONTH_HEADER_WRAPPER + \" tbody tr,.\" + cls.RESOURCE_COLUMN_TABLE_CLASS + \" tbody tr,.\" + cls.CONTENT_TABLE_CLASS + \" tbody tr\";\n        this.addCellHeight(selector, this.eventHeight, EVENT_GAP, this.cellHeader, this.moreIndicatorHeight);\n        var wrapperCollection = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n        var months = this.getMonths();\n        var groupIndex = (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.uiStateValues.isGroupAdaptive) ?\n            this.parent.uiStateValues.groupIndex : undefined;\n        for (var row = 0; row < months.length; row++) {\n            var wrapper = wrapperCollection[parseInt(row.toString(), 10)];\n            var td = row + 1;\n            var eventWrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            wrapper.appendChild(eventWrapper);\n            var monthStart = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(row.toString(), 10)], 1);\n            var monthEnd = new Date(monthStart.getFullYear(), monthStart.getMonth() + 1, 0);\n            var dayIndex = monthStart.getDay();\n            var isSpannedCollection = [];\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                this.renderedEvents = [];\n            }\n            while (monthStart.getTime() <= monthEnd.getTime()) {\n                var leftValue = void 0;\n                var rightValue = void 0;\n                if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                    var wrapper_1 = wrapperCollection[parseInt(dayIndex.toString(), 10)];\n                    td = dayIndex + 1;\n                    eventWrapper = wrapper_1.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n                    if (!eventWrapper) {\n                        eventWrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n                        wrapper_1.appendChild(eventWrapper);\n                    }\n                    if (this.parent.enableRtl) {\n                        rightValue = row * this.cellWidth;\n                    }\n                    else {\n                        leftValue = row * this.cellWidth;\n                    }\n                }\n                else {\n                    if (this.parent.enableRtl) {\n                        rightValue = ((dayIndex + monthStart.getDate()) - 1) * this.cellWidth;\n                    }\n                    else {\n                        leftValue = ((dayIndex + monthStart.getDate()) - 1) * this.cellWidth;\n                    }\n                }\n                var rowTd = this.parent.element.querySelector(\".e-content-wrap tr:nth-child(\" + td + \") td\");\n                this.cellHeight = rowTd.offsetHeight;\n                var dayStart = util.resetTime(new Date(monthStart.getTime()));\n                var dayEnd = util.addDays(new Date(dayStart.getTime()), 1);\n                var resource = void 0;\n                if (this.parent.uiStateValues.isGroupAdaptive) {\n                    resource = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                }\n                var dayEvents = this.parent.eventBase.filterEvents(dayStart, dayEnd, undefined, resource);\n                dayEvents = this.parent.eventBase.sortByDateTime(dayEvents);\n                var _loop_1 = function (index, count) {\n                    var eventData = extend({}, dayEvents[parseInt(index.toString(), 10)], null, true);\n                    this_1.updateSpannedEvents(eventData, dayStart, dayEnd);\n                    var overlapIndex = this_1.getIndex(dayStart);\n                    eventData.Index = overlapIndex;\n                    var availedHeight = this_1.cellHeader + (this_1.eventHeight * (overlapIndex + 1)) + EVENT_GAP +\n                        this_1.moreIndicatorHeight;\n                    var appArea = this_1.cellHeight - this_1.cellHeader - this_1.moreIndicatorHeight;\n                    var renderedAppCount = Math.floor(appArea / (this_1.eventHeight + EVENT_GAP));\n                    var eventsPerRow = this_1.parent.rowAutoHeight ? 1 : this_1.parent.activeViewOptions.maxEventsPerRow;\n                    var moreIndicatorCount = this_1.parent.activeViewOptions.maxEventsPerRow ? count - eventsPerRow\n                        : (count - renderedAppCount) <= 0 ? 1 : count - renderedAppCount;\n                    if (this_1.parent.activeViewOptions.orientation === 'Horizontal') {\n                        var isRendered = this_1.renderedEvents.filter(function (eventObj) {\n                            return eventObj.Guid === eventData.Guid;\n                        });\n                        var isSpanned = isSpannedCollection.filter(function (eventObj) {\n                            return eventObj.Guid === eventData.Guid;\n                        });\n                        if (isRendered.length > 0 && isRendered[0].MoreIndicator || isSpanned.length > 0 && isSpanned[0].MoreIndicator) {\n                            var moreIndex = this_1.parent.activeViewOptions.orientation === 'Horizontal' ? row : dayIndex;\n                            this_1.renderMoreIndicator(eventWrapper, moreIndicatorCount, dayStart, moreIndex, leftValue, rightValue, groupIndex);\n                            return \"continue\";\n                        }\n                        else if (isRendered.length > 0 || isSpanned.length > 0) {\n                            return \"continue\";\n                        }\n                    }\n                    var enableAppRender = this_1.maxOrIndicator || (overlapIndex < eventsPerRow) ||\n                        (this_1.cellHeight > availedHeight);\n                    if (this_1.parent.rowAutoHeight || enableAppRender || this_1.cellHeight > availedHeight) {\n                        this_1.renderEvent(eventWrapper, eventData, row, leftValue, rightValue, monthStart, dayIndex);\n                        if (this_1.parent.rowAutoHeight || this_1.cellHeight > availedHeight) {\n                            this_1.updateCellHeight(rowTd, availedHeight);\n                        }\n                        isSpannedCollection.push(eventData);\n                    }\n                    else {\n                        var moreIndex = this_1.parent.activeViewOptions.orientation === 'Horizontal' ? row : dayIndex;\n                        this_1.renderMoreIndicator(eventWrapper, moreIndicatorCount, dayStart, moreIndex, leftValue, rightValue, groupIndex);\n                        if (this_1.parent.activeViewOptions.orientation === 'Horizontal') {\n                            eventData.MoreIndicator = true;\n                            this_1.renderedEvents.push(eventData);\n                            isSpannedCollection.push(eventData);\n                        }\n                    }\n                };\n                var this_1 = this;\n                for (var index = 0, count = dayEvents.length; index < count; index++) {\n                    _loop_1(index, count);\n                }\n                monthStart = util.addDays(new Date(monthStart.getTime()), 1);\n                if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                    dayIndex++;\n                    this.renderedEvents = [];\n                }\n            }\n        }\n        if (this.parent.rowAutoHeight && this.parent.activeViewOptions.orientation === 'Vertical') {\n            var appContainer = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n            var tr_1 = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr'));\n            appContainer.forEach(function (ele, index) {\n                var app = [].slice.call(ele.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n                var appTop = tr_1[parseInt(index.toString(), 10)].offsetTop + _this.cellHeader + EVENT_GAP;\n                app.forEach(function (app) {\n                    var overlap = parseInt(app.getAttribute('data-index'), 10);\n                    app.style.top = appTop + (overlap * _this.eventHeight) + 'px';\n                    app.removeAttribute('data-index');\n                });\n            });\n        }\n    };\n    YearEvent.prototype.updateSpannedEvents = function (eventObj, dayStart, dayEnd) {\n        var isLeftRightResize = (this.isResource && this.parent.activeViewOptions.orientation === 'Vertical') ||\n            (!this.isResource && this.parent.activeViewOptions.orientation === 'Horizontal');\n        var data = { isLeft: true, isRight: true, isBottom: true, isTop: true };\n        if (dayStart.getTime() <= eventObj[this.fields.startTime].getTime()) {\n            if (isLeftRightResize) {\n                data.isLeft = false;\n            }\n            else {\n                data.isTop = false;\n            }\n        }\n        if ((dayEnd.getTime() >= eventObj[this.fields.endTime].getTime()) || (isLeftRightResize && !this.isResource &&\n            util.addDays(dayEnd, -1).getMonth() === eventObj[this.fields.endTime].getMonth()) ||\n            (isLeftRightResize && this.isResource && (dayEnd.getTime() <= eventObj[this.fields.endTime].getTime()))) {\n            if (isLeftRightResize) {\n                data.isRight = false;\n            }\n            else {\n                data.isBottom = false;\n            }\n        }\n        eventObj.data = data;\n    };\n    YearEvent.prototype.timelineResourceEvents = function () {\n        var _this = this;\n        var contentTable = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var isVerticalScrollbarAvail = contentTable.offsetWidth > contentTable.clientWidth;\n        var workCell = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n        this.cellWidth = this.parent.getElementWidth(workCell);\n        this.cellHeader = 0;\n        var eventTable = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n        this.eventHeight = this.parent.getElementHeightFromClass(eventTable, cls.APPOINTMENT_CLASS);\n        var selector = \".\" + cls.MONTH_HEADER_WRAPPER + \" tbody tr,.\" + cls.RESOURCE_COLUMN_TABLE_CLASS + \" tbody tr,.\" + cls.CONTENT_TABLE_CLASS + \" tbody tr\";\n        this.addCellHeight(selector, this.eventHeight, EVENT_GAP, this.cellHeader, this.moreIndicatorHeight);\n        var wrapperCollection = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n        var resources = this.parent.uiStateValues.isGroupAdaptive ?\n            [this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]] :\n            this.parent.activeViewOptions.allowVirtualScrolling ? this.parent.resourceBase.renderedResources :\n                this.parent.resourceBase.lastResourceLevel;\n        var months = this.getMonths();\n        if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n            for (var month = 0; month < months.length; month++) {\n                var monthStart = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(month.toString(), 10)], 1);\n                for (var i = 0, len = resources.length; i < len; i++) {\n                    this.renderedEvents = [];\n                    this.renderResourceEvent(wrapperCollection[parseInt(month.toString(), 10)], resources[parseInt(i.toString(), 10)], month, i, monthStart);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = resources.length; i < len; i++) {\n                this.renderedEvents = [];\n                for (var month = 0; month < months.length; month++) {\n                    var monthStart = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(month.toString(), 10)], 1);\n                    this.renderResourceEvent(wrapperCollection[parseInt(i.toString(), 10)], resources[parseInt(i.toString(), 10)], month, i, monthStart);\n                }\n            }\n        }\n        if (this.parent.rowAutoHeight && !isVerticalScrollbarAvail && contentTable.offsetWidth > contentTable.clientWidth) {\n            var appointments = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n            appointments.forEach(function (ele) {\n                ele.style.removeProperty('left');\n                ele.style.removeProperty('right');\n            });\n            var appContainer = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n            var conTable_1 = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n            var tr_2 = [].slice.call(conTable_1.querySelectorAll('tbody tr'));\n            appContainer.forEach(function (ele, index) {\n                var appWrapper = [].slice.call(ele.children);\n                var row = tr_2[parseInt(index.toString(), 10)];\n                appWrapper.forEach(function (appWrap, cellIndex) {\n                    var td = row.querySelector(\"td:nth-child(\" + (cellIndex + 1) + \")\");\n                    var app = [].slice.call(appWrap.children);\n                    var width = _this.parent.getElementWidth(td);\n                    var left = td.offsetLeft;\n                    if (_this.parent.enableRtl) {\n                        var right_1 = conTable_1.offsetWidth - left - td.offsetWidth;\n                        app.forEach(function (app) {\n                            app.style.width = Math.floor(parseInt(app.style.width, 10) / width) * width + 'px';\n                            app.style.right = right_1 + 'px';\n                        });\n                    }\n                    else {\n                        app.forEach(function (app) {\n                            app.style.width = Math.floor(parseInt(app.style.width, 10) / width) * width + 'px';\n                            app.style.left = left + 'px';\n                        });\n                    }\n                });\n            });\n        }\n    };\n    YearEvent.prototype.renderResourceEvent = function (wrapper, resource, month, index, monthStart) {\n        var eventWrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n        wrapper.appendChild(eventWrapper);\n        var monthEnd = util.addDays(util.lastDateOfMonth(new Date(monthStart.getTime())), 1);\n        var eventDatas = this.parent.eventBase.filterEvents(monthStart, monthEnd, undefined, resource);\n        var rowIndex = this.parent.activeViewOptions.orientation === 'Vertical' ? index : month;\n        var td = this.parent.element.querySelector(\".e-content-wrap tr:nth-child(\" + (rowIndex + 1) + \") td\");\n        this.cellHeight = td.offsetHeight;\n        this.groupOrder = resource.groupOrder;\n        var isSpannedCollection = [];\n        var _loop_2 = function (a) {\n            var data = eventDatas[parseInt(a.toString(), 10)];\n            var overlapIndex = void 0;\n            var eventData = extend({}, data, null, true);\n            if (this_2.parent.activeViewOptions.group.resources.length > 0) {\n                var eventObj = this_2.isSpannedEvent(eventData, monthStart);\n                overlapIndex = this_2.getIndex(eventObj[this_2.fields.startTime]);\n                eventData.Index = overlapIndex;\n            }\n            else {\n                overlapIndex = this_2.getIndex(eventData[this_2.fields.startTime]);\n                eventData.Index = overlapIndex;\n            }\n            var availedHeight = this_2.cellHeader + (this_2.eventHeight * (a + 1)) + EVENT_GAP + this_2.moreIndicatorHeight;\n            var leftValue = (this_2.parent.activeViewOptions.orientation === 'Vertical') ?\n                month * this_2.cellWidth : index * this_2.cellWidth;\n            if (!this_2.parent.isMinMaxDate(eventData[this_2.fields.startTime])) {\n                return { value: void 0 };\n            }\n            if (this_2.parent.activeViewOptions.orientation === 'Vertical' && this_2.parent.activeViewOptions.group.resources.length > 0) {\n                var isRendered = this_2.renderedEvents.filter(function (eventObj) {\n                    return eventObj.Guid === eventData.Guid;\n                });\n                var isSpanned = isSpannedCollection.filter(function (eventObj) {\n                    return eventObj.Guid === eventData.Guid;\n                });\n                if (isRendered.length > 0 || isSpanned.length > 0) {\n                    return \"continue\";\n                }\n            }\n            if (this_2.parent.rowAutoHeight || this_2.cellHeight > availedHeight) {\n                this_2.renderEvent(eventWrapper, eventData, month, leftValue, leftValue, monthStart, index);\n                this_2.updateCellHeight(td, availedHeight);\n                isSpannedCollection.push(eventData);\n            }\n            else {\n                var moreIndex = this_2.parent.activeViewOptions.orientation === 'Horizontal' ? month : index;\n                this_2.renderMoreIndicator(eventWrapper, eventDatas.length - a, monthStart, moreIndex, leftValue, leftValue, index);\n                if (this_2.parent.activeViewOptions.orientation === 'Horizontal') {\n                    for (var i = index; i < eventDatas.length; i++) {\n                        this_2.renderedEvents.push(extend({}, eventDatas[parseInt(i.toString(), 10)], { Index: overlapIndex + i }, true));\n                    }\n                }\n                return \"break\";\n            }\n        };\n        var this_2 = this;\n        for (var a = 0; a < eventDatas.length; a++) {\n            var state_1 = _loop_2(a);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    // eslint-disable-next-line max-len\n    YearEvent.prototype.renderEvent = function (wrapper, eventData, row, left, right, monthDate, rowIndex) {\n        var _this = this;\n        var eventObj = this.isSpannedEvent(eventData, monthDate);\n        var wrap = this.createEventElement(eventObj);\n        var width;\n        var index;\n        if (eventObj.isSpanned.count === 1) {\n            var endTime = util.addDays(eventObj[this.fields.endTime], -1);\n            eventObj[this.fields.endTime] = (endTime > eventObj[this.fields.startTime]) ? endTime : eventObj[this.fields.endTime];\n        }\n        if (eventObj[this.fields.startTime] > eventObj[this.fields.endTime]) {\n            return;\n        }\n        if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n            index = row + 1;\n            if (eventObj[this.fields.startTime].getTime() === eventObj[this.fields.endTime].getTime()) {\n                eventObj.isSpanned.count = 1;\n            }\n            width = eventObj.isSpanned.count * this.cellWidth;\n        }\n        else {\n            index = rowIndex + 1;\n            width = this.isResource ? eventObj.isSpanned.count * this.cellWidth : this.cellWidth;\n        }\n        var rowTd = this.parent.element.querySelector(\".e-content-wrap tr:nth-child(\" + index + \") td\");\n        var top = rowTd.offsetTop + this.cellHeader + (this.eventHeight * eventObj.Index) + EVENT_GAP;\n        setStyleAttribute(wrap, {\n            'width': width + 'px', 'height': this.eventHeight + 'px', 'left': left + 'px', 'right': right + 'px', 'top': top + 'px'\n        });\n        if (!this.isResource && this.parent.rowAutoHeight && this.parent.activeViewOptions.orientation === 'Vertical') {\n            wrap.setAttribute('data-index', eventObj.Index.toString());\n        }\n        var args = { data: eventObj, element: wrap, cancel: false, type: 'event' };\n        this.parent.trigger(events.eventRendered, args, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                wrapper.appendChild(wrap);\n                _this.wireAppointmentEvents(wrap, eventObj);\n                if (_this.parent.activeViewOptions.group.resources.length > 0) {\n                    _this.renderedEvents.push(extend({}, eventObj, null, true));\n                }\n                else if (_this.parent.activeViewOptions.orientation === 'Vertical') {\n                    _this.renderedEvents.push(extend({}, eventObj, null, true));\n                }\n                else if ((eventObj.isSpanned.isRight || eventObj.isSpanned.isLeft) && _this.parent.activeViewOptions.orientation === 'Horizontal'\n                    || !eventObj.isSpanned.isRight) {\n                    _this.renderedEvents.push(extend({}, eventObj, null, true));\n                }\n            }\n        });\n    };\n    // eslint-disable-next-line max-len\n    YearEvent.prototype.renderMoreIndicator = function (wrapper, count, startDate, row, left, right, index) {\n        if (this.parent.activeViewOptions.group.resources.length === 0 && wrapper.querySelector('[data-start-date=\"' + startDate.getTime() + '\"]')) {\n            return;\n        }\n        var endDate;\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            endDate = util.addDays(util.lastDateOfMonth(new Date(startDate.getTime())), 1);\n        }\n        else {\n            endDate = util.addDays(new Date(startDate.getTime()), 1);\n        }\n        var moreIndicator = this.getMoreIndicatorElement(count, startDate, endDate);\n        var rowTr = this.parent.element.querySelector(\".e-content-wrap tr:nth-child(\" + (row + 1) + \")\");\n        var top = rowTr.offsetTop + (this.cellHeight - this.moreIndicatorHeight);\n        left = (Math.floor(left / this.cellWidth) * this.cellWidth);\n        right = (Math.floor(right / this.cellWidth) * this.cellWidth);\n        setStyleAttribute(moreIndicator, { 'width': this.cellWidth + 'px', 'left': left + 'px', 'right': right + 'px', 'top': top + 'px' });\n        if (!isNullOrUndefined(index)) {\n            moreIndicator.setAttribute('data-group-index', index.toString());\n        }\n        wrapper.appendChild(moreIndicator);\n        EventHandler.add(moreIndicator, 'click', this.moreIndicatorClick, this);\n    };\n    YearEvent.prototype.createEventElement = function (record) {\n        var eventSubject = (record[this.fields.subject] || this.parent.eventSettings.fields.subject.default\n            || this.parent.localeObj.getConstant('addTitle'));\n        var eventWrapper = createElement('div', {\n            className: cls.APPOINTMENT_CLASS,\n            attrs: {\n                'data-id': 'Appointment_' + record[this.fields.id],\n                'data-guid': record.Guid,\n                'role': 'button', 'tabindex': '0',\n                'aria-disabled': this.parent.eventBase.getReadonlyAttribute(record),\n                'aria-label': this.parent.getAnnouncementString(record)\n            }\n        });\n        if (this.cssClass) {\n            addClass([eventWrapper], this.cssClass);\n        }\n        if (record[this.fields.isReadonly]) {\n            addClass([eventWrapper], cls.READ_ONLY);\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var resIndex = this.getGroupIndexFromEvent(record);\n            eventWrapper.setAttribute('data-group-index', resIndex.toString());\n        }\n        var templateElement = [];\n        var eventObj = extend({}, record, null, true);\n        if (this.parent.activeViewOptions.eventTemplate) {\n            var templateId = this.parent.element.id + '_' + this.parent.activeViewOptions.eventTemplateName + 'eventTemplate';\n            templateElement = this.parent.getAppointmentTemplate()(eventObj, this.parent, 'eventTemplate', templateId, false, undefined, undefined, this.parent.root);\n        }\n        else {\n            var locationEle = (record[this.fields.location] || this.parent.eventSettings.fields.location.default || '');\n            var subjectEle = createElement('div', {\n                className: cls.SUBJECT_CLASS,\n                innerHTML: (eventSubject + (locationEle ? ';&nbsp' + locationEle : ''))\n            });\n            var startTimeEle = createElement('div', {\n                className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                innerHTML: this.parent.getTimeString(eventObj[this.fields.startTime])\n            });\n            var endTimeEle = createElement('div', {\n                className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                innerHTML: this.parent.getTimeString(eventObj[this.fields.endTime])\n            });\n            addClass([subjectEle], 'e-text-center');\n            if (record[this.fields.isAllDay]) {\n                templateElement = [subjectEle];\n            }\n            else if (!eventObj.isLeft && !eventObj.isRight) {\n                templateElement = [startTimeEle, subjectEle, endTimeEle];\n            }\n            else {\n                if (!eventObj.isLeft) {\n                    templateElement.push(startTimeEle);\n                }\n                templateElement.push(subjectEle);\n                if (!eventObj.isRight) {\n                    templateElement.push(endTimeEle);\n                }\n            }\n        }\n        var appointmentDetails = createElement('div', { className: cls.APPOINTMENT_DETAILS });\n        append(templateElement, appointmentDetails);\n        eventWrapper.appendChild(appointmentDetails);\n        this.parent.eventBase.renderSpannedIcon(eventWrapper, record.isSpanned);\n        this.renderResizeHandler(eventWrapper, record.data, record[this.fields.isReadonly]);\n        this.applyResourceColor(eventWrapper, eventObj, 'backgroundColor', this.groupOrder);\n        return eventWrapper;\n    };\n    YearEvent.prototype.isSpannedEvent = function (eventObj, monthDate) {\n        var monthStart = new Date(monthDate.getFullYear(), monthDate.getMonth(), 1);\n        var monthEnd = util.addDays(new Date(monthDate.getFullYear(), monthDate.getMonth() + 1, 0), 1);\n        var eventData = extend({}, eventObj, null, true);\n        var eventStart = eventData[this.fields.startTime];\n        var eventEnd = eventData[this.fields.endTime];\n        var isSpanned = { isLeft: false, isRight: false, count: 1 };\n        var yearStart = new Date(this.parent.selectedDate.getFullYear(), this.parent.firstMonthOfYear, 1);\n        var yearEnd = util.addMonths(yearStart, this.parent.monthsCount);\n        if (this.isResource) {\n            this.updateSpannedEvents(eventObj, monthStart, monthEnd);\n        }\n        if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0) {\n            this.updateSpannedEventDetails(eventStart, eventEnd, yearStart, yearEnd, eventData, isSpanned);\n            var originalStartTime = eventData[this.fields.startTime];\n            var originalEndTime = new Date(eventData[this.fields.endTime] - 1);\n            isSpanned.count = (originalEndTime.getMonth() - originalStartTime.getMonth()) +\n                (this.parent.monthsCount * (originalEndTime.getFullYear() - originalStartTime.getFullYear())) + 1;\n        }\n        else {\n            this.updateSpannedEventDetails(eventStart, eventEnd, monthStart, monthEnd, eventData, isSpanned);\n            if (this.parent.activeViewOptions.group.resources.length === 0 || this.parent.uiStateValues.isGroupAdaptive) {\n                var end = util.resetTime(eventData[this.fields.endTime]).getTime();\n                var start = util.resetTime(eventData[this.fields.startTime]).getTime();\n                if (eventObj[this.fields.isAllDay] && end === eventObj[this.fields.endTime].getTime() || isSpanned.isRight) {\n                    end = util.addDays(new Date(end), -1).getTime();\n                }\n                isSpanned.count = Math.round((end - start) / util.MS_PER_DAY) + 1;\n            }\n        }\n        eventData.isSpanned = isSpanned;\n        if (util.resetTime(eventStart).getTime() < util.resetTime(this.parent.minDate).getTime()) {\n            eventData[this.fields.startTime] = this.parent.minDate;\n        }\n        if (util.resetTime(eventEnd).getTime() > util.resetTime(this.parent.maxDate).getTime()) {\n            eventData[this.fields.endTime] = this.parent.maxDate;\n        }\n        return eventData;\n    };\n    YearEvent.prototype.updateSpannedEventDetails = function (eventStart, eventEnd, viewStart, viewEnd, eventObj, isSpanned) {\n        if (eventStart.getTime() < viewStart.getTime()) {\n            eventObj[this.fields.startTime] = viewStart;\n            isSpanned.isLeft = true;\n        }\n        if (eventEnd.getTime() > viewEnd.getTime()) {\n            eventObj[this.fields.endTime] = viewEnd;\n            isSpanned.isRight = true;\n        }\n    };\n    YearEvent.prototype.getOverlapEvents = function (date, appointments) {\n        var appointmentsList = [];\n        var dateStart;\n        var dateEnd;\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            var monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(date.getTime()));\n            var monthEnd = util.addDays(this.parent.calendarUtil.getMonthEndDate(new Date(date.getTime())), -1);\n            dateStart = util.resetTime(new Date(monthStart.getTime())).getTime();\n            dateEnd = util.resetTime(new Date(monthEnd.getTime())).getTime();\n        }\n        else {\n            if (this.parent.rowAutoHeight) {\n                dateStart = util.resetTime(new Date(date.getTime())).getTime();\n                dateEnd = util.addDays(util.resetTime(new Date(date.getTime())), 1).getTime();\n            }\n            else {\n                dateStart = dateEnd = util.resetTime(new Date(date.getTime())).getTime();\n            }\n        }\n        for (var _i = 0, appointments_1 = appointments; _i < appointments_1.length; _i++) {\n            var app = appointments_1[_i];\n            var appStart = new Date(app[this.fields.startTime].getTime());\n            var appEnd = new Date(app[this.fields.endTime].getTime());\n            var timeCondition = app[this.fields.isAllDay] ? util.resetTime(appEnd).getTime() > dateStart :\n                util.resetTime(appEnd).getTime() >= dateStart;\n            if (((util.resetTime(appStart).getTime() <= dateStart) && (timeCondition)) ||\n                (util.resetTime(appStart).getTime() >= dateStart) && (util.resetTime(appEnd).getTime() <= dateEnd)) {\n                appointmentsList.push(app);\n            }\n            else if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                if (util.resetTime(appStart).getTime() >= dateStart && util.resetTime(appEnd).getTime() >= dateEnd) {\n                    appointmentsList.push(app);\n                }\n            }\n        }\n        return appointmentsList;\n    };\n    YearEvent.prototype.getMonths = function () {\n        var _this = this;\n        // eslint-disable-next-line prefer-spread\n        return Array.apply(null, { length: this.parent.monthsCount }).map(function (value, index) {\n            return _this.parent.firstMonthOfYear + index;\n        });\n    };\n    YearEvent.prototype.removeCellHeight = function () {\n        var elementSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \" tbody tr,.\" + cls.RESOURCE_COLUMN_TABLE_CLASS + \" tbody tr,.\" + cls.CONTENT_TABLE_CLASS + \" tbody tr\";\n        var rows = [].slice.call(this.element.querySelectorAll(elementSelector));\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            row.firstElementChild.style.height = '';\n        }\n    };\n    YearEvent.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.parent = null;\n    };\n    return YearEvent;\n}(TimelineEvent));\nexport { YearEvent };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createElement, closest, Draggable, extend, formatUnit, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass, remove, removeClass, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { ActionBase } from '../actions/action-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport { YearEvent } from '../event-renderer/year';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nvar MINUTES_PER_DAY = 1440;\n/**\n * Schedule events drag actions\n */\nvar DragAndDrop = /** @class */ (function (_super) {\n    __extends(DragAndDrop, _super);\n    function DragAndDrop() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.widthUptoCursorPoint = 0;\n        _this.heightUptoCursorPoint = 0;\n        _this.cursorPointIndex = 0;\n        _this.isHeaderRows = false;\n        _this.isTimelineDayProcess = false;\n        _this.widthPerMinute = 0;\n        _this.heightPerMinute = 0;\n        _this.minDiff = 0;\n        _this.isStepDragging = false;\n        _this.isMorePopupOpened = false;\n        _this.isAllDayDrag = false;\n        _this.isMultiSelect = false;\n        _this.multiData = [];\n        _this.updatedData = [];\n        _this.swagData = [];\n        _this.startTime = 0;\n        _this.isAllDayTarget = false;\n        _this.targetTd = null;\n        _this.isCursorAhead = false;\n        _this.enableCurrentViewDrag = false;\n        _this.isPreventMultiDrag = false;\n        _this.slotsUptoCursor = -1;\n        _this.eleTop = 0;\n        return _this;\n    }\n    DragAndDrop.prototype.wireDragEvent = function (element) {\n        var isVerticalView = ['Day', 'Week', 'WorkWeek'].indexOf(this.parent.currentView) > -1;\n        new Draggable(element, {\n            abort: '.' + cls.EVENT_RESIZE_CLASS,\n            clone: true,\n            isDragScroll: true,\n            enableTailMode: (this.parent.eventDragArea || isVerticalView) ? true : false,\n            cursorAt: (this.parent.eventDragArea) ? { left: -20, top: -20 } : { left: 0, top: 0 },\n            dragArea: this.dragArea,\n            dragStart: this.dragStart.bind(this),\n            drag: this.drag.bind(this),\n            dragStop: this.dragStop.bind(this),\n            enableAutoScroll: false,\n            helper: this.dragHelper.bind(this),\n            queryPositionInfo: this.dragPosition.bind(this)\n        });\n    };\n    DragAndDrop.prototype.setDragArea = function () {\n        var dragElement = document.querySelector(this.parent.eventDragArea);\n        this.dragArea = this.parent.eventDragArea && dragElement ? dragElement :\n            this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n    };\n    DragAndDrop.prototype.dragHelper = function (e) {\n        var _this = this;\n        if (e.sender && e.sender.type === 'touchmove' && (!this.parent.uiStateValues.isTapHold ||\n            !e.element.classList.contains(cls.APPOINTMENT_BORDER))) {\n            return null;\n        }\n        this.setDragActionDefaultValues();\n        this.actionObj.element = e.element;\n        this.eleTop = parseFloat(this.actionObj.element.style.top);\n        this.slotsUptoCursor = -1;\n        this.actionObj.action = 'drag';\n        var elements = [];\n        if (!this.parent.allowMultiDrag || isNullOrUndefined(this.parent.selectedElements) || this.parent.selectedElements.length === 0 ||\n            (this.parent.selectedElements.length > 0 && this.parent.selectedElements.indexOf(this.actionObj.element) === -1)) {\n            elements = [e.element];\n        }\n        else {\n            elements = this.parent.selectedElements;\n            this.isMultiSelect = true;\n        }\n        elements.forEach(function (ele) {\n            var cloneElement = _this.createCloneElement(ele);\n            if (ele.getAttribute('data-guid') === _this.actionObj.element.getAttribute('data-guid')) {\n                _this.actionObj.clone = cloneElement;\n                if (!_this.parent.eventDragArea && _this.parent.currentView !== 'Month' &&\n                    _this.parent.activeViewOptions.timeScale.enable && !_this.parent.activeView.isTimelineView() &&\n                    !_this.actionObj.element.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n                    setStyleAttribute(_this.actionObj.clone, { cursor: 'move', left: '0%', right: '0%', width: '100%' });\n                }\n                _this.actionObj.clone.style.top = formatUnit(_this.actionObj.element.offsetTop);\n            }\n            _this.actionObj.cloneElement.push(cloneElement);\n            _this.actionObj.originalElement.push(ele);\n        });\n        return this.actionObj.clone;\n    };\n    DragAndDrop.prototype.dragPosition = function (e) {\n        if (this.parent.eventDragArea) {\n            return { left: e.left, top: e.top };\n        }\n        var cellHeight = (this.actionObj.cellHeight / this.actionObj.slotInterval) * this.actionObj.interval;\n        var leftValue = formatUnit(0);\n        if (this.parent.currentView === 'Month') {\n            leftValue = e.left;\n        }\n        var cloneRight;\n        if (this.isStepDragging) {\n            cloneRight = Math.ceil(this.actionObj.clone.getBoundingClientRect().right) + this.actionObj.interval;\n        }\n        else {\n            cloneRight = this.actionObj.clone.getBoundingClientRect().right;\n        }\n        var dragArea = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var contentWrapRight = dragArea.getBoundingClientRect().right;\n        if (this.parent.activeView.isTimelineView() && this.parent.currentView !== 'TimelineYear' && !this.parent.enableRtl &&\n            this.actionObj.pageX > cloneRight && !this.isMorePopupOpened && !(this.actionObj.pageX > contentWrapRight)) {\n            this.isCursorAhead = true;\n        }\n        if (this.parent.activeView.isTimelineView()) {\n            leftValue = formatUnit(this.actionObj.clone.offsetLeft);\n        }\n        var topValue;\n        if ((this.parent.activeView.isTimelineView() || !this.parent.timeScale.enable ||\n            (!isNullOrUndefined(this.actionObj.clone.offsetParent) &&\n                this.actionObj.clone.offsetParent.classList.contains(cls.MORE_EVENT_POPUP_CLASS)))) {\n            topValue = formatUnit(this.actionObj.clone.offsetTop);\n        }\n        else if (this.parent.currentView === 'Month') {\n            topValue = formatUnit(0);\n        }\n        else if (this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n            topValue = formatUnit(this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS).offsetTop);\n            setStyleAttribute(this.actionObj.clone, {\n                width: formatUnit(Math.ceil(this.actionObj.clone.offsetWidth / this.actionObj.cellWidth) * this.actionObj.cellWidth),\n                right: this.parent.enableRtl && formatUnit(0)\n            });\n        }\n        else {\n            if (this.actionObj.element.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS) &&\n                !this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n                setStyleAttribute(this.actionObj.clone, {\n                    height: formatUnit(this.actionObj.cellHeight),\n                    width: formatUnit(this.actionObj.cellWidth - 1),\n                    pointerEvents: 'none'\n                });\n            }\n            var top_1 = parseInt(e.top, 10);\n            top_1 = top_1 < 0 ? 0 : top_1;\n            if (this.slotsUptoCursor < 0) {\n                var cellsCountUptoCursor = Math.floor(top_1 / cellHeight);\n                var cellsCountUptoEleTop = Math.floor(this.eleTop / cellHeight);\n                this.slotsUptoCursor = cellsCountUptoCursor - cellsCountUptoEleTop;\n            }\n            top_1 = (Math.floor((top_1 + 1) / cellHeight) - this.slotsUptoCursor) * cellHeight;\n            topValue = formatUnit(top_1 < 0 ? 0 : top_1);\n            var scrollHeight = this.parent.element.querySelector('.e-content-wrap').scrollHeight;\n            var cloneBottom = parseInt(topValue, 10) + this.actionObj.clone.offsetHeight;\n            if (cloneBottom > scrollHeight) {\n                topValue = (parseInt(topValue, 10) - (cloneBottom - scrollHeight)) + 'px';\n            }\n            if (this.isPreventMultiDrag) {\n                topValue = formatUnit(this.actionObj.clone.offsetTop);\n            }\n        }\n        return { left: leftValue, top: topValue };\n    };\n    DragAndDrop.prototype.setDragActionDefaultValues = function () {\n        this.actionObj.action = 'drag';\n        this.actionObj.isAllDay = null;\n        this.actionObj.slotInterval = this.parent.activeViewOptions.timeScale.interval / this.parent.activeViewOptions.timeScale.slotCount;\n        this.actionObj.interval = this.actionObj.slotInterval;\n        var workCell = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n        this.actionObj.cellWidth = workCell.offsetWidth;\n        this.actionObj.cellHeight = workCell.offsetHeight;\n    };\n    DragAndDrop.prototype.dragStart = function (e) {\n        var _this = this;\n        var eventGuid = this.actionObj.element.getAttribute('data-guid');\n        this.actionObj.event = this.parent.eventBase.getEventByGuid(eventGuid);\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        if (!isNullOrUndefined(eventObj)) {\n            this.startTime = eventObj[this.parent.eventFields.startTime].getTime();\n        }\n        var dragArgs = {\n            cancel: false,\n            data: eventObj,\n            selectedData: this.getSelectedData(),\n            event: e,\n            excludeSelectors: null,\n            element: this.actionObj.element,\n            interval: this.actionObj.interval,\n            navigation: { enable: false, timeDelay: 2000 },\n            scroll: { enable: true, scrollBy: 30, timeDelay: 100 }\n        };\n        this.parent.trigger(events.dragStart, dragArgs, function (dragEventArgs) {\n            if (dragEventArgs.cancel || (!isNullOrUndefined(_this.actionObj.element) &&\n                isNullOrUndefined(_this.actionObj.element.parentElement))) {\n                var dragObj = _this.actionObj.element.ej2_instances[0];\n                if (!isNullOrUndefined(dragObj)) {\n                    dragObj.intDestroy(e.event);\n                }\n                _this.actionObj.action = '';\n                _this.removeCloneElementClasses();\n                _this.removeCloneElement();\n                return;\n            }\n            _this.actionClass('addClass');\n            _this.parent.uiStateValues.action = true;\n            _this.actionObj.start = eventObj[_this.parent.eventFields.startTime];\n            _this.actionObj.end = eventObj[_this.parent.eventFields.endTime];\n            _this.actionObj.groupIndex = parseInt(_this.actionObj.element.getAttribute('data-group-index') || '0', 10);\n            _this.actionObj.interval = dragEventArgs.interval;\n            _this.actionObj.navigation = dragEventArgs.navigation;\n            _this.actionObj.scroll = dragEventArgs.scroll;\n            _this.enableCurrentViewDrag = dragArgs.dragWithinRange && !dragArgs.navigation.enable && _this.parent.allowMultiDrag;\n            _this.actionObj.excludeSelectors = dragEventArgs.excludeSelectors;\n            var viewElement = _this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            _this.scrollArgs = { element: viewElement, width: viewElement.scrollWidth, height: viewElement.scrollHeight };\n            _this.widthPerMinute = (_this.actionObj.cellWidth / _this.actionObj.slotInterval) * _this.actionObj.interval;\n            _this.heightPerMinute = (_this.actionObj.cellHeight / _this.actionObj.slotInterval) * _this.actionObj.interval;\n            _this.widthUptoCursorPoint = 0;\n            _this.heightUptoCursorPoint = 0;\n            _this.cursorPointIndex = -1;\n            _this.isHeaderRows = false;\n            _this.isTimelineDayProcess = false;\n            _this.minDiff = 0;\n            _this.isMorePopupOpened = false;\n            _this.daysVariation = -1;\n            _this.isAllDayTarget = _this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS);\n            if ((_this.parent.activeView.isTimelineView() || !_this.parent.timeScale.enable) && _this.parent.currentView !== 'TimelineYear') {\n                if (!isNullOrUndefined(_this.actionObj.clone.offsetParent) &&\n                    _this.actionObj.clone.offsetParent.classList.contains(cls.MORE_EVENT_POPUP_CLASS)) {\n                    _this.isMorePopupOpened = true;\n                }\n                _this.actionObj.pageX = e.event.pageX;\n                var rows = _this.parent.activeViewOptions.headerRows;\n                _this.isHeaderRows = rows.length > 0 && rows[rows.length - 1].option !== 'Hour' &&\n                    rows[rows.length - 1].option !== 'Date';\n                _this.isTimelineDayProcess = !_this.parent.activeViewOptions.timeScale.enable || _this.isHeaderRows ||\n                    _this.parent.currentView === 'TimelineMonth' || (rows.length > 0 && rows[rows.length - 1].option === 'Date');\n                _this.isStepDragging = !_this.isTimelineDayProcess && (_this.actionObj.slotInterval !== _this.actionObj.interval);\n                if (_this.isTimelineDayProcess) {\n                    _this.timelineEventModule = new TimelineEvent(_this.parent, 'day');\n                }\n                else {\n                    _this.timelineEventModule = new TimelineEvent(_this.parent, 'hour');\n                }\n            }\n            if (_this.parent.currentView === 'TimelineYear') {\n                _this.yearEvent = new YearEvent(_this.parent);\n            }\n            if (_this.parent.currentView === 'Month') {\n                _this.startTime = util.resetTime(new Date(_this.startTime)).getTime();\n                _this.updateOriginalElement(_this.actionObj.clone);\n                _this.monthEvent = new MonthEvent(_this.parent);\n            }\n            if (_this.parent.currentView === 'Day' || _this.parent.currentView === 'Week' || _this.parent.currentView === 'WorkWeek') {\n                _this.verticalEvent = new VerticalEvent(_this.parent);\n                _this.verticalEvent.initializeValues();\n                var splitEvents = _this.splitEvent(_this.actionObj.event);\n                splitEvents.forEach(function (event) {\n                    var query = \".e-day-wrapper[data-date=\\\"\" + util.resetTime(event[_this.parent.eventFields.startTime]).getTime() + \"\\\"]\";\n                    if (_this.parent.activeViewOptions.group.resources.length > 0) {\n                        query = query.concat('[data-group-index = \"' + _this.actionObj.groupIndex + '\"]');\n                    }\n                    var appWrap = _this.parent.element.querySelector(query);\n                    if (appWrap) {\n                        var appEle = appWrap.querySelector('[data-id=\"' + _this.actionObj.clone.getAttribute('data-id') + '\"]');\n                        if (appEle) {\n                            addClass([appEle], cls.EVENT_ACTION_CLASS);\n                        }\n                    }\n                });\n            }\n        });\n    };\n    DragAndDrop.prototype.getSelectedData = function () {\n        if (this.isMultiSelect && this.multiData.length === 0 && this.parent.selectedElements.length > 0) {\n            for (var _i = 0, _a = this.parent.selectedElements; _i < _a.length; _i++) {\n                var element = _a[_i];\n                var eventGuid = element.getAttribute('data-guid');\n                var data = this.parent.eventBase.getEventByGuid(eventGuid);\n                this.multiData.push(extend({}, data, null, true));\n            }\n        }\n        return this.multiData;\n    };\n    DragAndDrop.prototype.drag = function (e) {\n        if (e.event && e.event.type === 'touchmove') {\n            e.event.preventDefault();\n        }\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide(true);\n        }\n        if ((!isNullOrUndefined(e.target)) && e.target.classList &&\n            e.target.classList.contains(cls.DISABLE_DATES)) {\n            return;\n        }\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        var eventArgs = this.parent.eventBase.getPageCoordinates(e);\n        this.actionObj.Y = this.actionObj.pageY = eventArgs.pageY;\n        this.actionObj.X = this.actionObj.pageX = eventArgs.pageX;\n        this.actionObj.target = e.target;\n        this.widthUptoCursorPoint = (this.widthUptoCursorPoint === 0) ?\n            Math.ceil((Math.abs(this.actionObj.clone.getBoundingClientRect().left - this.actionObj.X) / this.widthPerMinute)) *\n                this.widthPerMinute : this.widthUptoCursorPoint;\n        this.widthUptoCursorPoint = this.isMorePopupOpened ? this.actionObj.cellWidth : this.widthUptoCursorPoint;\n        this.heightUptoCursorPoint = (this.heightUptoCursorPoint === 0) ?\n            Math.ceil((Math.abs(this.actionObj.clone.getBoundingClientRect().top - this.actionObj.Y) / this.heightPerMinute)) *\n                this.heightPerMinute : this.heightUptoCursorPoint;\n        this.isAllDayDrag = (this.parent.activeViewOptions.timeScale.enable) ?\n            this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS) :\n            this.actionObj.event[this.parent.eventFields.isAllDay];\n        if (this.isStepDragging && this.minDiff === 0) {\n            this.calculateMinutesDiff(eventObj);\n        }\n        if ((this.parent.currentView === 'Month' || this.isAllDayDrag) && this.daysVariation < 0) {\n            var date = this.parent.getDateFromElement(this.actionObj.target);\n            if (!isNullOrUndefined(date)) {\n                var currentDate = util.resetTime(date);\n                var startDate = util.resetTime(new Date(eventObj[this.parent.eventFields.startTime].getTime()));\n                this.daysVariation = (currentDate.getTime() - startDate.getTime()) / util.MS_PER_DAY;\n            }\n            else {\n                this.daysVariation = 0;\n            }\n        }\n        else {\n            this.daysVariation = 0;\n        }\n        if (this.parent.eventDragArea) {\n            var targetElement = eventArgs.target;\n            this.actionObj.clone.style.top = formatUnit(targetElement.offsetTop);\n            this.actionObj.clone.style.left = formatUnit(targetElement.offsetLeft);\n            var currentTarget = closest(targetElement, '.' + cls.ROOT);\n            if (!currentTarget) {\n                this.actionObj.clone.style.height = '';\n                this.actionObj.clone.style.width = '';\n            }\n            else {\n                if (!(this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'Day')) {\n                    this.actionObj.clone.style.width = formatUnit(this.actionObj.element.offsetWidth);\n                }\n            }\n        }\n        this.updateScrollPosition(e);\n        this.updateNavigatingPosition(e);\n        this.updateDraggingDateTime(e);\n        var dragArgs = {\n            data: eventObj, event: e, element: this.actionObj.element, startTime: this.actionObj.start,\n            endTime: this.actionObj.end, selectedData: this.updatedData\n        };\n        if (this.parent.group.resources.length > 0) {\n            dragArgs.groupIndex = this.actionObj.groupIndex;\n        }\n        this.parent.trigger(events.drag, dragArgs);\n    };\n    DragAndDrop.prototype.calculateMinutesDiff = function (eventObj) {\n        if (this.parent.enableRtl) {\n            this.minDiff =\n                ((this.actionObj.clone.offsetWidth - this.widthUptoCursorPoint) / this.widthPerMinute) * this.actionObj.interval;\n        }\n        else {\n            this.minDiff = (this.widthUptoCursorPoint / this.widthPerMinute) * this.actionObj.interval;\n        }\n        var startDate = eventObj[this.parent.eventFields.startTime];\n        var startTime = this.parent.activeView.renderDates[0];\n        var startEndHours = util.getStartEndHours(startTime, this.parent.activeView.getStartHour(), this.parent.activeView.getEndHour());\n        if (startEndHours.startHour.getTime() > startDate.getTime()) {\n            this.minDiff = this.minDiff + ((startEndHours.startHour.getTime() - startDate.getTime()) / util.MS_PER_MINUTE);\n        }\n    };\n    DragAndDrop.prototype.dragStop = function (e) {\n        var _this = this;\n        this.isCursorAhead = false;\n        this.isPreventMultiDrag = false;\n        this.removeCloneElementClasses();\n        this.removeCloneElement();\n        clearInterval(this.actionObj.navigationInterval);\n        this.actionObj.navigationInterval = null;\n        clearInterval(this.actionObj.scrollInterval);\n        this.actionObj.scrollInterval = null;\n        this.actionClass('removeClass');\n        this.parent.uiStateValues.action = this.parent.uiStateValues.isTapHold = false;\n        if (this.isAllowDrop(e)) {\n            return;\n        }\n        var target = (e.target.classList && (!e.target.classList.contains('e-work-cells') && this.parent.cellTemplate) ?\n            closest(e.target, '.e-work-cells') : e.target);\n        var dragArgs = {\n            cancel: false, data: this.getChangedData(this.updatedData), selectedData: this.updatedData,\n            event: e, element: this.actionObj.element, target: target\n        };\n        this.actionObj.action = null;\n        this.parent.trigger(events.dragStop, dragArgs, function (dragEventArgs) {\n            if (dragEventArgs.cancel) {\n                return;\n            }\n            if (_this.parent.isSpecificResourceEvents()) {\n                _this.parent.crudModule.crudObj.isCrudAction = true;\n                _this.parent.crudModule.crudObj.sourceEvent =\n                    [_this.parent.resourceBase.lastResourceLevel[parseInt(dragArgs.element.getAttribute('data-group-index'), 10)]];\n                var currentGroupIndex = parseInt(dragArgs.target.getAttribute('data-group-index'), 10) || _this.actionObj.groupIndex;\n                _this.parent.crudModule.crudObj.targetEvent =\n                    [_this.parent.resourceBase.lastResourceLevel[parseInt(currentGroupIndex.toString(), 10)]];\n            }\n            _this.saveChangedData(dragEventArgs, _this.isMultiSelect);\n        });\n        this.updatedData = [];\n        this.multiData = [];\n        this.isMultiSelect = false;\n        this.parent.selectedElements = [];\n    };\n    DragAndDrop.prototype.updateNavigatingPosition = function (e) {\n        var _this = this;\n        if (this.actionObj.navigation.enable) {\n            var currentDate_1 = this.parent.getCurrentTime();\n            if (isNullOrUndefined(this.actionObj.navigationInterval)) {\n                this.actionObj.navigationInterval = window.setInterval(function () {\n                    if (currentDate_1) {\n                        var crtDate = _this.parent.getCurrentTime();\n                        var end = crtDate.getSeconds();\n                        var start = currentDate_1.getSeconds() + (_this.actionObj.navigation.timeDelay / 1000);\n                        start = (start >= 60) ? start - 60 : start;\n                        if (start === end) {\n                            currentDate_1 = _this.parent.getCurrentTime();\n                            _this.viewNavigation(e);\n                            _this.updateDraggingDateTime(e);\n                        }\n                    }\n                }, this.actionObj.navigation.timeDelay);\n            }\n        }\n    };\n    DragAndDrop.prototype.updateDraggingDateTime = function (e) {\n        if (!isNullOrUndefined(this.actionObj.clone.offsetParent) &&\n            this.actionObj.clone.offsetParent.classList.contains(cls.MORE_EVENT_POPUP_CLASS)) {\n            this.morePopupEventDragging(e);\n        }\n        else if (this.parent.activeView.isTimelineView() && this.parent.currentView !== 'TimelineYear') {\n            this.timelineEventModule.dateRender = this.parent.activeView.renderDates;\n            this.timelineEventModule.cellWidth = this.actionObj.cellWidth;\n            this.timelineEventModule.getSlotDates();\n            this.actionObj.cellWidth = this.isHeaderRows ? this.timelineEventModule.cellWidth :\n                this.parent.getElementWidth(this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS));\n            this.calculateTimelineTime(e);\n        }\n        else {\n            if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear') {\n                this.calculateVerticalDate(e);\n            }\n            else {\n                this.calculateVerticalTime(e);\n            }\n        }\n    };\n    DragAndDrop.prototype.navigationWrapper = function () {\n        if (!this.parent.activeView.isTimelineView()) {\n            if (this.parent.currentView === 'Month' || !this.parent.timeScale.enable) {\n                var outerWrapperCls = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n                this.actionObj.index = (this.parent.activeView.renderDates.length < this.actionObj.index) ?\n                    this.parent.activeView.renderDates.length - 1 : this.actionObj.index;\n                var targetWrapper = outerWrapperCls[this.actionObj.index].querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n                if (!targetWrapper) {\n                    targetWrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n                    outerWrapperCls[this.actionObj.index].appendChild(targetWrapper);\n                }\n                targetWrapper.appendChild(this.actionObj.clone);\n            }\n            else {\n                var wrapperClass = this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS) ?\n                    '.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS : '.' + cls.APPOINTMENT_WRAPPER_CLASS;\n                this.parent.element.querySelectorAll(wrapperClass)\n                    .item(this.actionObj.index).appendChild(this.actionObj.clone);\n                if (wrapperClass === '.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS) {\n                    var elementHeight = this.getAllDayEventHeight();\n                    var event_2 = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS + ':first-child'));\n                    if (event_2[0].offsetHeight < elementHeight) {\n                        for (var _i = 0, event_1 = event_2; _i < event_1.length; _i++) {\n                            var e = event_1[_i];\n                            e.style.height = ((elementHeight + 2) / 12) + 'em';\n                        }\n                    }\n                    this.actionObj.clone.style.height = formatUnit(elementHeight);\n                }\n                this.actionObj.height = parseInt(this.actionObj.clone.style.height, 10);\n            }\n        }\n        else {\n            var outWrapper = void 0;\n            if (this.parent.activeViewOptions.group.resources.length > 0) {\n                outWrapper = this.parent.element.querySelectorAll('.e-appointment-container:not(.e-hidden)').item(this.actionObj.index);\n            }\n            else {\n                outWrapper = this.parent.element.querySelector('.' + cls.APPOINTMENT_CONTAINER_CLASS);\n            }\n            if (!isNullOrUndefined(outWrapper)) {\n                var tarWrapper_1 = outWrapper.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n                if (!tarWrapper_1) {\n                    tarWrapper_1 = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n                    outWrapper.appendChild(tarWrapper_1);\n                }\n                this.actionObj.cloneElement.forEach(function (ele) {\n                    tarWrapper_1.appendChild(ele);\n                });\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DragAndDrop.prototype.viewNavigation = function (e) {\n        var navigationType;\n        var dragArea = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (dragArea && ((!this.scrollEdges.top && !this.scrollEdges.bottom) ||\n            closest(this.actionObj.clone, '.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS))) {\n            if ((dragArea.scrollLeft === 0) &&\n                (Math.round(this.actionObj.X) <=\n                    Math.round(dragArea.getBoundingClientRect().left + this.actionObj.cellWidth + window.pageXOffset))) {\n                navigationType = this.parent.enableRtl ? 'next' : 'previous';\n            }\n            else if ((Math.round(dragArea.scrollLeft) + dragArea.clientWidth === dragArea.scrollWidth) &&\n                (Math.round(this.actionObj.X) >=\n                    Math.round(dragArea.getBoundingClientRect().right - this.actionObj.cellWidth + window.pageXOffset))) {\n                navigationType = this.parent.enableRtl ? 'previous' : 'next';\n            }\n            if (navigationType) {\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate(navigationType));\n            }\n        }\n    };\n    DragAndDrop.prototype.morePopupEventDragging = function (e) {\n        if (isNullOrUndefined(e.target) || (e.target && isNullOrUndefined(closest(e.target, 'td')))) {\n            return;\n        }\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        var eventDuration = eventObj[this.parent.eventFields.endTime].getTime() -\n            eventObj[this.parent.eventFields.startTime].getTime();\n        var td = closest(e.target, 'td');\n        if (this.parent.currentView === 'TimelineYear' && (!td.classList.contains(cls.WORK_CELLS_CLASS) || td.classList.contains(cls.OTHERMONTH_CLASS))) {\n            return;\n        }\n        var dragStart = this.parent.getDateFromElement(td);\n        var dragEnd = new Date(dragStart.getTime());\n        dragEnd.setMilliseconds(eventDuration);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.actionObj.groupIndex = parseInt(td.getAttribute('data-group-index'), 10);\n        }\n        this.actionObj.start = new Date(dragStart.getTime());\n        this.actionObj.end = new Date(dragEnd.getTime());\n        this.actionObj.clone.style.top = formatUnit(td.offsetParent.offsetTop);\n        this.actionObj.clone.style.left = formatUnit(td.offsetLeft);\n        this.actionObj.clone.style.width = formatUnit(td.offsetWidth);\n        var eventContainer = td;\n        var eventWrapper;\n        if (this.parent.activeView.isTimelineView()) {\n            var rowIndex = closest(td, 'tr').rowIndex;\n            eventContainer = this.parent.element.querySelectorAll('.e-appointment-container').item(rowIndex);\n        }\n        eventWrapper = eventContainer.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n        if (!eventWrapper) {\n            eventWrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            eventContainer.appendChild(eventWrapper);\n        }\n        this.appendCloneElement(eventWrapper);\n    };\n    DragAndDrop.prototype.calculateVerticalTime = function (e) {\n        var _this = this;\n        if (isNullOrUndefined(this.actionObj.target) ||\n            (this.actionObj.target && isNullOrUndefined(closest(this.actionObj.target, 'tr'))) ||\n            (!isNullOrUndefined(closest(this.actionObj.target, 'td')) && !(closest(this.actionObj.target, 'td').classList.contains(cls.WORK_CELLS_CLASS)) &&\n                !(closest(this.actionObj.target, 'td').classList.contains(cls.ALLDAY_CELLS_CLASS)))) {\n            return;\n        }\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            this.swapDragging(e);\n        }\n        var dragArea = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        var eventStart = eventObj[this.parent.eventFields.startTime];\n        var eventEnd = eventObj[this.parent.eventFields.endTime];\n        var eventDuration = util.getUniversalTime(eventEnd) - util.getUniversalTime(eventStart);\n        var offsetTop = Math.floor(parseInt(this.actionObj.clone.style.top, 10) / this.actionObj.cellHeight)\n            * this.actionObj.cellHeight;\n        offsetTop = offsetTop < 0 ? 0 : offsetTop;\n        if (this.scrollEdges.top || this.scrollEdges.bottom) {\n            offsetTop = this.scrollEdges.top ? dragArea.scrollTop - this.heightUptoCursorPoint +\n                this.actionObj.cellHeight + window.pageYOffset :\n                (dragArea.scrollTop + dragArea.offsetHeight - this.actionObj.clone.offsetHeight + window.pageYOffset) +\n                    (this.actionObj.clone.offsetHeight - this.heightUptoCursorPoint);\n            offsetTop = Math.round(offsetTop / this.actionObj.cellHeight) * this.actionObj.cellHeight;\n            if (dragArea.scrollTop > 0 && offsetTop < dragArea.scrollHeight) {\n                this.actionObj.clone.style.top = formatUnit(offsetTop);\n            }\n        }\n        var rowIndex = (this.parent.activeViewOptions.timeScale.enable) ? (offsetTop / this.actionObj.cellHeight) : 0;\n        var heightPerMinute = this.actionObj.cellHeight / this.actionObj.slotInterval;\n        var diffInMinutes = parseInt(this.actionObj.clone.style.top, 10) - offsetTop;\n        var tr;\n        if (this.isAllDayDrag) {\n            tr = this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS);\n        }\n        else {\n            var trCollections = [].slice.call(this.parent.getContentTable().querySelectorAll('tr'));\n            tr = trCollections[parseInt(rowIndex.toString(), 10)];\n        }\n        var index;\n        if (!isNullOrUndefined(closest(this.actionObj.target, 'td')) && (closest(this.actionObj.target, 'td').classList.contains(cls.WORK_CELLS_CLASS) ||\n            closest(this.actionObj.target, 'td').classList.contains(cls.ALLDAY_CELLS_CLASS))) {\n            index = closest(this.actionObj.target, 'td').cellIndex;\n        }\n        var colIndex = isNullOrUndefined(index) ? closest(this.actionObj.clone, 'td').cellIndex : index;\n        this.actionObj.index = colIndex;\n        if (isNullOrUndefined(tr)) {\n            return;\n        }\n        var td = tr.children[parseInt(colIndex.toString(), 10)];\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            this.actionObj.groupIndex = parseInt(td.getAttribute('data-group-index'), 10);\n        }\n        var dragStart;\n        var dragEnd;\n        if (this.parent.activeViewOptions.timeScale.enable && !this.isAllDayDrag) {\n            if (!this.enableCurrentViewDrag || this.multiData.length === 0) {\n                this.appendCloneElement(this.getEventWrapper(colIndex));\n            }\n            dragStart = this.parent.getDateFromElement(td);\n            dragStart.setMinutes(dragStart.getMinutes() + (diffInMinutes / heightPerMinute));\n            dragEnd = new Date(dragStart.getTime());\n            if (this.actionObj.element.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n                dragEnd.setMinutes(dragEnd.getMinutes() + this.actionObj.slotInterval);\n            }\n            else {\n                dragEnd.setMilliseconds(eventDuration);\n            }\n        }\n        else {\n            dragStart = this.parent.getDateFromElement(td);\n            dragStart.setDate(dragStart.getDate() - this.daysVariation);\n            dragStart.setHours(eventStart.getHours(), eventStart.getMinutes(), eventStart.getSeconds());\n            dragEnd = new Date(dragStart.getTime());\n            dragEnd.setMilliseconds(eventDuration);\n            if (!this.actionObj.element.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS) &&\n                this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n                dragEnd = util.addDays(util.resetTime(dragEnd), 1);\n            }\n            var index_1 = this.parent.activeViewOptions.group.byDate || (this.parent.virtualScrollModule &&\n                !this.parent.activeViewOptions.timeScale.enable) ? colIndex : undefined;\n            this.updateAllDayEvents(dragStart, dragEnd, index_1);\n        }\n        this.actionObj.start = new Date(+dragStart);\n        this.actionObj.end = new Date(+dragEnd);\n        var event = this.getUpdatedEvent(this.actionObj.start, this.actionObj.end, this.actionObj.event);\n        var dynamicWrappers = [].slice.call(this.parent.element.querySelectorAll('.e-dynamic-clone'));\n        for (var _i = 0, dynamicWrappers_1 = dynamicWrappers; _i < dynamicWrappers_1.length; _i++) {\n            var wrapper = dynamicWrappers_1[_i];\n            remove(wrapper);\n        }\n        if (this.multiData.length > 0) {\n            if (this.isAllDayTarget && this.isAllDayDrag && !isNullOrUndefined(this.actionObj.isAllDay) && !this.actionObj.isAllDay) {\n                var targetCellTime_1 = parseInt((closest(this.actionObj.target, 'td')).getAttribute('data-date'), 10);\n                this.multiData.forEach(function (data) {\n                    _this.swagData.push(extend({}, data, null, true));\n                    if (data[_this.parent.eventFields.isAllDay]) {\n                        data[_this.parent.eventFields.startTime] =\n                            new Date(data[_this.parent.eventFields.startTime].getTime() + (targetCellTime_1 - _this.startTime));\n                        var startTime = new Date(data[_this.parent.eventFields.startTime]);\n                        var endTime = new Date(startTime.setMinutes(startTime.getMinutes() + _this.actionObj.slotInterval));\n                        data[_this.parent.eventFields.endTime] = endTime;\n                        data[_this.parent.eventFields.isAllDay] = false;\n                    }\n                });\n                this.startTime = targetCellTime_1;\n            }\n            if (this.isAllDayTarget && this.isAllDayDrag &&\n                !isNullOrUndefined(this.actionObj.isAllDay) && this.actionObj.isAllDay && this.swagData.length > 0) {\n                this.multiData = this.swagData;\n                this.swagData = [];\n                var eventObj_1 = extend({}, this.actionObj.event, null, true);\n                this.startTime = eventObj_1[this.parent.eventFields.startTime].getTime();\n            }\n            var startTimeDiff = event[this.parent.eventFields.startTime].getTime() - this.startTime;\n            if (this.enableCurrentViewDrag) {\n                var renderDates = this.getRenderedDates();\n                for (var i = 0; i < this.multiData.length; i++) {\n                    var eventObj_2 = extend({}, this.multiData[parseInt(i.toString(), 10)], null, true);\n                    var startTime = new Date(eventObj_2[this.parent.eventFields.startTime].getTime() + startTimeDiff);\n                    var dayIndex = this.parent.getIndexOfDate(renderDates, util.resetTime(startTime));\n                    if (dayIndex < 0) {\n                        this.isPreventMultiDrag = true;\n                        break;\n                    }\n                    this.isPreventMultiDrag = false;\n                }\n            }\n            if (!this.isPreventMultiDrag) {\n                for (var index_2 = 0; index_2 < this.multiData.length; index_2++) {\n                    this.updatedData[parseInt(index_2.toString(), 10)] =\n                        this.updateMultipleData(this.multiData[parseInt(index_2.toString(), 10)], startTimeDiff);\n                    var dayIndex = this.getDayIndex(this.updatedData[parseInt(index_2.toString(), 10)]);\n                    if (dayIndex >= 0) {\n                        var isAllDay = this.updatedData[parseInt(index_2.toString(), 10)][this.parent.eventFields.isAllDay];\n                        var wrapper = this.getEventWrapper(dayIndex, isAllDay);\n                        this.appendCloneElement(wrapper, this.actionObj.cloneElement[parseInt(index_2.toString(), 10)]);\n                        this.updateEventHeight(this.updatedData[parseInt(index_2.toString(), 10)], index_2, dayIndex);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.actionObj.cloneElement[parseInt(index_2.toString(), 10)].parentNode)) {\n                            remove(this.actionObj.cloneElement[parseInt(index_2.toString(), 10)]);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.updateEventHeight(event);\n        }\n        this.updateTimePosition(this.actionObj.start, this.updatedData);\n    };\n    DragAndDrop.prototype.splitEvent = function (event) {\n        var eventFields = this.parent.eventFields;\n        var eventData = [];\n        var startTime = event[eventFields.startTime];\n        var endTime = event[eventFields.endTime];\n        if (util.resetTime(new Date(startTime.getTime())) < util.resetTime(new Date(endTime.getTime()))) {\n            var startReferenceDate = util.resetTime(new Date(startTime.getTime()));\n            var endReferenceDate = new Date(startReferenceDate.getTime());\n            for (var i = 0; startReferenceDate < new Date(endTime.getTime()); i++) {\n                endReferenceDate = new Date(endReferenceDate.setDate(startReferenceDate.getDate() + 1));\n                var eventObj = extend({}, event, null, true);\n                eventObj[eventFields.startTime] = new Date(startReferenceDate);\n                eventObj[eventFields.endTime] = new Date(endReferenceDate);\n                startReferenceDate = new Date(startReferenceDate.setDate(startReferenceDate.getDate() + 1));\n                eventData.push(eventObj);\n            }\n            var index = eventData.length - 1;\n            eventData[0][eventFields.startTime] = startTime;\n            eventData[parseInt(index.toString(), 10)][eventFields.endTime] = endTime;\n        }\n        else {\n            eventData.push(event);\n        }\n        return eventData;\n    };\n    DragAndDrop.prototype.updateMultipleData = function (data, timeDifference) {\n        var eventObj = extend({}, data, null, true);\n        if (!isNullOrUndefined(this.actionObj.isAllDay) && this.parent.activeViewOptions.timeScale.enable &&\n            ((this.isAllDayTarget && eventObj[this.parent.eventFields.isAllDay]) ||\n                (!this.isAllDayTarget && !eventObj[this.parent.eventFields.isAllDay]))) {\n            eventObj[this.parent.eventFields.isAllDay] = this.actionObj.isAllDay;\n        }\n        var endTimeDiff = eventObj[this.parent.eventFields.endTime].getTime() -\n            eventObj[this.parent.eventFields.startTime].getTime();\n        if (eventObj[this.parent.eventFields.isAllDay]) {\n            var differInDays = Math.ceil(timeDifference / (1000 * 3600 * 24));\n            var day = Math.ceil(endTimeDiff / (1000 * 3600 * 24));\n            var startTime = new Date(eventObj[this.parent.eventFields.startTime]);\n            eventObj[this.parent.eventFields.startTime] = util.resetTime(new Date(startTime.setDate(startTime.getDate() + differInDays)));\n            eventObj[this.parent.eventFields.endTime] = util.addDays(eventObj[this.parent.eventFields.startTime], day);\n        }\n        else {\n            eventObj[this.parent.eventFields.startTime] =\n                new Date(eventObj[this.parent.eventFields.startTime].getTime() + timeDifference);\n            eventObj[this.parent.eventFields.endTime] =\n                new Date(eventObj[this.parent.eventFields.startTime].getTime() + endTimeDiff);\n        }\n        return eventObj;\n    };\n    DragAndDrop.prototype.getDayIndex = function (event) {\n        var eventObj = extend({}, event, null, true);\n        var startDate = util.resetTime(eventObj[this.parent.eventFields.startTime]);\n        if (this.parent.activeViewOptions.timeScale.enable && !eventObj[this.parent.eventFields.isAllDay]) {\n            var startHour = this.parent.activeView.getStartHour();\n            startDate.setMilliseconds(startHour.getTime() - util.resetTime(startHour).getTime());\n        }\n        var startTime = startDate.getTime();\n        var query = '';\n        var wrapper = cls.DAY_WRAPPER_CLASS;\n        if (this.parent.activeViewOptions.timeScale.enable && (eventObj[this.parent.eventFields.isAllDay])) {\n            wrapper = cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS;\n        }\n        else {\n            wrapper = cls.WORK_CELLS_CLASS;\n        }\n        query = '.' + wrapper + '[data-date=\"' + startTime + '\"]';\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            query = query + '[data-group-index=\"' + this.actionObj.groupIndex + '\"]';\n        }\n        this.targetTd = this.parent.element.querySelector(query);\n        if (isNullOrUndefined(this.targetTd)) {\n            return -1;\n        }\n        return this.targetTd.cellIndex;\n    };\n    DragAndDrop.prototype.updateEventHeight = function (event, index, colIndex) {\n        this.verticalEvent.initializeValues();\n        var datesCount = this.verticalEvent.getStartCount();\n        if (!this.parent.uiStateValues.isGroupAdaptive) {\n            for (var i = 0; i < this.actionObj.groupIndex; i++) {\n                if (this.verticalEvent.dateRender[parseInt(i.toString(), 10)]) {\n                    datesCount = datesCount + this.verticalEvent.dateRender[parseInt(i.toString(), 10)].length;\n                }\n            }\n        }\n        var indexGroup = this.parent.uiStateValues.isGroupAdaptive ? datesCount : this.actionObj.groupIndex;\n        var target = (this.parent.activeViewOptions.group.byDate &&\n            !isNullOrUndefined(this.parent.getDateFromElement(this.actionObj.target))) ? true : false;\n        if (target || !this.parent.activeViewOptions.group.byDate) {\n            var dynamicIndex = -1;\n            var dayIndex = !this.parent.activeViewOptions.group.byDate ?\n                isNullOrUndefined(index) ? this.actionObj.index - datesCount : colIndex - datesCount\n                : this.parent.getIndexOfDate(this.verticalEvent.dateRender[parseInt(indexGroup.toString(), 10)], util.resetTime(\n                // eslint-disable-next-line max-len\n                this.parent.getDateFromElement(isNullOrUndefined(index) ? this.actionObj.target : this.targetTd)));\n            var splitEvents = this.splitEvent(event);\n            var events_1 = this.parent.eventBase.isAllDayAppointment(event) || splitEvents.length > 2 ||\n                this.parent.eventSettings.spannedEventPlacement !== 'TimeSlot' ? [event] : splitEvents;\n            for (var i = 0; i < events_1.length; i++) {\n                if (i > 0) {\n                    var filterQuery = \".e-day-wrapper[data-date=\\\"\" + util.resetTime(events_1[parseInt(i.toString(), 10)][this.parent.eventFields.startTime]).getTime() + \"\\\"]\";\n                    if (this.parent.activeViewOptions.group.resources.length > 0) {\n                        filterQuery = filterQuery.concat('[data-group-index = \"' + this.actionObj.groupIndex + '\"]');\n                    }\n                    var appWrap = this.parent.element.querySelector(filterQuery);\n                    if (appWrap) {\n                        dayIndex = dayIndex + 1;\n                        dynamicIndex = appWrap.cellIndex;\n                    }\n                    else {\n                        dayIndex = -1;\n                    }\n                }\n                if (dayIndex >= 0) {\n                    var record = this.verticalEvent.isSpannedEvent(events_1[parseInt(i.toString(), 10)], dayIndex, indexGroup);\n                    var eStart = record[this.verticalEvent.fields.startTime];\n                    var eEnd = record[this.verticalEvent.fields.endTime];\n                    var appHeight = this.parent.activeViewOptions.timeScale.enable ? this.verticalEvent.getHeight(eStart, eEnd) :\n                        this.actionObj.element.offsetHeight;\n                    var topValue = this.parent.activeViewOptions.timeScale.enable ?\n                        this.verticalEvent.getTopValue(eStart) : this.actionObj.element.offsetTop;\n                    if (isNullOrUndefined(index)) {\n                        if (i === 0) {\n                            this.actionObj.clone.style.top = formatUnit(topValue);\n                            this.actionObj.clone.style.height = formatUnit(appHeight);\n                        }\n                        else {\n                            this.renderSpannedEvents(record, dynamicIndex, topValue, appHeight);\n                        }\n                    }\n                    else {\n                        var appWidth = this.actionObj.cellWidth;\n                        if (event[this.parent.eventFields.isAllDay]) {\n                            topValue = this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS).offsetTop;\n                            appHeight = this.getAllDayEventHeight();\n                            var timeDiff = event[this.parent.eventFields.endTime].getTime() -\n                                event[this.parent.eventFields.startTime].getTime();\n                            var allDayDifference = Math.ceil(timeDiff / (1000 * 3600 * 24));\n                            if (allDayDifference >= 0) {\n                                appWidth = (allDayDifference * this.actionObj.cellWidth);\n                            }\n                        }\n                        if (this.actionObj.cloneElement[parseInt(index.toString(), 10)]) {\n                            if (i === 0) {\n                                this.actionObj.cloneElement[parseInt(index.toString(), 10)].style.top = formatUnit(topValue);\n                                this.actionObj.cloneElement[parseInt(index.toString(), 10)].style.height = formatUnit(appHeight);\n                                this.actionObj.cloneElement[parseInt(index.toString(), 10)].style.width = formatUnit(appWidth);\n                                this.actionObj.cloneElement[parseInt(index.toString(), 10)].style.left = formatUnit(0);\n                            }\n                            else {\n                                this.renderSpannedEvents(record, dynamicIndex, topValue, appHeight);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DragAndDrop.prototype.renderSpannedEvents = function (record, index, top, height) {\n        var startTime = record[this.parent.eventFields.startTime].getTime();\n        var endTime = record[this.parent.eventFields.endTime].getTime();\n        if (startTime !== endTime) {\n            var appointmentElement = this.verticalEvent.\n                createAppointmentElement(record, false, record.isSpanned, this.actionObj.groupIndex);\n            addClass([appointmentElement], [cls.CLONE_ELEMENT_CLASS, 'e-dynamic-clone']);\n            setStyleAttribute(appointmentElement, {\n                'width': '100%',\n                'height': height + 'px',\n                'top': top + 'px',\n                'border': '0px'\n            });\n            var appointmentWrap = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_WRAPPER_CLASS));\n            appointmentWrap[parseInt(index.toString(), 10)].appendChild(appointmentElement);\n        }\n    };\n    DragAndDrop.prototype.getRenderedDates = function () {\n        var _this = this;\n        var _a, _b;\n        var renderDates = this.parent.activeView.renderDates;\n        (_a = this.parent.eventBase.slots).push.apply(_a, this.parent.activeView.renderDates.map(function (date) { return +date; }));\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.parent.eventBase.slots = [];\n            var resources = this.parent.resourceBase.lastResourceLevel.\n                filter(function (res) { return res.groupIndex === _this.actionObj.groupIndex; });\n            renderDates = resources[0].renderDates;\n            (_b = this.parent.eventBase.slots).push.apply(_b, renderDates.map(function (date) { return +date; }));\n        }\n        return renderDates;\n    };\n    DragAndDrop.prototype.updateAllDayEvents = function (startDate, endDate, colIndex) {\n        this.parent.eventBase.slots = [];\n        var event = this.getUpdatedEvent(startDate, endDate, this.actionObj.event);\n        var renderDates = this.getRenderedDates();\n        var events = this.parent.eventBase.splitEvent(event, renderDates);\n        var query = \".e-all-day-cells[data-date=\\\"\" + events[0][this.parent.eventFields.startTime].getTime() + \"\\\"]\";\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            query = query.concat('[data-group-index = \"' + this.actionObj.groupIndex + '\"]');\n        }\n        var cell = [].slice.call(this.parent.element.querySelectorAll(query));\n        if (cell.length > 0 || !isNullOrUndefined(colIndex)) {\n            var cellIndex = !isNullOrUndefined(colIndex) ? colIndex : cell[0].cellIndex;\n            this.appendCloneElement(this.getEventWrapper(cellIndex));\n            // eslint-disable-next-line max-len\n            this.actionObj.clone.style.width = formatUnit(events[0].data.count * this.actionObj.cellWidth);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DragAndDrop.prototype.swapDragging = function (e) {\n        if (this.isPreventMultiDrag) {\n            return;\n        }\n        var colIndex = !isNullOrUndefined(closest(this.actionObj.target, 'td')) && closest(this.actionObj.target, 'td').cellIndex;\n        if (closest(this.actionObj.target, '.' + cls.DATE_HEADER_WRAP_CLASS) &&\n            !closest(this.actionObj.clone, '.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS)) {\n            addClass([this.actionObj.clone], cls.ALLDAY_APPOINTMENT_CLASS);\n            this.appendCloneElement(this.getEventWrapper(colIndex));\n            this.actionObj.isAllDay = true;\n            var eventHeight = this.getAllDayEventHeight();\n            var allDayElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS + ':first-child'));\n            if (allDayElement[0].offsetHeight < eventHeight) {\n                for (var _i = 0, allDayElement_1 = allDayElement; _i < allDayElement_1.length; _i++) {\n                    var element = allDayElement_1[_i];\n                    element.style.height = ((eventHeight + 2) / 12) + 'em';\n                }\n            }\n            setStyleAttribute(this.actionObj.clone, {\n                width: formatUnit(this.actionObj.cellWidth),\n                height: formatUnit(eventHeight),\n                top: formatUnit(this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS).offsetTop)\n            });\n        }\n        if (closest(this.actionObj.target, '.' + cls.WORK_CELLS_CLASS) &&\n            !closest(this.actionObj.clone, '.' + cls.DAY_WRAPPER_CLASS)) {\n            removeClass([this.actionObj.clone], cls.ALLDAY_APPOINTMENT_CLASS);\n            this.appendCloneElement(this.getEventWrapper(colIndex));\n            this.actionObj.isAllDay = false;\n            // eslint-disable-next-line max-len\n            var height = (this.actionObj.element.offsetHeight === 0) ? this.actionObj.height : this.actionObj.element.offsetHeight;\n            setStyleAttribute(this.actionObj.clone, {\n                left: formatUnit(0),\n                height: formatUnit(height),\n                width: formatUnit(this.actionObj.cellWidth)\n            });\n        }\n    };\n    DragAndDrop.prototype.calculateVerticalDate = function (e) {\n        if (isNullOrUndefined(e.target) || (e.target && isNullOrUndefined(closest(e.target, 'tr'))) ||\n            (e.target && e.target.tagName === 'DIV')) {\n            return;\n        }\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        if (isNullOrUndefined(this.parent.eventDragArea)) {\n            this.removeCloneElement();\n        }\n        var eventDuration = util.getUniversalTime(eventObj[this.parent.eventFields.endTime]) -\n            util.getUniversalTime(eventObj[this.parent.eventFields.startTime]);\n        var td = closest(this.actionObj.target, 'td');\n        if (!isNullOrUndefined(td)) {\n            var tr = td.parentElement;\n            this.actionObj.index = (tr.rowIndex * tr.children.length) + td.cellIndex;\n            var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n            td = workCells[this.actionObj.index];\n            var currentDate = this.parent.getDateFromElement(td);\n            if (!isNullOrUndefined(currentDate)) {\n                if (this.parent.activeViewOptions.group.resources.length > 0) {\n                    this.actionObj.groupIndex = parseInt(td.getAttribute('data-group-index'), 10);\n                }\n                var timeString = new Date(currentDate.setDate(currentDate.getDate() - this.daysVariation));\n                var dragStart = new Date(timeString.getTime());\n                var startTimeDiff = util.getUniversalTime(eventObj[this.parent.eventFields.startTime]) -\n                    util.getUniversalTime(util.resetTime(new Date(+eventObj[this.parent.eventFields.startTime])));\n                dragStart.setMilliseconds(startTimeDiff);\n                var dragEnd = new Date(dragStart.getTime());\n                dragEnd.setMilliseconds(eventDuration);\n                this.actionObj.start = new Date(dragStart.getTime());\n                this.actionObj.end = new Date(dragEnd.getTime());\n            }\n        }\n        var event = this.getUpdatedEvent(this.actionObj.start, this.actionObj.end, this.actionObj.event);\n        if (isNullOrUndefined(this.parent.eventDragArea)) {\n            var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n            for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n                var wrapper = eventWrappers_1[_i];\n                remove(wrapper);\n            }\n        }\n        if (this.multiData && this.multiData.length > 0) {\n            var startTime = util.resetTime(new Date(event[this.parent.eventFields.startTime]));\n            var startTimeDiff = startTime.getTime() - this.startTime;\n            if (this.parent.currentView === 'TimelineYear' && this.parent.group.resources.length > 0) {\n                startTimeDiff = (startTime.getFullYear() - new Date(this.startTime).getFullYear()) * 12;\n                startTimeDiff -= new Date(this.startTime).getMonth();\n                startTimeDiff += startTime.getMonth();\n            }\n            for (var index = 0; index < this.multiData.length; index++) {\n                this.updatedData[parseInt(index.toString(), 10)] =\n                    this.updateMultipleVerticalDate(this.multiData[parseInt(index.toString(), 10)], startTimeDiff);\n                if (this.parent.currentView === 'TimelineYear') {\n                    this.dynamicYearlyEventsRendering(this.updatedData[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    this.dynamicEventsRendering(this.updatedData[parseInt(index.toString(), 10)]);\n                }\n            }\n        }\n        else {\n            if (this.parent.currentView === 'TimelineYear') {\n                this.dynamicYearlyEventsRendering(event);\n            }\n            else {\n                this.dynamicEventsRendering(event);\n            }\n        }\n    };\n    DragAndDrop.prototype.updateMultipleVerticalDate = function (data, timeDifference) {\n        var eventObj = extend({}, data, null, true);\n        var eventDuration = eventObj[this.parent.eventFields.endTime].getTime() -\n            eventObj[this.parent.eventFields.startTime].getTime();\n        var startDate = new Date(eventObj[this.parent.eventFields.startTime]);\n        if (this.parent.currentView === 'TimelineYear' && this.parent.group.resources.length > 0) {\n            eventObj[this.parent.eventFields.startTime] = new Date(startDate.setMonth(startDate.getMonth() + timeDifference));\n        }\n        else {\n            var differInDays = Math.ceil(timeDifference / util.MS_PER_DAY);\n            eventObj[this.parent.eventFields.startTime] = new Date(startDate.setDate(startDate.getDate() + differInDays));\n        }\n        eventObj[this.parent.eventFields.endTime] =\n            new Date(eventObj[this.parent.eventFields.startTime].getTime() + eventDuration);\n        return eventObj;\n    };\n    DragAndDrop.prototype.calculateTimelineTime = function (e) {\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        var eventDuration = util.getUniversalTime(eventObj[this.parent.eventFields.endTime]) -\n            util.getUniversalTime(eventObj[this.parent.eventFields.startTime]);\n        var offsetLeft = this.parent.enableRtl ? Math.abs(this.actionObj.clone.offsetLeft) - this.actionObj.clone.offsetWidth :\n            parseInt(this.actionObj.clone.style.left, 10);\n        offsetLeft = Math.round(offsetLeft / this.actionObj.cellWidth) * this.actionObj.cellWidth;\n        var rightOffset;\n        if (this.parent.enableRtl) {\n            rightOffset = Math.abs(parseInt(this.actionObj.clone.style.right, 10));\n            this.actionObj.clone.style.right = formatUnit(rightOffset);\n        }\n        offsetLeft = this.getOffsetValue(offsetLeft, rightOffset);\n        var colIndex = this.getColumnIndex(offsetLeft);\n        var dragArea = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var contentWrapRight = dragArea.getBoundingClientRect().right;\n        var cursorDrag = this.parent.activeView.isTimelineView() && !this.parent.enableRtl &&\n            this.actionObj.pageX > this.actionObj.clone.getBoundingClientRect().right &&\n            !this.isMorePopupOpened && !(this.actionObj.pageX > contentWrapRight);\n        var leftVal = (this.parent.eventDragArea) ? dragArea.scrollLeft - dragArea.offsetLeft : 0;\n        if ((this.isCursorAhead || cursorDrag) && !this.isStepDragging) {\n            this.isCursorAhead = true;\n        }\n        var cloneIndex = Math.floor((this.actionObj.pageX - this.actionObj.clone.getBoundingClientRect().left + leftVal) / this.actionObj.cellWidth);\n        if (this.parent.enableRtl) {\n            cloneIndex = Math.abs(Math.floor((this.actionObj.pageX - this.actionObj.clone.getBoundingClientRect().right) /\n                this.actionObj.cellWidth)) - 1;\n        }\n        if (this.cursorPointIndex < 0) {\n            this.cursorIndex(e, eventObj, offsetLeft, cloneIndex);\n        }\n        var tr = this.parent.getContentTable().querySelector('tr');\n        var index = this.getCursorCurrentIndex(colIndex, cloneIndex, tr);\n        index = index < 0 ? 0 : index;\n        var eventStart = this.isHeaderRows ? new Date(this.timelineEventModule.dateRender[parseInt(index.toString(), 10)].getTime()) :\n            this.parent.getDateFromElement(tr.children[parseInt(index.toString(), 10)]);\n        if (this.isStepDragging) {\n            var widthDiff = this.getWidthDiff(tr, index);\n            if (widthDiff !== 0) {\n                var timeDiff = Math.ceil(widthDiff / this.widthPerMinute);\n                eventStart.setMinutes(eventStart.getMinutes() + (timeDiff * this.actionObj.interval));\n                if (this.isCursorAhead || cursorDrag) {\n                    eventStart.setMilliseconds(-(eventDuration));\n                }\n                else {\n                    eventStart.setMinutes(eventStart.getMinutes() - this.minDiff);\n                    var intervalInMS = this.actionObj.interval * util.MS_PER_MINUTE;\n                    timeDiff = Math.abs(eventStart.getTime() - this.actionObj.start.getTime()) / intervalInMS;\n                    var roundTimeDiff = Math.trunc(timeDiff);\n                    if (roundTimeDiff !== timeDiff) {\n                        timeDiff = (roundTimeDiff * intervalInMS) * (eventStart > this.actionObj.start ? 1 : -1);\n                        eventStart = new Date(this.actionObj.start.getTime() + timeDiff);\n                    }\n                }\n            }\n            else {\n                eventStart = this.actionObj.start;\n            }\n        }\n        else {\n            if (this.isCursorAhead || cursorDrag) {\n                var minutes = this.isTimelineDayProcess ? MINUTES_PER_DAY : this.actionObj.slotInterval;\n                eventStart.setMinutes(eventStart.getMinutes() + minutes);\n                eventStart.setMilliseconds(-(eventDuration));\n                if (eventStart.getTime() === util.resetTime(eventStart).getTime() && eventStart.getMinutes() === 0 && eventDuration === 0) {\n                    eventStart.setMinutes(-minutes);\n                }\n            }\n            else {\n                eventStart.setMinutes(eventStart.getMinutes() -\n                    (this.cursorPointIndex * (this.isTimelineDayProcess ? MINUTES_PER_DAY : this.actionObj.slotInterval)));\n            }\n        }\n        if (!this.isStepDragging) {\n            eventStart = this.calculateIntervalTime(eventStart);\n        }\n        if (this.isTimelineDayProcess) {\n            var eventSrt = eventObj[this.parent.eventFields.startTime];\n            eventStart.setHours(eventSrt.getHours(), eventSrt.getMinutes(), eventSrt.getSeconds());\n        }\n        if (this.parent.eventDragArea) {\n            var targetDate = this.parent.getDateFromElement(e.target);\n            if (!isNullOrUndefined(targetDate)) {\n                if (!this.parent.activeViewOptions.timeScale.enable || (this.parent.currentView === 'TimelineMonth')) {\n                    var eventSrt = eventObj[this.parent.eventFields.startTime];\n                    eventStart = new Date(targetDate.setHours(eventSrt.getHours(), eventSrt.getMinutes(), eventSrt.getSeconds()));\n                }\n                else {\n                    eventStart = targetDate;\n                }\n            }\n        }\n        var eventEnd = new Date(eventStart.getTime());\n        eventEnd.setMilliseconds(eventDuration);\n        var eventsData = [this.getUpdatedEvent(eventStart, eventEnd, this.actionObj.event)];\n        if (this.multiData.length > 0) {\n            var startTimeDiff = eventsData[0][this.parent.eventFields.startTime].getTime() - this.startTime;\n            for (var i = 0; i < this.multiData.length; i++) {\n                this.updatedData[parseInt(i.toString(), 10)] =\n                    this.updateMultipleData(this.multiData[parseInt(i.toString(), 10)], startTimeDiff);\n            }\n            eventsData = this.updatedData;\n        }\n        for (var dataIndex = 0; dataIndex < eventsData.length; dataIndex++) {\n            var cloneElement = this.multiData.length > 0 ? this.actionObj.cloneElement[parseInt(dataIndex.toString(), 10)] : this.actionObj.clone;\n            if (isNullOrUndefined(this.parent.eventDragArea)) {\n                var events_2 = this.timelineEventModule.splitEvent(eventsData[parseInt(dataIndex.toString(), 10)], this.timelineEventModule.dateRender);\n                var eventData = events_2[0].data;\n                var startTime = this.timelineEventModule.getStartTime(events_2[0], eventData);\n                var endTime = this.timelineEventModule.getEndTime(events_2[0], eventData);\n                // eslint-disable-next-line max-len\n                var width = this.timelineEventModule.getEventWidth(startTime, endTime, eventObj[this.parent.eventFields.isAllDay], eventData.count);\n                // eslint-disable-next-line max-len\n                var day = this.parent.getIndexOfDate(this.timelineEventModule.dateRender, util.resetTime(new Date(startTime.getTime())));\n                day = day < 0 ? 0 : day;\n                var left = this.timelineEventModule.getPosition(startTime, endTime, eventObj[this.parent.eventFields.isAllDay], day);\n                if (this.parent.enableRtl) {\n                    cloneElement.style.right = formatUnit(left);\n                }\n                else {\n                    cloneElement.style.left = formatUnit(left);\n                }\n                if (!this.isMorePopupOpened) {\n                    cloneElement.style.width = formatUnit(width);\n                }\n            }\n            if (this.parent.activeViewOptions.group.resources.length > 0) {\n                this.calculateResourceGroupingPosition(e, cloneElement);\n            }\n            this.actionObj.start = new Date(eventStart.getTime());\n            this.actionObj.end = new Date(eventEnd.getTime());\n            this.updateTimePosition(this.actionObj.start, this.updatedData);\n        }\n    };\n    DragAndDrop.prototype.getOffsetValue = function (offsetLeft, rightOffset) {\n        if (this.scrollEdges.left || this.scrollEdges.right) {\n            var viewEle = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            if (this.parent.enableRtl) {\n                rightOffset = viewEle.offsetWidth - viewEle.scrollLeft;\n                if (this.scrollEdges.right) {\n                    rightOffset = (rightOffset - viewEle.offsetWidth + this.actionObj.clone.offsetWidth) -\n                        (this.actionObj.clone.offsetWidth - this.widthUptoCursorPoint);\n                }\n                else {\n                    rightOffset = rightOffset + this.widthUptoCursorPoint;\n                    if (rightOffset - this.widthUptoCursorPoint >= viewEle.scrollWidth) {\n                        this.actionObj.clone.style.width =\n                            formatUnit(this.actionObj.clone.offsetWidth - this.widthUptoCursorPoint + this.actionObj.cellWidth);\n                        rightOffset = (viewEle.scrollLeft - viewEle.scrollWidth);\n                    }\n                }\n                if (isNullOrUndefined(this.parent.eventDragArea)) {\n                    this.actionObj.clone.style.left = formatUnit(rightOffset);\n                }\n            }\n            else {\n                if (this.scrollEdges.left) {\n                    offsetLeft = viewEle.scrollLeft - this.widthUptoCursorPoint + this.actionObj.cellWidth;\n                    if (viewEle.scrollLeft + viewEle.offsetWidth >= viewEle.offsetWidth) {\n                        viewEle.scrollLeft = viewEle.scrollLeft - 1;\n                    }\n                    else if (this.actionObj.clone.offsetLeft === 0) {\n                        offsetLeft = viewEle.scrollLeft;\n                    }\n                }\n                else {\n                    offsetLeft = (viewEle.scrollLeft + viewEle.offsetWidth -\n                        this.actionObj.clone.offsetWidth) + (this.actionObj.clone.offsetWidth - this.widthUptoCursorPoint);\n                }\n                offsetLeft = offsetLeft < 0 ? 0 : offsetLeft;\n                if (isNullOrUndefined(this.parent.eventDragArea)) {\n                    this.actionObj.clone.style.left = formatUnit(offsetLeft);\n                }\n            }\n        }\n        return offsetLeft;\n    };\n    DragAndDrop.prototype.getWidthDiff = function (tr, index) {\n        var pages = this.scrollArgs.element.getBoundingClientRect();\n        if (pages.left <= this.actionObj.pageX && pages.right >= this.actionObj.pageX) {\n            var targetLeft = tr.children[parseInt(index.toString(), 10)].offsetLeft;\n            var pageX = this.actionObj.pageX - pages.left;\n            if (this.parent.enableRtl) {\n                return (targetLeft + this.actionObj.cellWidth) - (this.scrollArgs.element.scrollLeft + pageX);\n            }\n            else {\n                return (this.scrollArgs.element.scrollLeft + pageX) - targetLeft;\n            }\n        }\n        return 0;\n    };\n    DragAndDrop.prototype.getColumnIndex = function (offsetLeft) {\n        var index = Math.round(offsetLeft / this.actionObj.cellWidth);\n        if (this.isHeaderRows) {\n            return index;\n        }\n        return this.getIndex(index);\n    };\n    DragAndDrop.prototype.getCursorCurrentIndex = function (colIndex, cloneIndex, tr) {\n        var index = colIndex + cloneIndex;\n        if (this.isHeaderRows) {\n            var dateLength = Math.floor(tr.offsetWidth / this.actionObj.cellWidth);\n            return (index > dateLength - 1) ? dateLength - 1 : index;\n        }\n        return (index > tr.children.length - 1) ? tr.children.length - 1 : index;\n    };\n    DragAndDrop.prototype.cursorIndex = function (e, event, left, index) {\n        var td = closest(e.target, '.e-work-cells');\n        if (!isNullOrUndefined(td) && !this.isMorePopupOpened) {\n            var targetDate = this.parent.getDateFromElement(td);\n            if (this.isHeaderRows) {\n                var currentIndex = Math.floor(left / this.actionObj.cellWidth);\n                targetDate = new Date(this.timelineEventModule.dateRender[currentIndex + index].getTime());\n            }\n            var timeDiff = targetDate.getTime() - event[this.parent.eventFields.startTime].getTime();\n            if (this.isTimelineDayProcess) {\n                this.cursorPointIndex = Math.abs(Math.ceil(timeDiff / (util.MS_PER_DAY)));\n            }\n            else {\n                var widthDiff = Math.floor((timeDiff / util.MS_PER_MINUTE) / (this.actionObj.slotInterval / this.actionObj.cellWidth));\n                this.cursorPointIndex = Math.floor(widthDiff / this.actionObj.cellWidth);\n                this.cursorPointIndex = this.cursorPointIndex < 0 ? 0 : this.cursorPointIndex;\n            }\n        }\n        else {\n            this.cursorPointIndex = 0;\n        }\n    };\n    DragAndDrop.prototype.calculateResourceGroupingPosition = function (e, cloneElement) {\n        var dragArea = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var trCollection = [].slice.call(this.parent.element.querySelectorAll('.e-content-wrap .e-content-table tr:not(.e-hidden)'));\n        var translateY = util.getTranslateY(dragArea.querySelector('table'));\n        translateY = (isNullOrUndefined(translateY)) ? 0 : translateY;\n        var rowHeight = (this.parent.rowAutoHeight) ?\n            ~~(dragArea.querySelector('table').offsetHeight / trCollection.length) : this.actionObj.cellHeight;\n        var rowIndex = Math.floor(Math.floor((this.actionObj.Y +\n            (dragArea.scrollTop - translateY - (window.scrollY || window.pageYOffset))) -\n            util.getElementTop(dragArea, this.parent.uiStateValues.isTransformed)) / rowHeight);\n        rowIndex = (rowIndex < 0) ? 0 : (rowIndex > trCollection.length - 1) ? trCollection.length - 1 : rowIndex;\n        this.actionObj.index = rowIndex;\n        var eventContainer = this.parent.element.querySelectorAll('.e-appointment-container:not(.e-hidden)').item(rowIndex);\n        var eventWrapper = eventContainer.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n        if (!eventWrapper) {\n            eventWrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            eventContainer.appendChild(eventWrapper);\n        }\n        this.appendCloneElement(eventWrapper, cloneElement);\n        var td = closest(this.actionObj.target, 'td');\n        this.actionObj.groupIndex = (td && !isNaN(parseInt(td.getAttribute('data-group-index'), 10)))\n            ? parseInt(td.getAttribute('data-group-index'), 10) : this.actionObj.groupIndex;\n        if (!isNullOrUndefined(this.parent.eventDragArea)) {\n            return;\n        }\n        var top = this.parent.getElementHeight(trCollection[parseInt(rowIndex.toString(), 10)]) * rowIndex;\n        if (this.parent.rowAutoHeight) {\n            var cursorElement = this.getCursorElement(e);\n            if (cursorElement) {\n                top = cursorElement.classList.contains(cls.WORK_CELLS_CLASS) ? cursorElement.offsetTop :\n                    (cursorElement.offsetParent && cursorElement.offsetParent.classList.contains(cls.APPOINTMENT_CLASS)) ?\n                        cursorElement.offsetParent.offsetTop : top;\n            }\n        }\n        cloneElement.style.top = formatUnit(top);\n    };\n    DragAndDrop.prototype.appendCloneElement = function (element, cloneElement) {\n        if (cloneElement === void 0) { cloneElement = null; }\n        cloneElement = isNullOrUndefined(cloneElement) ? this.actionObj.clone : cloneElement;\n        var dragElement = document.querySelector(this.parent.eventDragArea);\n        if (this.parent.eventDragArea && dragElement) {\n            dragElement.appendChild(cloneElement);\n        }\n        else {\n            element.appendChild(cloneElement);\n        }\n    };\n    DragAndDrop.prototype.getEventWrapper = function (index, isAllDayDrag) {\n        var eventWrapper;\n        if (isNullOrUndefined(isAllDayDrag)) {\n            isAllDayDrag = this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS);\n        }\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            var wrapperClass = isAllDayDrag ? '.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS : '.' + cls.APPOINTMENT_WRAPPER_CLASS;\n            eventWrapper = this.parent.element.querySelectorAll(wrapperClass).item(index);\n        }\n        else {\n            var targetWrapper = this.parent.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS).item(index);\n            eventWrapper = targetWrapper.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n            if (!eventWrapper) {\n                eventWrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n                targetWrapper.appendChild(eventWrapper);\n            }\n        }\n        return eventWrapper;\n    };\n    DragAndDrop.prototype.getAllDayEventHeight = function () {\n        var eventWrapper = createElement('div', { className: cls.APPOINTMENT_CLASS });\n        this.parent.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS).appendChild(eventWrapper);\n        var eventHeight = eventWrapper.offsetHeight;\n        remove(eventWrapper);\n        return eventHeight;\n    };\n    DragAndDrop.prototype.isAllowDrop = function (e) {\n        if (!this.actionObj.excludeSelectors) {\n            return false;\n        }\n        var dropSelectors = this.actionObj.excludeSelectors.split(',');\n        var isAllowDrop = false;\n        for (var _i = 0, dropSelectors_1 = dropSelectors; _i < dropSelectors_1.length; _i++) {\n            var selector = dropSelectors_1[_i];\n            if (e.target.classList.contains(selector)) {\n                isAllowDrop = true;\n                break;\n            }\n        }\n        return isAllowDrop;\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} Returns the module name\n     */\n    DragAndDrop.prototype.getModuleName = function () {\n        return 'dragAndDrop';\n    };\n    return DragAndDrop;\n}(ActionBase));\nexport { DragAndDrop };\n","import { createElement, append, prepend, isNullOrUndefined, getValue, getDefaultDateObject, cldrData, addClass, setStyleAttribute, formatUnit, EventHandler, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as event from '../base/constant';\nimport * as util from '../base/util';\n/**\n * view base\n */\nvar ViewBase = /** @class */ (function () {\n    /**\n     * Constructor\n     *\n     * @param {Schedule} parent Accepts the schedule instance\n     */\n    function ViewBase(parent) {\n        this.previousNextAction = 'next';\n        this.parent = parent;\n    }\n    ViewBase.prototype.isTimelineView = function () {\n        return this.parent.currentView.indexOf('Timeline') !== -1;\n    };\n    ViewBase.prototype.getContentRows = function () {\n        return [];\n    };\n    ViewBase.prototype.refreshHeader = function () {\n        // Method to refresh the date header\n    };\n    ViewBase.prototype.refreshResourceHeader = function () {\n        var resTbl = this.element.querySelector('.' + cls.RESOURCE_COLUMN_TABLE_CLASS);\n        var resourceTd = Array.from(resTbl.querySelectorAll('.' + cls.RESOURCE_CELLS_CLASS));\n        resourceTd.forEach(function (currentElement) {\n            var children = Array.from(currentElement.children);\n            children.forEach(function (child) {\n                if (!child.classList.contains(cls.RESOURCE_EXPAND_CLASS) && !child.classList.contains(cls.RESOURCE_COLLAPSE_CLASS)) {\n                    remove(child);\n                }\n            });\n        });\n        var rendereData = this.parent.resourceBase.renderedResources;\n        if (!isNullOrUndefined(rendereData) && rendereData.length > 0) {\n            for (var i = 0; i < resourceTd.length; i++) {\n                var element = resourceTd[parseInt(i.toString(), 10)];\n                var data = rendereData[parseInt(i.toString(), 10)];\n                if (this.parent.activeView && !isNullOrUndefined(element) && !isNullOrUndefined(data)\n                    && parseInt(element.getAttribute('data-group-index'), 10) === data.groupIndex) {\n                    this.parent.activeView.setResourceHeaderContent(element, data, cls.RESOURCE_TEXT_CLASS);\n                }\n            }\n        }\n        this.parent.renderTemplates();\n        this.parent.notify(event.contentReady, {});\n    };\n    ViewBase.prototype.getDayName = function (date) {\n        return this.parent.getDayNames('abbreviated')[date.getDay()];\n    };\n    ViewBase.prototype.getDate = function (date) {\n        return this.parent.globalize.formatDate(date, { format: 'd', calendar: this.parent.getCalendarMode() });\n    };\n    ViewBase.prototype.getTime = function (date) {\n        if (this.parent.isAdaptive) {\n            if (this.parent.activeViewOptions.timeFormat === 'HH:mm' || this.parent.activeViewOptions.timeFormat === 'HH.mm') {\n                return this.parent.globalize.formatDate(date, { format: 'H', calendar: this.parent.getCalendarMode() });\n            }\n            return this.parent.globalize.formatDate(date, { skeleton: 'h', calendar: this.parent.getCalendarMode() });\n        }\n        return this.parent.getTimeString(date);\n    };\n    ViewBase.prototype.getTimelineDate = function (date) {\n        var text = this.parent.globalize.formatDate(date, { skeleton: 'MMMd', calendar: this.parent.getCalendarMode() }) + ', ' +\n            this.parent.getDayNames('wide')[date.getDay()];\n        return util.capitalizeFirstWord(text, 'multiple');\n    };\n    ViewBase.prototype.createEventTable = function (trCount) {\n        var eventTable = createElement('div', { className: cls.EVENT_TABLE_CLASS });\n        append(this.getEventRows(trCount), eventTable);\n        return eventTable;\n    };\n    ViewBase.prototype.getEventRows = function (trCount) {\n        var eventRows = [];\n        var eventContainer;\n        for (var row = 0; row < trCount; row++) {\n            eventContainer = createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS });\n            if (this.parent.resourceBase && !this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.renderedResources) {\n                eventContainer.setAttribute('data-group-index', this.parent.resourceBase.renderedResources[parseInt(row.toString(), 10)].groupIndex.toString());\n            }\n            eventRows.push(eventContainer);\n        }\n        return eventRows;\n    };\n    ViewBase.prototype.collapseRows = function (wrap) {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.resourceBase.hideResourceRows(wrap.querySelector('tbody'));\n            this.parent.resourceBase.hideResourceRows(wrap.querySelector('.' + cls.EVENT_TABLE_CLASS));\n        }\n    };\n    ViewBase.prototype.createTableLayout = function (className) {\n        var clsName = className || '';\n        var table = createElement('table', { className: cls.SCHEDULE_TABLE_CLASS + ' ' + clsName });\n        var tbody = createElement('tbody');\n        table.appendChild(tbody);\n        return table;\n    };\n    ViewBase.prototype.setAriaAttributes = function (table) {\n        table.setAttribute('role', 'grid');\n        if (this.parent.currentView !== 'Year') {\n            table.setAttribute('id', this.parent.element.id + '_table');\n        }\n        table.setAttribute('aria-label', this.getLabelText(this.parent.currentView));\n    };\n    ViewBase.prototype.createColGroup = function (table, lastRow) {\n        if (isNullOrUndefined(lastRow)) {\n            return;\n        }\n        var length = lastRow.length;\n        if (lastRow[0] && lastRow[0].colSpan) {\n            length = lastRow.map(function (value) { return value.colSpan; }).reduce(function (prev, next) { return prev + next; });\n        }\n        var colGroupEle = createElement('colgroup');\n        for (var i = 0; i < length; i++) {\n            colGroupEle.appendChild(createElement('col'));\n        }\n        prepend([colGroupEle], table);\n    };\n    ViewBase.prototype.getScrollXIndent = function (content) {\n        return content.offsetHeight - content.clientHeight > 0 ? util.getScrollBarWidth() : 0;\n    };\n    ViewBase.prototype.scrollTopPanel = function (target) {\n        this.getDatesHeaderElement().firstElementChild.scrollLeft = target.scrollLeft;\n    };\n    ViewBase.prototype.scrollHeaderLabels = function (target) {\n        var headerTable = this.element.querySelector('.e-date-header-wrap table');\n        var colWidth = headerTable.offsetWidth / headerTable.querySelectorAll('colgroup col').length;\n        var applyLeft = function (headerCells, isRtl) {\n            var currentCell;\n            var tdLeft = 0;\n            var colSpan = 0;\n            var hiddenLeft = isRtl ? -(target.scrollLeft) : target.scrollLeft;\n            for (var _i = 0, headerCells_2 = headerCells; _i < headerCells_2.length; _i++) {\n                var cell = headerCells_2[_i];\n                colSpan += parseInt(cell.getAttribute('colSpan'), 10);\n                if (colSpan > Math.floor(hiddenLeft / colWidth)) {\n                    currentCell = cell;\n                    break;\n                }\n                tdLeft += cell.offsetWidth;\n            }\n            if (!isNullOrUndefined(currentCell)) {\n                currentCell.children[0].style[isRtl ? 'right' : 'left'] = (hiddenLeft - tdLeft) + 'px';\n            }\n        };\n        var classNames = ['.e-header-year-cell', '.e-header-month-cell', '.e-header-week-cell', '.e-header-cells'];\n        for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n            var className = classNames_1[_i];\n            var headerCells = [].slice.call(this.element.querySelectorAll(className));\n            if (headerCells.length > 0) {\n                for (var _a = 0, headerCells_1 = headerCells; _a < headerCells_1.length; _a++) {\n                    var element = headerCells_1[_a];\n                    element.children[0].style[this.parent.enableRtl ? 'right' : 'left'] = '';\n                }\n                applyLeft(headerCells, this.parent.enableRtl);\n            }\n        }\n    };\n    ViewBase.prototype.addAttributes = function (td, element) {\n        if (td.template) {\n            append(td.template, element);\n        }\n        if (td.colSpan) {\n            element.setAttribute('colspan', td.colSpan.toString());\n        }\n        if (td.className) {\n            addClass([element], td.className);\n        }\n    };\n    ViewBase.prototype.getHeaderBarHeight = function () {\n        var headerBarHeight = 2;\n        if (this.parent.headerModule) {\n            headerBarHeight += util.getOuterHeight(this.parent.headerModule.getHeaderElement());\n        }\n        if (this.parent.uiStateValues.isGroupAdaptive) {\n            var resHeader = this.parent.element.querySelector('.' + cls.RESOURCE_HEADER_TOOLBAR);\n            if (resHeader) {\n                headerBarHeight += resHeader.offsetHeight;\n            }\n        }\n        return headerBarHeight;\n    };\n    ViewBase.prototype.renderPanel = function (type) {\n        if (type === cls.PREVIOUS_PANEL_CLASS) {\n            prepend([this.element], this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS));\n        }\n        else {\n            this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS).appendChild(this.element);\n        }\n    };\n    ViewBase.prototype.setPanel = function (panel) {\n        this.element = panel;\n    };\n    ViewBase.prototype.getPanel = function () {\n        return this.element;\n    };\n    ViewBase.prototype.getDatesHeaderElement = function () {\n        return this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ViewBase.prototype.getDateSlots = function (renderDates, workDays) {\n        return []; // Here getDateSlots only need in vertical and month views\n    };\n    ViewBase.prototype.generateColumnLevels = function () {\n        return []; // Here generateColumnLevels only need in vertical and month views\n    };\n    ViewBase.prototype.getColumnLevels = function () {\n        return this.colLevels;\n    };\n    ViewBase.prototype.highlightCurrentTime = function () {\n        // Here showTimeIndicator functionalities\n    };\n    ViewBase.prototype.getStartDate = function () {\n        return this.renderDates[0];\n    };\n    ViewBase.prototype.getEndDate = function () {\n        return this.renderDates[this.renderDates.length - 1];\n    };\n    ViewBase.prototype.startDate = function () {\n        return this.renderDates[0];\n    };\n    ViewBase.prototype.endDate = function () {\n        return util.addDays(this.renderDates[this.renderDates.length - 1], 1);\n    };\n    ViewBase.prototype.getStartHour = function () {\n        var startHour = this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);\n        if (isNullOrUndefined(startHour)) {\n            startHour = new Date(2000, 0, 0, 0);\n        }\n        return startHour;\n    };\n    ViewBase.prototype.getEndHour = function () {\n        var endHour = this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);\n        if (isNullOrUndefined(endHour)) {\n            endHour = new Date(2000, 0, 0, 0);\n        }\n        return endHour;\n    };\n    ViewBase.prototype.isCurrentDate = function (date) {\n        return date.setHours(0, 0, 0, 0) === new Date(this.parent.currentTimezoneDate).setHours(0, 0, 0, 0);\n    };\n    ViewBase.prototype.isCurrentMonth = function (date) {\n        if (this.parent.activeViewOptions.displayDate || this.parent.activeViewOptions.numberOfWeeks > 0) {\n            return this.parent.activeView.getStartDate().getTime() <= this.parent.getCurrentTime().getTime() &&\n                this.parent.activeView.getEndDate().getTime() >= this.parent.getCurrentTime().getTime();\n        }\n        return date.getFullYear() ===\n            this.parent.getCurrentTime().getFullYear() && date.getMonth() === this.parent.getCurrentTime().getMonth();\n    };\n    ViewBase.prototype.isWorkDay = function (date, workDays) {\n        if (workDays === void 0) { workDays = this.parent.activeViewOptions.workDays; }\n        if (!isNullOrUndefined(workDays) && workDays.indexOf(date.getDay()) >= 0) {\n            return true;\n        }\n        return false;\n    };\n    ViewBase.prototype.isWorkHour = function (date, startHour, endHour, workDays) {\n        if (isNullOrUndefined(startHour) || isNullOrUndefined(endHour)) {\n            return false;\n        }\n        startHour.setMilliseconds(0);\n        endHour.setMilliseconds(0);\n        if (util.resetTime(date).getTime() !== util.resetTime(startHour).getTime()) {\n            startHour = new Date(2000, 0, 0, startHour.getHours(), startHour.getMinutes(), startHour.getMilliseconds());\n            endHour = new Date(2000, 0, 0, endHour.getHours(), endHour.getMinutes(), endHour.getMilliseconds());\n        }\n        return !(util.getDateInMs(date) < util.getDateInMs(startHour) || util.getDateInMs(date) >= util.getDateInMs(endHour) ||\n            !this.isWorkDay(date, workDays));\n    };\n    ViewBase.prototype.getRenderDates = function (workDays) {\n        var renderDates = [];\n        // Due to same code for vertical and time line, week & work week views, if condition has used\n        if (this.parent.currentView === 'Week' || this.parent.currentView === 'TimelineWeek') {\n            var selectedDate = util.resetTime(this.parent.selectedDate);\n            var start = util.getWeekFirstDate(selectedDate, this.parent.activeViewOptions.firstDayOfWeek);\n            for (var i = 0, length_1 = util.WEEK_LENGTH * this.parent.activeViewOptions.interval; i < length_1; i++) {\n                if (this.parent.activeViewOptions.showWeekend) {\n                    renderDates.push(start);\n                }\n                else {\n                    if (this.isWorkDay(start, workDays)) {\n                        renderDates.push(start);\n                    }\n                }\n                start = util.addDays(start, 1);\n            }\n        }\n        else if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n            var start = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.activeViewOptions.firstDayOfWeek);\n            for (var i = 0, length_2 = util.WEEK_LENGTH * this.parent.activeViewOptions.interval; i < length_2; i++) {\n                if (this.isWorkDay(start, workDays)) {\n                    renderDates.push(start);\n                }\n                start = util.addDays(start, 1);\n            }\n        }\n        else {\n            var dayCount = this.parent.currentView === 'Agenda' ? this.parent.agendaDaysCount :\n                this.parent.activeViewOptions.interval;\n            var start = util.resetTime(this.parent.selectedDate);\n            do {\n                if (this.parent.activeViewOptions.showWeekend) {\n                    renderDates.push(start);\n                }\n                else {\n                    if (this.isWorkDay(start, workDays)) {\n                        renderDates.push(start);\n                    }\n                }\n                start = util.addDays(start, 1);\n            } while (dayCount !== renderDates.length);\n        }\n        if (!workDays) {\n            this.renderDates = renderDates;\n        }\n        if (this.parent.headerModule) {\n            this.parent.headerModule.previousNextIconHandler();\n        }\n        return renderDates;\n    };\n    ViewBase.prototype.getNextPreviousDate = function (type) {\n        this.previousNextAction = type;\n        if (this.parent.currentView === 'Day' || this.parent.currentView === 'TimelineDay') {\n            if (this.parent.activeViewOptions.showWeekend) {\n                var daysCount = this.parent.activeViewOptions.interval;\n                return util.addDays(this.parent.selectedDate, type === 'next' ? daysCount : -daysCount);\n            }\n            else {\n                var date = void 0;\n                if (type === 'next') {\n                    date = util.addDays(this.renderDates.slice(-1)[0], 1);\n                    while (!this.isWorkDay(date)) {\n                        date = util.addDays(date, 1);\n                    }\n                }\n                else {\n                    date = util.addDays(this.renderDates[0], -1);\n                    var count = 0;\n                    do {\n                        if (this.isWorkDay(date)) {\n                            count += 1;\n                        }\n                        if (this.parent.activeViewOptions.interval !== count) {\n                            date = util.addDays(date, -1);\n                        }\n                    } while (this.parent.activeViewOptions.interval !== count);\n                }\n                return date;\n            }\n        }\n        var weekLength = type === 'next' ? util.WEEK_LENGTH : -util.WEEK_LENGTH;\n        return util.addDays(this.parent.selectedDate, weekLength * this.parent.activeViewOptions.interval);\n    };\n    ViewBase.prototype.formatViewLabel = function (view, startDate, endDate) {\n        var formatOptions = { type: 'date', skeleton: 'full', calendar: this.parent.getCalendarMode() };\n        return this.parent.localeObj.getConstant(view) + ' ' + this.parent.localeObj.getConstant('start') + ' ' + this.parent.globalize.formatDate(startDate, formatOptions) + ' '\n            + this.parent.localeObj.getConstant('endAt') + ' ' + this.parent.globalize.formatDate(endDate, formatOptions);\n    };\n    ViewBase.prototype.getLabelText = function (view) {\n        var viewStr = view.charAt(0).toLowerCase() + view.substring(1);\n        if (view === 'Year' || view === 'TimelineYear') {\n            return this.formatViewLabel(viewStr, this.parent.activeView.getStartDate(), this.parent.activeView.getEndDate());\n        }\n        else {\n            if (this.renderDates.length > 0) {\n                if (this.parent.currentView === 'Day' || this.parent.currentView === 'TimelineDay') {\n                    return this.parent.localeObj.getConstant(viewStr) + ' of ' + util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, { type: 'date', skeleton: 'full', calendar: this.parent.getCalendarMode() }), 'single');\n                }\n                else {\n                    return this.formatViewLabel(viewStr, this.renderDates[0], this.renderDates[this.renderDates.length - 1]);\n                }\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    ViewBase.prototype.getDateRangeText = function () {\n        if (this.parent.isAdaptive) {\n            var formatDate = (this.parent.activeViewOptions.dateFormat) ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n            return util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, { format: formatDate, calendar: this.parent.getCalendarMode() }), 'single');\n        }\n        return this.formatDateRange(this.renderDates[0], this.renderDates[this.renderDates.length - 1]);\n    };\n    ViewBase.prototype.formatDateRange = function (startDate, endDate) {\n        var globalize = this.parent.globalize;\n        var mode = this.parent.getCalendarMode();\n        if (startDate === endDate) {\n            endDate = null;\n        }\n        if (!isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n            var text = '';\n            if (!endDate) {\n                text = globalize.formatDate(startDate, { format: this.parent.activeViewOptions.dateFormat, calendar: mode });\n                return util.capitalizeFirstWord(text, 'multiple');\n            }\n            text = (globalize.formatDate(startDate, { format: this.parent.activeViewOptions.dateFormat, calendar: mode }) +\n                ' - ' + globalize.formatDate(endDate, { format: this.parent.activeViewOptions.dateFormat, calendar: mode }));\n            return util.capitalizeFirstWord(text, 'multiple');\n        }\n        var formattedStr;\n        var longDateFormat;\n        if (isNullOrUndefined(this.parent.locale) || this.parent.locale === 'en' || this.parent.locale === 'en-US') {\n            longDateFormat = getValue('dateFormats.long', getDefaultDateObject(mode));\n        }\n        else {\n            longDateFormat = getValue('main.' + '' + this.parent.locale + '.dates.calendars.' + mode + '.dateFormats.long', cldrData);\n        }\n        if (!endDate) {\n            return util.capitalizeFirstWord(globalize.formatDate(startDate, { format: longDateFormat, calendar: mode }), 'single');\n        }\n        var dateFormat = longDateFormat.trim().toLocaleLowerCase();\n        if (dateFormat.substr(0, 1) === 'd') {\n            if (startDate.getFullYear() === endDate.getFullYear()) {\n                if (startDate.getMonth() === endDate.getMonth()) {\n                    formattedStr = globalize.formatDate(startDate, { format: 'dd', calendar: mode }) + ' - ' +\n                        globalize.formatDate(endDate, { format: 'dd MMMM yyyy', calendar: mode });\n                }\n                else {\n                    formattedStr = globalize.formatDate(startDate, { format: 'dd MMM', calendar: mode }) + ' - ' +\n                        globalize.formatDate(endDate, { format: 'dd MMM yyyy', calendar: mode });\n                }\n            }\n            else {\n                formattedStr = globalize.formatDate(startDate, { format: 'dd MMM yyyy', calendar: mode }) + ' - ' +\n                    globalize.formatDate(endDate, { format: 'dd MMM yyyy', calendar: mode });\n            }\n        }\n        else if (dateFormat.substr(0, 1) === 'm') {\n            if (startDate.getFullYear() === endDate.getFullYear()) {\n                if (startDate.getMonth() === endDate.getMonth()) {\n                    formattedStr = globalize.formatDate(startDate, { format: 'MMMM dd', calendar: mode }) + ' - ' +\n                        globalize.formatDate(endDate, { format: 'dd, yyyy', calendar: mode });\n                }\n                else {\n                    formattedStr = globalize.formatDate(startDate, { format: 'MMM dd', calendar: mode }) + ' - ' +\n                        globalize.formatDate(endDate, { format: 'MMM dd, yyyy', calendar: mode });\n                }\n            }\n            else {\n                formattedStr = globalize.\n                    formatDate(startDate, { format: 'MMM dd, yyyy', calendar: mode }) + ' - ' +\n                    globalize.formatDate(endDate, { format: 'MMM dd, yyyy', calendar: mode });\n            }\n        }\n        else {\n            formattedStr = globalize.formatDate(startDate, { format: longDateFormat, calendar: mode }) + ' - ' +\n                globalize.formatDate(endDate, { format: longDateFormat, calendar: mode });\n        }\n        return util.capitalizeFirstWord(formattedStr, 'multiple');\n    };\n    ViewBase.prototype.getMobileDateElement = function (date, className) {\n        var wrap = createElement('div', {\n            className: className,\n            innerHTML: '<div class=\"e-m-date\">' + this.parent.globalize.formatDate(date, { format: 'd', calendar: this.parent.getCalendarMode() }) + '</div>' + '<div class=\"e-m-day\">' +\n                util.capitalizeFirstWord(this.parent.globalize.formatDate(date, { format: 'E', calendar: this.parent.getCalendarMode() }), 'single') + '</div>'\n        });\n        return wrap;\n    };\n    ViewBase.prototype.setResourceHeaderContent = function (tdElement, tdData, className) {\n        if (className === void 0) { className = cls.TEXT_ELLIPSIS; }\n        if (this.parent.activeViewOptions.resourceHeaderTemplate) {\n            var data = { resource: tdData.resource, resourceData: tdData.resourceData };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.resourceHeaderTemplateName;\n            var templateId = scheduleId + viewName + 'resourceHeaderTemplate';\n            var quickTemplate = [].slice.call(this.parent.getResourceHeaderTemplate()(data, this.parent, 'resourceHeaderTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(quickTemplate, tdElement);\n        }\n        else {\n            var resourceText = createElement('div', { className: className });\n            this.parent.sanitize(tdData.resourceData[tdData.resource.textField], resourceText);\n            tdElement.appendChild(resourceText);\n        }\n    };\n    ViewBase.prototype.renderResourceMobileLayout = function () {\n        if (this.parent.resourceBase.lastResourceLevel && this.parent.resourceBase.lastResourceLevel.length <= 0) {\n            return;\n        }\n        this.parent.resourceBase.renderResourceHeader();\n        this.parent.resourceBase.renderResourceTree();\n    };\n    ViewBase.prototype.addAutoHeightClass = function (element) {\n        if (!this.parent.uiStateValues.isGroupAdaptive && this.parent.rowAutoHeight && this.isTimelineView()\n            && this.parent.activeViewOptions.group.resources.length > 0) {\n            addClass([element], cls.AUTO_HEIGHT);\n        }\n    };\n    ViewBase.prototype.getColElements = function () {\n        return [].slice.call(this.element.querySelectorAll('.' + cls.CONTENT_WRAP_CLASS + ' col, .' + cls.DATE_HEADER_WRAP_CLASS + ' col'));\n    };\n    ViewBase.prototype.setColWidth = function (content) {\n        if (this.isTimelineView()) {\n            var colElements = this.getColElements();\n            var contentBody = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n            var colWidth_1 = (this.parent.getElementWidth(contentBody) / (colElements.length / 2));\n            if (content.offsetHeight !== content.clientHeight) {\n                var resourceColumn = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n                if (!isNullOrUndefined(resourceColumn) && resourceColumn.offsetHeight !== content.clientHeight) {\n                    setStyleAttribute(resourceColumn, { 'height': formatUnit(content.clientHeight) });\n                }\n            }\n            var cssClass = \".\" + cls.HEADER_CELLS_CLASS + \",.\" + cls.TIME_SLOT_CLASS + \",.\" + cls.HEADER_WEEK_CELLS_CLASS + \",.\" + cls.HEADER_MONTH_CELLS_CLASS + \",.\" + cls.HEADER_YEAR_CELLS_CLASS;\n            var headerCellElements = [].slice.call(this.element.querySelectorAll(cssClass));\n            headerCellElements.forEach(function (ele) {\n                var colSpan = isNullOrUndefined(ele.getAttribute('colspan')) ? '1' : ele.getAttribute('colspan');\n                var headerCellColSpan = parseInt(colSpan, 10);\n                setStyleAttribute(ele, { 'width': formatUnit(colWidth_1 * headerCellColSpan) });\n            });\n        }\n    };\n    ViewBase.prototype.resetColWidth = function () {\n        var colElements = this.getColElements();\n        for (var _i = 0, colElements_1 = colElements; _i < colElements_1.length; _i++) {\n            var col = colElements_1[_i];\n            col.style.width = '';\n        }\n    };\n    ViewBase.prototype.getContentAreaElement = function () {\n        return this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    };\n    ViewBase.prototype.wireExpandCollapseIconEvents = function () {\n        if (this.parent.resourceBase && this.parent.resourceBase.resourceCollection.length > 1) {\n            var treeIcons = [].slice.call(this.element.querySelectorAll('.' + cls.RESOURCE_TREE_ICON_CLASS));\n            for (var _i = 0, treeIcons_1 = treeIcons; _i < treeIcons_1.length; _i++) {\n                var icon = treeIcons_1[_i];\n                EventHandler.clearEvents(icon);\n                EventHandler.add(icon, 'click', this.parent.resourceBase.onTreeIconClick, this.parent.resourceBase);\n            }\n        }\n    };\n    ViewBase.prototype.scrollToDate = function (scrollDate) {\n        if (['Month', 'TimelineMonth'].indexOf(this.parent.currentView) === -1 || isNullOrUndefined(scrollDate)) {\n            return;\n        }\n        var scrollWrap = this.getContentAreaElement();\n        var tdDate = new Date(util.resetTime(new Date(+scrollDate)).getTime()).getTime();\n        var dateElement = scrollWrap.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-date=\\\"\" + tdDate + \"\\\"]\");\n        if (this.parent.currentView === 'Month' && dateElement) {\n            if (scrollWrap.scrollWidth > scrollWrap.clientWidth) {\n                if (!this.parent.enableRtl) {\n                    scrollWrap.scrollLeft = dateElement.offsetLeft;\n                }\n                else {\n                    scrollWrap.scrollLeft = -(this.parent.getContentTable().offsetWidth - dateElement.offsetLeft - dateElement.offsetWidth);\n                }\n            }\n            scrollWrap.scrollTop = dateElement.offsetTop;\n        }\n        if (this.parent.currentView === 'TimelineMonth' && dateElement) {\n            if (!this.parent.enableRtl) {\n                scrollWrap.scrollLeft = dateElement.offsetLeft;\n            }\n            else {\n                scrollWrap.scrollLeft = -(this.parent.getContentTable().offsetWidth - dateElement.offsetLeft - dateElement.offsetWidth);\n            }\n        }\n    };\n    ViewBase.prototype.setPersistence = function () {\n        if (this.parent.enablePersistence) {\n            var contentWrap = this.element.querySelector('.e-content-wrap');\n            if (!isNullOrUndefined(contentWrap)) {\n                this.parent.scrollLeft = contentWrap.scrollLeft;\n                this.parent.scrollTop = contentWrap.scrollTop;\n            }\n        }\n    };\n    ViewBase.prototype.retainScrollPosition = function () {\n        if (this.parent.enablePersistence) {\n            var conWrap = this.parent.element.querySelector('.e-content-wrap');\n            if (!isNullOrUndefined(conWrap) && !isNullOrUndefined(this.parent.scrollLeft) && !isNullOrUndefined(this.parent.scrollTop)) {\n                conWrap.scrollTop = this.parent.scrollTop;\n                conWrap.scrollLeft = this.parent.scrollLeft;\n            }\n        }\n    };\n    ViewBase.prototype.getViewStartDate = function () {\n        var startDate = this.renderDates[0];\n        if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.resourceBase.lastResourceLevel.length > 0) {\n            startDate = this.parent.resourceBase.getResourceRenderDates()[0];\n        }\n        return startDate;\n    };\n    ViewBase.prototype.getViewEndDate = function () {\n        var endDate = util.addDays(this.renderDates[this.renderDates.length - 1], 1);\n        if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.resourceBase.lastResourceLevel.length > 0) {\n            endDate = util.addDays(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0], 1);\n        }\n        return endDate;\n    };\n    ViewBase.prototype.getAdjustedDate = function (startTime) {\n        if (!this.parent.activeViewOptions.timeScale.enable || this.parent.currentView === 'Month' ||\n            (this.parent.currentView === 'TimelineYear' && this.parent.activeViewOptions.group.resources.length === 0)) {\n            return new Date(startTime.setHours(0, 0, 0, 0));\n        }\n        else if (this.parent.currentView === 'TimelineYear' && this.parent.activeViewOptions.group.resources.length > 0) {\n            startTime.setHours(0, 0, 0, 0);\n            return new Date(startTime.setDate(1));\n        }\n        return null;\n    };\n    ViewBase.prototype.resetColLevels = function () {\n        this.parent.resourceBase.expandedResources = [];\n        var renderedCount = this.parent.virtualScrollModule.getRenderedCount();\n        var lastLevel = this.parent.activeViewOptions.group.byDate ? this.colLevels[0] :\n            this.parent.resourceBase.renderedResources;\n        var index = 0;\n        for (var i = 0; i < lastLevel.length; i++) {\n            if (index >= renderedCount) {\n                break;\n            }\n            index += lastLevel[parseInt(i.toString(), 10)].colSpan;\n            this.parent.resourceBase.expandedResources.push(lastLevel[parseInt(i.toString(), 10)]);\n        }\n        if (this.parent.activeViewOptions.group.byDate) {\n            this.colLevels[0] = this.parent.resourceBase.expandedResources;\n            this.parent.virtualScrollModule.setRenderedDates(this.parent.resourceBase.expandedResources);\n        }\n        else {\n            this.colLevels[this.colLevels.length - 2] = this.parent.resourceBase.expandedResources;\n            this.parent.resourceBase.renderedResources = this.parent.resourceBase.expandedResources;\n        }\n        if (this.parent.currentView !== 'Month') {\n            this.colLevels[this.colLevels.length - 1] = this.colLevels[this.colLevels.length - 1].slice(0, index);\n            this.parent.resourceBase.expandedResources = this.colLevels[this.colLevels.length - 1];\n        }\n    };\n    ViewBase.prototype.getGroupIndices = function (dataCollection) {\n        var groupIndices = [];\n        if (this.parent.virtualScrollModule && this.parent.activeViewOptions.group.resources.length > 0 && (dataCollection ||\n            this.parent.virtualScrollModule.existingDataCollection.length > 0) && !this.parent.uiStateValues.isGroupAdaptive) {\n            dataCollection = isNullOrUndefined(dataCollection) ? this.parent.virtualScrollModule.existingDataCollection : dataCollection;\n            groupIndices = dataCollection.map(function (data) { return data.groupIndex; });\n        }\n        return groupIndices;\n    };\n    ViewBase.prototype.destroy = function () {\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.element = null;\n        this.renderDates = null;\n        this.colLevels = null;\n    };\n    return ViewBase;\n}());\nexport { ViewBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend, EventHandler, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { createElement, remove, addClass, removeClass, append, prepend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * vertical view\n */\nvar VerticalView = /** @class */ (function (_super) {\n    __extends(VerticalView, _super);\n    function VerticalView(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-day-view';\n        _this.isInverseTableSelect = true;\n        _this.baseCssClass = 'e-vertical-view';\n        _this.appointment = null;\n        return _this;\n    }\n    VerticalView.prototype.getModuleName = function () {\n        return 'verticalView';\n    };\n    VerticalView.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.scrollUiUpdate, this);\n        this.parent.on(event.dataReady, this.renderEvents, this);\n    };\n    VerticalView.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.scrollUiUpdate);\n            this.parent.off(event.dataReady, this.renderEvents);\n        }\n    };\n    VerticalView.prototype.renderEvents = function () {\n        this.appointment = this.parent.activeViewOptions.timeScale.enable ?\n            new VerticalEvent(this.parent) : new MonthEvent(this.parent);\n        this.appointment.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    VerticalView.prototype.onContentScroll = function (e) {\n        this.parent.removeNewEventElement();\n        var target = e.target;\n        this.parent.notify(event.virtualScroll, e);\n        this.scrollLeftPanel(target);\n        this.scrollTopPanel(target);\n        if (!this.parent.isAdaptive) {\n            this.parent.uiStateValues.top = target.scrollTop;\n        }\n        this.parent.uiStateValues.left = target.scrollLeft;\n        if (!isNullOrUndefined(this.parent.quickPopup) && !this.parent.uiStateValues.isTapHold) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        this.setPersistence();\n    };\n    VerticalView.prototype.onAdaptiveMove = function (e) {\n        if (this.parent.uiStateValues.action) {\n            e.preventDefault();\n        }\n    };\n    VerticalView.prototype.onAdaptiveScroll = function (e) {\n        if (this.parent && !this.parent.isDestroyed) {\n            this.parent.removeNewEventElement();\n            this.parent.uiStateValues.top = e.target.scrollTop;\n        }\n    };\n    VerticalView.prototype.scrollLeftPanel = function (target) {\n        var leftPanel = this.getLeftPanelElement();\n        if (!isNullOrUndefined(leftPanel)) {\n            leftPanel.scrollTop = target.scrollTop;\n        }\n    };\n    VerticalView.prototype.scrollUiUpdate = function (args) {\n        if (!this.parent) {\n            return;\n        }\n        var dateHeader = this.parent.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        var headerBarHeight = this.getHeaderBarHeight();\n        var timeCells = this.getLeftPanelElement();\n        var content = this.getScrollableElement();\n        var header = this.getDatesHeaderElement();\n        var scrollerHeight = this.parent.element.offsetHeight - headerBarHeight - header.offsetHeight;\n        this.setContentHeight(content, timeCells, scrollerHeight);\n        this.setColWidth(content);\n        var scrollBarWidth = util.getScrollBarWidth();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        header.style[args.cssProperties.rtlPadding] = '';\n        var isDateHeaderScroll = this.parent.enableAllDayScroll ? !((content.offsetWidth - content.clientWidth) <=\n            (dateHeader.offsetWidth - dateHeader.clientWidth) && dateHeader.classList.contains('e-all-day-scroll')) : true;\n        if (content.offsetWidth - content.clientWidth > 0 && isDateHeaderScroll) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            header.firstElementChild.style[args.cssProperties.border] = '';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            header.style[args.cssProperties.padding] = '';\n        }\n        if (!args.isPreventScrollUpdate) {\n            if (this.parent.uiStateValues.isInitial) {\n                if (this.parent.currentView.indexOf('Timeline') > -1) {\n                    content.scrollTop = this.parent.uiStateValues.top;\n                }\n                this.scrollToWorkHour();\n                this.parent.uiStateValues.isInitial = false;\n            }\n            else {\n                if (timeCells) {\n                    timeCells.scrollTop = this.parent.uiStateValues.top;\n                }\n                content.scrollTop = this.parent.uiStateValues.top;\n                content.scrollLeft = this.parent.uiStateValues.left;\n            }\n        }\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            this.highlightCurrentTime();\n        }\n        this.retainScrollPosition();\n        if (!isNullOrUndefined(timeCells) && !isNullOrUndefined(content) && timeCells.scrollTop !== content.scrollTop) {\n            timeCells.scrollTop = content.scrollTop;\n        }\n    };\n    VerticalView.prototype.setContentHeight = function (element, leftPanelElement, height) {\n        if (this.parent.isAdaptive && !this.isTimelineView()) {\n            element.style.height = (this.parent.height === 'auto') ? 'auto' : formatUnit(height);\n        }\n        else {\n            if (!isNullOrUndefined(leftPanelElement)) {\n                leftPanelElement.style.height = (this.parent.height === 'auto') ? 'auto'\n                    : formatUnit(height - this.getScrollXIndent(element));\n            }\n            element.style.height = (this.parent.height === 'auto') ? 'auto' : formatUnit(height);\n        }\n    };\n    VerticalView.prototype.scrollToWorkHour = function () {\n        if (this.parent.workHours.highlight) {\n            var firstWorkHourCell = this.element.querySelector('.' + cls.WORK_HOURS_CLASS);\n            if (firstWorkHourCell) {\n                this.getScrollableElement().scrollTop = firstWorkHourCell.offsetTop;\n                this.parent.uiStateValues.top = firstWorkHourCell.offsetTop;\n                this.parent.uiStateValues.left = 0;\n            }\n        }\n    };\n    VerticalView.prototype.scrollToHour = function (hour, scrollDate) {\n        var date = this.parent.getStartEndTime(hour);\n        if (!isNullOrUndefined(scrollDate)) {\n            var headerElement = this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + '[data-date=\"' + new Date(util.resetTime(scrollDate)).getTime() + '\"]');\n            if (headerElement) {\n                if (this.parent.enableRtl) {\n                    var conWrap = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n                    this.getScrollableElement().scrollLeft = -(conWrap.offsetWidth - headerElement.offsetLeft - headerElement.offsetWidth);\n                }\n                else {\n                    this.getScrollableElement().scrollLeft = headerElement.offsetLeft;\n                }\n            }\n        }\n        if (isNullOrUndefined(date)) {\n            return;\n        }\n        this.getScrollableElement().scrollTop = this.getTopFromDateTime(date);\n    };\n    VerticalView.prototype.scrollToDate = function (scrollDate) {\n        this.scrollToHour(null, scrollDate);\n    };\n    VerticalView.prototype.generateColumnLevels = function () {\n        var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        var columnLevels = [];\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            columnLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.activeViewOptions.group.hideNonWorkingDays) {\n                while (columnLevels[0].length === 0) {\n                    this.parent.setProperties({ selectedDate: this.parent.activeView.getNextPreviousDate(this.previousNextAction) }, true);\n                    this.parent.activeView.getRenderDates();\n                    if (this.parent.headerModule) {\n                        this.parent.headerModule.setCalendarDate(this.parent.selectedDate);\n                        this.parent.headerModule.updateDateRange();\n                    }\n                    level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n                    columnLevels = this.parent.resourceBase.generateResourceLevels(level);\n                }\n            }\n            if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                var resStartHour = resourceLevel.resourceData[resourceLevel.resource.startHourField];\n                var resEndHour = resourceLevel.resourceData[resourceLevel.resource.endHourField];\n                var dateSlots = this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays, resStartHour, resEndHour);\n                columnLevels = [dateSlots];\n            }\n        }\n        else {\n            columnLevels.push(level);\n        }\n        this.colLevels = columnLevels;\n        return columnLevels;\n    };\n    // eslint-disable-next-line max-len\n    VerticalView.prototype.getDateSlots = function (renderDates, workDays, workStartHour, workEndHour) {\n        if (workStartHour === void 0) { workStartHour = this.parent.workHours.start; }\n        if (workEndHour === void 0) { workEndHour = this.parent.workHours.end; }\n        var dateCol = [];\n        var start = this.parent.getStartEndTime(workStartHour);\n        var end = this.parent.getStartEndTime(workEndHour);\n        for (var _i = 0, renderDates_1 = renderDates; _i < renderDates_1.length; _i++) {\n            var col = renderDates_1[_i];\n            var classList = [cls.HEADER_CELLS_CLASS];\n            if (this.isCurrentDate(col)) {\n                classList.push(cls.CURRENT_DAY_CLASS);\n            }\n            dateCol.push({\n                date: col, type: 'dateHeader', className: classList, colSpan: 1,\n                workDays: workDays, startHour: new Date(+start), endHour: new Date(+end)\n            });\n        }\n        return dateCol;\n    };\n    VerticalView.prototype.isWorkHourRange = function (date) {\n        return (this.getStartHour().getTime() <= date.getTime()) && (this.getEndHour().getTime() >= date.getTime());\n    };\n    VerticalView.prototype.highlightCurrentTime = function () {\n        var _this = this;\n        if (this.parent.activeViewOptions.headerRows.length > 0 &&\n            this.parent.activeViewOptions.headerRows.slice(-1)[0].option !== 'Hour') {\n            return;\n        }\n        var currentDate = this.parent.getCurrentTime();\n        if (this.parent.showTimeIndicator && this.isWorkHourRange(currentDate)) {\n            var currentDateIndex = this.getCurrentTimeIndicatorIndex();\n            if (currentDateIndex.length > 0 && !isNullOrUndefined(this.element.querySelector('.' + cls.WORK_CELLS_CLASS))) {\n                this.changeCurrentTimePosition();\n                if (isNullOrUndefined(this.currentTimeIndicatorTimer)) {\n                    var interval = util.MS_PER_MINUTE - ((currentDate.getSeconds() * 1000) + currentDate.getMilliseconds());\n                    if (interval <= (util.MS_PER_MINUTE - 1000)) {\n                        window.setTimeout(function () {\n                            if (!isNullOrUndefined(_this.currentTimeIndicatorTimer)) {\n                                _this.clearCurrentTimeIndicatorTimer();\n                                _this.changeCurrentTimePosition();\n                                _this.updateCurrentTimeIndicatorTimer();\n                            }\n                        }, interval);\n                    }\n                    this.updateCurrentTimeIndicatorTimer();\n                }\n            }\n            else {\n                this.clearCurrentTimeIndicatorTimer();\n            }\n        }\n        else {\n            this.clearCurrentTimeIndicatorTimer();\n        }\n    };\n    VerticalView.prototype.getCurrentTimeIndicatorIndex = function () {\n        var currentDateIndex = [];\n        if (!isNullOrUndefined(this.parent.resourceBase) && (this.parent.activeViewOptions.group.resources.length > 0) &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            var count = 0;\n            var currentDate = util.resetTime(this.parent.getCurrentTime());\n            if (this.parent.virtualScrollModule && this.parent.activeViewOptions.allowVirtualScrolling &&\n                this.parent.activeViewOptions.group.byDate) {\n                for (var _i = 0, _a = this.parent.resourceBase.expandedResources; _i < _a.length; _i++) {\n                    var resource = _a[_i];\n                    if (util.resetTime(resource.date).getTime() === currentDate.getTime()) {\n                        currentDateIndex.push(count);\n                    }\n                    count += 1;\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.parent.resourceBase.renderedResources; _b < _c.length; _b++) {\n                    var resource = _c[_b];\n                    var index = this.parent.getIndexOfDate(resource.renderDates, currentDate);\n                    if (index >= 0) {\n                        var resIndex = this.parent.activeViewOptions.group.byDate ?\n                            (this.parent.resourceBase.lastResourceLevel.length * index) + count : count + index;\n                        currentDateIndex.push(resIndex);\n                    }\n                    count += this.parent.activeViewOptions.group.byDate ? 1 : resource.renderDates.length;\n                }\n            }\n        }\n        else {\n            var renderDates = (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0)\n                ? this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates : this.renderDates;\n            var index = this.parent.getIndexOfDate(renderDates, util.resetTime(this.parent.getCurrentTime()));\n            if (index >= 0) {\n                currentDateIndex.push(index);\n            }\n        }\n        return currentDateIndex;\n    };\n    VerticalView.prototype.clearCurrentTimeIndicatorTimer = function () {\n        if (!isNullOrUndefined(this.currentTimeIndicatorTimer)) {\n            window.clearInterval(this.currentTimeIndicatorTimer);\n            this.currentTimeIndicatorTimer = null;\n            this.removeCurrentTimeIndicatorElements();\n        }\n    };\n    VerticalView.prototype.updateCurrentTimeIndicatorTimer = function () {\n        var _this = this;\n        this.currentTimeIndicatorTimer = window.setInterval(function () { _this.changeCurrentTimePosition(); }, util.MS_PER_MINUTE);\n    };\n    VerticalView.prototype.removeCurrentTimeIndicatorElements = function () {\n        var queryString = '.' + cls.PREVIOUS_TIMELINE_CLASS + ',.' + cls.CURRENT_TIMELINE_CLASS + ',.' + cls.CURRENT_TIME_CLASS;\n        var timeIndicator = [].slice.call(this.element.querySelectorAll(queryString));\n        for (var _i = 0, timeIndicator_1 = timeIndicator; _i < timeIndicator_1.length; _i++) {\n            var indicator = timeIndicator_1[_i];\n            remove(indicator);\n        }\n    };\n    VerticalView.prototype.changeCurrentTimePosition = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.removeCurrentTimeIndicatorElements();\n        var currentDateIndex = this.getCurrentTimeIndicatorIndex();\n        var firstRow = this.parent.getContentTable().rows[0];\n        var top = this.getTopFromDateTime(this.parent.getCurrentTime());\n        var topInPx = formatUnit(top);\n        var rowIndex = Math.floor(top / firstRow.cells[0].offsetHeight);\n        var timeCellsWrap = this.getLeftPanelElement();\n        var timeTrs = [].slice.call(timeCellsWrap.querySelectorAll('tr'));\n        if (isNullOrUndefined(rowIndex) || isNaN(rowIndex) || rowIndex === timeTrs.length) {\n            return;\n        }\n        var curTimeWrap = [].slice.call(this.element.querySelectorAll('.' + cls.TIMELINE_WRAPPER_CLASS));\n        for (var i = 0, length_1 = currentDateIndex[0]; i < length_1; i++) {\n            curTimeWrap[parseInt(i.toString(), 10)].appendChild(createElement('div', { className: cls.PREVIOUS_TIMELINE_CLASS, styles: 'top:' + topInPx }));\n        }\n        for (var _i = 0, currentDateIndex_1 = currentDateIndex; _i < currentDateIndex_1.length; _i++) {\n            var day = currentDateIndex_1[_i];\n            if (curTimeWrap.length > day) {\n                curTimeWrap[parseInt(day.toString(), 10)].appendChild(createElement('div', {\n                    className: cls.CURRENT_TIMELINE_CLASS, styles: 'top:' + topInPx\n                }));\n            }\n        }\n        var currentTimeEle = createElement('div', {\n            innerHTML: this.parent.getTimeString(this.parent.getCurrentTime()),\n            className: cls.CURRENT_TIME_CLASS,\n            styles: 'top:' + topInPx\n        });\n        if (rowIndex <= timeTrs.length) {\n            removeClass(timeCellsWrap.querySelectorAll('.' + cls.HIDE_CHILDS_CLASS), cls.HIDE_CHILDS_CLASS);\n            if (timeTrs[parseInt(rowIndex.toString(), 10)]) {\n                addClass([timeTrs[parseInt(rowIndex.toString(), 10)].lastElementChild], cls.HIDE_CHILDS_CLASS);\n            }\n            prepend([currentTimeEle], timeCellsWrap);\n            currentTimeEle.style.top = formatUnit(currentTimeEle.offsetTop - (currentTimeEle.offsetHeight / 2));\n        }\n    };\n    VerticalView.prototype.getTopFromDateTime = function (date) {\n        var startHour = this.getStartEndHours(this.parent.activeViewOptions.startHour);\n        var diffInMinutes = ((date.getHours() - startHour.getHours()) * 60) + (date.getMinutes() - startHour.getMinutes());\n        return (diffInMinutes * this.getWorkCellHeight() * this.parent.activeViewOptions.timeScale.slotCount) /\n            this.parent.activeViewOptions.timeScale.interval;\n    };\n    VerticalView.prototype.getWorkCellHeight = function () {\n        return parseFloat(this.parent.getElementHeight(this.element.querySelector('.' + cls.WORK_CELLS_CLASS)).toFixed(2));\n    };\n    VerticalView.prototype.getTdContent = function (date, type, groupIndex) {\n        var cntEle;\n        var wrapper = createElement('div');\n        var templateName = '';\n        var templateId = this.parent.element.id + '_';\n        switch (type) {\n            case 'dateHeader':\n                if (this.parent.activeViewOptions.dateHeaderTemplate) {\n                    templateName = 'dateHeaderTemplate';\n                    var args = { date: date, type: type };\n                    var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n                    cntEle = [].slice.call(this.parent.getDateHeaderTemplate()(args, this.parent, templateName, templateId + viewName + templateName, false, undefined, undefined, this.parent.root));\n                }\n                else {\n                    wrapper.innerHTML = this.parent.activeView.isTimelineView() ?\n                        \"<span class=\\\"e-header-date e-navigate\\\">\" + this.getTimelineDate(date) + \"</span>\" :\n                        \"<div class=\\\"e-header-day\\\">\" + util.capitalizeFirstWord(this.getDayName(date), 'single') + \"</div>\" +\n                            (\"<div class=\\\"e-header-date e-navigate\\\" role=\\\"link\\\">\" + this.getDate(date) + \"</div>\");\n                    cntEle = [].slice.call(wrapper.childNodes);\n                }\n                break;\n            case 'majorSlot':\n                if (this.parent.activeViewOptions.timeScale.majorSlotTemplate) {\n                    templateName = 'majorSlotTemplate';\n                    var args = { date: date, type: type };\n                    cntEle = [].slice.call(this.parent.getMajorSlotTemplate()(args, this.parent, templateName, templateId + templateName, false, undefined, undefined, this.parent.root));\n                }\n                else {\n                    wrapper.innerHTML = \"<span>\" + this.getTime(date) + \"</span>\";\n                    cntEle = [].slice.call(wrapper.childNodes);\n                }\n                break;\n            case 'minorSlot':\n                if (this.parent.activeViewOptions.timeScale.minorSlotTemplate) {\n                    templateName = 'minorSlotTemplate';\n                    var args = { date: date, type: type };\n                    cntEle = [].slice.call(this.parent.getMinorSlotTemplate()(args, this.parent, templateName, templateId + templateName, false, undefined, undefined, this.parent.root));\n                }\n                else {\n                    cntEle = [].slice.call(wrapper.childNodes);\n                }\n                break;\n            case 'alldayCells':\n                if (this.parent.activeViewOptions.cellTemplate) {\n                    var viewName = this.parent.activeViewOptions.cellTemplateName;\n                    templateName = 'cellTemplate';\n                    var args = { date: date, type: type, groupIndex: groupIndex };\n                    cntEle = [].slice.call(this.parent.getCellTemplate()(args, this.parent, templateName, templateId + viewName + templateName, false, undefined, undefined, this.parent.root));\n                }\n                break;\n        }\n        return cntEle;\n    };\n    VerticalView.prototype.refreshHeader = function () {\n        remove(this.element.querySelector('tbody tr'));\n        this.renderHeader();\n        this.parent.notify(event.contentReady, {});\n        var dateHeader = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        if (dateHeader) {\n            dateHeader.scrollLeft = this.parent.uiStateValues.left;\n        }\n    };\n    VerticalView.prototype.renderLayout = function (type) {\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var clsList = [this.baseCssClass, this.viewClass];\n        clsList.push(type);\n        if (this.parent.activeViewOptions.group.byDate) {\n            clsList.push('e-by-date');\n        }\n        if (!this.parent.activeViewOptions.timeScale.enable) {\n            addClass([this.element], [cls.TIMESCALE_DISABLE, this.viewClass]);\n        }\n        if (this.parent.activeViewOptions.allowVirtualScrolling && !this.parent.uiStateValues.isGroupAdaptive) {\n            clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n        }\n        if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n            clsList.push(cls.IGNORE_WHITESPACE);\n        }\n        this.renderPanel(type);\n        addClass([this.element], clsList);\n        this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        this.colLevels = this.generateColumnLevels();\n        this.renderHeader();\n        this.renderContent();\n        if (this.parent.uiStateValues.isGroupAdaptive && !this.parent.element.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n            this.renderResourceMobileLayout();\n        }\n        this.parent.notify(event.contentReady, {});\n    };\n    VerticalView.prototype.renderHeader = function () {\n        var tr = createElement('tr');\n        var dateTd = createElement('td');\n        dateTd.appendChild(this.renderDatesHeader());\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            var indentTd = createElement('td', { className: cls.LEFT_INDENT_CLASS });\n            indentTd.appendChild(this.renderLeftIndent());\n            tr.appendChild(indentTd);\n        }\n        tr.appendChild(dateTd);\n        prepend([tr], this.element.querySelector('tbody'));\n    };\n    VerticalView.prototype.renderContent = function () {\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.parent.resourceBase.renderedResources = extend([], this.parent.resourceBase.lastResourceLevel, null, true);\n        }\n        var tr = createElement('tr');\n        var workTd = createElement('td');\n        if (this.parent.isAdaptive) {\n            workTd.setAttribute('colspan', (this.parent.activeViewOptions.timeScale.enable ? '2' : '1'));\n            var scrollContainer = createElement('div', { className: cls.SCROLL_CONTAINER_CLASS });\n            if (this.parent.activeViewOptions.timeScale.enable) {\n                scrollContainer.appendChild(this.renderTimeCells());\n            }\n            scrollContainer.appendChild(this.renderContentArea());\n            workTd.appendChild(scrollContainer);\n            EventHandler.add(scrollContainer, 'scroll', this.onAdaptiveScroll, this);\n            EventHandler.add(scrollContainer, Browser.touchMoveEvent, this.onAdaptiveMove, this);\n            tr.appendChild(workTd);\n        }\n        else {\n            var levels = this.colLevels.slice(0);\n            if (this.parent.virtualScrollModule) {\n                this.resetColLevels();\n            }\n            var wrap = this.renderContentArea();\n            workTd.appendChild(wrap);\n            if (this.parent.activeViewOptions.timeScale.enable) {\n                var timesTd = createElement('td');\n                timesTd.appendChild(this.renderTimeCells());\n                tr.appendChild(timesTd);\n            }\n            tr.appendChild(workTd);\n            if (this.parent.virtualScrollModule) {\n                this.colLevels = levels;\n                this.parent.virtualScrollModule.renderVirtualTrack(wrap);\n            }\n        }\n        this.element.querySelector('tbody').appendChild(tr);\n    };\n    VerticalView.prototype.renderLeftIndent = function () {\n        var wrap = createElement('div', { className: cls.LEFT_INDENT_WRAP_CLASS });\n        var tbl = this.createTableLayout();\n        var trEle = createElement('tr');\n        var rowCount = this.colLevels.length;\n        var nth;\n        for (var i = 0; i < rowCount; i++) {\n            var ntr_1 = trEle.cloneNode();\n            var data_1 = { className: [(this.colLevels[parseInt(i.toString(), 10)][0] && this.colLevels[parseInt(i.toString(), 10)][0].className[0])], type: 'emptyCells' };\n            if (this.parent.activeViewOptions.showWeekNumber && data_1.className.indexOf(cls.HEADER_CELLS_CLASS) !== -1) {\n                data_1.className.push(cls.WEEK_NUMBER_CLASS);\n                var weekNo = this.parent.getWeekNumberContent(this.renderDates);\n                data_1.template = [createElement('span', {\n                        innerHTML: '' + weekNo,\n                        attrs: { title: this.parent.localeObj.getConstant('week') + ' ' + weekNo }\n                    })];\n            }\n            nth = this.createTd(data_1);\n            this.parent.renderHeaderIndentTemplate(data_1, nth);\n            ntr_1.appendChild(nth);\n            tbl.querySelector('tbody').appendChild(ntr_1);\n        }\n        var ntr = trEle.cloneNode();\n        var appointmentExpandCollapse = createElement('div', {\n            attrs: {\n                'tabindex': '0', 'role': 'list',\n                title: this.parent.localeObj.getConstant('expandAllDaySection'), 'aria-disabled': 'false',\n                'aria-label': this.parent.localeObj.getConstant('expandAllDaySection')\n            },\n            className: cls.ALLDAY_APPOINTMENT_SECTION_CLASS + ' ' + cls.APPOINTMENT_ROW_EXPAND_CLASS + ' ' +\n                cls.ICON + ' ' + cls.DISABLE_CLASS\n        });\n        var data = { className: [cls.ALLDAY_CELLS_CLASS], type: 'emptyCells' };\n        nth = this.createTd(data);\n        nth.appendChild(appointmentExpandCollapse);\n        this.parent.renderHeaderIndentTemplate(data, nth);\n        ntr.appendChild(nth);\n        tbl.querySelector('tbody').appendChild(ntr);\n        wrap.appendChild(tbl);\n        return wrap;\n    };\n    VerticalView.prototype.renderDatesHeader = function () {\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        var wrap = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n        container.appendChild(wrap);\n        var tbl = this.createTableLayout();\n        var trEle = createElement('tr', { className: cls.HEADER_ROW_CLASS });\n        var rowCount = this.colLevels.length;\n        var lastLevel = this.colLevels[rowCount - 1];\n        for (var i = 0; i < rowCount; i++) {\n            var ntr = trEle.cloneNode();\n            var level = this.colLevels[parseInt(i.toString(), 10)];\n            for (var j = 0; j < level.length; j++) {\n                ntr.appendChild(this.createTd(level[parseInt(j.toString(), 10)]));\n            }\n            tbl.querySelector('tbody').appendChild(ntr);\n        }\n        this.createAllDayRow(tbl, lastLevel);\n        this.createColGroup(tbl, lastLevel);\n        wrap.appendChild(tbl);\n        return container;\n    };\n    VerticalView.prototype.createAllDayRow = function (table, tdData) {\n        var ntr = createElement('tr', { className: cls.ALLDAY_ROW_CLASS });\n        for (var j = 0; j < tdData.length; j++) {\n            var td = extend({}, tdData[parseInt(j.toString(), 10)]);\n            td.className = [cls.ALLDAY_CELLS_CLASS];\n            td.type = 'alldayCells';\n            var ntd = this.createTd(td);\n            ntd.setAttribute('data-date', td.date.getTime().toString());\n            if (!isNullOrUndefined(td.groupIndex)) {\n                ntd.setAttribute('data-group-index', '' + td.groupIndex);\n            }\n            else if (this.parent.uiStateValues.isGroupAdaptive) {\n                ntd.setAttribute('data-group-index', '' + this.parent.uiStateValues.groupIndex);\n            }\n            this.wireCellEvents(ntd);\n            ntr.appendChild(ntd);\n        }\n        table.querySelector('tbody').appendChild(ntr);\n        var thead = createElement('thead');\n        thead.appendChild(this.parent.eventBase.createEventWrapper('allDay'));\n        prepend([thead], table);\n    };\n    VerticalView.prototype.createTd = function (td) {\n        var tdEle = createElement('td');\n        this.addAttributes(td, tdEle);\n        if (td.date && td.type) {\n            var ele = this.getTdContent(td.date, td.type, td.groupIndex);\n            if (ele && ele.length) {\n                append(ele, tdEle);\n            }\n        }\n        if (!this.parent.isMinMaxDate(util.resetTime(new Date('' + td.date)))) {\n            addClass([tdEle], cls.DISABLE_DATES);\n        }\n        if (td.type === 'resourceHeader') {\n            this.setResourceHeaderContent(tdEle, td);\n        }\n        if (td.type === 'dateHeader' && td.className.indexOf(cls.HEADER_CELLS_CLASS) >= 0) {\n            tdEle.setAttribute('data-date', td.date.getTime().toString());\n            if (!isNullOrUndefined(td.groupIndex)) {\n                tdEle.setAttribute('data-group-index', '' + td.groupIndex);\n            }\n            this.wireMouseEvents(tdEle);\n        }\n        var args = { elementType: td.type, element: tdEle, date: td.date, groupIndex: td.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return tdEle;\n    };\n    VerticalView.prototype.wireCellEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        this.wireMouseEvents(element);\n    };\n    VerticalView.prototype.wireMouseEvents = function (element) {\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    VerticalView.prototype.renderTimeCells = function () {\n        var _this = this;\n        var wrap = createElement('div', { className: cls.TIME_CELLS_WRAP_CLASS });\n        var tbl = this.createTableLayout();\n        var trEle = createElement('tr');\n        var handler = function (r) {\n            r.type = r.first ? 'majorSlot' : 'minorSlot';\n            r.className = r.last ? [cls.TIME_CELLS_CLASS, cls.TIME_SLOT_CLASS] : [cls.TIME_SLOT_CLASS];\n            var ntr = trEle.cloneNode();\n            var data = { date: r.date, type: r.type, className: r.className };\n            ntr.appendChild(_this.createTd(data));\n            tbl.querySelector('tbody').appendChild(ntr);\n            return r;\n        };\n        this.getTimeSlotRows(handler);\n        wrap.appendChild(tbl);\n        return wrap;\n    };\n    VerticalView.prototype.renderContentArea = function () {\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.setAriaAttributes(tbl);\n        this.addAutoHeightClass(tbl);\n        this.renderContentTable(tbl);\n        this.createColGroup(tbl, this.colLevels.slice(-1)[0]);\n        wrap.appendChild(tbl);\n        this.wireCellEvents(tbl.querySelector('tbody'));\n        EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n        EventHandler.add(wrap, Browser.touchMoveEvent, this.onAdaptiveMove, this);\n        return wrap;\n    };\n    VerticalView.prototype.renderContentTable = function (table) {\n        var tBody = table.querySelector('tbody');\n        append(this.getContentRows(), tBody);\n        this.renderContentTableHeader(table);\n    };\n    VerticalView.prototype.getContentRows = function () {\n        var _this = this;\n        var rows = [];\n        var tr = createElement('tr');\n        var td = createElement('td', { attrs: { 'aria-selected': 'false' } });\n        var existingGroupIndices = this.getGroupIndices();\n        var handler = function (r) {\n            var ntr = tr.cloneNode();\n            for (var _i = 0, _a = _this.colLevels[_this.colLevels.length - 1]; _i < _a.length; _i++) {\n                var tdData = _a[_i];\n                var isAllowTdCreation = true;\n                if (_this.parent.virtualScrollModule && _this.parent.activeViewOptions.group.resources.length > 0) {\n                    if (existingGroupIndices.indexOf(tdData.groupIndex) > -1) {\n                        isAllowTdCreation = false;\n                    }\n                }\n                if (isAllowTdCreation) {\n                    var ntd = _this.createContentTd(tdData, r, td);\n                    ntr.appendChild(ntd);\n                }\n            }\n            rows.push(ntr);\n            return r;\n        };\n        this.getTimeSlotRows(handler);\n        return rows;\n    };\n    VerticalView.prototype.createContentTd = function (tdData, r, td) {\n        var ntd = td.cloneNode();\n        if (tdData.colSpan) {\n            ntd.setAttribute('colspan', tdData.colSpan.toString());\n        }\n        var clsName = this.getContentTdClass(r);\n        var cellDate = util.resetTime(tdData.date);\n        if (!this.parent.isMinMaxDate(cellDate)) {\n            clsName.push(cls.DISABLE_DATES);\n        }\n        cellDate = new Date(cellDate.setHours(r.date.getHours(), r.date.getMinutes(), r.date.getSeconds(), r.date.getMilliseconds()));\n        var type = 'workCells';\n        if (tdData.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n            clsName.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n            type = 'resourceGroupCells';\n        }\n        if (this.parent.workHours.highlight && ((this.parent.activeViewOptions.timeScale.enable &&\n            this.isWorkHour(cellDate, tdData.startHour, tdData.endHour, tdData.workDays)) ||\n            (!this.parent.activeViewOptions.timeScale.enable && this.isWorkDay(cellDate, tdData.workDays)))) {\n            clsName.push(cls.WORK_HOURS_CLASS);\n        }\n        addClass([ntd], clsName);\n        if (this.parent.activeViewOptions.cellTemplate) {\n            var args_1 = { date: cellDate, type: type, groupIndex: tdData.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellTemplateName;\n            var templateId = scheduleId + viewName + 'cellTemplate';\n            var tooltipTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(tooltipTemplate, ntd);\n        }\n        ntd.setAttribute('data-date', cellDate.getTime().toString());\n        var skeleton = 'full';\n        if (!this.parent.activeViewOptions.timeScale.enable) {\n            var announcementText = this.parent.globalize.formatDate(tdData.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n            ntd.setAttribute('aria-label', announcementText);\n        }\n        else {\n            var startDateText = this.parent.globalize.formatDate(cellDate, {\n                type: 'dateTime', skeleton: skeleton, calendar: this.parent.getCalendarMode()\n            });\n            var endDateText = this.parent.globalize.formatDate(this.getEndDateFromStartDate(cellDate), {\n                type: 'dateTime', skeleton: skeleton, calendar: this.parent.getCalendarMode()\n            });\n            ntd.setAttribute('aria-label', startDateText + ' ' + this.parent.localeObj.getConstant('endAt') + ' ' + endDateText);\n        }\n        if (!isNullOrUndefined(tdData.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n            var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex :\n                tdData.groupIndex;\n            ntd.setAttribute('data-group-index', '' + groupIndex);\n        }\n        var args = { elementType: type, element: ntd, date: cellDate, groupIndex: tdData.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return ntd;\n    };\n    VerticalView.prototype.getContentTdClass = function (r) {\n        return r.last ? [cls.WORK_CELLS_CLASS] : [cls.WORK_CELLS_CLASS, cls.ALTERNATE_CELLS_CLASS];\n    };\n    VerticalView.prototype.renderContentTableHeader = function (table) {\n        var thead = createElement('thead');\n        thead.appendChild(this.parent.eventBase.createEventWrapper());\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            thead.appendChild(this.parent.eventBase.createEventWrapper('timeIndicator'));\n        }\n        prepend([thead], table);\n    };\n    VerticalView.prototype.getScrollableElement = function () {\n        if (this.parent.isAdaptive && !this.isTimelineView()) {\n            return this.element.querySelector('.' + cls.SCROLL_CONTAINER_CLASS);\n        }\n        else {\n            return this.getContentAreaElement();\n        }\n    };\n    VerticalView.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.TIME_CELLS_WRAP_CLASS);\n    };\n    VerticalView.prototype.getEndDateFromStartDate = function (start) {\n        var msMajorInterval = this.parent.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n        var msInterval = msMajorInterval / this.parent.activeViewOptions.timeScale.slotCount;\n        var end = new Date(start.getTime());\n        end.setMilliseconds(end.getMilliseconds() + msInterval);\n        return end;\n    };\n    VerticalView.prototype.getStartEndHours = function (startEndTime) {\n        if (!isNullOrUndefined(startEndTime) && startEndTime !== '') {\n            var startEndDate = new Date(2000, 0, 0, 0);\n            var timeString = startEndTime.split(':');\n            if (timeString.length === 2) {\n                startEndDate.setHours(parseInt(timeString[0], 10), parseInt(timeString[1], 10), 0);\n            }\n            return startEndDate;\n        }\n        return new Date(2000, 0, 0, 0);\n    };\n    VerticalView.prototype.getTimeSlotRows = function (handler) {\n        var rows = [];\n        var startHour = this.getStartEndHours(this.parent.activeViewOptions.startHour);\n        var endHour = this.getStartEndHours(this.parent.activeViewOptions.endHour);\n        var msMajorInterval = this.parent.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n        var msInterval = msMajorInterval / this.parent.activeViewOptions.timeScale.slotCount;\n        var length = Math.round(util.MS_PER_DAY / msInterval);\n        var msStartHour = startHour.getTime();\n        var msEndHour = endHour.getTime();\n        if (msStartHour !== msEndHour) {\n            var milliSeconds = (startHour.getTimezoneOffset() !== endHour.getTimezoneOffset()) ?\n                (msEndHour - msStartHour) - 3600000 : (msEndHour - msStartHour);\n            length = Math.round(milliSeconds / msInterval);\n        }\n        if (!this.parent.activeViewOptions.timeScale.enable) {\n            length = 1;\n        }\n        var start = this.parent.getStartEndTime(this.parent.workHours.start);\n        var end = this.parent.getStartEndTime(this.parent.workHours.end);\n        for (var i = 0; i < length; i++) {\n            var dt = new Date(msStartHour + (msInterval * i));\n            if (util.isDaylightSavingTime(dt) || new Date(msStartHour).getTimezoneOffset() !== dt.getTimezoneOffset()) {\n                var timeOffset = new Date(msStartHour).getTimezoneOffset() - dt.getTimezoneOffset();\n                dt = new Date(dt.getTime() - (1000 * 60 * timeOffset));\n            }\n            var majorTickDivider = i % (msMajorInterval / msInterval);\n            var row = {\n                date: new Date('' + dt),\n                startHour: start,\n                endHour: end,\n                first: (majorTickDivider === 0),\n                middle: (majorTickDivider < this.parent.activeViewOptions.timeScale.slotCount - 1),\n                last: (majorTickDivider === this.parent.activeViewOptions.timeScale.slotCount - 1),\n                type: ''\n            };\n            if (handler) {\n                handler(row);\n            }\n            rows.push(row);\n        }\n        return rows;\n    };\n    VerticalView.prototype.getAdjustedDate = function (startTime) {\n        if (!this.parent.activeViewOptions.timeScale.enable) {\n            return new Date(startTime.setHours(0, 0, 0, 0));\n        }\n        else {\n            var timeSlots = this.getTimeSlotRows();\n            var startDate = new Date(new Date(timeSlots[0].date.getTime()).\n                setHours(startTime.getHours(), startTime.getMinutes(), startTime.getMilliseconds()));\n            for (var i = 0; i < timeSlots.length; i++) {\n                if (timeSlots[parseInt(i.toString(), 10)].date.getTime() > startDate.getTime()) {\n                    startTime.setHours(timeSlots[i - 1].date.getHours(), timeSlots[i - 1].date.getMinutes(), timeSlots[i - 1].date.getMilliseconds());\n                    return new Date(startTime);\n                }\n            }\n        }\n        return null;\n    };\n    VerticalView.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.clearCurrentTimeIndicatorTimer();\n        if (this.element) {\n            if (this.appointment) {\n                this.appointment.destroy();\n                this.appointment = null;\n            }\n            var contentScrollableEle = this.getContentAreaElement();\n            if (contentScrollableEle) {\n                EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n                EventHandler.remove(contentScrollableEle, Browser.touchMoveEvent, this.onAdaptiveMove);\n            }\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            if (this.parent.scheduleTouchModule) {\n                this.parent.scheduleTouchModule.resetValues();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return VerticalView;\n}(ViewBase));\nexport { VerticalView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { VerticalView } from './vertical-view';\n/**\n * day view\n */\nvar Day = /** @class */ (function (_super) {\n    __extends(Day, _super);\n    /**\n     * Constructor for day view\n     *\n     * @param {Schedule} parent Accepts the schedule instance\n     */\n    function Day(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-day-view';\n        return _this;\n    }\n    /**\n     * Get module name.\n     *\n     * @returns {string} Returns the module name.\n     */\n    Day.prototype.getModuleName = function () {\n        return 'day';\n    };\n    return Day;\n}(VerticalView));\nexport { Day };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { VerticalView } from './vertical-view';\n/**\n * week view\n */\nvar Week = /** @class */ (function (_super) {\n    __extends(Week, _super);\n    /**\n     * Constructor for week view\n     *\n     * @param {Schedule} parent Accepts the schedule instance\n     */\n    function Week(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-week-view';\n        return _this;\n    }\n    Week.prototype.startDate = function () {\n        return this.getViewStartDate();\n    };\n    Week.prototype.endDate = function () {\n        return this.getViewEndDate();\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} Returns the module name.\n     */\n    Week.prototype.getModuleName = function () {\n        return 'week';\n    };\n    return Week;\n}(VerticalView));\nexport { Week };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { VerticalView } from './vertical-view';\n/**\n * work week view\n */\nvar WorkWeek = /** @class */ (function (_super) {\n    __extends(WorkWeek, _super);\n    /**\n     * Constructor for work week view\n     *\n     * @param {Schedule} parent Accepts the schedule instance\n     */\n    function WorkWeek(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-work-week-view';\n        return _this;\n    }\n    WorkWeek.prototype.startDate = function () {\n        return this.getViewStartDate();\n    };\n    WorkWeek.prototype.endDate = function () {\n        return this.getViewEndDate();\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} Returns the module name.\n     */\n    WorkWeek.prototype.getModuleName = function () {\n        return 'workWeek';\n    };\n    return WorkWeek;\n}(VerticalView));\nexport { WorkWeek };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, isNullOrUndefined, createElement, addClass, append, prepend, remove, extend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * month view\n */\nvar Month = /** @class */ (function (_super) {\n    __extends(Month, _super);\n    function Month(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.dayNameFormat = 'wide';\n        _this.viewClass = 'e-month-view';\n        _this.isInverseTableSelect = false;\n        _this.monthEvent = null;\n        _this.monthDates = {};\n        return _this;\n    }\n    Month.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onScrollUIUpdate, this);\n        this.parent.on(event.dataReady, this.onDataReady, this);\n        this.parent.on(event.cellClick, this.onCellClick, this);\n    };\n    Month.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onScrollUIUpdate);\n            this.parent.off(event.dataReady, this.onDataReady);\n            this.parent.off(event.cellClick, this.onCellClick);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.onDataReady = function (args) {\n        this.monthEvent = new MonthEvent(this.parent);\n        this.monthEvent.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.onCellClick = function (event) { };\n    Month.prototype.onContentScroll = function (e) {\n        this.parent.removeNewEventElement();\n        this.parent.notify(event.virtualScroll, e);\n        this.scrollTopPanel(e.target);\n        this.scrollLeftPanel(e.target);\n        this.parent.uiStateValues.top = e.target.scrollTop;\n        this.parent.uiStateValues.left = e.target.scrollLeft;\n        this.setPersistence();\n    };\n    Month.prototype.scrollLeftPanel = function (target) {\n        var leftPanel = this.getLeftPanelElement();\n        if (leftPanel) {\n            leftPanel.scrollTop = target.scrollTop;\n        }\n    };\n    Month.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS);\n    };\n    Month.prototype.onScrollUIUpdate = function (args) {\n        var headerHeight = this.getHeaderBarHeight();\n        var header = this.getDatesHeaderElement();\n        var content = this.getContentAreaElement();\n        var height = this.parent.element.offsetHeight - headerHeight - header.offsetHeight;\n        var leftPanel = this.getLeftPanelElement();\n        if (this.parent.height !== 'auto') {\n            this.setContentHeight(content, leftPanel, height);\n        }\n        var scrollBarWidth = util.getScrollBarWidth();\n        header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n        header.style[args.cssProperties.rtlPadding] = '';\n        if (content.offsetWidth - content.clientWidth > 0) {\n            header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n            header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n        }\n        else {\n            header.firstElementChild.style[args.cssProperties.border] = '';\n            header.style[args.cssProperties.padding] = '';\n        }\n        this.setColWidth(content);\n        if (args.scrollPosition || !args.isPreventScrollUpdate && this.parent.currentView === 'TimelineMonth') {\n            var top_1 = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.top : args.scrollPosition.top;\n            if (leftPanel) {\n                leftPanel.scrollTop = top_1;\n            }\n            content.scrollTop = top_1;\n            if (this.parent.uiStateValues.isInitial) {\n                this.scrollToSelectedDate();\n                this.parent.uiStateValues.isInitial = false;\n            }\n            else {\n                content.scrollLeft = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.left :\n                    args.scrollPosition.left;\n            }\n        }\n        else {\n            this.scrollToSelectedDate();\n        }\n        this.retainScrollPosition();\n    };\n    Month.prototype.scrollToSelectedDate = function () {\n        var headerCell = this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + '[data-date=\"'\n            + this.parent.selectedDate.getTime().toString() + '\"]');\n        var content = this.getContentAreaElement();\n        if (!isNullOrUndefined(headerCell)) {\n            content.scrollLeft = !this.parent.enableRtl ?\n                headerCell.offsetLeft : -(this.parent.getContentTable().offsetWidth - headerCell.offsetLeft - headerCell.offsetWidth);\n        }\n        else {\n            content.scrollLeft = 0;\n        }\n        if (content.scrollLeft === 0 && this.parent.uiStateValues.isInitial) {\n            this.parent.uiStateValues.left = 0;\n        }\n    };\n    Month.prototype.setContentHeight = function (content, leftPanelElement, height) {\n        content.style.height = 'auto';\n        if (this.parent.currentView === 'Month') {\n            content.style.height = formatUnit(height);\n        }\n        if (leftPanelElement) {\n            if (this.parent.currentView === 'MonthAgenda') {\n                height = (this.parent.activeViewOptions.interval > 1) ?\n                    this.getContentAreaElement().firstElementChild.offsetHeight :\n                    this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight;\n            }\n            leftPanelElement.style.height = 'auto';\n            leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n        }\n    };\n    Month.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            colLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.currentView === 'MonthAgenda') {\n                colLevels = [level];\n            }\n            if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                var levels_1 = this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays);\n                if (this.parent.activeViewOptions.group.byDate && this.parent.activeViewOptions.group.hideNonWorkingDays) {\n                    var index = levels_1.findIndex(function (x, index) {\n                        return index !== 0 && x.date.getDay() === levels_1[0].date.getDay();\n                    });\n                    levels_1 = index > -1 ? levels_1.slice(0, index) : levels_1;\n                }\n                colLevels = [levels_1];\n            }\n        }\n        else {\n            colLevels.push(level);\n        }\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    Month.prototype.getDateSlots = function (renderDates, workDays) {\n        var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : workDays.length;\n        var dateSlots = [];\n        var isCurrentMonth = this.isCurrentMonth(this.parent.selectedDate);\n        for (var col = 0; col < count; col++) {\n            var classList = [cls.HEADER_CELLS_CLASS];\n            var currentDateIndex = renderDates.slice(0, count).map(function (date) { return date.getDay(); });\n            if (isCurrentMonth && currentDateIndex.indexOf(this.parent.currentTimezoneDate.getDay()) === col) {\n                classList.push(cls.CURRENT_DAY_CLASS);\n            }\n            dateSlots.push({ date: renderDates[parseInt(col.toString(), 10)], type: 'monthDay', className: classList, colSpan: 1, workDays: workDays });\n        }\n        return dateSlots;\n    };\n    Month.prototype.getDayNameFormat = function () {\n        if (this.parent.isAdaptive || this.parent.activeViewOptions.group.resources.length > 0) {\n            return 'abbreviated';\n        }\n        return 'wide';\n    };\n    Month.prototype.renderLayout = function (type) {\n        this.dayNameFormat = this.getDayNameFormat();\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var clsList = [this.viewClass];\n        clsList.push(type);\n        if (this.parent.activeViewOptions.group.byDate) {\n            clsList.push('e-by-date');\n            if (this.parent.currentView !== 'Month') {\n                this.parent.activeViewOptions.group.hideNonWorkingDays = false;\n            }\n        }\n        if (this.parent.activeViewOptions.allowVirtualScrolling && !this.parent.uiStateValues.isGroupAdaptive) {\n            clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n        }\n        if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n            clsList.push(cls.IGNORE_WHITESPACE);\n        }\n        addClass([this.element], clsList);\n        this.renderPanel(type);\n        this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        this.colLevels = this.generateColumnLevels();\n        this.renderHeader();\n        this.renderContent();\n        var target = (this.parent.currentView === 'MonthAgenda') ? this.parent.activeView.getPanel() : this.parent.element;\n        if (this.parent.uiStateValues.isGroupAdaptive && !target.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n            this.renderResourceMobileLayout();\n        }\n        this.parent.notify(event.contentReady, {});\n        if (this.parent.uiStateValues.isCustomMonth) {\n            this.parent.uiStateValues.isCustomMonth = false;\n        }\n    };\n    Month.prototype.refreshHeader = function () {\n        remove(this.element.querySelector('tbody tr'));\n        this.renderHeader();\n        this.parent.notify(event.contentReady, {});\n        var dateHeader = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (dateHeader) {\n            dateHeader.scrollLeft = this.parent.uiStateValues.left;\n        }\n        if (contentWrapper) {\n            contentWrapper.scrollLeft = this.parent.uiStateValues.left;\n        }\n    };\n    Month.prototype.wireCellEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    Month.prototype.renderHeader = function () {\n        var tr = createElement('tr');\n        this.renderLeftIndent(tr);\n        var dateTd = createElement('td');\n        dateTd.appendChild(this.renderDatesHeader());\n        tr.appendChild(dateTd);\n        prepend([tr], this.element.querySelector('tbody'));\n    };\n    Month.prototype.renderLeftIndent = function (tr) {\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(createElement('td', { className: 'e-left-indent' }));\n        }\n    };\n    Month.prototype.renderContent = function () {\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.parent.resourceBase.renderedResources = extend([], this.parent.resourceBase.lastResourceLevel, null, true);\n        }\n        var tr = createElement('tr');\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(this.renderWeekNumberContent());\n        }\n        var workTd = createElement('td');\n        var levels = this.colLevels.slice(0);\n        if (this.parent.virtualScrollModule) {\n            this.resetColLevels();\n        }\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        var contentArea = this.renderContentArea();\n        if (this.parent.currentView === 'Month') {\n            wrap.appendChild(contentArea);\n        }\n        else {\n            var monthAgendaWrapper = createElement('div', { className: cls.TABLE_CONTAINER_CLASS });\n            monthAgendaWrapper.appendChild(contentArea);\n            wrap.appendChild(monthAgendaWrapper);\n        }\n        EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n        workTd.appendChild(wrap);\n        tr.appendChild(workTd);\n        if (this.parent.virtualScrollModule) {\n            this.colLevels = levels;\n            this.parent.virtualScrollModule.renderVirtualTrack(wrap);\n        }\n        this.element.querySelector('tbody').appendChild(tr);\n        this.renderAppointmentContainer();\n    };\n    Month.prototype.renderWeekNumberContent = function () {\n        var dateCol = this.renderDates.map(function (date) { return new Date(+date); });\n        var td = createElement('td');\n        var contentWrapper = createElement('div', { className: cls.WEEK_NUMBER_WRAPPER_CLASS });\n        td.appendChild(contentWrapper);\n        var contentWrapTable = this.createTableLayout();\n        contentWrapper.appendChild(contentWrapTable);\n        var noOfDays = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH :\n            this.parent.activeViewOptions.workDays.length;\n        for (var i = 0, length_1 = (this.renderDates.length / noOfDays); i < length_1; i++) {\n            var dates = dateCol.splice(0, noOfDays);\n            var weekNumber = this.parent.getWeekNumberContent(dates);\n            contentWrapTable.querySelector('tbody').appendChild(this.createWeekNumberElement(weekNumber));\n        }\n        return td;\n    };\n    Month.prototype.renderAppointmentContainer = function () {\n        //Here needs to render mobile view appointment details on selected date\n    };\n    Month.prototype.renderDatesHeader = function () {\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        var wrap = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n        container.appendChild(wrap);\n        var table = this.createTableLayout();\n        if (this.parent.currentView === 'Month') {\n            var thead = createElement('thead');\n            thead.appendChild(createElement('tr'));\n            prepend([thead], table);\n        }\n        this.createColGroup(table, this.colLevels[this.colLevels.length - 1]);\n        var trEle = createElement('tr');\n        for (var i = 0; i < this.colLevels.length; i++) {\n            var level = this.colLevels[parseInt(i.toString(), 10)];\n            var ntr = trEle.cloneNode();\n            for (var j = 0; j < level.length; j++) {\n                var td = level[parseInt(j.toString(), 10)];\n                ntr.appendChild(this.createHeaderCell(td));\n            }\n            table.querySelector('tbody').appendChild(ntr);\n        }\n        wrap.appendChild(table);\n        return container;\n    };\n    Month.prototype.createHeaderCell = function (td) {\n        var tdEle = createElement('td');\n        this.addAttributes(td, tdEle);\n        if (td.type === 'monthDay') {\n            var ele = createElement('span', { innerHTML: util.capitalizeFirstWord(this.parent.getDayNames(this.dayNameFormat)[td.date.getDay()], 'single') });\n            tdEle.appendChild(ele);\n        }\n        if (td.type === 'resourceHeader') {\n            this.setResourceHeaderContent(tdEle, td);\n        }\n        if (td.type === 'dateHeader') {\n            addClass([tdEle], cls.DATE_HEADER_CLASS);\n            tdEle.setAttribute('data-date', td.date.getTime().toString());\n            if (this.parent.activeViewOptions.dateHeaderTemplate) {\n                var cellArgs = { date: td.date, type: td.type };\n                var elementId = this.parent.element.id + '_';\n                var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n                var templateId = elementId + viewName + 'dateHeaderTemplate';\n                var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(cellArgs, this.parent, 'dateHeaderTemplate', templateId, false, undefined, undefined, this.parent.root));\n                if (dateTemplate && dateTemplate.length) {\n                    append(dateTemplate, tdEle);\n                }\n            }\n            else {\n                var ele = createElement('span', { className: cls.NAVIGATE_CLASS });\n                var skeleton = 'full';\n                var title = this.parent.globalize.formatDate(td.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n                ele.setAttribute('title', util.capitalizeFirstWord(title, 'multiple'));\n                var innerText = (this.parent.calendarUtil.isMonthStart(td.date) && !this.isCurrentDate(td.date) && !this.parent.isAdaptive) ?\n                    this.parent.globalize.formatDate(td.date, { format: 'MMM d', calendar: this.parent.getCalendarMode() }) :\n                    this.parent.globalize.formatDate(td.date, { skeleton: 'd', calendar: this.parent.getCalendarMode() });\n                ele.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n                tdEle.appendChild(ele);\n            }\n            this.wireCellEvents(tdEle);\n        }\n        var args = { elementType: td.type, element: tdEle, date: td.date, groupIndex: td.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return tdEle;\n    };\n    Month.prototype.getContentSlots = function () {\n        if (!(this.colLevels[this.colLevels.length - 1] && this.colLevels[this.colLevels.length - 1][0])) {\n            return [];\n        }\n        var slotDatas = [];\n        var prepareSlots = function (rowIndex, renderDate, resData, classList) {\n            var data = {\n                date: new Date(+renderDate), groupIndex: resData.groupIndex, workDays: resData.workDays,\n                type: 'monthCells', className: classList || [cls.WORK_CELLS_CLASS]\n            };\n            if (!slotDatas[parseInt(rowIndex.toString(), 10)]) {\n                slotDatas[parseInt(rowIndex.toString(), 10)] = [];\n            }\n            slotDatas[parseInt(rowIndex.toString(), 10)].push(data);\n        };\n        var includeResource = this.parent.currentView !== 'MonthAgenda' &&\n            this.parent.activeViewOptions.group.resources.length > 0;\n        if (includeResource && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeViewOptions.group.byDate) {\n            for (var _i = 0, _a = this.colLevels[this.colLevels.length - 2]; _i < _a.length; _i++) {\n                var res = _a[_i];\n                var dates = res.renderDates.map(function (date) { return new Date(+date); });\n                var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : res.workDays.length;\n                for (var i = 0; i < (res.renderDates.length / count); i++) {\n                    var colDates = dates.splice(0, count);\n                    for (var _b = 0, colDates_1 = colDates; _b < colDates_1.length; _b++) {\n                        var colDate = colDates_1[_b];\n                        prepareSlots(i, colDate, res);\n                    }\n                }\n            }\n        }\n        else {\n            var dates = this.renderDates.map(function (date) { return new Date(+date); });\n            var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH :\n                this.parent.activeViewOptions.workDays.length;\n            var level = this.colLevels.slice(0, 1)[0];\n            var startIndex = this.renderDates.map(Number).indexOf(+level[0].date);\n            for (var i = 0; i < (this.renderDates.length / count); i++) {\n                var colDates = dates.splice(0, count);\n                var k = startIndex;\n                var _loop_1 = function (j) {\n                    var colDate = colDates[parseInt(k.toString(), 10)];\n                    k++;\n                    if (includeResource) {\n                        var lastRow = this_1.colLevels[(this_1.colLevels.length - 1)];\n                        var rowCount = lastRow.length / count;\n                        var resourcesTd = lastRow.slice(0, rowCount);\n                        if (this_1.parent.activeViewOptions.group.hideNonWorkingDays) {\n                            resourcesTd = lastRow.filter(function (x) { return x.date.getDay() === colDate.getDay(); });\n                            if (resourcesTd.length === 0) {\n                                j = j - 1;\n                                return out_j_1 = j, \"continue\";\n                            }\n                        }\n                        for (var resIndex = 0; resIndex < resourcesTd.length; resIndex++) {\n                            var clsList = void 0;\n                            if (resIndex !== 0) {\n                                clsList = [cls.WORK_CELLS_CLASS, cls.DISABLE_DATE];\n                            }\n                            prepareSlots(i, colDate, resourcesTd[parseInt(resIndex.toString(), 10)], clsList);\n                        }\n                    }\n                    else {\n                        prepareSlots(i, colDate, this_1.colLevels[this_1.colLevels.length - 1][0]);\n                    }\n                    out_j_1 = j;\n                };\n                var this_1 = this, out_j_1;\n                for (var j = startIndex; j < (this.colLevels[0].length + startIndex) && j < colDates.length; j++) {\n                    _loop_1(j);\n                    j = out_j_1;\n                }\n            }\n        }\n        return slotDatas;\n    };\n    Month.prototype.updateClassList = function (data) {\n        if (!this.isCustomMonth() && this.isOtherMonth(data.date)) {\n            data.className.push(cls.OTHERMONTH_CLASS);\n        }\n        if (!this.parent.isMinMaxDate(data.date)) {\n            data.className.push(cls.DISABLE_DATES);\n        }\n        this.updateSelectedCellClass(data);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.updateSelectedCellClass = function (data) {\n        return;\n    };\n    Month.prototype.isOtherMonth = function (date) {\n        return date.getTime() < this.monthDates.start.getTime() || date.getTime() > this.monthDates.end.getTime();\n    };\n    Month.prototype.renderContentArea = function () {\n        var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.setAriaAttributes(tbl);\n        this.addAutoHeightClass(tbl);\n        if (this.parent.currentView === 'TimelineMonth') {\n            this.createColGroup(tbl, this.colLevels[this.colLevels.length - 1]);\n        }\n        var monthDate = new Date(this.parent.selectedDate.getTime());\n        this.monthDates = {\n            start: this.parent.calendarUtil.firstDateOfMonth(monthDate),\n            end: this.parent.calendarUtil.lastDateOfMonth(util.addMonths(monthDate, this.parent.activeViewOptions.interval - 1))\n        };\n        var tBody = tbl.querySelector('tbody');\n        append(this.getContentRows(), tBody);\n        this.wireCellEvents(tBody);\n        return tbl;\n    };\n    Month.prototype.getContentRows = function () {\n        var trows = [];\n        var tr = createElement('tr');\n        var td = createElement('td', { attrs: { 'aria-selected': 'false' } });\n        var slotDatas = this.getContentSlots();\n        var isTimeline = this.parent.currentView === 'TimelineMonth';\n        var existingGroupIndices = isTimeline ? this.getGroupIndices() : [];\n        for (var row = 0; row < slotDatas.length; row++) {\n            if (existingGroupIndices.length > 0 &&\n                existingGroupIndices.indexOf(slotDatas[parseInt(row.toString(), 10)][0].groupIndex) > -1) {\n                continue;\n            }\n            var ntr = tr.cloneNode();\n            for (var col = 0; col < slotDatas[parseInt(row.toString(), 10)].length; col++) {\n                var ntd = this.createContentTd(slotDatas[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)], td);\n                ntr.appendChild(ntd);\n            }\n            trows.push(ntr);\n        }\n        return trows;\n    };\n    Month.prototype.createContentTd = function (data, td) {\n        var ntd = td.cloneNode();\n        if (data.colSpan) {\n            ntd.setAttribute('colspan', data.colSpan.toString());\n        }\n        this.updateClassList(data);\n        var type = data.type;\n        if (data.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n            data.className.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n            type = 'resourceGroupCells';\n        }\n        if (this.parent.workHours.highlight && this.isWorkDay(data.date, data.workDays)) {\n            data.className.push(cls.WORKDAY_CLASS);\n        }\n        if (this.isCurrentDate(data.date)) {\n            data.className.push(cls.CURRENTDATE_CLASS);\n        }\n        addClass([ntd], data.className);\n        ntd.setAttribute('data-date', data.date.getTime().toString());\n        if (!isNullOrUndefined(data.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n            var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex :\n                data.groupIndex;\n            ntd.setAttribute('data-group-index', '' + groupIndex);\n        }\n        this.renderDateHeaderElement(data, ntd);\n        if (this.parent.activeViewOptions.cellTemplate) {\n            var args_1 = { date: data.date, type: type, groupIndex: data.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellTemplateName;\n            var templateId = scheduleId + viewName + 'cellTemplate';\n            var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(cellTemplate, ntd);\n        }\n        var args = { elementType: type, element: ntd, date: data.date, groupIndex: data.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return ntd;\n    };\n    Month.prototype.renderDateHeaderElement = function (data, ntd) {\n        if (this.parent.currentView === 'TimelineMonth') {\n            return;\n        }\n        var dateHeader = createElement('div', { className: cls.DATE_HEADER_CLASS });\n        if (this.parent.activeViewOptions.cellHeaderTemplate) {\n            var args = { date: data.date, type: data.type, groupIndex: data.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellHeaderTemplateName;\n            var templateId = scheduleId + viewName + 'cellHeaderTemplate';\n            var cellHeaderTemplate = [].slice.call(this.parent.getCellHeaderTemplate()(args, this.parent, 'cellHeaderTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(cellHeaderTemplate, dateHeader);\n        }\n        else {\n            var innerText = (this.parent.calendarUtil.isMonthStart(data.date) && !this.isCurrentDate(data.date) && !this.parent.isAdaptive) ?\n                this.parent.globalize.formatDate(data.date, { format: 'MMM d', calendar: this.parent.getCalendarMode() }) :\n                this.parent.globalize.formatDate(data.date, { skeleton: 'd', calendar: this.parent.getCalendarMode() });\n            dateHeader.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n        }\n        ntd.appendChild(dateHeader);\n        if (this.getModuleName() === 'month') {\n            addClass([dateHeader], cls.NAVIGATE_CLASS);\n            var skeleton = 'full';\n            var announcementText = this.parent.globalize.formatDate(data.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n            ntd.setAttribute('aria-label', announcementText);\n        }\n    };\n    Month.prototype.getMonthStart = function (currentDate) {\n        var useDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && (this.parent.uiStateValues.isCustomMonth || this.isCustomRange());\n        var date = useDisplayDate ? this.parent.activeViewOptions.displayDate : !(this.parent.uiStateValues.isCustomMonth ||\n            this.isCustomRange()) && this.isCustomMonth() ? currentDate : this.parent.calendarUtil.firstDateOfMonth(currentDate);\n        var monthStart = util.getWeekFirstDate(date, this.parent.activeViewOptions.firstDayOfWeek);\n        return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n    };\n    Month.prototype.getMonthEnd = function (currentDate) {\n        if (this.isCustomMonth()) {\n            var start = this.getMonthStart(currentDate);\n            var numberOfDays = util.WEEK_LENGTH * (this.parent.activeViewOptions.numberOfWeeks > 0 ?\n                this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS);\n            return util.addDays(start, (numberOfDays - 1));\n        }\n        else {\n            var endDate = util.addMonths(currentDate, this.parent.activeViewOptions.interval - 1);\n            var lastWeekOfMonth = util.getWeekFirstDate(this.parent.calendarUtil.lastDateOfMonth(endDate), this.parent.activeViewOptions.firstDayOfWeek);\n            return util.addDays(lastWeekOfMonth, util.WEEK_LENGTH - 1);\n        }\n    };\n    Month.prototype.isCustomRange = function () {\n        var dates = this.parent.getCurrentViewDates();\n        if (dates && dates.length > 0) {\n            var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n            var weekFirstDate = util.getWeekFirstDate(dates[dates.length - 1], this.parent.activeViewOptions.firstDayOfWeek);\n            return !(selectedTime >= util.getWeekFirstDate(dates[0], this.parent.activeViewOptions.firstDayOfWeek).getTime() &&\n                selectedTime <= util.addDays(weekFirstDate, 6).getTime());\n        }\n        return false;\n    };\n    Month.prototype.getRenderDates = function (workDays) {\n        var renderDates = [];\n        var currentDate = util.resetTime(this.parent.selectedDate);\n        var start = this.getMonthStart(currentDate);\n        var monthEnd = this.getMonthEnd(currentDate);\n        do {\n            if (this.parent.activeViewOptions.showWeekend) {\n                renderDates.push(start);\n            }\n            else {\n                if (this.isWorkDay(start, workDays)) {\n                    renderDates.push(start);\n                }\n            }\n            start = util.addDays(start, 1);\n            if (start.getHours() > 0) {\n                start = util.resetTime(start);\n            }\n        } while (start.getTime() <= monthEnd.getTime());\n        if (!workDays) {\n            this.renderDates = renderDates;\n        }\n        if (this.parent.headerModule) {\n            this.parent.headerModule.previousNextIconHandler();\n        }\n        return renderDates;\n    };\n    Month.prototype.getNextPreviousDate = function (type) {\n        if (this.isCustomMonth()) {\n            var dates = this.parent.getCurrentViewDates();\n            var date = util.getWeekFirstDate(type === 'next' ? dates[dates.length - 1]\n                : dates[0], this.parent.activeViewOptions.firstDayOfWeek);\n            return util.addDays(date, type === 'next' ? util.WEEK_LENGTH : -(this.parent.activeViewOptions.numberOfWeeks > 0 ?\n                this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS) * util.WEEK_LENGTH);\n        }\n        else {\n            return util.addMonths(this.parent.selectedDate, ((type === 'next' ? 1 : -1) * this.parent.activeViewOptions.interval));\n        }\n    };\n    Month.prototype.getStartDate = function () {\n        return this.getMonthStart(this.parent.selectedDate);\n    };\n    Month.prototype.getEndDate = function () {\n        return this.getMonthEnd(this.parent.selectedDate);\n    };\n    Month.prototype.getEndDateFromStartDate = function (start) {\n        return util.addDays(new Date(start.getTime()), 1);\n    };\n    Month.prototype.getDateRangeText = function () {\n        if (this.parent.isAdaptive || isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n            var startDate = this.parent.selectedDate;\n            var endDate = void 0;\n            var updateCustomRange = false;\n            if (this.isCustomMonth()) {\n                var dates = this.parent.getCurrentViewDates();\n                updateCustomRange = dates[0].getMonth() !== dates[dates.length - 1].getMonth() ||\n                    dates[0].getFullYear() !== dates[dates.length - 1].getFullYear();\n                if (updateCustomRange) {\n                    startDate = dates[0];\n                    endDate = dates[dates.length - 1];\n                }\n            }\n            var isUpdateDateRange = (this.parent.currentView !== 'Month' || !this.isCustomMonth());\n            if (this.parent.activeViewOptions.interval > 1 && isUpdateDateRange || updateCustomRange) {\n                endDate = endDate ? endDate : util.addMonths(util.lastDateOfMonth(startDate), this.parent.activeViewOptions.interval - 1);\n                if (startDate.getFullYear() === endDate.getFullYear()) {\n                    var monthNames = (this.parent.globalize.formatDate(startDate, { format: 'MMMM', calendar: this.parent.getCalendarMode() })) + ' - ' +\n                        (this.parent.globalize.formatDate(endDate, { format: 'MMMM ', calendar: this.parent.getCalendarMode() })) +\n                        this.parent.globalize.formatDate(endDate, { skeleton: 'y', calendar: this.parent.getCalendarMode() });\n                    return util.capitalizeFirstWord(monthNames, 'single');\n                }\n                var text = (this.parent.globalize.formatDate(startDate, { format: 'MMMM', calendar: this.parent.getCalendarMode() })) + ' ' +\n                    startDate.getFullYear() + ' - ' +\n                    this.parent.globalize.formatDate(endDate, { format: 'MMMM ', calendar: this.parent.getCalendarMode() }) +\n                    this.parent.globalize.formatDate(endDate, { skeleton: 'y', calendar: this.parent.getCalendarMode() });\n                return util.capitalizeFirstWord(text, 'single');\n            }\n            var format = (this.parent.activeViewOptions.dateFormat) ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n            return util.capitalizeFirstWord(this.parent.globalize.formatDate(startDate, { format: format, calendar: this.parent.getCalendarMode() }), 'single');\n        }\n        return this.formatDateRange(this.parent.selectedDate);\n    };\n    Month.prototype.getLabelText = function (view) {\n        var viewStr = view.charAt(0).toLowerCase() + view.substring(1);\n        return this.formatViewLabel(viewStr, this.getStartDate(), this.getEndDate());\n    };\n    Month.prototype.createWeekNumberElement = function (text) {\n        var tr = createElement('tr');\n        var td = createElement('td', {\n            className: cls.WEEK_NUMBER_CLASS,\n            attrs: { 'title': (text ? this.parent.localeObj.getConstant('week') + ' ' + text : '') },\n            innerHTML: (text || '')\n        });\n        tr.appendChild(td);\n        var args = { elementType: 'weekNumberCell', element: td };\n        this.parent.trigger(event.renderCell, args);\n        return tr;\n    };\n    Month.prototype.unWireEvents = function () {\n        var contentScrollableEle = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (contentScrollableEle) {\n            EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n        }\n    };\n    Month.prototype.isCustomMonth = function () {\n        return this.parent.currentView === 'Month' &&\n            (!isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0);\n    };\n    Month.prototype.getModuleName = function () {\n        return 'month';\n    };\n    Month.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            if (this.monthEvent) {\n                this.monthEvent.destroy();\n                this.monthEvent = null;\n            }\n            this.unWireEvents();\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            if (this.parent.scheduleTouchModule) {\n                this.parent.scheduleTouchModule.resetValues();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Month;\n}(ViewBase));\nexport { Month };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, createElement, addClass, closest, prepend, append, extend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { YearEvent } from '../event-renderer/year';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * year view\n */\nvar Year = /** @class */ (function (_super) {\n    __extends(Year, _super);\n    function Year(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-year-view';\n        _this.isInverseTableSelect = false;\n        _this.yearEventModule = null;\n        return _this;\n    }\n    Year.prototype.getModuleName = function () {\n        return 'year';\n    };\n    Year.prototype.renderLayout = function (className) {\n        if (this.parent.resourceBase) {\n            this.parent.resourceBase.generateResourceLevels([{ renderDates: this.parent.activeView.renderDates }]);\n        }\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var viewTypeClass = this.parent.activeViewOptions.orientation === 'Horizontal' ? 'e-horizontal' : 'e-vertical';\n        addClass([this.element], [this.viewClass, viewTypeClass, className]);\n        this.renderPanel(className);\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            addClass([this.element], [cls.VIRTUAL_SCROLL_CLASS]);\n        }\n        var calendarTable = this.createTableLayout(cls.OUTER_TABLE_CLASS);\n        this.element.appendChild(calendarTable);\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        var calendarTBody = calendarTable.querySelector('tbody');\n        this.rowCount = this.getRowColumnCount('row');\n        this.columnCount = this.getRowColumnCount('column');\n        this.renderHeader(calendarTBody);\n        this.renderContent(calendarTBody);\n        if (this.parent.currentView !== 'Year' && this.parent.uiStateValues.isGroupAdaptive) {\n            this.generateColumnLevels();\n            this.renderResourceMobileLayout();\n        }\n        EventHandler.add(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), 'scroll', this.onContentScroll, this);\n        this.parent.notify(event.contentReady, {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Year.prototype.renderHeader = function (headerWrapper) { };\n    Year.prototype.renderContent = function (content) {\n        var tr = createElement('tr');\n        content.appendChild(tr);\n        var td = createElement('td');\n        tr.appendChild(td);\n        this.element.querySelector('tbody').appendChild(tr);\n        var contentWrapper = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        td.appendChild(contentWrapper);\n        var calendarTable = this.createTableLayout('e-calendar-table');\n        contentWrapper.appendChild(calendarTable);\n        var cTr = createElement('tr');\n        calendarTable.querySelector('tbody').appendChild(cTr);\n        var cTd = createElement('td');\n        cTr.appendChild(cTd);\n        var calendarWrapper = createElement('div', { className: 'e-calendar-wrapper' });\n        cTd.appendChild(calendarWrapper);\n        var months = this.getMonths();\n        for (var _i = 0, months_1 = months; _i < months_1.length; _i++) {\n            var month = months_1[_i];\n            var currentMonth = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n            var calendarElement = createElement('div', {\n                className: 'e-month-calendar e-calendar',\n                attrs: { 'data-role': 'calendar' }\n            });\n            calendarElement.appendChild(this.renderCalendarHeader(currentMonth));\n            calendarElement.appendChild(this.renderCalendarContent(currentMonth));\n            calendarWrapper.appendChild(calendarElement);\n        }\n        this.renderDates.splice(0, 1);\n    };\n    Year.prototype.renderCalendarHeader = function (currentDate) {\n        var headerWrapper = createElement('div', { className: 'e-header e-month' });\n        var headerContent = createElement('div', { className: 'e-day e-title' });\n        if (this.parent.activeViewOptions.monthHeaderTemplate) {\n            var args = { date: currentDate, type: 'monthHeader' };\n            this.renderTemplates(this.parent.getMonthHeaderTemplate(), args, 'monthHeaderTemplate', this.parent.activeViewOptions.monthHeaderTemplateName, headerContent);\n        }\n        else {\n            headerContent.innerHTML = this.getMonthName(currentDate);\n        }\n        headerWrapper.appendChild(headerContent);\n        this.parent.trigger(event.renderCell, { elementType: 'headerCells', element: headerContent, date: currentDate });\n        return headerWrapper;\n    };\n    Year.prototype.renderCalendarContent = function (currentDate) {\n        var dateCollection = this.getMonthDates(currentDate);\n        var contentWrapper = createElement('div', { className: 'e-content e-month' });\n        var contentTable = this.createTableLayout('e-calendar-table ' + cls.CONTENT_TABLE_CLASS);\n        contentWrapper.appendChild(contentTable);\n        this.setAriaAttributes(contentTable);\n        var thead = createElement('thead', { className: 'e-week-header' });\n        var tr = createElement('tr');\n        var currentWeek = util.getWeekFirstDate(util.firstDateOfMonth(currentDate), this.parent.activeViewOptions.firstDayOfWeek);\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(createElement('th'));\n        }\n        for (var i = 0; i < util.WEEK_LENGTH; i++) {\n            if (this.parent.activeViewOptions.dayHeaderTemplate) {\n                var th = createElement('th');\n                var args = { date: currentWeek, type: 'dayHeader' };\n                this.renderTemplates(this.parent.getDayHeaderTemplate(), args, 'dayHeaderTemplate', this.parent.activeViewOptions.dayHeaderTemplateName, th);\n                tr.appendChild(th);\n            }\n            else {\n                tr.appendChild(createElement('th', { innerHTML: this.parent.getDayNames('narrow')[currentWeek.getDay()] }));\n            }\n            var nextDay = new Date(currentWeek.getTime() + util.MS_PER_DAY);\n            currentWeek = nextDay.getDate() === currentWeek.getDate() ? util.addDays(nextDay, 1) : nextDay;\n        }\n        thead.appendChild(tr);\n        prepend([thead], contentTable);\n        var tbody = contentTable.querySelector('tbody');\n        while (dateCollection.length > 0) {\n            var weekDates = dateCollection.splice(0, util.WEEK_LENGTH);\n            var tr_1 = createElement('tr');\n            if (this.parent.activeViewOptions.showWeekNumber) {\n                var weekNumber = this.parent.getWeekNumberContent(weekDates);\n                var td = createElement('td', {\n                    className: 'e-week-number',\n                    attrs: { 'title': this.parent.localeObj.getConstant('week') + ' ' + weekNumber },\n                    innerHTML: weekNumber\n                });\n                tr_1.appendChild(td);\n                this.parent.trigger(event.renderCell, { elementType: 'weekNumberCells', element: td });\n            }\n            for (var _i = 0, weekDates_1 = weekDates; _i < weekDates_1.length; _i++) {\n                var date = weekDates_1[_i];\n                var td = createElement('td', {\n                    className: 'e-cell ' + cls.WORK_CELLS_CLASS,\n                    attrs: { 'data-date': date.getTime().toString() }\n                });\n                if (this.parent.activeViewOptions.cellHeaderTemplate) {\n                    var args = { date: date, type: 'monthCells' };\n                    this.renderTemplates(this.parent.getCellHeaderTemplate(), args, 'cellHeaderTemplate', this.parent.activeViewOptions.cellHeaderTemplateName, td);\n                }\n                else {\n                    var span = createElement('span', {\n                        className: 'e-day', innerHTML: this.parent.globalize.formatDate(date, { skeleton: 'd', calendar: this.parent.getCalendarMode() }),\n                        attrs: { title: this.parent.globalize.formatDate(date, { type: 'date', skeleton: 'full' }) }\n                    });\n                    td.appendChild(span);\n                }\n                if (this.parent.activeViewOptions.cellTemplate) {\n                    var args = { date: date, type: 'monthCells' };\n                    this.renderTemplates(this.parent.getCellTemplate(), args, 'cellTemplate', this.parent.activeViewOptions.cellTemplateName, td);\n                }\n                var classList = [];\n                if (currentDate.getMonth() !== date.getMonth()) {\n                    classList.push(cls.OTHERMONTH_CLASS);\n                    if (td.firstElementChild && !this.parent.activeViewOptions.cellTemplate) {\n                        td.firstElementChild.setAttribute('aria-disabled', 'true');\n                    }\n                }\n                if (this.isCurrentDate(date) && currentDate.getMonth() === date.getMonth()) {\n                    classList = classList.concat(['e-today', 'e-selected']);\n                }\n                if (classList.length > 0) {\n                    addClass([td], classList);\n                }\n                tr_1.appendChild(td);\n                if (currentDate.getMonth() === date.getMonth()) {\n                    this.renderDates.push(new Date(date));\n                }\n                if (!this.parent.isMinMaxDate(date)) {\n                    addClass([td], cls.DISABLE_DATES);\n                }\n                else {\n                    EventHandler.add(td, 'click', this.onCellClick, this);\n                    if (!this.parent.isAdaptive) {\n                        EventHandler.add(td, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n                    }\n                }\n                this.parent.trigger(event.renderCell, { elementType: 'workCells', element: td, date: date });\n            }\n            tbody.appendChild(tr_1);\n        }\n        return contentWrapper;\n    };\n    Year.prototype.createTableColGroup = function (count) {\n        var colGroupEle = createElement('colgroup');\n        for (var i = 0; i < count; i++) {\n            colGroupEle.appendChild(createElement('col'));\n        }\n        return colGroupEle;\n    };\n    Year.prototype.getMonthName = function (date) {\n        var month = this.parent.globalize.formatDate(date, {\n            format: this.parent.activeViewOptions.dateFormat || 'MMMM y',\n            calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(month, 'multiple');\n    };\n    Year.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots([this.parent.selectedDate], this.parent.activeViewOptions.workDays);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            colLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.uiStateValues.isGroupAdaptive) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                colLevels = [this.getDateSlots([this.parent.selectedDate], resourceLevel.workDays)];\n            }\n        }\n        else {\n            colLevels.push(level);\n        }\n        colLevels.pop();\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    // eslint-disable-next-line max-len\n    Year.prototype.getDateSlots = function (renderDates, workDays, startHour, endHour) {\n        if (startHour === void 0) { startHour = this.parent.workHours.start; }\n        if (endHour === void 0) { endHour = this.parent.workHours.end; }\n        var dateCol = [{\n                date: renderDates[0], type: 'dateHeader', className: [cls.HEADER_CELLS_CLASS], colSpan: 1, workDays: workDays,\n                startHour: new Date(+this.parent.globalize.parseDate(startHour, { skeleton: 'Hm' })),\n                endHour: new Date(+this.parent.globalize.parseDate(endHour, { skeleton: 'Hm' }))\n            }];\n        return dateCol;\n    };\n    Year.prototype.getMonthDates = function (date) {\n        var startDate = util.getWeekFirstDate(util.firstDateOfMonth(date), this.parent.activeViewOptions.firstDayOfWeek);\n        var endDate = util.addDays(new Date(+startDate), (6 * util.WEEK_LENGTH));\n        var dateCollection = [];\n        for (var start = startDate; start.getTime() < endDate.getTime(); start = util.addDays(start, 1)) {\n            dateCollection.push(util.resetTime(new Date(start)));\n        }\n        return dateCollection;\n    };\n    Year.prototype.getRowColumnCount = function (type) {\n        var months = this.getMonths();\n        var year = this.parent.selectedDate.getFullYear();\n        var monthDaysCount = [];\n        for (var _i = 0, months_2 = months; _i < months_2.length; _i++) {\n            var month = months_2[_i];\n            monthDaysCount.push(new Date(year, month, 1).getDay() + new Date(year, month + 1, 0).getDate());\n        }\n        var maxCount = Math.max.apply(Math, monthDaysCount);\n        var count;\n        if (type === 'row') {\n            count = this.parent.activeViewOptions.orientation === 'Horizontal' ? months.length : maxCount;\n        }\n        else {\n            count = this.parent.activeViewOptions.orientation === 'Horizontal' ? maxCount : months.length;\n        }\n        return count;\n    };\n    Year.prototype.isCurrentDate = function (date) {\n        return util.resetTime(new Date()).getTime() === util.resetTime(new Date(date.getTime())).getTime();\n    };\n    Year.prototype.getMonths = function () {\n        var _this = this;\n        // eslint-disable-next-line prefer-spread\n        return Array.apply(null, { length: this.parent.activeViewOptions.monthsCount }).map(function (value, index) {\n            return _this.parent.firstMonthOfYear + index;\n        });\n    };\n    Year.prototype.renderTemplates = function (fn, args, tName, vName, ele) {\n        var templateId = this.parent.element.id + '_' + vName + tName;\n        var template = [].slice.call(fn(args, this.parent, tName, templateId, false, undefined, undefined, this.parent.root));\n        append(template, ele);\n    };\n    Year.prototype.onCellClick = function (e) {\n        var target = closest(e.target, '.' + cls.WORK_CELLS_CLASS);\n        var startDate = this.parent.getDateFromElement(target);\n        this.parent.activeCellsData = this.parent.getCellDetails(target);\n        var isPrevious = startDate.getTime() < this.getStartDate().getTime();\n        if (isPrevious || startDate.getTime() > this.getEndDate().getTime()) {\n            this.parent.changeDate(this.parent.activeView.getNextPreviousDate(isPrevious ? 'previous' : 'next'), e);\n            var activeDate = this.parent.activeCellsData.startTime.getTime();\n            var inRange = activeDate >= this.getStartDate().getTime() && activeDate <= this.getEndDate().getTime();\n            var dateAttr = inRange ? activeDate : (isPrevious ? this.getEndDate() : this.getStartDate()).getTime();\n            var selectedCell = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + dateAttr + '\"]');\n            this.parent.selectCell(selectedCell);\n            this.parent.activeCellsData = this.parent.getCellDetails(selectedCell);\n        }\n        else {\n            var endDate = util.addDays(new Date(startDate.getTime()), 1);\n            var filteredEvents = this.parent.eventBase.filterEvents(startDate, endDate);\n            var moreEventArgs = { date: startDate, event: filteredEvents, element: e.target };\n            if (target.classList.contains(cls.OTHERMONTH_CLASS)) {\n                target = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + target.getAttribute('data-date') + '\"]');\n            }\n            this.parent.activeCellsData = this.parent.getCellDetails(target);\n            var args = extend(this.parent.activeCellsData, { cancel: false, event: e, name: 'cellClick' });\n            this.parent.trigger(event.cellClick, args);\n            this.parent.quickPopup.moreEventClick(moreEventArgs, endDate);\n        }\n    };\n    Year.prototype.onContentScroll = function (e) {\n        var target = e.target;\n        var headerWrapper = this.getDatesHeaderElement();\n        this.parent.notify(event.virtualScroll, e);\n        if (headerWrapper) {\n            headerWrapper.firstElementChild.scrollLeft = target.scrollLeft;\n        }\n        var scrollTopSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n        var scrollTopElement = this.element.querySelector(scrollTopSelector);\n        if (scrollTopElement) {\n            scrollTopElement.scrollTop = target.scrollTop;\n        }\n        if (!this.parent.isAdaptive) {\n            this.parent.uiStateValues.top = e.target.scrollTop;\n        }\n        this.parent.uiStateValues.left = e.target.scrollLeft;\n        this.setPersistence();\n    };\n    Year.prototype.onScrollUiUpdate = function (args) {\n        var height = this.parent.element.offsetHeight - this.getHeaderBarHeight();\n        var headerWrapper = this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n        if (headerWrapper) {\n            height -= headerWrapper.offsetHeight;\n        }\n        var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (contentWrapper) {\n            contentWrapper.style.height = formatUnit(height);\n        }\n        if (!this.parent.isAdaptive && headerWrapper) {\n            var scrollBarWidth = util.getScrollBarWidth();\n            if (contentWrapper.offsetWidth - contentWrapper.clientWidth > 0) {\n                headerWrapper.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n                headerWrapper.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n            }\n            else {\n                headerWrapper.firstElementChild.style[args.cssProperties.border] = '';\n                headerWrapper.style[args.cssProperties.padding] = '';\n            }\n        }\n        this.setColWidth(this.getContentAreaElement());\n        var leftPanelSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n        var leftPanelElement = this.element.querySelector(leftPanelSelector);\n        if (leftPanelElement) {\n            var isYScroll = contentWrapper.scrollWidth > contentWrapper.clientWidth;\n            leftPanelElement.style.height = formatUnit(height - (isYScroll ? 17 : 0));\n        }\n        if (!args.isPreventScrollUpdate) {\n            if (this.parent.uiStateValues.isInitial) {\n                this.parent.uiStateValues.isInitial = false;\n                this.parent.uiStateValues.top = this.parent.uiStateValues.left = 0;\n            }\n            else {\n                if (leftPanelElement) {\n                    leftPanelElement.scrollTop = this.parent.uiStateValues.top;\n                }\n                contentWrapper.scrollTop = this.parent.uiStateValues.top;\n                contentWrapper.scrollLeft = this.parent.uiStateValues.left;\n            }\n        }\n        this.retainScrollPosition();\n    };\n    Year.prototype.getStartDate = function () {\n        return new Date(this.parent.selectedDate.getFullYear(), this.parent.firstMonthOfYear % 12, 1);\n    };\n    Year.prototype.getEndDate = function () {\n        return util.addDays(util.addMonths(this.getStartDate(), this.parent.monthsCount), -1);\n    };\n    Year.prototype.startDate = function () {\n        return this.parent.currentView === 'Year' ? util.getWeekFirstDate(this.getStartDate(), this.parent.activeViewOptions.firstDayOfWeek) : this.getStartDate();\n    };\n    Year.prototype.endDate = function () {\n        return this.parent.currentView === 'Year' ? util.addDays(util.getWeekLastDate(this.getEndDate(), this.parent.activeViewOptions.firstDayOfWeek), 1) :\n            util.addDays(this.getEndDate(), 1);\n    };\n    Year.prototype.getEndDateFromStartDate = function (start) {\n        var date = new Date(start.getTime());\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            date = util.lastDateOfMonth(date);\n        }\n        return util.addDays(new Date(date.getTime()), 1);\n    };\n    Year.prototype.getNextPreviousDate = function (type) {\n        return util.addYears(this.parent.selectedDate, ((type === 'next') ? 1 : -1));\n    };\n    Year.prototype.getDateRangeText = function () {\n        var startDate = this.getStartDate();\n        var endDate = this.getEndDate();\n        if (startDate.getFullYear() !== endDate.getFullYear()) {\n            return this.parent.globalize.formatDate(startDate, { skeleton: 'yMMM' }) + ' - ' + this.parent.globalize.formatDate(endDate, { skeleton: 'yMMM' });\n        }\n        else {\n            return this.parent.globalize.formatDate(this.parent.selectedDate, { skeleton: 'y' });\n        }\n    };\n    Year.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onScrollUiUpdate, this);\n        this.parent.on(event.dataReady, this.onDataReady, this);\n    };\n    Year.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onScrollUiUpdate);\n            this.parent.off(event.dataReady, this.onDataReady);\n        }\n    };\n    Year.prototype.onDataReady = function (args) {\n        this.yearEventModule = new YearEvent(this.parent);\n        this.yearEventModule.renderAppointments();\n        this.parent.notify(event.eventsLoaded, args);\n    };\n    Year.prototype.scrollToDate = function (scrollDate) {\n        var date = +new Date(util.resetTime(scrollDate));\n        var element = this.element.querySelector('.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + date + '\"]');\n        if (element) {\n            element = closest(element, '.e-month-calendar');\n            this.getContentAreaElement().scrollTop = element.offsetTop;\n        }\n    };\n    Year.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            var contentScroll = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            if (contentScroll) {\n                EventHandler.remove(contentScroll, 'scroll', this.onContentScroll);\n            }\n            if (this.yearEventModule) {\n                this.yearEventModule.destroy();\n                this.yearEventModule = null;\n            }\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Year;\n}(ViewBase));\nexport { Year };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, addClass, createElement, append, EventHandler, extend, remove } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { ViewBase } from '../renderer/view-base';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\nimport * as event from '../base/constant';\nvar AgendaBase = /** @class */ (function (_super) {\n    __extends(AgendaBase, _super);\n    function AgendaBase(parent) {\n        return _super.call(this, parent) || this;\n    }\n    // eslint-disable-next-line max-len\n    AgendaBase.prototype.createAgendaContentElement = function (type, listData, aTd, groupOrder, groupIndex) {\n        var _this = this;\n        var listElement;\n        var fieldMapping = this.parent.eventFields;\n        if (type === 'noEvents') {\n            var noEvents = [{ 'subject': this.parent.localeObj.getConstant('noEvents') }];\n            listElement = ListBase.createList(this.parent.createElement, noEvents, {\n                moduleName: 'agenda',\n                listClass: this.parent.activeView.viewClass,\n                itemClass: this.parent.activeView.viewClass,\n                template: \"<div class=\\\"\" + cls.AGENDA_NO_EVENT_CLASS + \"\\\">\" + this.parent.localeObj.getConstant('noEvents') + \"</div>\"\n            });\n            if (listElement.querySelector('.e-agenda-item').children.length === 0) {\n                listElement.firstElementChild.appendChild(createElement('div', { className: cls.AGENDA_NO_EVENT_CLASS, innerHTML: this.parent.localeObj.getConstant('noEvents') }));\n            }\n        }\n        else {\n            listElement = ListBase.createList(this.parent.createElement, listData, {\n                moduleName: 'agenda',\n                listClass: this.parent.activeView.viewClass,\n                itemClass: this.parent.activeView.viewClass\n            });\n            var listElements = [].slice.call(listElement.children);\n            listElements.forEach(function (element, li) {\n                var appWrapper = createElement('div', {\n                    className: cls.APPOINTMENT_CLASS, attrs: {\n                        'data-id': 'Appointment_' + listData[parseInt(li.toString(), 10)][\"\" + _this.parent.eventFields.id],\n                        'data-guid': listData[parseInt(li.toString(), 10)].Guid,\n                        'role': 'button',\n                        'tabindex': '0',\n                        'aria-disabled': _this.parent.eventBase.getReadonlyAttribute(listData[parseInt(li.toString(), 10)]),\n                        'aria-label': _this.parent.getAnnouncementString(listData[parseInt(li.toString(), 10)])\n                    }\n                });\n                if (!isNullOrUndefined(groupIndex)) {\n                    appWrapper.setAttribute('data-group-index', groupIndex.toString());\n                }\n                _this.parent.eventBase.applyResourceColor(appWrapper, listData[parseInt(li.toString(), 10)], 'borderColor', groupOrder);\n                var templateEle;\n                if (!isNullOrUndefined(_this.parent.activeViewOptions.eventTemplate)) {\n                    addClass([appWrapper], cls.EVENT_TEMPLATE);\n                    var scheduleId = _this.parent.element.id + '_';\n                    var viewName = _this.parent.activeViewOptions.eventTemplateName;\n                    var templateId = scheduleId + viewName + 'eventTemplate';\n                    templateEle =\n                        _this.parent.getAppointmentTemplate()(listData[parseInt(li.toString(), 10)], _this.parent, 'eventTemplate', templateId, false, undefined, undefined, _this.parent.root);\n                    if (!isNullOrUndefined(listData[parseInt(li.toString(), 10)][fieldMapping.recurrenceRule])) {\n                        var iconClass = (listData[parseInt(li.toString(), 10)][fieldMapping.id] ===\n                            listData[parseInt(li.toString(), 10)][fieldMapping.recurrenceID]) ?\n                            cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n                        appWrapper.appendChild(createElement('div', { className: cls.ICON + ' ' + iconClass }));\n                    }\n                }\n                else {\n                    templateEle = _this.createAppointment(listData[parseInt(li.toString(), 10)]);\n                }\n                append([].slice.call(templateEle), appWrapper);\n                util.removeChildren(element);\n                element.appendChild(appWrapper);\n                var args = {\n                    data: extend({}, listData[parseInt(li.toString(), 10)], null, true),\n                    element: element, cancel: false\n                };\n                _this.parent.trigger(event.eventRendered, args, function (eventArgs) {\n                    if (eventArgs.cancel) {\n                        remove(element);\n                    }\n                });\n            });\n        }\n        aTd.appendChild(listElement);\n        if ((this.parent.currentView === 'MonthAgenda' && this.parent.activeViewOptions.group.resources.length > 0)\n            || this.parent.currentView === 'Agenda') {\n            addClass([aTd], cls.AGENDA_DAY_BORDER_CLASS);\n        }\n        this.parent.renderTemplates();\n        return aTd;\n    };\n    AgendaBase.prototype.createAppointment = function (event) {\n        var fieldMapping = this.parent.eventFields;\n        var eventSubject = (event[fieldMapping.subject] || this.parent.eventSettings.fields.subject.default\n            || this.parent.localeObj.getConstant('addTitle'));\n        var eventLocation = (event[fieldMapping.location] || this.parent.eventSettings.fields.location.default);\n        var appSubjectWrap = createElement('div', { className: cls.SUBJECT_WRAP });\n        if (!isNullOrUndefined(eventLocation) && eventLocation !== '') {\n            eventSubject += ',';\n        }\n        var appSubjectText = createElement('div', { className: cls.SUBJECT_CLASS });\n        this.parent.sanitize(eventSubject, appSubjectText);\n        appSubjectWrap.appendChild(appSubjectText);\n        if (!isNullOrUndefined(eventLocation) && eventLocation !== '') {\n            var appLocation = createElement('div', { className: cls.LOCATION_CLASS });\n            this.parent.sanitize(eventLocation, appLocation);\n            appSubjectWrap.appendChild(appLocation);\n        }\n        if (!isNullOrUndefined(event[fieldMapping.recurrenceRule])) {\n            var iconClass = (event[fieldMapping.id] === event[fieldMapping.recurrenceID]) ?\n                cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n            appSubjectWrap.appendChild(createElement('div', { className: cls.ICON + ' ' + iconClass }));\n        }\n        var strDate = event[fieldMapping.startTime];\n        var endDate = event[fieldMapping.endTime];\n        var isAllDay = event[fieldMapping.isAllDay];\n        var allDayStr = this.parent.localeObj.getConstant('allDay');\n        var timeStr = this.parent.getTimeString(strDate) + ' - ' + this.parent.getTimeString(endDate);\n        if (!isNullOrUndefined(event.data)) {\n            var milliSeconds = (endDate.getTimezoneOffset() !== strDate.getTimezoneOffset()) ?\n                (endDate.getTime() - strDate.getTime() + 3600000) : (endDate.getTime() - strDate.getTime());\n            var eventString = (milliSeconds / util.MS_PER_DAY) >= 1 ? allDayStr : timeStr;\n            allDayStr = eventString + ' (' + this.parent.localeObj.getConstant('day') + ' '\n                + event.data.index + '/' + event.data.count + ')';\n        }\n        var displayStr = (!isNullOrUndefined(event.data) || isAllDay) ? allDayStr : timeStr;\n        var appDateTime = createElement('div', { className: cls.DATE_TIME_CLASS, innerHTML: displayStr });\n        return [appSubjectWrap, appDateTime];\n    };\n    AgendaBase.prototype.processAgendaEvents = function (events) {\n        var eventsProcessed = [];\n        if (isNullOrUndefined(events)) {\n            return eventsProcessed;\n        }\n        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n            var event_1 = events_1[_i];\n            var spanned = this.parent.eventBase.splitEventByDay(event_1);\n            eventsProcessed = eventsProcessed.concat(spanned.length > 1 ? spanned : event_1);\n        }\n        return eventsProcessed;\n    };\n    AgendaBase.prototype.wireEventActions = function () {\n        var eventElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n        for (var _i = 0, eventElement_1 = eventElement; _i < eventElement_1.length; _i++) {\n            var element = eventElement_1[_i];\n            this.parent.eventBase.wireAppointmentEvents(element, this.parent.getEventDetails(element), true);\n        }\n        var dateHeaderElement = [].slice.call(this.parent.element.querySelectorAll('.e-m-date'));\n        for (var _a = 0, dateHeaderElement_1 = dateHeaderElement; _a < dateHeaderElement_1.length; _a++) {\n            var element = dateHeaderElement_1[_a];\n            EventHandler.add(element, 'click', this.parent.agendaModule.dayNavigationClick, this);\n        }\n    };\n    AgendaBase.prototype.calculateResourceTableElement = function (tBody, noOfDays, agendaDate, agendaEnd) {\n        if (agendaEnd === void 0) { agendaEnd = null; }\n        if (isNullOrUndefined(this.parent.resourceBase.lastResourceLevel)) {\n            var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n            this.parent.resourceBase.generateResourceLevels(level);\n        }\n        var agendaLastDate = util.addDays(new Date(agendaDate.getTime()), noOfDays);\n        var days = (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') ? noOfDays : 1;\n        var resColl = this.parent.resourceBase.resourceCollection;\n        var resData = this.parent.resourceBase.lastResourceLevel;\n        var agendaStart = agendaDate;\n        var initialDate = agendaDate;\n        var showWeekend = this.parent.activeViewOptions.showWeekend;\n        for (var i = 0; i < days; i++) {\n            var lastLevelInfo = [];\n            var tempLastLevelInfo = [];\n            var tempIndex = 0;\n            var eventObj = void 0;\n            var dateObj = void 0;\n            var firstDate = util.addDays(initialDate, i);\n            if (this.parent.currentView === 'Agenda' && this.parent.activeViewOptions.group.byDate &&\n                this.parent.activeViewOptions.allowVirtualScrolling && !showWeekend && !this.isWorkDay(firstDate)) {\n                do {\n                    firstDate = util.addDays(firstDate, 1);\n                    if (firstDate >= agendaEnd) {\n                        break;\n                    }\n                } while (!this.isWorkDay(firstDate) ||\n                    this.parent.eventBase.filterEvents(firstDate, util.addDays(firstDate, 1)).length < 1);\n                if (firstDate >= agendaEnd) {\n                    break;\n                }\n                initialDate = util.addDays(firstDate, -i);\n                agendaLastDate = util.addDays(firstDate, 1);\n            }\n            var finalDate = (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda')\n                ? util.addDays(firstDate, 1) : agendaLastDate;\n            var agendaCollection = this.parent.eventBase.filterEvents(firstDate, finalDate);\n            if (agendaCollection.length > 0 || !this.parent.hideEmptyAgendaDays || this.parent.currentView === 'MonthAgenda') {\n                for (var res = 0; res < resData.length; res++) {\n                    noOfDays = (!this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') ? noOfDays : 1;\n                    var data = [];\n                    agendaDate = firstDate;\n                    // eslint-disable-next-line max-len\n                    var resDataCollection = this.parent.eventBase.filterEvents(agendaDate, agendaLastDate, agendaCollection, resData[parseInt(res.toString(), 10)]);\n                    if (resDataCollection.length > 0 || !this.parent.hideEmptyAgendaDays || this.parent.currentView === 'MonthAgenda') {\n                        for (var r = 0; r < noOfDays; r++) {\n                            // eslint-disable-next-line max-len\n                            var resDayCollection = this.parent.eventBase.filterEvents(agendaDate, util.addDays(agendaDate, 1), resDataCollection, undefined);\n                            if (((showWeekend || !showWeekend && (this.parent.group.byDate ? this.isWorkDay(agendaDate) :\n                                this.isWorkDay(agendaDate, resData[parseInt(res.toString(), 10)].workDays)))\n                                && (resDayCollection.length > 0 || !this.parent.hideEmptyAgendaDays)) ||\n                                this.parent.currentView === 'MonthAgenda') {\n                                data.push(resDayCollection[0]);\n                                eventObj = {\n                                    rowSpan: 1, type: 'eventColumn', resource: resColl[resColl.length - 1],\n                                    groupIndex: resData[parseInt(res.toString(), 10)].groupIndex,\n                                    groupOrder: resData[parseInt(res.toString(), 10)].groupOrder,\n                                    resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                                    eventData: resDayCollection, date: agendaDate\n                                };\n                                dateObj = {\n                                    rowSpan: 1, type: 'dateColumn', resource: resColl[parseInt((resColl.length - 1).toString(), 10)],\n                                    groupOrder: resData[parseInt(res.toString(), 10)].groupOrder,\n                                    resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                                    date: agendaDate\n                                };\n                                if (!lastLevelInfo[parseInt(tempIndex.toString(), 10)]) {\n                                    lastLevelInfo[parseInt(tempIndex.toString(), 10)] = [];\n                                }\n                                lastLevelInfo[parseInt(tempIndex.toString(), 10)].push(eventObj);\n                                lastLevelInfo[parseInt(tempIndex.toString(), 10)].push(dateObj);\n                                tempIndex++;\n                            }\n                            agendaDate = util.addDays(agendaDate, 1);\n                            if (agendaDate.getTime() >= agendaLastDate.getTime() || this.parent.activeViewOptions.group.byDate\n                                || this.parent.currentView === 'MonthAgenda') {\n                                if (data.length > 0) {\n                                    lastLevelInfo[lastLevelInfo.length - 1][1].cssClass = cls.AGENDA_DAY_BORDER_CLASS;\n                                    var tempObj = {\n                                        rowSpan: data.length, type: 'resourceColumn', resource: resColl[parseInt((resColl.length - 1).toString(), 10)],\n                                        groupOrder: resData[parseInt(res.toString(), 10)].groupOrder.slice(0, -1),\n                                        resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                                        groupIndex: (lastLevelInfo.length - data.length), className: [cls.RESOURCE_NAME],\n                                        date: agendaDate\n                                    };\n                                    lastLevelInfo[parseInt((lastLevelInfo.length - data.length).toString(), 10)].push(tempObj);\n                                    tempLastLevelInfo.push(extend({}, tempObj, null, true));\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n                var topResources = resColl.slice(0, -1);\n                var tempGroupedData = [];\n                var totalRowSpan = 0;\n                for (var y = 0; y < topResources.length; y++) {\n                    var data = topResources[topResources.length - (y + 1)].dataSource;\n                    for (var x = 0; x < data.length; x++) {\n                        var z = 0;\n                        for (var u = 0; u < tempLastLevelInfo.length; u++) {\n                            // eslint-disable-next-line max-len\n                            if (tempLastLevelInfo[parseInt(u.toString(), 10)].groupOrder[topResources.length - (y + 1)] === data[parseInt(x.toString(), 10)][topResources[topResources.length - (y + 1)].idField]) {\n                                totalRowSpan = totalRowSpan + tempLastLevelInfo[parseInt(u.toString(), 10)].rowSpan;\n                                tempGroupedData.push(extend({}, tempLastLevelInfo[parseInt(u.toString(), 10)], null, true));\n                            }\n                            if (++z === tempLastLevelInfo.length && tempGroupedData.length > 0) {\n                                tempGroupedData[0].rowSpan = totalRowSpan;\n                                tempGroupedData[0].type = 'parentColumnLevel_' + (y + 1);\n                                tempGroupedData[0].resource = topResources[topResources.length - (y + 1)];\n                                tempGroupedData[0].resourceData = data[parseInt(x.toString(), 10)];\n                                tempGroupedData[0].date = agendaDate;\n                                lastLevelInfo[tempGroupedData[0].groupIndex].push(tempGroupedData[0]);\n                                tempGroupedData = [];\n                                totalRowSpan = 0;\n                            }\n                        }\n                    }\n                }\n                this.createResourceTableRow(lastLevelInfo, tBody);\n            }\n        }\n        var totalCollection = this.parent.eventBase.filterEvents(agendaStart, agendaLastDate);\n        if (totalCollection.length === 0 && !this.parent.activeViewOptions.allowVirtualScrolling && this.parent.hideEmptyAgendaDays) {\n            this.renderEmptyContent(tBody, agendaStart);\n        }\n    };\n    AgendaBase.prototype.createResourceTableRow = function (tContent, tBody) {\n        var tr = createElement('tr');\n        var ntr;\n        var td = createElement('td');\n        var tempData;\n        var rowSpan = 0;\n        var level;\n        if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n            var tContentCollection = [];\n            var parentCollection = this.parent.resourceBase.resourceCollection.slice(0, -1);\n            for (var w = 0; w < tContent.length; w++) {\n                tContentCollection = tContentCollection.concat(tContent[parseInt(w.toString(), 10)]);\n            }\n            level = (parentCollection.length > 0) ? 'parentColumnLevel_' + parentCollection.length : 'resourceColumn';\n            var rowSpanCollection = tContentCollection.filter(function (data) { return data.type === level; });\n            for (var x = 0; x < rowSpanCollection.length; x++) {\n                rowSpan = rowSpan + rowSpanCollection[parseInt(x.toString(), 10)].rowSpan;\n            }\n        }\n        for (var row = 0; row < tContent.length; row++) {\n            ntr = tr.cloneNode();\n            for (var col = tContent[parseInt(row.toString(), 10)].length - 1; col >= 0; col--) {\n                var data = tContent[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)];\n                var ntd = td.cloneNode();\n                if (data.type === 'dateColumn') {\n                    if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n                        tempData = tContent[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)];\n                        continue;\n                    }\n                    ntd.setAttribute('data-date', data.date.getTime().toString());\n                    ntd.appendChild(this.createDateHeaderElement(data.date));\n                    var className = [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DATE_CLASS];\n                    if (data.cssClass) {\n                        className.push(data.cssClass);\n                    }\n                    addClass([ntd], className);\n                    if (this.isCurrentDate(new Date(data.date.getTime()))) {\n                        addClass(ntd.childNodes, cls.AGENDA_CURRENT_DAY_CLASS);\n                    }\n                    ntr.appendChild(ntd);\n                }\n                else if (data.type === 'eventColumn') {\n                    var elementType = (data.eventData.length === 0) ? 'noEvents' : 'data';\n                    for (var i = 0; i < ntr.childNodes.length; i++) {\n                        var currentElement = ntr.childNodes.item(i);\n                        var renderCellElementType = currentElement.classList.contains('e-resource-column') ?\n                            event.resourceHeader : event.dateHeader;\n                        this.parent.trigger(event.renderCell, {\n                            elementType: renderCellElementType, element: currentElement, date: data.date, groupIndex: data.groupIndex\n                        });\n                    }\n                    ntd = this.createAgendaContentElement(elementType, data.eventData, ntd, data.groupOrder, data.groupIndex);\n                    ntd.setAttribute('data-date', data.date.getTime().toString());\n                    if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n                        addClass([ntd], [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DAY_PADDING_CLASS]);\n                    }\n                    ntr.appendChild(ntd);\n                    var renderCellType = (data.eventData.length === 0) ? event.noEvents : event.agendaCells;\n                    this.parent.trigger(event.renderCell, {\n                        elementType: renderCellType, element: ntd, date: data.date, groupIndex: data.groupIndex\n                    });\n                }\n                else {\n                    ntd.setAttribute('rowspan', data.rowSpan.toString());\n                    addClass([ntd], cls.AGENDA_RESOURCE_CLASS);\n                    this.setResourceHeaderContent(ntd, data, data.className[0]);\n                    ntr.appendChild(ntd);\n                }\n            }\n            if (this.parent.activeViewOptions.group.byDate && row === 0 && this.parent.currentView !== 'MonthAgenda') {\n                var ntd = td.cloneNode();\n                ntd.setAttribute('data-date', tempData.date.getTime().toString());\n                ntd.setAttribute('rowspan', rowSpan.toString());\n                ntd.appendChild(this.createDateHeaderElement(tempData.date));\n                addClass([ntd], [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DATE_CLASS, cls.DATE_BORDER_CLASS]);\n                var daysCount = util.getDaysCount(this.parent.selectedDate.getTime(), tempData.date.getTime());\n                ntr.setAttribute('data-row-index', daysCount.toString());\n                if (this.parent.element.querySelector(\".e-agenda-view tr[data-row-index=\\\"\" + daysCount + \"\\\"]\")) {\n                    break;\n                }\n                ntr.insertBefore(ntd, ntr.childNodes[0]);\n            }\n            tBody.appendChild(ntr);\n        }\n    };\n    AgendaBase.prototype.createDateHeaderElement = function (date) {\n        var dateHeader;\n        if (this.parent.activeViewOptions.dateHeaderTemplate) {\n            dateHeader = createElement('div', { className: cls.AGENDA_HEADER_CLASS });\n            var args = { date: date, type: 'dateHeader' };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n            var templateId = scheduleId + viewName + 'dateHeaderTemplate';\n            var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(args, this.parent, 'dateHeaderTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(dateTemplate, dateHeader);\n        }\n        else {\n            dateHeader = this.getMobileDateElement(date, cls.AGENDA_HEADER_CLASS);\n        }\n        return dateHeader;\n    };\n    AgendaBase.prototype.renderEmptyContent = function (tBody, agendaDate, hasNoEvents) {\n        var eTr = this.createTableRowElement(agendaDate, 'noEvents');\n        var eTd = eTr.children[0];\n        var noEvents = createElement('div', {\n            className: cls.AGENDA_EMPTY_EVENT_CLASS,\n            innerHTML: this.parent.localeObj.getConstant('noEvents')\n        });\n        eTd.appendChild(noEvents);\n        tBody.appendChild(eTr);\n        if (hasNoEvents) {\n            this.parent.trigger(event.renderCell, { elementType: event.noEvents, element: eTd, date: agendaDate });\n        }\n    };\n    AgendaBase.prototype.createTableRowElement = function (date, type) {\n        var daysCount = util.getDaysCount(this.parent.selectedDate.getTime(), date.getTime());\n        var tr = createElement('tr', { attrs: { 'data-row-index': daysCount.toString() } });\n        var td = createElement('td', {\n            attrs: {\n                'class': (type === 'monthHeader') ? cls.MONTH_HEADER_CLASS : cls.AGENDA_CELLS_CLASS,\n                'aria-selected': 'false',\n                'data-column-index': daysCount.toString(),\n                'data-date': date.getTime().toString()\n            }\n        });\n        var dTd = td.cloneNode();\n        var aTd = td.cloneNode();\n        tr.appendChild(dTd);\n        if (type !== 'noEvents') {\n            tr.appendChild(aTd);\n        }\n        return tr;\n    };\n    AgendaBase.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return AgendaBase;\n}(ViewBase));\nexport { AgendaBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { formatUnit, isNullOrUndefined, closest, extend, append, prepend, remove } from '@syncfusion/ej2-base';\nimport { createElement, addClass, EventHandler } from '@syncfusion/ej2-base';\nimport { AgendaBase } from '../event-renderer/agenda-base';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * agenda view\n */\nvar Agenda = /** @class */ (function (_super) {\n    __extends(Agenda, _super);\n    function Agenda(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-agenda-view';\n        _this.isInverseTableSelect = false;\n        _this.agendaDates = {};\n        _this.virtualScrollTop = 1;\n        return _this;\n    }\n    Agenda.prototype.getModuleName = function () {\n        return 'agenda';\n    };\n    Agenda.prototype.renderLayout = function () {\n        this.agendaDates = {};\n        this.element = createElement('div', { className: cls.TABLE_WRAP_CLASS });\n        addClass([this.element], this.viewClass);\n        this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS).appendChild(this.element);\n        var eTr = createElement('tr');\n        this.element.querySelector('tbody').appendChild(eTr);\n        var workTd = createElement('td');\n        eTr.appendChild(workTd);\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        workTd.appendChild(wrap);\n        var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.setAriaAttributes(tbl);\n        wrap.appendChild(tbl);\n        var tBody = tbl.querySelector('tbody');\n        var agendaDate = util.resetTime(this.parent.selectedDate);\n        this.renderEmptyContent(tBody, agendaDate);\n        this.wireEvents();\n        if (this.parent.resourceBase) {\n            this.parent.resourceBase.generateResourceLevels([{ renderDates: this.parent.activeView.renderDates }]);\n        }\n        if (this.parent.uiStateValues.isGroupAdaptive && !this.parent.element.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n            this.renderResourceMobileLayout();\n        }\n        this.parent.notify(event.contentReady, {});\n    };\n    Agenda.prototype.eventLoad = function (args) {\n        this.dataSource = extend([], this.parent.eventsData, null, true);\n        for (var _i = 0, _a = this.parent.eventsData; _i < _a.length; _i++) {\n            var event_1 = _a[_i];\n            delete event_1.generatedDates;\n        }\n        var eventCollection = this.parent.activeViewOptions.allowVirtualScrolling ?\n            args.processedData : this.parent.eventsProcessed;\n        if (this.parent.uiStateValues.isGroupAdaptive) {\n            var resource = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n            this.dataSource = this.parent.eventBase.filterEventsByResource(resource, this.dataSource);\n            eventCollection = this.parent.eventBase.filterEventsByResource(resource, eventCollection);\n        }\n        this.parent.eventsProcessed = this.processAgendaEvents(eventCollection);\n        var agendaDate = util.resetTime(this.parent.selectedDate);\n        var tBody = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n        util.removeChildren(tBody);\n        this.renderInitialContent(tBody, agendaDate);\n        this.wireEventActions();\n        var contentArea = closest(tBody, '.' + cls.CONTENT_WRAP_CLASS);\n        contentArea.scrollTop = 1;\n        this.parent.notify(event.eventsLoaded, {});\n        if (!this.parent.activeViewOptions.allowVirtualScrolling) {\n            this.retainScrollPosition();\n        }\n    };\n    Agenda.prototype.refreshEvent = function (refreshDate) {\n        var processedData = [];\n        var fields = this.parent.eventFields;\n        for (var _i = 0, _a = this.dataSource; _i < _a.length; _i++) {\n            var data = _a[_i];\n            if (isNullOrUndefined(data[fields.recurrenceID]) && !isNullOrUndefined(data[fields.recurrenceRule]) &&\n                !isNullOrUndefined(data.generatedDates) && refreshDate >= data.generatedDates.end) {\n                processedData = processedData.concat(this.parent.eventBase.generateOccurrence(data, refreshDate));\n            }\n        }\n        this.parent.eventsProcessed = this.parent.eventsProcessed.concat(this.processAgendaEvents(processedData));\n    };\n    Agenda.prototype.refreshHeader = function () {\n        var tBody = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n        if (this.parent.activeViewOptions.group.byDate) {\n            util.removeChildren(tBody);\n        }\n        else {\n            remove(tBody.firstElementChild);\n        }\n        var agendaDate = util.resetTime(this.parent.selectedDate);\n        var emptyTBody = createElement('tbody');\n        var firstDate = new Date(agendaDate.getTime());\n        var lastDate = (this.parent.activeViewOptions.allowVirtualScrolling && this.parent.hideEmptyAgendaDays) ?\n            this.getEndDateFromStartDate(firstDate) : util.addDays(firstDate, this.parent.agendaDaysCount);\n        this.renderContent(emptyTBody, firstDate, lastDate);\n        append([].slice.call(emptyTBody.childNodes), tBody);\n    };\n    Agenda.prototype.renderInitialContent = function (tBody, agendaDate) {\n        var emptyTBody = createElement('tbody');\n        var firstDate = new Date(agendaDate.getTime());\n        var lastDate = (this.parent.activeViewOptions.allowVirtualScrolling && this.parent.hideEmptyAgendaDays) ?\n            this.getEndDateFromStartDate(firstDate) : util.addDays(firstDate, this.parent.agendaDaysCount);\n        this.renderContent(emptyTBody, firstDate, lastDate);\n        append([].slice.call(emptyTBody.childNodes), tBody);\n        // Initial rendering, to load previous date events upto scroll bar enable\n        if (this.parent.activeViewOptions.allowVirtualScrolling && this.parent.hideEmptyAgendaDays && this.parent.eventsData.length > 0) {\n            var contentArea = this.getContentAreaElement();\n            var contentChild = contentArea.querySelector('.e-content-table');\n            while (contentArea.offsetWidth <= contentArea.clientWidth) {\n                if (this.parent.isAdaptive && contentChild.offsetHeight >= contentArea.clientHeight) {\n                    break;\n                }\n                var emptyTBody_1 = createElement('tbody');\n                lastDate = firstDate;\n                firstDate = util.addDays(lastDate, -this.parent.agendaDaysCount);\n                this.renderContent(emptyTBody_1, firstDate, lastDate);\n                prepend([].slice.call(emptyTBody_1.childNodes), tBody);\n                if (firstDate <= this.parent.minDate) {\n                    break;\n                }\n            }\n        }\n        if (tBody.childNodes.length <= 0) {\n            this.renderEmptyContent(tBody, agendaDate, true);\n        }\n    };\n    Agenda.prototype.renderContent = function (tBody, agendaDate, lastDate) {\n        var fieldMapping = this.parent.eventFields;\n        var firstDate = new Date(agendaDate.getTime());\n        var isObject = this.appointmentFiltering(firstDate, lastDate);\n        if (isObject.length > 0 && this.parent.activeViewOptions.allowVirtualScrolling && this.parent.hideEmptyAgendaDays) {\n            if (!this.parent.activeViewOptions.showWeekend && !this.isAgendaWorkDay(isObject[0][fieldMapping.startTime])) {\n                for (var _i = 0, isObject_1 = isObject; _i < isObject_1.length; _i++) {\n                    var event_2 = isObject_1[_i];\n                    if (this.isAgendaWorkDay(event_2[fieldMapping.startTime])) {\n                        agendaDate = new Date(new Date(event_2[fieldMapping.startTime].getTime()).setHours(0, 0, 0, 0));\n                        this.updateHeaderText(event_2[fieldMapping.startTime]);\n                        break;\n                    }\n                }\n            }\n            else {\n                agendaDate = new Date(new Date(isObject[0][fieldMapping.startTime].getTime()).setHours(0, 0, 0, 0));\n                this.updateHeaderText(isObject[0][fieldMapping.startTime]);\n            }\n        }\n        var endDate;\n        if (!this.parent.hideEmptyAgendaDays || (this.parent.agendaDaysCount > 0 && isObject.length > 0)) {\n            if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                var date = agendaDate;\n                if (!this.parent.activeViewOptions.group.byDate) {\n                    this.parent.activeViewOptions.allowVirtualScrolling = false;\n                    date = firstDate;\n                    if (this.parent.headerModule) {\n                        this.parent.headerModule.updateDateRange();\n                        this.parent.headerModule.updateHeaderItems('remove');\n                    }\n                }\n                this.calculateResourceTableElement(tBody, this.parent.agendaDaysCount, date, lastDate);\n            }\n            else {\n                for (var day = 0; day < this.parent.agendaDaysCount; day++) {\n                    var nTr = this.createTableRowElement(agendaDate, 'data');\n                    var virtualContent = this.element.querySelector('tr[data-row-index=\"' + (+(nTr.dataset.rowIndex)) + '\"]');\n                    if (virtualContent || !this.parent.activeViewOptions.showWeekend && !this.isAgendaWorkDay(agendaDate)) {\n                        agendaDate = util.addDays(agendaDate, 1);\n                        if (!virtualContent && this.parent.activeViewOptions.allowVirtualScrolling) {\n                            day--;\n                        }\n                        if (agendaDate.getTime() > lastDate.getTime()) {\n                            break;\n                        }\n                        continue;\n                    }\n                    var dTd = nTr.children[0];\n                    var aTd = nTr.children[1];\n                    var filterData = this.appointmentFiltering(agendaDate);\n                    if (filterData.length > 0 || (!this.parent.hideEmptyAgendaDays && filterData.length === 0)) {\n                        var elementType = (!this.parent.hideEmptyAgendaDays && filterData.length === 0) ? 'noEvents' : 'data';\n                        dTd.appendChild(this.createDateHeaderElement(agendaDate));\n                        nTr.appendChild(dTd);\n                        this.parent.trigger(event.renderCell, { elementType: event.dateHeader, element: dTd, date: agendaDate });\n                        var cTd = this.createAgendaContentElement(elementType, filterData, aTd);\n                        nTr.appendChild(cTd);\n                        if (cTd.querySelectorAll('li').length > 0) {\n                            tBody.appendChild(nTr);\n                        }\n                        var renderCellElementType = (!this.parent.hideEmptyAgendaDays && filterData.length === 0) ?\n                            event.noEvents : event.agendaCells;\n                        this.parent.trigger(event.renderCell, { elementType: renderCellElementType, element: cTd, date: agendaDate });\n                    }\n                    else if (this.parent.activeViewOptions.allowVirtualScrolling) {\n                        day--;\n                    }\n                    if (this.isCurrentDate(new Date(agendaDate.getTime()))) {\n                        addClass(dTd.childNodes, cls.AGENDA_CURRENT_DAY_CLASS);\n                    }\n                    agendaDate = util.addDays(agendaDate, 1);\n                    if (agendaDate.getTime() > lastDate.getTime()) {\n                        break;\n                    }\n                }\n            }\n            endDate = new Date(agendaDate.getTime() - util.MS_PER_DAY);\n        }\n        this.agendaDates = { start: firstDate, end: endDate };\n    };\n    Agenda.prototype.isAgendaWorkDay = function (date) {\n        if (this.parent.uiStateValues.isGroupAdaptive && !this.parent.group.byDate) {\n            return this.isWorkDay(date, this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].workDays);\n        }\n        else {\n            return this.isWorkDay(date);\n        }\n    };\n    Agenda.prototype.agendaScrolling = function (event) {\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            this.virtualScrolling(event);\n        }\n        if (!this.parent.activeViewOptions.allowVirtualScrolling) {\n            this.setPersistence();\n        }\n    };\n    Agenda.prototype.virtualScrolling = function (event) {\n        var target = event.target;\n        var scrollTop = target.scrollTop;\n        var scrollHeight = target.scrollHeight;\n        var offsetHeight = target.clientHeight;\n        var totalHeight = scrollTop + offsetHeight;\n        var direction = (this.virtualScrollTop < scrollTop) ? 'next' : 'previous';\n        var tBody = target.querySelector('tbody');\n        var emptyTBody = createElement('tbody');\n        var topElement = this.getElementFromScrollerPosition(event);\n        var scrollDate = this.parent.getDateFromElement(topElement);\n        var filterDate;\n        var filterData;\n        if (scrollTop === 0) {\n            filterDate = this.getPreviousNextDate(util.addDays(scrollDate, -1), direction);\n            filterData = this.appointmentFiltering(filterDate.start, filterDate.end);\n            if (filterData.length > 0 || !this.parent.hideEmptyAgendaDays) {\n                this.renderContent(emptyTBody, filterDate.start, filterDate.end);\n                prepend([].slice.call(emptyTBody.childNodes), tBody);\n                this.wireEventActions();\n                for (var s = 0, element = tBody.children; s < element.length; s++) {\n                    if (element[parseInt(s.toString(), 10)].getAttribute('data-row-index') === topElement.getAttribute('data-column-index')) {\n                        var scrollToValue = element[parseInt(s.toString(), 10)].offsetTop -\n                            this.element.querySelector('.e-agenda-item').offsetHeight;\n                        target.scrollTop = scrollToValue;\n                        break;\n                    }\n                }\n                this.updateHeaderText(scrollDate);\n            }\n        }\n        else if (totalHeight >= (scrollHeight - 5)) {\n            filterDate = this.getPreviousNextDate(util.addDays(scrollDate, 1), direction);\n            filterData = this.appointmentFiltering(filterDate.start, filterDate.end);\n            if (filterData.length > 0 || !this.parent.hideEmptyAgendaDays) {\n                this.renderContent(emptyTBody, filterDate.start, filterDate.end);\n                append([].slice.call(emptyTBody.childNodes), tBody);\n                this.wireEventActions();\n                this.updateHeaderText(scrollDate);\n            }\n        }\n        else {\n            this.updateHeaderText(scrollDate);\n        }\n        this.virtualScrollTop = scrollTop;\n        var selectedElements = this.parent.eventBase.getSelectedAppointments();\n        if (selectedElements.length > 0) {\n            selectedElements[selectedElements.length - 1].focus();\n        }\n    };\n    Agenda.prototype.getElementFromScrollerPosition = function (event) {\n        var filterElement;\n        var target = event.target;\n        var scrollTop = target.scrollTop;\n        var scrollHeight = target.scrollHeight;\n        var offsetHeight = target.clientHeight;\n        var totalHeight = scrollTop + offsetHeight;\n        var liCollection = [].slice.call(target.querySelectorAll('.e-agenda-item'));\n        var li;\n        var liDetails;\n        if (liCollection.length > 0) {\n            if (scrollTop === 0) {\n                li = liCollection[0];\n                filterElement = closest(li, '.' + cls.AGENDA_CELLS_CLASS);\n            }\n            else if (totalHeight === scrollHeight) {\n                li = liCollection[liCollection.length - 1];\n                filterElement = closest(li, '.' + cls.AGENDA_CELLS_CLASS);\n            }\n            else {\n                for (var a = 0, length_1 = liCollection.length; a < length_1; a++) {\n                    li = liCollection[parseInt(a.toString(), 10)];\n                    liDetails = li.getBoundingClientRect();\n                    if (liDetails.top >= 0) {\n                        filterElement = closest(li, '.' + cls.AGENDA_CELLS_CLASS);\n                        break;\n                    }\n                }\n            }\n        }\n        return filterElement;\n    };\n    Agenda.prototype.updateHeaderText = function (date) {\n        if (this.parent.showHeaderBar) {\n            this.parent.headerModule.updateDateRange(date);\n        }\n    };\n    Agenda.prototype.getPreviousNextDate = function (date, type) {\n        var currentDate = new Date(date.getTime());\n        var firstDate = this.getStartDateFromEndDate(date);\n        var lastDate = this.getEndDateFromStartDate(date);\n        var daysCount = 0;\n        do {\n            if (this.parent.activeViewOptions.showWeekend || !this.parent.activeViewOptions.showWeekend &&\n                this.isAgendaWorkDay(currentDate)) {\n                var filterData = this.appointmentFiltering(currentDate);\n                if (filterData.length > 0 || !this.parent.hideEmptyAgendaDays) {\n                    daysCount++;\n                }\n            }\n            currentDate = util.addDays(currentDate, (type === 'next') ? 1 : -1);\n            if (currentDate < firstDate || currentDate > lastDate) {\n                break;\n            }\n        } while (daysCount !== this.parent.agendaDaysCount);\n        var endDate = util.addDays(currentDate, (type === 'next') ? -1 : 1);\n        return (type === 'next') ? { start: date, end: util.addDays(endDate, 1) } : { start: endDate, end: util.addDays(date, 1) };\n    };\n    Agenda.prototype.appointmentFiltering = function (startDate, endDate) {\n        var dateStart;\n        var dateEnd;\n        if (!isNullOrUndefined(startDate) && isNullOrUndefined(endDate)) {\n            dateStart = util.resetTime(new Date(startDate.getTime()));\n            dateEnd = util.setTime(new Date(dateStart.getTime()), util.MS_PER_DAY);\n        }\n        else {\n            dateStart = new Date(startDate.getTime());\n            dateEnd = new Date(endDate.getTime());\n        }\n        var filterData = this.parent.eventBase.filterEvents(dateStart, dateEnd);\n        if (filterData.length === 0) {\n            this.refreshEvent(startDate);\n            filterData = this.parent.eventBase.filterEvents(dateStart, dateEnd);\n        }\n        return filterData;\n    };\n    Agenda.prototype.getStartDateFromEndDate = function (endDate) {\n        var filterDate;\n        var fields = this.parent.eventFields;\n        if (this.parent.eventsProcessed.length > 0) {\n            var firstDate = Math.min.apply(Math, this.parent.eventsProcessed.map(function (a) {\n                return a[fields.startTime].getTime();\n            }));\n            filterDate = this.parent.hideEmptyAgendaDays ? new Date(firstDate) : this.parent.minDate;\n        }\n        else {\n            filterDate = this.parent.hideEmptyAgendaDays ? util.addMonths(endDate, -1) : this.parent.minDate;\n        }\n        return util.resetTime(filterDate);\n    };\n    Agenda.prototype.getEndDateFromStartDate = function (startDate) {\n        var filterDate;\n        var fieldMapping = this.parent.eventFields;\n        if (this.parent.eventsProcessed.length > 0) {\n            var lastDate = Math.max.apply(Math, this.parent.eventsProcessed.map(function (a) {\n                return a[fieldMapping.endTime].getTime();\n            }));\n            filterDate = this.parent.hideEmptyAgendaDays ? new Date(lastDate) : this.parent.maxDate;\n        }\n        else {\n            filterDate = this.parent.hideEmptyAgendaDays ? util.addMonths(startDate, 1) : this.parent.maxDate;\n        }\n        return util.resetTime(util.addDays(filterDate, 1));\n    };\n    Agenda.prototype.getNextPreviousDate = function (type) {\n        var noOfDays = (type === 'next') ? 1 : -1;\n        return util.addDays(this.parent.selectedDate, noOfDays);\n    };\n    Agenda.prototype.startDate = function () {\n        return util.resetTime(this.parent.selectedDate);\n    };\n    Agenda.prototype.endDate = function () {\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            return this.getEndDateFromStartDate(this.startDate());\n        }\n        else {\n            return util.addDays(this.startDate(), this.parent.agendaDaysCount);\n        }\n    };\n    Agenda.prototype.getDateRangeText = function (date) {\n        var formatDate = (this.parent.activeViewOptions.dateFormat) ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n        if (this.parent.activeViewOptions.allowVirtualScrolling || this.parent.isAdaptive) {\n            var currentDate = isNullOrUndefined(date) ? this.parent.selectedDate : date;\n            return util.capitalizeFirstWord(this.parent.globalize.formatDate(currentDate, { format: formatDate, calendar: this.parent.getCalendarMode() }), 'multiple');\n        }\n        else {\n            var startDate = this.parent.selectedDate;\n            var endDate = util.addDays(startDate, this.parent.agendaDaysCount - 1);\n            return this.formatDateRange(startDate, endDate);\n        }\n    };\n    Agenda.prototype.dayNavigationClick = function (e) {\n        var element = closest(e.currentTarget, '.' + cls.AGENDA_CELLS_CLASS);\n        var date = this.parent.getDateFromElement(element);\n        if (!isNullOrUndefined(date) && !this.parent.isAdaptive && this.parent.isMinMaxDate(date)) {\n            this.parent.setProperties({ selectedDate: date }, true);\n            this.parent.changeView('Day', e);\n        }\n    };\n    Agenda.prototype.wireEvents = function () {\n        EventHandler.add(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), event.scroll, this.agendaScrolling, this);\n    };\n    Agenda.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), event.scroll, this.agendaScrolling);\n        var dateHeaderElement = [].slice.call(this.element.querySelectorAll('.e-m-date'));\n        for (var _i = 0, dateHeaderElement_1 = dateHeaderElement; _i < dateHeaderElement_1.length; _i++) {\n            var element = dateHeaderElement_1[_i];\n            EventHandler.remove(element, 'click', this.dayNavigationClick);\n        }\n    };\n    Agenda.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onAgendaScrollUiUpdate, this);\n        this.parent.on(event.dataReady, this.eventLoad, this);\n    };\n    Agenda.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onAgendaScrollUiUpdate);\n            this.parent.off(event.dataReady, this.eventLoad);\n        }\n    };\n    Agenda.prototype.onAgendaScrollUiUpdate = function () {\n        var headerHeight = this.getHeaderBarHeight();\n        if (this.parent.headerModule) {\n            if (this.parent.activeViewOptions.allowVirtualScrolling) {\n                this.parent.headerModule.updateHeaderItems('add');\n            }\n            else {\n                this.parent.headerModule.updateHeaderItems('remove');\n            }\n        }\n        var contentArea = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (this.parent.height !== 'auto') {\n            contentArea.style.height = formatUnit(this.parent.element.offsetHeight - headerHeight);\n        }\n    };\n    Agenda.prototype.scrollToDate = function (scrollDate) {\n        var date = new Date(+util.resetTime(scrollDate));\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            if (!this.parent.hideEmptyAgendaDays || this.parent.getEvents(date, util.addDays(date, 1), true).length > 0) {\n                this.parent.changeDate(date);\n            }\n        }\n        else {\n            var dateElement = this.element.querySelector('.' + cls.AGENDA_CELLS_CLASS + '[data-date=\"' + date.getTime() + '\"]');\n            if (dateElement) {\n                this.getContentAreaElement().scrollTop = dateElement.offsetTop;\n            }\n        }\n    };\n    Agenda.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            this.unWireEvents();\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            if (this.parent.headerModule && this.parent.activeViewOptions.allowVirtualScrolling) {\n                this.parent.headerModule.updateHeaderItems('remove');\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Agenda;\n}(AgendaBase));\nexport { Agenda };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, createElement, addClass, formatUnit, remove } from '@syncfusion/ej2-base';\nimport { AgendaBase } from '../event-renderer/agenda-base';\nimport { Month } from './month';\nimport * as util from '../base/util';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * month agenda view\n */\nvar MonthAgenda = /** @class */ (function (_super) {\n    __extends(MonthAgenda, _super);\n    function MonthAgenda(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.dayNameFormat = 'narrow';\n        _this.viewClass = 'e-month-agenda-view';\n        _this.monthAgendaDate = new Date('' + parent.selectedDate);\n        return _this;\n    }\n    MonthAgenda.prototype.getModuleName = function () {\n        return 'monthAgenda';\n    };\n    MonthAgenda.prototype.renderAppointmentContainer = function () {\n        var contentArea = this.getContentAreaElement();\n        var wrapperContainer = createElement('div', { className: cls.WRAPPER_CONTAINER_CLASS });\n        contentArea.appendChild(wrapperContainer);\n        var appWrap = createElement('div', { className: cls.APPOINTMENT_WRAP_CLASS });\n        wrapperContainer.appendChild(appWrap);\n        this.appendAppContainer(appWrap);\n        this.setEventWrapperHeight();\n    };\n    MonthAgenda.prototype.getDayNameFormat = function () {\n        if (this.parent.isAdaptive) {\n            return 'narrow';\n        }\n        return 'abbreviated';\n    };\n    MonthAgenda.prototype.updateSelectedCellClass = function (data) {\n        if (util.resetTime(data.date).getTime() === util.resetTime(this.monthAgendaDate).getTime()) {\n            data.className.push(cls.SELECTED_CELL_CLASS);\n        }\n    };\n    MonthAgenda.prototype.setEventWrapperHeight = function () {\n        var headerHeight = (this.parent.headerModule ? this.parent.headerModule.getHeaderElement().offsetHeight : 0) + 2;\n        var resourceWrapper = this.parent.element.querySelector('.' + cls.RESOURCE_HEADER_TOOLBAR);\n        if (resourceWrapper) {\n            headerHeight += resourceWrapper.offsetHeight;\n        }\n        var contentArea = this.getContentAreaElement().firstElementChild;\n        var dateHeader = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        var availHeight = this.parent.element.offsetHeight - headerHeight - dateHeader.offsetHeight;\n        var contentAreaHeight = (this.parent.activeViewOptions.interval > 1) ?\n            Math.round(availHeight * 0.8) : contentArea.offsetHeight;\n        var appContainerHeight = availHeight - contentAreaHeight;\n        var wrapperContainer = this.element.querySelector('.' + cls.WRAPPER_CONTAINER_CLASS);\n        var eventWrapper = this.element.querySelector('.' + cls.APPOINTMENT_WRAP_CLASS);\n        if (this.parent.height !== 'auto') {\n            if (this.parent.activeViewOptions.interval > 1) {\n                contentArea.style.height = formatUnit(contentAreaHeight);\n                EventHandler.add(contentArea, 'scroll', this.onContentScroll, this);\n            }\n            wrapperContainer.style.height = eventWrapper.style.height = formatUnit(appContainerHeight);\n        }\n    };\n    MonthAgenda.prototype.onDataReady = function (args) {\n        this.setEventWrapperHeight();\n        this.clearElements();\n        var eventCollection = args.processedData;\n        if (this.parent.uiStateValues.isGroupAdaptive) {\n            var resource = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n            eventCollection = this.parent.eventBase.filterEventsByResource(resource, eventCollection);\n        }\n        this.agendaBase = this.getAgendaBase();\n        this.parent.eventsProcessed = this.agendaBase.processAgendaEvents(eventCollection);\n        var count = 0;\n        for (var _i = 0, _a = this.renderDates; _i < _a.length; _i++) {\n            var date = _a[_i];\n            var filterData = this.appointmentFiltering(date);\n            var workCell = this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS)[parseInt(count.toString(), 10)];\n            if (filterData.length > 0) {\n                if (!workCell.querySelector('.' + cls.APPOINTMENT_INDICATOR_CLASS)) {\n                    workCell.appendChild(createElement('div', { className: cls.APPOINTMENT_INDICATOR_CLASS }));\n                }\n                if (date.getTime() === util.resetTime(new Date(this.monthAgendaDate.getTime())).getTime()) {\n                    this.onEventRender(filterData, date);\n                }\n            }\n            count++;\n        }\n        this.parent.notify(events.eventsLoaded, {});\n    };\n    MonthAgenda.prototype.onCellClick = function (event) {\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        var filterData = this.appointmentFiltering(event.startTime);\n        this.onEventRender(filterData, event.startTime);\n        this.parent.notify(events.eventsLoaded, {});\n        this.monthAgendaDate = new Date('' + event.startTime);\n    };\n    MonthAgenda.prototype.onEventRender = function (events, date) {\n        this.agendaBase = this.getAgendaBase();\n        var appWrap = this.element.querySelector('.' + cls.APPOINTMENT_WRAP_CLASS);\n        util.removeChildren(appWrap);\n        if (this.parent.activeViewOptions.group.resources.length === 0 || this.parent.uiStateValues.isGroupAdaptive) {\n            if (events.length > 0) {\n                var appContainer = createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS });\n                appWrap.appendChild(this.agendaBase.createAgendaContentElement('data', events, appContainer));\n            }\n            else {\n                this.appendAppContainer(appWrap);\n            }\n        }\n        else {\n            if (events.length > 0) {\n                var table = this.createTableLayout();\n                var tBody = table.querySelector('tbody');\n                this.agendaBase.calculateResourceTableElement(tBody, 1, date);\n                table.appendChild(tBody);\n                appWrap.appendChild(table);\n            }\n            else {\n                this.appendAppContainer(appWrap);\n            }\n        }\n        this.agendaBase.wireEventActions();\n    };\n    MonthAgenda.prototype.appointmentFiltering = function (date) {\n        var dateStart = util.resetTime(new Date(date.getTime()));\n        var dateEnd = util.setTime(new Date(dateStart.getTime()), util.MS_PER_DAY);\n        return this.parent.eventBase.filterEvents(dateStart, dateEnd);\n    };\n    MonthAgenda.prototype.clearElements = function () {\n        var appointmentIndicators = [].slice.call(this.element.querySelectorAll('.' + cls.APPOINTMENT_INDICATOR_CLASS));\n        for (var _i = 0, appointmentIndicators_1 = appointmentIndicators; _i < appointmentIndicators_1.length; _i++) {\n            var appointmentIndicator = appointmentIndicators_1[_i];\n            remove(appointmentIndicator);\n        }\n        this.appendAppContainer(this.element.querySelector('.' + cls.APPOINTMENT_WRAP_CLASS));\n    };\n    MonthAgenda.prototype.appendAppContainer = function (appWrap) {\n        var app = createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS });\n        addClass([app], cls.AGENDA_NO_EVENT_CLASS);\n        app.innerHTML = this.parent.localeObj.getConstant('noEvents');\n        util.removeChildren(appWrap);\n        appWrap.appendChild(app);\n    };\n    MonthAgenda.prototype.getNextPreviousDate = function (type) {\n        var selectedDate = this.parent.selectedDate;\n        var interval = (type === 'next') ? this.parent.activeViewOptions.interval : -this.parent.activeViewOptions.interval;\n        var navigateDate = util.addMonths(this.parent.selectedDate, interval);\n        var month = (type === 'next') ? 2 : 0;\n        var lastDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth() + month, 0).getDate();\n        var date = (lastDate >= this.monthAgendaDate.getDate()) ? this.monthAgendaDate.getDate() : lastDate;\n        this.monthAgendaDate = new Date(navigateDate.getFullYear(), navigateDate.getMonth(), date);\n        return this.monthAgendaDate;\n    };\n    MonthAgenda.prototype.getAgendaBase = function () {\n        return this.agendaBase || new AgendaBase(this.parent);\n    };\n    MonthAgenda.prototype.destroy = function () {\n        if (this.agendaBase) {\n            this.agendaBase.destroy();\n            this.agendaBase = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return MonthAgenda;\n}(Month));\nexport { MonthAgenda };\n","import { createElement } from '@syncfusion/ej2-base';\nimport { MS_PER_DAY, capitalizeFirstWord } from '../base/util';\n/**\n * timeline header rows\n */\nvar TimelineHeaderRow = /** @class */ (function () {\n    function TimelineHeaderRow(parent, renderDates) {\n        this.parent = parent;\n        this.renderDates = renderDates;\n    }\n    TimelineHeaderRow.prototype.groupByYear = function (dates) {\n        var result = {};\n        for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {\n            var d = dates_1[_i];\n            var key = d.getFullYear();\n            result[parseInt(key.toString(), 10)] = result[parseInt(key.toString(), 10)] || [];\n            result[parseInt(key.toString(), 10)].push(d);\n        }\n        return result;\n    };\n    TimelineHeaderRow.prototype.groupByMonth = function (dates) {\n        var result = {};\n        for (var _i = 0, dates_2 = dates; _i < dates_2.length; _i++) {\n            var d = dates_2[_i];\n            var key = (d.getFullYear() - 1970) * 12 + d.getMonth();\n            result[parseInt(key.toString(), 10)] = result[parseInt(key.toString(), 10)] || [];\n            result[parseInt(key.toString(), 10)].push(d);\n        }\n        return result;\n    };\n    TimelineHeaderRow.prototype.groupByWeek = function (dates) {\n        var result = {};\n        for (var _i = 0, dates_3 = dates; _i < dates_3.length; _i++) {\n            var d = dates_3[_i];\n            var jsDate = +new Date(1970, 0, 1);\n            var tzOffsetDiff = d.getTimezoneOffset() - new Date(1970, 0, 1).getTimezoneOffset();\n            var key = Math.ceil(((((+d - jsDate) - (tzOffsetDiff * 60 * 1000)) / MS_PER_DAY) + new Date(jsDate).getDay() + 1) / 7);\n            if (this.parent.activeViewOptions.firstDayOfWeek && this.parent.activeViewOptions.firstDayOfWeek > new Date(+d).getDay()) {\n                key = key - 1;\n            }\n            result[parseInt(key.toString(), 10)] = result[parseInt(key.toString(), 10)] || [];\n            result[parseInt(key.toString(), 10)].push(d);\n        }\n        return result;\n    };\n    TimelineHeaderRow.prototype.generateSlots = function (data, colspan, row, cls, type) {\n        var _this = this;\n        var dateParser = function (date, format) {\n            return _this.parent.globalize.formatDate(date, { format: format, calendar: _this.parent.getCalendarMode() });\n        };\n        var tdDatas = [];\n        var keys = Object.keys(data);\n        for (var i = 0; i < keys.length; i++) {\n            var dates = data[keys[parseInt(i.toString(), 10)]];\n            var htmlCol = void 0;\n            if (row.template) {\n                var args = { date: dates[0], type: type };\n                var templateId = this.parent.element.id + '_headerRowTemplate';\n                htmlCol = [].slice.call(this.parent.templateParser(row.template)(args, this.parent, 'template', templateId, false));\n            }\n            else {\n                var viewTemplate = void 0;\n                switch (row.option) {\n                    case 'Year':\n                        viewTemplate = \"<span class=\\\"e-header-year\\\">\" + dateParser(dates[0], 'y') + \"</span>\";\n                        break;\n                    case 'Month':\n                        viewTemplate = \"<span class=\\\"e-header-month\\\">\" + capitalizeFirstWord(dateParser(dates[0], 'MMMM'), 'single') + \"</span>\";\n                        break;\n                    case 'Week':\n                        viewTemplate = \"<span class=\\\"e-header-week\\\">\" + this.parent.getWeekNumberContent(dates) + \"</span>\";\n                }\n                var headerWrapper = createElement('div', { innerHTML: viewTemplate });\n                htmlCol = [].slice.call(headerWrapper.childNodes);\n            }\n            tdDatas.push({ date: dates[0], type: type, className: [cls], colSpan: dates.length * colspan, template: htmlCol });\n        }\n        return tdDatas;\n    };\n    TimelineHeaderRow.prototype.generateColumnLevels = function (dateSlots, hourSlots) {\n        var levels = [];\n        var rows = this.parent.activeViewOptions.headerRows;\n        var lastLevelColspan = 1;\n        if (rows[rows.length - 1].option === 'Hour' && hourSlots.length > 0) {\n            lastLevelColspan = hourSlots.length / dateSlots.length;\n        }\n        var tdDatas = [];\n        var byYear;\n        var byMonth;\n        var byWeek;\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            switch (row.option) {\n                case 'Year':\n                    byYear = this.groupByYear(this.renderDates);\n                    tdDatas = this.generateSlots(byYear, lastLevelColspan, row, 'e-header-year-cell', 'yearHeader');\n                    levels.push(tdDatas);\n                    break;\n                case 'Month':\n                    byMonth = this.groupByMonth(this.renderDates);\n                    tdDatas = this.generateSlots(byMonth, lastLevelColspan, row, 'e-header-month-cell', 'monthHeader');\n                    levels.push(tdDatas);\n                    break;\n                case 'Week':\n                    byWeek = this.groupByWeek(this.renderDates);\n                    tdDatas = this.generateSlots(byWeek, lastLevelColspan, row, 'e-header-week-cell', 'weekHeader');\n                    levels.push(tdDatas);\n                    break;\n                case 'Date':\n                    tdDatas = dateSlots;\n                    tdDatas = tdDatas.map(function (value) {\n                        value.colSpan = lastLevelColspan;\n                        return value;\n                    });\n                    levels.push(tdDatas);\n                    break;\n                case 'Hour':\n                    if (hourSlots.length > 0) {\n                        levels.push(hourSlots);\n                    }\n                    break;\n            }\n        }\n        return levels;\n    };\n    return TimelineHeaderRow;\n}());\nexport { TimelineHeaderRow };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, createElement, prepend, extend, formatUnit, append, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { VerticalView } from './vertical-view';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport { TimelineHeaderRow } from './timeline-header-row';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * timeline views\n */\nvar TimelineViews = /** @class */ (function (_super) {\n    __extends(TimelineViews, _super);\n    function TimelineViews(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.timelineAppointment = null;\n        _this.baseCssClass = 'e-timeline-view';\n        return _this;\n    }\n    TimelineViews.prototype.getModuleName = function () {\n        return 'timelineViews';\n    };\n    TimelineViews.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n    };\n    TimelineViews.prototype.scrollTopPanel = function (target) {\n        _super.prototype.scrollTopPanel.call(this, target);\n        this.scrollHeaderLabels(target);\n    };\n    TimelineViews.prototype.scrollToWorkHour = function () {\n        var start = this.parent.getStartEndTime(this.parent.workHours.start);\n        var currDateTime = this.isWorkDay(this.parent.selectedDate) && this.parent.workHours.highlight &&\n            !isNullOrUndefined(start) ? new Date(+this.parent.selectedDate).setHours(start.getHours(), start.getMinutes(), 0, 0)\n            : new Date(+this.parent.selectedDate).setHours(0, 0, 0, 0);\n        var queryString = '[data-date=\"' + new Date(currDateTime).getTime().toString() + '\"]';\n        var firstWorkHourCell = this.element.querySelector(queryString);\n        if (firstWorkHourCell) {\n            this.getContentAreaElement().scrollLeft = !this.parent.enableRtl ? firstWorkHourCell.offsetLeft :\n                -(this.parent.getContentTable().offsetWidth - firstWorkHourCell.offsetLeft - firstWorkHourCell.offsetWidth);\n        }\n    };\n    TimelineViews.prototype.scrollToHour = function (hour, scrollDate) {\n        var date;\n        var index;\n        if (scrollDate) {\n            index = this.parent.getIndexOfDate(this.renderDates, util.resetTime(scrollDate));\n            if (index >= 0) {\n                date = scrollDate;\n                if (!isNullOrUndefined(hour)) {\n                    var timeString = hour.split(':');\n                    if (timeString.length === 2) {\n                        date = new Date(scrollDate.setHours(parseInt(timeString[0], 10), parseInt(timeString[1], 10), 0));\n                    }\n                }\n            }\n        }\n        date = isNullOrUndefined(scrollDate) ? this.parent.getStartEndTime(hour) : date;\n        if (isNullOrUndefined(date)) {\n            return;\n        }\n        var scrollLeft;\n        if (isNullOrUndefined(hour) || !this.parent.activeViewOptions.timeScale.enable) {\n            scrollLeft = index * this.parent.getElementWidth(this.element.querySelector('.e-work-cells'));\n        }\n        else {\n            scrollLeft = isNullOrUndefined(scrollDate) ? this.getLeftFromDateTime(null, date) :\n                this.getLeftFromDateTime([index], date);\n        }\n        this.getScrollableElement().scrollLeft = !this.parent.enableRtl ? scrollLeft : -scrollLeft;\n    };\n    TimelineViews.prototype.generateColumnLevels = function () {\n        var levels = [];\n        var dateSlots = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        levels.push(dateSlots);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.parent.resourceBase.generateResourceLevels(dateSlots, !this.parent.uiStateValues.isGroupAdaptive);\n        }\n        var hourSlots = [];\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            hourSlots = this.generateTimeSlots(levels[levels.length - 1]);\n            levels.push(hourSlots);\n        }\n        if (this.parent.activeViewOptions.headerRows.length > 0) {\n            var renderGn = new TimelineHeaderRow(this.parent, this.renderDates);\n            levels = renderGn.generateColumnLevels(dateSlots, hourSlots);\n        }\n        return levels;\n    };\n    TimelineViews.prototype.generateTimeSlots = function (dateSlots) {\n        var _this = this;\n        var handler = function (r) {\n            r.type = r.first ? 'majorSlot' : 'minorSlot';\n            r.className = r.first ? [cls.TIME_SLOT_CLASS] : [cls.TIME_SLOT_CLASS, cls.TIME_CELLS_CLASS];\n            r.workDays = _this.parent.activeViewOptions.workDays;\n            return r;\n        };\n        var timeSlotData = this.getTimeSlotRows(handler);\n        var slots = [];\n        for (var _i = 0, dateSlots_1 = dateSlots; _i < dateSlots_1.length; _i++) {\n            var data = dateSlots_1[_i];\n            data.colSpan = timeSlotData.length;\n            var tempTimeSlots = extend([], timeSlotData, null, true);\n            for (var _a = 0, tempTimeSlots_1 = tempTimeSlots; _a < tempTimeSlots_1.length; _a++) {\n                var slot = tempTimeSlots_1[_a];\n                var cellDate = util.resetTime(new Date('' + data.date));\n                slot.date = util.setTime(cellDate, util.getDateInMs(slot.date));\n                slots.push(slot);\n            }\n        }\n        return slots;\n    };\n    TimelineViews.prototype.changeCurrentTimePosition = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.removeCurrentTimeIndicatorElements();\n        var currentDateIndex = this.getCurrentTimeIndicatorIndex();\n        var left = this.getLeftFromDateTime(currentDateIndex, this.parent.getCurrentTime());\n        var height = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight;\n        var headerWrap = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        var contentWrap = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        contentWrap.appendChild(createElement('div', {\n            className: cls.CURRENT_TIMELINE_CLASS,\n            styles: (this.parent.enableRtl ? 'right' : 'left') + ':' + formatUnit(left) + '; height:' + formatUnit(height)\n        }));\n        if (this.parent.virtualScrollModule) {\n            var timeIndicator = this.parent.element.querySelector('.' + cls.CURRENT_TIMELINE_CLASS);\n            var element = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS + ' table');\n            setStyleAttribute(timeIndicator, {\n                transform: element.style.transform\n            });\n        }\n        var currentTimeEle = createElement('div', {\n            innerHTML: this.parent.getTimeString(this.parent.getCurrentTime()),\n            className: cls.CURRENT_TIME_CLASS\n        });\n        headerWrap.appendChild(currentTimeEle);\n        currentTimeEle.style[this.parent.enableRtl ? 'right' : 'left'] = formatUnit(left - (currentTimeEle.offsetWidth / 2));\n    };\n    TimelineViews.prototype.getLeftFromDateTime = function (currentDateIndex, date) {\n        var startHour = this.getStartHour();\n        var diffInDates = 0;\n        var diffInMinutes = ((date.getHours() - startHour.getHours()) * 60) + (date.getMinutes() - startHour.getMinutes());\n        if (!isNullOrUndefined(currentDateIndex)) {\n            if (currentDateIndex[0] !== 0) {\n                var index = this.parent.activeView.colLevels.findIndex(function (level) { return level[0].type === 'dateHeader'; });\n                if (this.parent.activeView.colLevels[parseInt(index.toString(), 10)] &&\n                    this.parent.activeView.colLevels[parseInt(index.toString(), 10)][0].colSpan) {\n                    diffInDates = currentDateIndex[0] * this.parent.activeView.colLevels[parseInt(index.toString(), 10)][0].colSpan *\n                        this.parent.getElementWidth(this.element.querySelector('.e-work-cells'));\n                }\n                else {\n                    var endHour = this.getEndHour();\n                    var end = (endHour.getHours() === 0) ? 24 : endHour.getHours();\n                    diffInMinutes = diffInMinutes + ((currentDateIndex[0]) * (((end - startHour.getHours()) * 60) +\n                        (endHour.getMinutes() - startHour.getMinutes())));\n                }\n            }\n        }\n        return diffInDates + ((diffInMinutes * this.parent.getElementWidth(this.element.querySelector('.e-work-cells'))\n            * this.parent.activeViewOptions.timeScale.slotCount) / this.parent.activeViewOptions.timeScale.interval);\n    };\n    TimelineViews.prototype.renderHeader = function () {\n        var tr = createElement('tr');\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.resourceBase.renderResourceHeaderIndent(tr);\n        }\n        var dateTd = createElement('td');\n        dateTd.appendChild(this.renderDatesHeader());\n        tr.appendChild(dateTd);\n        prepend([tr], this.element.querySelector('tbody'));\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    TimelineViews.prototype.createAllDayRow = function (table, tdData) { };\n    TimelineViews.prototype.getCurrentTimeIndicatorIndex = function () {\n        var currentDateIndex = [];\n        var index = this.parent.getIndexOfDate(this.renderDates, util.resetTime(this.parent.getCurrentTime()));\n        if (index >= 0) {\n            currentDateIndex.push(index);\n        }\n        return currentDateIndex;\n    };\n    TimelineViews.prototype.renderContent = function () {\n        var tr = createElement('tr');\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            var resTd = createElement('td');\n            resTd.appendChild(this.parent.resourceBase.createResourceColumn());\n            tr.appendChild(resTd);\n        }\n        var workTd = createElement('td');\n        var wrap = this.renderContentArea();\n        wrap.appendChild(this.createEventTable(this.getRowCount()));\n        this.collapseRows(wrap);\n        workTd.appendChild(wrap);\n        tr.appendChild(workTd);\n        if (this.parent.virtualScrollModule) {\n            this.parent.virtualScrollModule.renderVirtualTrack(wrap);\n        }\n        this.element.querySelector('tbody').appendChild(tr);\n    };\n    TimelineViews.prototype.getRowCount = function () {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            return this.parent.resourceBase.renderedResources.length;\n        }\n        return 1;\n    };\n    TimelineViews.prototype.getResourceTdData = function (i, tdData) {\n        var resLevel = this.parent.resourceBase.renderedResources[parseInt(i.toString(), 10)];\n        var resSHr = resLevel.resourceData[resLevel.resource.startHourField] || this.parent.workHours.start;\n        var resEHr = resLevel.resourceData[resLevel.resource.endHourField] || this.parent.workHours.end;\n        tdData.startHour = this.parent.getStartEndTime(resSHr);\n        tdData.endHour = this.parent.getStartEndTime(resEHr);\n        tdData.workDays = resLevel.resourceData[resLevel.resource.workDaysField] || this.parent.workDays;\n        tdData.className = resLevel.className;\n        tdData.groupIndex = resLevel.groupIndex;\n        tdData.groupOrder = resLevel.groupOrder;\n        return tdData;\n    };\n    TimelineViews.prototype.renderContentTable = function (table) {\n        var tBody = table.querySelector('tbody');\n        append(this.getContentRows(), tBody);\n    };\n    TimelineViews.prototype.getContentRows = function () {\n        var rows = [];\n        var tr = createElement('tr');\n        var td = createElement('td', { attrs: { 'aria-selected': 'false' } });\n        var trCount = this.getRowCount();\n        var existingGroupIndices = this.getGroupIndices();\n        for (var i = 0; i < trCount; i++) {\n            if (existingGroupIndices.length > 0 &&\n                existingGroupIndices.indexOf(this.parent.resourceBase.renderedResources[parseInt(i.toString(), 10)].groupIndex) > -1) {\n                continue;\n            }\n            var ntr = tr.cloneNode();\n            for (var _i = 0, _a = this.colLevels[this.colLevels.length - 1]; _i < _a.length; _i++) {\n                var tdData = _a[_i];\n                if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                    tdData = this.getResourceTdData(i, tdData);\n                }\n                var ntd = this.createContentTd(tdData, tdData, td);\n                ntr.appendChild(ntd);\n            }\n            rows.push(ntr);\n        }\n        return rows;\n    };\n    TimelineViews.prototype.getContentTdClass = function (r) {\n        return (r.first || !this.parent.activeViewOptions.timeScale.enable) ? [cls.WORK_CELLS_CLASS] :\n            [cls.WORK_CELLS_CLASS, cls.ALTERNATE_CELLS_CLASS];\n    };\n    TimelineViews.prototype.renderEvents = function () {\n        this.timelineAppointment = new TimelineEvent(this.parent, this.parent.activeViewOptions.timeScale.enable ? 'hour' : 'day');\n        this.timelineAppointment.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    TimelineViews.prototype.getAdjustedDate = function (date) {\n        if (!this.parent.activeViewOptions.timeScale.enable) {\n            return new Date(date.setHours(0, 0, 0, 0));\n        }\n        else {\n            var timeSlots = this.colLevels[this.colLevels.length - 1];\n            for (var i = 0; i < timeSlots.length; i++) {\n                if (timeSlots[parseInt(i.toString(), 10)].date.getTime() > date.getTime()) {\n                    return timeSlots[i - 1].date;\n                }\n            }\n        }\n        return null;\n    };\n    TimelineViews.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.timelineAppointment) {\n            this.timelineAppointment.destroy();\n            this.timelineAppointment = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return TimelineViews;\n}(VerticalView));\nexport { TimelineViews };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventHandler, createElement, formatUnit } from '@syncfusion/ej2-base';\nimport { Month } from './month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport { TimelineHeaderRow } from './timeline-header-row';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * timeline month view\n */\nvar TimelineMonth = /** @class */ (function (_super) {\n    __extends(TimelineMonth, _super);\n    function TimelineMonth(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-timeline-month-view';\n        _this.isInverseTableSelect = true;\n        _this.appointment = null;\n        return _this;\n    }\n    TimelineMonth.prototype.getModuleName = function () {\n        return 'timelineMonth';\n    };\n    TimelineMonth.prototype.onDataReady = function () {\n        this.appointment = new TimelineEvent(this.parent, 'day');\n        this.appointment.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    TimelineMonth.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n    };\n    TimelineMonth.prototype.scrollTopPanel = function (target) {\n        _super.prototype.scrollTopPanel.call(this, target);\n        this.scrollHeaderLabels(target);\n    };\n    TimelineMonth.prototype.setContentHeight = function (content, leftPanelElement, height) {\n        if (leftPanelElement) {\n            leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n        }\n        content.style.height = formatUnit(height);\n    };\n    TimelineMonth.prototype.getDateSlots = function (renderDates, workDays) {\n        var dateSlots = [];\n        for (var _i = 0, renderDates_1 = renderDates; _i < renderDates_1.length; _i++) {\n            var col = renderDates_1[_i];\n            var classList = [cls.HEADER_CELLS_CLASS];\n            if (this.isCurrentDate(col)) {\n                classList.push(cls.CURRENT_DAY_CLASS);\n            }\n            dateSlots.push({ date: col, type: 'dateHeader', className: classList, colSpan: 1, workDays: workDays });\n        }\n        return dateSlots;\n    };\n    TimelineMonth.prototype.renderLeftIndent = function (tr) {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.resourceBase.renderResourceHeaderIndent(tr);\n        }\n    };\n    TimelineMonth.prototype.renderContent = function () {\n        var contentTr = createElement('tr');\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            var resTd = createElement('td');\n            resTd.appendChild(this.parent.resourceBase.createResourceColumn());\n            contentTr.appendChild(resTd);\n        }\n        var contentTd = createElement('td');\n        this.element.querySelector('tbody').appendChild(contentTr);\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        wrap.appendChild(this.renderContentArea());\n        wrap.appendChild(this.createEventTable(this.getRowCount()));\n        this.collapseRows(wrap);\n        EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n        contentTd.appendChild(wrap);\n        if (this.parent.virtualScrollModule) {\n            this.parent.virtualScrollModule.renderVirtualTrack(wrap);\n        }\n        contentTr.appendChild(contentTd);\n    };\n    TimelineMonth.prototype.getRowCount = function () {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            return this.parent.resourceBase.renderedResources.length;\n        }\n        return 1;\n    };\n    TimelineMonth.prototype.getContentSlots = function () {\n        var slotDatas = [];\n        for (var row = 0; row < this.getRowCount(); row++) {\n            for (var _i = 0, _a = this.colLevels[this.colLevels.length - 1]; _i < _a.length; _i++) {\n                var data = _a[_i];\n                data.className = [cls.WORK_CELLS_CLASS];\n                if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                    var resLevel = this.parent.resourceBase.renderedResources[parseInt(row.toString(), 10)];\n                    data.workDays = resLevel.resourceData[resLevel.resource.workDaysField] || this.parent.workDays;\n                    data.className = data.className.concat(resLevel.className);\n                    data.groupIndex = resLevel.groupIndex;\n                    data.groupOrder = resLevel.groupOrder;\n                }\n                var slotData = {\n                    date: new Date(+data.date), colSpan: data.colSpan, groupIndex: data.groupIndex, workDays: data.workDays,\n                    type: 'monthCells', className: data.className\n                };\n                if (!slotDatas[parseInt(row.toString(), 10)]) {\n                    slotDatas[parseInt(row.toString(), 10)] = [];\n                }\n                slotDatas[parseInt(row.toString(), 10)].push(slotData);\n            }\n        }\n        return slotDatas;\n    };\n    TimelineMonth.prototype.updateClassList = function (data) {\n        if (!this.parent.isMinMaxDate(data.date)) {\n            data.className.push(cls.DISABLE_DATES);\n        }\n    };\n    TimelineMonth.prototype.unWireEvents = function () {\n        EventHandler.remove(this.getContentAreaElement(), 'scroll', this.onContentScroll);\n    };\n    TimelineMonth.prototype.getMonthStart = function (currentDate) {\n        var monthStart = this.parent.calendarUtil.firstDateOfMonth(util.resetTime(currentDate));\n        return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n    };\n    TimelineMonth.prototype.getMonthEnd = function (currentDate) {\n        var monthStart = this.parent.calendarUtil.firstDateOfMonth(util.resetTime(currentDate));\n        return this.parent.calendarUtil.lastDateOfMonth(util.addMonths(new Date(+monthStart), this.parent.activeViewOptions.interval - 1));\n    };\n    TimelineMonth.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        colLevels.push(level);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.parent.resourceBase.generateResourceLevels(level, !this.parent.uiStateValues.isGroupAdaptive);\n        }\n        var hourSlots = [];\n        if (this.parent.activeViewOptions.headerRows.length > 0) {\n            var renderGn = new TimelineHeaderRow(this.parent, this.renderDates);\n            colLevels = renderGn.generateColumnLevels(level, hourSlots);\n        }\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    TimelineMonth.prototype.getAdjustedDate = function (startTime) {\n        var timeSlots = this.colLevels[this.colLevels.length - 1];\n        for (var i = 0; i < timeSlots.length; i++) {\n            if (timeSlots[parseInt(i.toString(), 10)].date.getTime() > startTime.getTime()) {\n                return timeSlots[i - 1].date;\n            }\n        }\n        return null;\n    };\n    TimelineMonth.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            var contentScrollableEle = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            if (contentScrollableEle) {\n                EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n            }\n        }\n        if (this.appointment) {\n            this.appointment.destroy();\n            this.appointment = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return TimelineMonth;\n}(Month));\nexport { TimelineMonth };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, addClass, createElement, EventHandler } from '@syncfusion/ej2-base';\nimport { Year } from './year';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * timeline year view\n */\nvar TimelineYear = /** @class */ (function (_super) {\n    __extends(TimelineYear, _super);\n    function TimelineYear(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-timeline-year-view';\n        _this.isInverseTableSelect = true;\n        return _this;\n    }\n    TimelineYear.prototype.getModuleName = function () {\n        return 'timelineYear';\n    };\n    TimelineYear.prototype.renderHeader = function (headerWrapper) {\n        var tr = createElement('tr');\n        headerWrapper.appendChild(tr);\n        if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.resourceBase.renderResourceHeaderIndent(tr);\n        }\n        else {\n            var leftHeaderCells = createElement('td', { className: cls.LEFT_INDENT_CLASS });\n            tr.appendChild(leftHeaderCells);\n            leftHeaderCells.appendChild(this.renderResourceHeader(cls.LEFT_INDENT_WRAP_CLASS));\n        }\n        var isHorizontal = this.parent.activeViewOptions.orientation === 'Horizontal';\n        var isGroup = this.parent.activeViewOptions.group.resources.length > 0;\n        this.isInverseTableSelect = isHorizontal && !isGroup ? false : true;\n        var td = createElement('td');\n        tr.appendChild(td);\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        td.appendChild(container);\n        if (this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            container.appendChild(this.renderResourceHeader(cls.DATE_HEADER_WRAP_CLASS));\n            this.columnCount = this.colLevels.slice(-1)[0].length;\n        }\n        else {\n            var wrapper = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n            container.appendChild(wrapper);\n            var table = this.createTableLayout();\n            wrapper.appendChild(table);\n            table.appendChild(this.createTableColGroup(this.columnCount));\n            var innerTr = createElement('tr');\n            table.querySelector('tbody').appendChild(innerTr);\n            var months = this.getMonths();\n            var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n            for (var column = 0; column < this.columnCount; column++) {\n                var date = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], 1);\n                var innerTd = createElement('td', { className: cls.HEADER_CELLS_CLASS });\n                if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                    if (this.parent.dayHeaderTemplate) {\n                        append(this.renderDayMonthHeaderTemplate(dayHeaderDates[parseInt(column.toString(), 10)], column, 'dayHeaderTemplate'), innerTd);\n                    }\n                    else {\n                        innerTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[column % 7] + \"</span>\";\n                    }\n                }\n                else {\n                    if (this.parent.monthHeaderTemplate) {\n                        append(this.renderDayMonthHeaderTemplate(date, months[parseInt(column.toString(), 10)], 'monthHeaderTemplate'), innerTd);\n                    }\n                    else {\n                        innerTd.innerHTML = \"<span>\" + this.getMonthName(date) + \"</span>\";\n                    }\n                    innerTd.setAttribute('data-date', date.getTime().toString());\n                }\n                innerTr.appendChild(innerTd);\n                this.parent.trigger(event.renderCell, { elementType: 'headerCells', element: innerTd });\n            }\n        }\n    };\n    TimelineYear.prototype.renderResourceHeader = function (className) {\n        var wrap = createElement('div', { className: className });\n        var tbl = this.createTableLayout();\n        wrap.appendChild(tbl);\n        var trEle = createElement('tr');\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.colLevels = this.generateColumnLevels();\n        }\n        else {\n            var colData = [{ className: [cls.HEADER_CELLS_CLASS], type: 'headerCell' }];\n            this.colLevels = [colData];\n        }\n        for (var _i = 0, _a = this.colLevels; _i < _a.length; _i++) {\n            var col = _a[_i];\n            var ntr = trEle.cloneNode();\n            var count = className === cls.DATE_HEADER_WRAP_CLASS ? col : [col[0]];\n            for (var _b = 0, count_1 = count; _b < count_1.length; _b++) {\n                var c = count_1[_b];\n                var tdEle = createElement('td');\n                if (c.className) {\n                    addClass([tdEle], c.className);\n                }\n                if (className === cls.DATE_HEADER_WRAP_CLASS) {\n                    if (c.template) {\n                        append(c.template, tdEle);\n                    }\n                    if (c.colSpan) {\n                        tdEle.setAttribute('colspan', c.colSpan.toString());\n                    }\n                    if (c.groupIndex > -1) {\n                        tdEle.setAttribute('data-group-index', c.groupIndex.toString());\n                    }\n                    this.setResourceHeaderContent(tdEle, c);\n                }\n                if (className === cls.LEFT_INDENT_WRAP_CLASS) {\n                    this.parent.renderHeaderIndentTemplate(c, tdEle);\n                }\n                var args = { elementType: c.type, element: tdEle, date: c.date, groupIndex: c.groupIndex };\n                this.parent.trigger(event.renderCell, args);\n                ntr.appendChild(tdEle);\n            }\n            tbl.querySelector('tbody').appendChild(ntr);\n        }\n        if (className === cls.DATE_HEADER_WRAP_CLASS) {\n            tbl.appendChild(this.createTableColGroup(this.colLevels.slice(-1)[0].length));\n        }\n        return wrap;\n    };\n    TimelineYear.prototype.renderContent = function (contentWrapper) {\n        var tr = createElement('tr');\n        contentWrapper.appendChild(tr);\n        var firstTd = createElement('td');\n        var lastTd = createElement('td');\n        var tdCollection = [];\n        var monthTBody;\n        if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            tdCollection.push(firstTd);\n            firstTd.appendChild(this.parent.resourceBase.createResourceColumn());\n            this.rowCount = this.parent.resourceBase.renderedResources.length;\n        }\n        else {\n            tdCollection.push(firstTd);\n            var monthWrapper = createElement('div', { className: cls.MONTH_HEADER_WRAPPER });\n            firstTd.appendChild(monthWrapper);\n            monthWrapper.appendChild(this.createTableLayout());\n            monthTBody = monthWrapper.querySelector('tbody');\n        }\n        tdCollection.push(lastTd);\n        append(tdCollection, tr);\n        var content = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        lastTd.appendChild(content);\n        var contentTable = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.setAriaAttributes(contentTable);\n        content.appendChild(contentTable);\n        var eventWrapper = createElement('div', { className: cls.EVENT_TABLE_CLASS });\n        content.appendChild(eventWrapper);\n        if (this.parent.virtualScrollModule) {\n            this.parent.virtualScrollModule.renderVirtualTrack(content);\n        }\n        var contentTBody = contentTable.querySelector('tbody');\n        if (this.parent.rowAutoHeight) {\n            var addClassTable = [contentTable];\n            var monthHeader = this.parent.element.querySelector('.' + cls.MONTH_HEADER_WRAPPER + ' .' + cls.SCHEDULE_TABLE_CLASS);\n            if (monthHeader) {\n                addClassTable.push(monthHeader);\n            }\n            addClass(addClassTable, cls.AUTO_HEIGHT);\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            var colCount = this.parent.activeViewOptions.orientation === 'Horizontal' ? this.colLevels.slice(-1)[0].length : this.columnCount;\n            contentTable.appendChild(this.createTableColGroup(colCount));\n            this.renderResourceContent(eventWrapper, monthTBody, contentTBody);\n        }\n        else {\n            contentTable.appendChild(this.createTableColGroup(this.columnCount));\n            this.renderDefaultContent(eventWrapper, monthTBody, contentTBody);\n        }\n    };\n    TimelineYear.prototype.renderDefaultContent = function (wrapper, monthBody, contentBody) {\n        var months = this.getMonths();\n        var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n        for (var month = 0; month < this.rowCount; month++) {\n            wrapper.appendChild(createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS }));\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(month.toString(), 10)], 1);\n            var monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            var monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n            var tr = createElement('tr');\n            var monthTr = tr.cloneNode();\n            monthBody.appendChild(monthTr);\n            var contentTr = tr.cloneNode();\n            contentBody.appendChild(contentTr);\n            var monthTd = createElement('td', { className: cls.MONTH_HEADER_CLASS });\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                if (this.parent.monthHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(monthStart, month, 'monthHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n                }\n                monthTd.setAttribute('data-date', monthDate.getTime().toString());\n            }\n            else {\n                if (this.parent.dayHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(dayHeaderDates[parseInt(month.toString(), 10)], month, 'dayHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[month % 7] + \"</span>\";\n                }\n            }\n            monthTr.appendChild(monthTd);\n            this.parent.trigger(event.renderCell, { elementType: 'leftHeaderCells', element: monthTd });\n            var date = new Date(monthStart.getTime());\n            for (var column = 0; column < this.columnCount; column++) {\n                var isDateAvail = void 0;\n                if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                    monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], 1);\n                    monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                    monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n                    var dayDate = (month - monthStart.getDay()) + 1;\n                    date = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], dayDate);\n                    isDateAvail = dayDate > 0 && date.getTime() < monthEnd.getTime();\n                }\n                else {\n                    isDateAvail = column >= monthStart.getDay() && date.getTime() < monthEnd.getTime();\n                }\n                var announcementText = this.parent.globalize.formatDate(date, {\n                    skeleton: 'full', calendar: this.parent.getCalendarMode()\n                });\n                var td = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS, attrs: { 'aria-selected': 'false', 'aria-label': announcementText }\n                });\n                contentTr.appendChild(td);\n                var dateHeader = createElement('div', {\n                    className: cls.DATE_HEADER_CLASS + ' ' + cls.NAVIGATE_CLASS,\n                    innerHTML: (isDateAvail) ?\n                        this.parent.globalize.formatDate(date, { skeleton: 'd', calendar: this.parent.getCalendarMode() }) : ''\n                });\n                if (isDateAvail) {\n                    var tds = [td];\n                    var classList = [];\n                    if (this.parent.activeViewOptions.workDays.indexOf(date.getDay()) > -1) {\n                        classList.push(cls.WORKDAY_CLASS);\n                    }\n                    if (!this.parent.isMinMaxDate(date)) {\n                        addClass([td], cls.DISABLE_DATES);\n                    }\n                    if (this.isCurrentDate(date)) {\n                        classList.push(cls.CURRENT_DAY_CLASS);\n                        if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                            tds.push(this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + (\":nth-child(\" + (column + 1) + \")\")));\n                        }\n                        else {\n                            tds.push(this.element.querySelectorAll('.' + cls.MONTH_HEADER_CLASS).item(month));\n                        }\n                    }\n                    if (classList.length > 0) {\n                        addClass(tds, classList);\n                    }\n                }\n                else {\n                    addClass([td], cls.OTHERMONTH_CLASS);\n                    if (!this.parent.isMinMaxDate(date)) {\n                        addClass([td], cls.DISABLE_DATES);\n                    }\n                }\n                if (td.classList.contains(cls.OTHERMONTH_CLASS)) {\n                    continue;\n                }\n                else {\n                    this.renderDates.push(new Date(date));\n                }\n                td.appendChild(dateHeader);\n                if (isDateAvail) {\n                    td.setAttribute('data-date', date.getTime().toString());\n                    this.wireEvents(td);\n                }\n                this.renderCellTemplate({ date: date, type: 'workCells' }, td);\n                this.parent.trigger(event.renderCell, { elementType: 'workCells', element: td, date: date });\n                if (isDateAvail) {\n                    if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                        date = util.addDays(new Date(date.getTime()), 1);\n                    }\n                }\n            }\n        }\n        this.renderDates.splice(0, 1);\n    };\n    TimelineYear.prototype.getContentRows = function () {\n        var tRow = [];\n        var monthCells = this.getMonths();\n        var existingGroupIndices = this.getGroupIndices();\n        for (var row = 0; row < this.parent.resourceBase.renderedResources.length; row++) {\n            var resData = void 0;\n            if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                resData = this.parent.resourceBase.renderedResources[parseInt(row.toString(), 10)];\n                if (existingGroupIndices.length > 0 && existingGroupIndices.indexOf(resData.groupIndex) > -1) {\n                    continue;\n                }\n            }\n            var tr = createElement('tr');\n            tRow.push(tr);\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[parseInt(row.toString(), 10)], 1);\n            var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            for (var month = 0; month < this.columnCount; month++) {\n                var classList = [];\n                var groupIndex = resData.groupIndex;\n                classList = classList.concat(resData.className);\n                if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n                    classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n                }\n                else {\n                    classList.push(cls.WORKDAY_CLASS);\n                }\n                monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[parseInt(month.toString(), 10)], 1);\n                date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                var tdELe = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS,\n                    attrs: {\n                        'aria-selected': 'false',\n                        'data-date': date.getTime().toString()\n                    }\n                });\n                addClass([tdELe], classList);\n                tdELe.setAttribute('data-group-index', groupIndex.toString());\n                this.renderCellTemplate({ date: date, type: 'resourceGroupCells', groupIndex: groupIndex }, tdELe);\n                this.wireEvents(tdELe);\n                this.parent.trigger(event.renderCell, { elementType: 'resourceGroupCells', element: tdELe, date: date });\n                tr.appendChild(tdELe);\n            }\n        }\n        return tRow;\n    };\n    TimelineYear.prototype.renderResourceContent = function (wrapper, monthBody, contentBody) {\n        var months = this.getMonths();\n        for (var row = 0; row < this.rowCount; row++) {\n            wrapper.appendChild(createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS }));\n            var tr = createElement('tr');\n            contentBody.appendChild(tr);\n            var resData = void 0;\n            if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                resData = this.parent.resourceBase.renderedResources[parseInt(row.toString(), 10)];\n            }\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(row.toString(), 10)], 1);\n            var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                var monthTr = tr.cloneNode();\n                monthBody.appendChild(monthTr);\n                var monthTd = createElement('td', {\n                    className: cls.MONTH_HEADER_CLASS,\n                    attrs: { 'data-date': date.getTime().toString() }\n                });\n                if (this.parent.monthHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(monthDate, row, 'monthHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n                }\n                monthTr.appendChild(monthTd);\n            }\n            for (var month = 0; month < this.columnCount; month++) {\n                var classList = [];\n                var groupIndex = void 0;\n                if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                    groupIndex = resData.groupIndex;\n                    classList = classList.concat(resData.className);\n                    if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n                        classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n                    }\n                    else {\n                        classList.push(cls.WORKDAY_CLASS);\n                    }\n                    monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(month.toString(), 10)], 1);\n                    date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                }\n                else {\n                    groupIndex = this.colLevels.slice(-1)[0][parseInt(month.toString(), 10)].groupIndex;\n                    classList.push(cls.WORKDAY_CLASS);\n                }\n                var startDateText = this.parent.globalize.formatDate(date, { type: 'dateTime', skeleton: 'full', calendar: this.parent.getCalendarMode() });\n                var endDateText = this.parent.globalize.formatDate(this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime())), { type: 'dateTime', skeleton: 'full', calendar: this.parent.getCalendarMode() });\n                var td = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS,\n                    attrs: {\n                        'aria-selected': 'false',\n                        'data-date': date.getTime().toString(),\n                        'aria-label': startDateText + ' ' + this.parent.localeObj.getConstant('endAt') + ' ' + endDateText\n                    }\n                });\n                addClass([td], classList);\n                td.setAttribute('data-group-index', groupIndex.toString());\n                this.renderCellTemplate({ date: date, type: 'resourceGroupCells', groupIndex: groupIndex }, td);\n                this.wireEvents(td);\n                tr.appendChild(td);\n                this.parent.trigger(event.renderCell, { elementType: 'resourceGroupCells', element: td, date: date });\n            }\n        }\n        if (this.parent.activeViewOptions.orientation === 'Vertical') {\n            this.collapseRows(this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS));\n        }\n    };\n    TimelineYear.prototype.renderDayMonthHeaderTemplate = function (date, column, type) {\n        var args = { date: date, type: type === 'dayHeaderTemplate' ? 'dayHeader' : 'monthHeader' };\n        var dayId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"dayHeaderTemplate\";\n        var monthId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"monthHeaderTemplate\";\n        if (type === 'dayHeaderTemplate') {\n            args.day = this.parent.getDayNames('wide')[column % 7];\n            return [].slice.call(this.parent.getDayHeaderTemplate()(args, this.parent, 'dayHeaderTemplate', dayId, false, undefined, undefined, this.parent.root));\n        }\n        else {\n            return [].slice.call(this.parent.getMonthHeaderTemplate()(args, this.parent, 'monthHeaderTemplate', monthId, false, undefined, undefined, this.parent.root));\n        }\n    };\n    TimelineYear.prototype.renderCellTemplate = function (data, td) {\n        if (!this.parent.activeViewOptions.cellTemplate || td.classList.contains(cls.OTHERMONTH_CLASS)) {\n            return;\n        }\n        var args = { date: data.date, type: data.type };\n        if (data.groupIndex) {\n            args.groupIndex = data.groupIndex;\n        }\n        var scheduleId = this.parent.element.id + '_';\n        var viewName = this.parent.activeViewOptions.cellTemplateName;\n        var templateId = scheduleId + viewName + 'cellTemplate';\n        var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args, this.parent, 'cellTemplate', templateId, false, undefined, undefined, this.parent.root));\n        append(cellTemplate, td);\n    };\n    TimelineYear.prototype.scrollToDate = function (scrollDate) {\n        var date;\n        if (this.parent.activeViewOptions.group.resources !== null && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            date = +new Date(util.resetTime(util.firstDateOfMonth(scrollDate)));\n        }\n        else {\n            date = +new Date(util.resetTime(scrollDate));\n        }\n        var element = this.element.querySelector('[data-date=\"' + date + '\"]');\n        if (element) {\n            var wrap = this.getScrollableElement();\n            if (this.parent.enableRtl) {\n                var conTable = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n                wrap.scrollLeft = -(conTable.offsetWidth - element.offsetLeft - element.offsetWidth);\n            }\n            else {\n                wrap.scrollLeft = element.offsetLeft;\n            }\n            wrap.scrollTop = element.offsetTop;\n        }\n    };\n    TimelineYear.prototype.getScrollableElement = function () {\n        if (this.parent.isAdaptive && !this.isTimelineView()) {\n            return this.element.querySelector('.' + cls.SCROLL_CONTAINER_CLASS);\n        }\n        else {\n            return this.getContentAreaElement();\n        }\n    };\n    TimelineYear.prototype.wireEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    return TimelineYear;\n}(Year));\nexport { TimelineYear };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { extend } from '@syncfusion/ej2-base';\nimport { getDateFromRecurrenceDateString, getRecurrenceStringFromDate } from '../../recurrence-editor/date-generator';\n/**\n * ICalendar Export Module\n */\nvar ICalendarExport = /** @class */ (function () {\n    function ICalendarExport(parent) {\n        this.parent = parent;\n    }\n    ICalendarExport.prototype.initializeCalendarExport = function (fileName, customData) {\n        var icsString = this.getCalendarString(fileName, customData);\n        this.download(icsString, fileName);\n    };\n    ICalendarExport.prototype.getCalendarString = function (fileName, customData) {\n        var _this = this;\n        var eventsData = (customData) ? customData :\n            extend([], this.parent.eventsData, null, true);\n        eventsData = this.parent.eventBase.sortByTime(eventsData);\n        var SEPARATOR = (navigator.appVersion.indexOf('Win') !== -1) ? '\\r\\n' : '\\n';\n        var iCalendarEvents = [];\n        var filterCollection = [];\n        var timeZone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n        var fields = this.parent.eventFields;\n        eventsData.forEach(function (eventObj) {\n            var uId = eventObj[fields.id] || eventObj.Guid || _this.parent.eventBase.generateGuid();\n            var editedExDate = [];\n            if (eventObj[fields.recurrenceID]) {\n                var filter = _this.filterEvents(filterCollection, fields.id, eventObj[fields.recurrenceID]);\n                uId = filter.length > 0 ? filter[0].UID : uId;\n            }\n            if (!eventObj[fields.recurrenceID] && eventObj[fields.recurrenceRule] && eventObj[fields.recurrenceException]) {\n                var exDate = (eventObj[fields.recurrenceException]).split(',');\n                var editedObj = _this.filterEvents(eventsData, fields.recurrenceID, eventObj[fields.id]);\n                editedObj.forEach(function (edited) {\n                    editedExDate.push(getRecurrenceStringFromDate(edited[fields.startTime]));\n                });\n                var exceptionDateList = exDate.filter(function (value) { return editedExDate.indexOf(value) === -1; });\n                eventObj[fields.recurrenceException] = (exceptionDateList.length > 0) ? (exceptionDateList.join(',') + ',') : '';\n            }\n            var startZone = (eventObj[fields.startTimezone] || timeZone);\n            var endZone = (eventObj[fields.endTimezone] || timeZone);\n            var readonly = (eventObj[fields.isReadonly]) ? (eventObj[fields.isReadonly]) : false;\n            var calendarEvent = [\n                'BEGIN:VEVENT',\n                'LOCATION:' + (eventObj[fields.location] || ''),\n                'SUMMARY:' + (eventObj[fields.subject] || ''),\n                'UID:' + uId,\n                'DESCRIPTION:' + (eventObj[fields.description] || ''),\n                'ISREADONLY:' + readonly,\n                'END:VEVENT'\n            ];\n            if (eventObj[fields.isAllDay]) {\n                calendarEvent.splice(4, 0, 'DTEND;VALUE=DATE:' + _this.convertDateToString(eventObj[fields.endTime], true));\n                calendarEvent.splice(4, 0, 'DTSTART;VALUE=DATE:' + _this.convertDateToString(eventObj[fields.startTime], true));\n            }\n            else if (!eventObj[fields.isAllDay] && !eventObj[fields.recurrenceRule]) {\n                calendarEvent.splice(4, 0, 'DTEND:' + _this.convertDateToString(eventObj[fields.endTime]));\n                calendarEvent.splice(4, 0, 'DTSTART:' + _this.convertDateToString(eventObj[fields.startTime]));\n            }\n            else {\n                calendarEvent.splice(4, 0, 'DTEND;TZID=\"' + endZone + '\":' + _this.convertDateToString(eventObj[fields.endTime]));\n                calendarEvent.splice(4, 0, 'DTSTART;TZID=\"' + startZone + '\":'\n                    + _this.convertDateToString(eventObj[fields.startTime]));\n            }\n            if (eventObj[fields.recurrenceRule]) {\n                calendarEvent.splice(4, 0, 'RRULE:' + eventObj[fields.recurrenceRule]);\n            }\n            if (eventObj[fields.recurrenceException]) {\n                var exDate = eventObj[fields.recurrenceException].split(',');\n                for (var i = 0; i < exDate.length - 1; i++) {\n                    calendarEvent.splice(5, 0, 'EXDATE:' +\n                        _this.convertDateToString(getDateFromRecurrenceDateString(exDate[parseInt(i.toString(), 10)]), eventObj[fields.isAllDay]));\n                }\n            }\n            if (eventObj[fields.recurrenceID]) {\n                calendarEvent.splice(4, 0, 'RECURRENCE-ID;TZID=\"' + startZone + '\":'\n                    + _this.convertDateToString(eventObj[fields.startTime], eventObj[fields.isAllDay]));\n            }\n            var customFields = _this.customFieldFilter(eventObj, fields);\n            if (customFields.length > 0) {\n                customFields.forEach(function (customField) {\n                    return calendarEvent.splice(4, 0, customField + ':' + (eventObj[\"\" + customField] || ''));\n                });\n            }\n            var app = extend({}, eventObj);\n            app.UID = uId;\n            filterCollection.push(app);\n            iCalendarEvents.push(calendarEvent.join(SEPARATOR));\n        });\n        var iCalendar = [\n            'BEGIN:VCALENDAR',\n            'PRODID:-//Syncfusion Inc//Scheduler//EN',\n            'VERSION:2.0',\n            'CALSCALE:GREGORIAN',\n            'METHOD:PUBLISH',\n            'X-WR-CALNAME:' + (fileName || 'Calendar'),\n            'X-WR-TIMEZONE:' + timeZone\n        ].join(SEPARATOR);\n        var icsString = iCalendar + SEPARATOR + iCalendarEvents.join(SEPARATOR) + SEPARATOR + 'END:VCALENDAR';\n        return icsString;\n    };\n    ICalendarExport.prototype.customFieldFilter = function (eventObj, fields) {\n        var defaultFields = Object.keys(fields).map(function (key) { return fields[\"\" + key]; });\n        var eventFields = Object.keys(eventObj);\n        return eventFields.filter(function (value) { return (defaultFields.indexOf(value) === -1) && (value !== 'Guid'); });\n    };\n    ICalendarExport.prototype.convertDateToString = function (eventDate, allDay) {\n        var year = ('0000' + (eventDate.getFullYear().toString())).slice(-4);\n        var month = ('00' + ((eventDate.getMonth() + 1).toString())).slice(-2);\n        var date = ('00' + ((eventDate.getDate()).toString())).slice(-2);\n        var hours = ('00' + (eventDate.getHours().toString())).slice(-2);\n        var minutes = ('00' + (eventDate.getMinutes().toString())).slice(-2);\n        var seconds = ('00' + (eventDate.getSeconds().toString())).slice(-2);\n        var timeString = (allDay) ? year + month + date : year + month + date + 'T' + hours + minutes + seconds;\n        return timeString;\n    };\n    ICalendarExport.prototype.download = function (icsString, fileName) {\n        var buffer = new Blob([icsString], { type: 'data:text/calendar;charset=utf8' });\n        fileName = (fileName || 'Calendar') + '.ics';\n        if (navigator.msSaveBlob) {\n            navigator.msSaveBlob(buffer, fileName);\n        }\n        else {\n            var downloadLink_1 = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            downloadLink_1.download = fileName;\n            downloadLink_1.href = URL.createObjectURL(buffer);\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            downloadLink_1.dispatchEvent(event_1);\n            setTimeout(function () {\n                URL.revokeObjectURL(downloadLink_1.href);\n                downloadLink_1.href = undefined;\n            });\n        }\n    };\n    ICalendarExport.prototype.filterEvents = function (data, field, value) {\n        return data.filter(function (e) { return e[\"\" + field] === value; });\n    };\n    ICalendarExport.prototype.getModuleName = function () {\n        return 'iCalendarExport';\n    };\n    ICalendarExport.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.parent = null;\n    };\n    return ICalendarExport;\n}());\nexport { ICalendarExport };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { getRecurrenceStringFromDate } from '../../recurrence-editor/date-generator';\n/**\n * ICalendar Import Module\n */\nvar ICalendarImport = /** @class */ (function () {\n    function ICalendarImport(parent) {\n        this.allDay = false;\n        this.parent = parent;\n    }\n    ICalendarImport.prototype.initializeCalendarImport = function (fileContent) {\n        var _this = this;\n        if (fileContent && fileContent instanceof Blob) {\n            var fileReader_1 = new FileReader();\n            fileReader_1.onload = function () {\n                var iCalString = fileReader_1.result;\n                _this.iCalendarParser(iCalString);\n            };\n            fileReader_1.readAsText(fileContent, 'UTF-8');\n        }\n        else if (fileContent && typeof fileContent === 'string') {\n            this.iCalendarParser(fileContent);\n        }\n    };\n    ICalendarImport.prototype.iCalendarParser = function (iCalString) {\n        var iCalData = {\n            isEvent: false,\n            curEvent: null,\n            id: this.parent.eventBase.getEventMaxID(),\n            count: 0,\n            events: [],\n            key: null\n        };\n        var iStringLength = iCalString.length;\n        var lastPosition = iCalString.search(/[^ \\t]/);\n        var position = lastPosition;\n        var iString;\n        var newlineOffset;\n        do {\n            position = iCalString.indexOf('\\n', lastPosition) + 1;\n            if (position === 0) {\n                position = iStringLength;\n                newlineOffset = 0;\n            }\n            else if (position > 1 && iCalString[position - 2] === '\\r') {\n                newlineOffset = 2;\n            }\n            else {\n                newlineOffset = 1;\n            }\n            var firstChar = iCalString.charAt(lastPosition);\n            if (firstChar === ' ' || firstChar === '\\n' || firstChar === '\\t') {\n                iString += iCalString.slice(lastPosition + 1, position - newlineOffset);\n            }\n            else {\n                if (iString) {\n                    iCalData = this.updateEventData(iString, iCalData);\n                }\n                iString = iCalString.slice(lastPosition, position - newlineOffset);\n            }\n            lastPosition = position;\n        } while (position !== iStringLength);\n        iString = iString.trim();\n        if (iString.length) {\n            iCalData = this.updateEventData(iString, iCalData);\n        }\n        var app = extend([], iCalData.events, null, true);\n        this.parent.addEvent(this.processOccurrence(app, iCalData.id));\n    };\n    ICalendarImport.prototype.updateEventData = function (iString, iCalData) {\n        var fields = this.parent.eventFields;\n        var SEPARATOR = '\\r\\n';\n        var id = iCalData.id;\n        var events = iCalData.events;\n        var isEvent = iCalData.isEvent;\n        var count = iCalData.count;\n        var curEvent = iCalData.curEvent;\n        var key = iCalData.key;\n        if (!isEvent && iString === 'BEGIN:VEVENT') {\n            isEvent = true;\n            curEvent = {};\n        }\n        if (isEvent && iString === 'END:VEVENT') {\n            isEvent = false;\n            events.push(curEvent);\n            curEvent = null;\n        }\n        if (isEvent) {\n            var index = iString.indexOf(':');\n            var type_1 = iString.substring(0, index).replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n            var value = iString.substring(index + 1, iString.length).replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n            if (iString.indexOf('SUMMARY') !== -1) {\n                type_1 = 'SUMMARY';\n            }\n            if (iString.indexOf('DTSTART') !== -1) {\n                curEvent[fields.startTime] = this.dateParsing(iString);\n                curEvent[fields.isAllDay] = this.allDay;\n                this.allDay = false;\n            }\n            else if (iString.indexOf('DTEND') !== -1) {\n                curEvent[fields.endTime] = this.dateParsing(iString);\n            }\n            else if (iString.indexOf('EXDATE') !== -1) {\n                value = getRecurrenceStringFromDate(this.dateParsing(iString));\n                curEvent[fields.recurrenceException] = isNullOrUndefined(curEvent[fields.recurrenceException]) ?\n                    value : curEvent[fields.recurrenceException] + ',' + value;\n            }\n            else if (iString.indexOf('RECURRENCE-ID') !== -1) {\n                value = getRecurrenceStringFromDate(this.dateParsing(iString));\n                curEvent[fields.recurrenceException] = value;\n                curEvent[fields.recurrenceID] = value;\n            }\n            else {\n                key = type_1 || key;\n                switch (key) {\n                    case 'BEGIN':\n                        break;\n                    case 'UID':\n                        curEvent[\"\" + type_1] = value;\n                        if (typeof (id) == 'number') {\n                            curEvent[fields.id] = parseInt(value, 10);\n                            if (isNaN(curEvent[fields.id])) {\n                                curEvent[fields.id] = id + count;\n                                count++;\n                            }\n                        }\n                        else {\n                            curEvent[fields.id] = value;\n                        }\n                        break;\n                    case 'SUMMARY':\n                        curEvent[fields.subject] = this.getFormattedString(value);\n                        break;\n                    case 'LOCATION':\n                        curEvent[fields.location] = this.getFormattedString(value);\n                        break;\n                    case 'DESCRIPTION':\n                        if (curEvent[fields.description]) {\n                            curEvent[fields.description] = this.getFormattedString(curEvent[fields.description] + SEPARATOR + value);\n                        }\n                        else {\n                            curEvent[fields.description] = this.getFormattedString(value);\n                        }\n                        break;\n                    case 'ISREADONLY':\n                        curEvent[fields.isReadonly] = (value.indexOf('true') > -1);\n                        break;\n                    case 'RRULE':\n                        curEvent[fields.recurrenceRule] = value;\n                        break;\n                    default:\n                        if (this.parent.resourceCollection.length > 0) {\n                            var resData = this.parent.resourceCollection.filter(function (data) { return data.field === type_1; });\n                            curEvent[\"\" + type_1] = (resData.length > 0 && (typeof (resData[0].dataSource[0][resData[0].idField]) == 'number')) ? parseInt(value, 10) : value;\n                        }\n                        else {\n                            curEvent[\"\" + type_1] = value;\n                        }\n                }\n            }\n        }\n        return { isEvent: isEvent, curEvent: curEvent, id: id, count: count, events: events, key: key };\n    };\n    ICalendarImport.prototype.processOccurrence = function (app, maxId) {\n        var _this = this;\n        var appoint = [];\n        var uId = 'UID';\n        var fields = this.parent.eventFields;\n        var appointmentIds = [];\n        this.parent.eventsData.forEach(function (eventObj) {\n            appointmentIds.push(eventObj[fields.id]);\n        });\n        app.forEach(function (eventObj) {\n            var parentObj;\n            var id;\n            // eslint-disable-next-line no-prototype-builtins\n            if (!eventObj.hasOwnProperty(fields.recurrenceID)) {\n                parentObj = eventObj;\n                id = eventObj[fields.id];\n            }\n            if (appointmentIds.indexOf(eventObj[fields.id]) < 0) {\n                var data = app.filter(function (data) { return data.UID === eventObj[\"\" + uId]; });\n                if (data.length > 1 && isNullOrUndefined(eventObj[fields.recurrenceID])) {\n                    id = typeof (maxId) === 'number' ? maxId++ : id;\n                    for (var i = 0; i < data.length; i++) {\n                        // eslint-disable-next-line no-prototype-builtins\n                        if (data[parseInt(i.toString(), 10)].hasOwnProperty(fields.recurrenceID)) {\n                            var exdate = data[parseInt(i.toString(), 10)][fields.recurrenceID];\n                            data[parseInt(i.toString(), 10)][fields.id] = typeof (maxId) === 'number' ? maxId++ : _this.parent.eventBase.generateGuid();\n                            data[parseInt(i.toString(), 10)][fields.recurrenceID] = id;\n                            data[parseInt(i.toString(), 10)][fields.recurrenceException] = null;\n                            parentObj[fields.recurrenceException] =\n                                _this.getExcludeDateString(parentObj[fields.recurrenceException], exdate);\n                            delete data[parseInt(i.toString(), 10)][\"\" + uId];\n                            appoint.push(data[parseInt(i.toString(), 10)]);\n                        }\n                    }\n                    delete parentObj[\"\" + uId];\n                    parentObj[fields.id] = id;\n                    appoint.push(parentObj);\n                    // eslint-disable-next-line no-prototype-builtins\n                }\n                else if (!eventObj.hasOwnProperty(fields.recurrenceID)) {\n                    delete eventObj[\"\" + uId];\n                    eventObj[fields.id] = typeof (maxId) === 'number' ? maxId++ : id;\n                    appoint.push(eventObj);\n                }\n            }\n        });\n        return appoint;\n    };\n    ICalendarImport.prototype.getExcludeDateString = function (parentException, occurrenceException) {\n        if (isNullOrUndefined(parentException)) {\n            return occurrenceException;\n        }\n        else if (isNullOrUndefined(occurrenceException)) {\n            return parentException;\n        }\n        var parentExDate = parentException.split(',').map(function (x) { return x.split('T')[0]; });\n        var childExDate = occurrenceException.split(',').map(function (x) { return x.split('T')[0]; });\n        var exDate = parentExDate.filter(function (x) { return childExDate.indexOf(x) > -1; });\n        if (exDate.length > 0) {\n            return parentException;\n        }\n        return parentException + ',' + occurrenceException;\n    };\n    ICalendarImport.prototype.getFormattedString = function (value) {\n        value = value || '';\n        // eslint-disable-next-line no-useless-escape\n        return (value.replace(/\\\\\\,/g, ',').replace(/\\\\\\;/g, ';').replace(/\\\\[nN]/g, '\\n').replace(/\\\\\\\\/g, '\\\\'));\n    };\n    ICalendarImport.prototype.dateParsing = function (element) {\n        var split = element.split(':');\n        var value = split[split.length - 1];\n        var newDate = new Date(this.getFormattedString(value));\n        if (element && (element.indexOf('VALUE=DATE') > -1 || element.indexOf('RECURRENCE-ID;TZID') > -1)) {\n            var data_1 = /^(\\d{4})(\\d{2})(\\d{2})$/.exec(value);\n            if (data_1 !== null) {\n                newDate = new Date(parseInt(data_1[1], 10), parseInt(data_1[2], 10) - 1, parseInt(data_1[3], 10));\n            }\n            if (element.indexOf('DTSTART') > -1) {\n                this.allDay = true;\n            }\n        }\n        var data = /^(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})(Z)?$/.exec(value);\n        if (data !== null) {\n            if (data[7] === 'Z') {\n                newDate = new Date(Date.UTC(parseInt(data[1], 10), parseInt(data[2], 10) - 1, parseInt(data[3], 10), parseInt(data[4], 10), parseInt(data[5], 10), parseInt(data[6], 10)));\n            }\n            else {\n                newDate = new Date(parseInt(data[1], 10), parseInt(data[2], 10) - 1, parseInt(data[3], 10), parseInt(data[4], 10), parseInt(data[5], 10), parseInt(data[6], 10));\n            }\n        }\n        return newDate;\n    };\n    ICalendarImport.prototype.getModuleName = function () {\n        return 'iCalendarImport';\n    };\n    ICalendarImport.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n    };\n    return ICalendarImport;\n}());\nexport { ICalendarImport };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Workbook } from '@syncfusion/ej2-excel-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Excel Export Module\n */\nvar ExcelExport = /** @class */ (function () {\n    function ExcelExport(parent) {\n        this.parent = parent;\n    }\n    ExcelExport.prototype.initializeExcelExport = function (excelExportOptions) {\n        if (excelExportOptions === void 0) { excelExportOptions = {}; }\n        var exportColumns = this.getExportColumns(excelExportOptions);\n        var exportName = excelExportOptions.fileName || 'Schedule';\n        var exportType = excelExportOptions.exportType || 'xlsx';\n        var isIncludeOccurrences = excelExportOptions.includeOccurrences || false;\n        var separator;\n        if (!isNullOrUndefined(excelExportOptions.separator) && excelExportOptions.separator !== ',') {\n            separator = excelExportOptions.separator;\n        }\n        var eventCollection;\n        if (excelExportOptions.customData) {\n            eventCollection = !isIncludeOccurrences ? excelExportOptions.customData :\n                this.parent.eventBase.getProcessedEvents(excelExportOptions.customData);\n        }\n        else {\n            eventCollection = !isIncludeOccurrences ? this.parent.eventsData : this.parent.eventsProcessed;\n        }\n        this.processWorkbook(exportColumns, exportName, exportType, eventCollection, separator);\n    };\n    ExcelExport.prototype.processWorkbook = function (fields, name, type, eventCollection, separator) {\n        var _this = this;\n        var columns = [];\n        var rows = [];\n        var columnHeader = [];\n        fields.forEach(function (field, i) { columns.push({ index: i + 1, width: (field.name === 'Id' ? 50 : 150) }); });\n        var style = { fontSize: 12, borders: { color: '#E0E0E0' }, bold: true };\n        fields.forEach(function (field, i) { columnHeader.push({ index: i + 1, value: field.text, style: style }); });\n        rows.push({ index: 1, cells: columnHeader });\n        eventCollection.forEach(function (event, i) {\n            var columnData = [];\n            fields.forEach(function (field, n) {\n                var columnRule = { index: n + 1, value: event[field.name] || '' };\n                if (field.name === _this.parent.eventFields.startTime || field.name === _this.parent.eventFields.endTime) {\n                    var styleRule = { fontSize: 12, numberFormat: 'm/d/yyyy h:mm a' };\n                    columnRule = extend({}, columnRule, { style: styleRule }, true);\n                }\n                columnData.push(columnRule);\n            });\n            rows.push({ index: i + 2, cells: columnData });\n        });\n        var workSheet = [{ columns: columns, rows: rows }];\n        var book = new Workbook({ worksheets: workSheet }, type, this.parent.locale, undefined, separator);\n        book.save(name + '.' + type);\n    };\n    ExcelExport.prototype.getExportColumns = function (exportOptions) {\n        var _this = this;\n        var exportColumns = exportOptions.fieldsInfo || [];\n        if (exportColumns.length === 0) {\n            var fields = exportOptions.fields || Object.keys(this.parent.eventFields).map(function (field) {\n                return _this.parent.eventFields[\"\" + field];\n            });\n            fields.forEach(function (field) { exportColumns.push({ name: field, text: field }); });\n        }\n        return exportColumns;\n    };\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    ExcelExport.prototype.destroy = function () {\n        this.parent = null;\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { print as basePrint, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Schedule } from '../base/schedule';\nimport { TimelineYear } from '../renderer/timeline-year';\nimport { Year } from '../renderer/year';\nimport { TimelineMonth } from '../renderer/timeline-month';\nimport { TimelineViews } from '../renderer/timeline-view';\nimport { MonthAgenda } from '../renderer/month-agenda';\nimport { Agenda } from '../renderer/agenda';\nimport { Month } from '../renderer/month';\nimport { WorkWeek } from '../renderer/work-week';\nimport { Week } from '../renderer/week';\nimport { Day } from '../renderer/day';\nimport * as events from '../base/constant';\n/**\n * Print Module\n */\nvar Print = /** @class */ (function () {\n    function Print(parent) {\n        this.parent = parent;\n    }\n    Print.prototype.print = function (printOptions) {\n        if (isNullOrUndefined(printOptions)) {\n            this.printScheduler();\n        }\n        else {\n            this.printSchedulerWithModel(printOptions);\n        }\n    };\n    Print.prototype.printScheduler = function () {\n        var clone = this.parent.element.cloneNode(true);\n        clone.id = this.parent.element.id + '_print';\n        document.body.appendChild(clone);\n        var className = this.parent.currentView === 'MonthAgenda' ? '.e-appointment-wrap' : '.e-content-wrap';\n        var scrollableEle = this.parent.element.querySelector(className);\n        var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n        var reference = '';\n        for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {\n            var link = links_1[_i];\n            reference += link.outerHTML;\n        }\n        var div = createElement('div');\n        clone.style.width = this.parent.element.offsetWidth + 'px';\n        var elementWidth = Math.round((parseInt(clone.style.width, 10)) / 100) * 100;\n        div.appendChild(clone);\n        var printWindow = window.open('', 'print', 'height=550,width=' + elementWidth + ',tabbar=no');\n        printWindow.document.write('<!DOCTYPE html><html><head>' + reference + '</head><body>' + div.innerHTML +\n            '<script>(function() { window.ready = true; })();</script></body></html>');\n        printWindow.document.close();\n        printWindow.focus();\n        setTimeout(function () {\n            if (printWindow.ready && scrollableEle) {\n                // eslint-disable-next-line no-self-assign\n                scrollableEle.scrollLeft = scrollableEle.scrollLeft;\n                // eslint-disable-next-line no-self-assign\n                scrollableEle.scrollTop = scrollableEle.scrollTop;\n                var headerTimeCellsScroll = printWindow.document.querySelector('.e-date-header-wrap');\n                if (headerTimeCellsScroll) {\n                    headerTimeCellsScroll.scrollLeft = scrollableEle.scrollLeft;\n                }\n                var timeCellsScroll = printWindow.document.querySelector('.e-time-cells-wrap');\n                if (timeCellsScroll) {\n                    timeCellsScroll.scrollTop = scrollableEle.scrollTop;\n                }\n                var contentCellScroll = printWindow.document.querySelector(className);\n                if (contentCellScroll) {\n                    contentCellScroll.scrollLeft = scrollableEle.scrollLeft;\n                    contentCellScroll.scrollTop = scrollableEle.scrollTop;\n                }\n                printWindow.print();\n                printWindow.close();\n            }\n        }, 500);\n    };\n    Print.prototype.printSchedulerWithModel = function (printOptions) {\n        var element = createElement('div', { id: this.parent.element.id + '_print', className: 'e-print-schedule' });\n        document.body.appendChild(element);\n        Schedule.Inject(Day, Week, WorkWeek, Month, Agenda, MonthAgenda, TimelineViews, TimelineMonth, Year, TimelineYear);\n        this.printInstance = new Schedule(this.getPrintScheduleModel(printOptions));\n        this.printInstance.isPrinting = true;\n        this.printInstance.registeredTemplate = this.parent.registeredTemplate;\n        this.printInstance.root = this.parent.root ? this.parent.root : this.parent;\n        this.printInstance.appendTo(element);\n        this.printInstance.on(events.print, this.contentReady, this);\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n    };\n    Print.prototype.getPrintScheduleModel = function (printOptions) {\n        var printModel = {};\n        var scheduleProps = ['agendaDaysCount', 'calendarMode', 'cssClass', 'currentView',\n            'dateFormat', 'enableRtl', 'endHour', 'eventSettings', 'firstDayOfWeek',\n            'firstMonthOfYear', 'group', 'height', 'locale', 'maxDate', 'minDate', 'readonly',\n            'resources', 'rowAutoHeight', 'selectedDate', 'showHeaderBar', 'showTimeIndicator', 'showWeekNumber',\n            'showWeekend', 'startHour', 'timeFormat', 'timeScale', 'timezone', 'views', 'width', 'workDays', 'workHours',\n            'dateHeaderTemplate', 'dateRangeTemplate', 'cellHeaderTemplate', 'dayHeaderTemplate', 'monthHeaderTemplate',\n            'cellTemplate', 'resourceHeaderTemplate', 'headerIndentTemplate', 'actionBegin', 'actionComplete', 'actionFailure',\n            'created', 'dataBinding', 'dataBound', 'destroyed', 'eventRendered', 'moreEventsClick', 'navigating', 'popupOpen', 'popupClose', 'renderCell'\n        ];\n        var scheduleTemplates = ['cellHeaderTemplate', 'dayHeaderTemplate', 'monthHeaderTemplate', 'cellTemplate',\n            'dateHeaderTemplate', 'dateRangeTemplate', 'eventTemplate', 'resourceHeaderTemplate', 'headerIndentTemplate'];\n        var scheduleEvents = ['actionBegin', 'actionComplete', 'actionFailure', 'created', 'dataBinding', 'dataBound',\n            'destroyed', 'eventRendered', 'moreEventsClick', 'navigating', 'popupOpen', 'popupClose', 'renderCell'];\n        var eventSettings;\n        var group;\n        var timeScale;\n        var views;\n        for (var _i = 0, scheduleProps_1 = scheduleProps; _i < scheduleProps_1.length; _i++) {\n            var key = scheduleProps_1[_i];\n            switch (key) {\n                case 'eventSettings': {\n                    eventSettings = Object.assign({}, this.parent.eventSettings.properties);\n                    eventSettings.dataSource = this.parent.eventsData;\n                    var eventTemplate = !isNullOrUndefined(printOptions.eventSettings) &&\n                        !isNullOrUndefined(printOptions.eventSettings.template) ? printOptions.eventSettings.template : eventSettings.template;\n                    eventSettings.template = !this.parent.isAngular && typeof (eventTemplate) === 'function' ? null : eventTemplate;\n                    printModel.eventSettings = eventSettings;\n                    break;\n                }\n                case 'group':\n                    group = isNullOrUndefined(printOptions.group) ? this.parent.group : printOptions.group;\n                    group.headerTooltipTemplate = null;\n                    printModel.group = group;\n                    break;\n                case 'timeScale':\n                    timeScale = isNullOrUndefined(printOptions.timeScale) ? this.parent.timeScale : printOptions.timeScale;\n                    if (!this.parent.isAngular) {\n                        timeScale.majorSlotTemplate = typeof (timeScale.majorSlotTemplate) === 'function' ? null : timeScale.majorSlotTemplate;\n                        timeScale.minorSlotTemplate = typeof (timeScale.minorSlotTemplate) === 'function' ? null : timeScale.minorSlotTemplate;\n                    }\n                    printModel.timeScale = timeScale;\n                    break;\n                case 'views':\n                    views = isNullOrUndefined(printOptions.views) ? this.parent.views : printOptions.views;\n                    if (!this.parent.isAngular && views && views.length > 0 && typeof (views[0]) === 'object') {\n                        var _loop_1 = function (view) {\n                            scheduleTemplates.forEach(function (x) {\n                                if (!isNullOrUndefined(view[\"\" + x])) {\n                                    view[\"\" + x] = typeof (view[\"\" + x]) === 'function' ? null : view[\"\" + x];\n                                }\n                            });\n                        };\n                        for (var _a = 0, views_1 = views; _a < views_1.length; _a++) {\n                            var view = views_1[_a];\n                            _loop_1(view);\n                        }\n                    }\n                    printModel.views = views;\n                    break;\n                default:\n                    if (scheduleTemplates.indexOf(key) > -1) {\n                        printModel[\"\" + key] = isNullOrUndefined(printOptions[\"\" + key]) ?\n                            (!this.parent.isAngular && typeof (this.parent[\"\" + key]) === 'function' ? null : this.parent[\"\" + key]) :\n                            (!this.parent.isAngular && typeof (printOptions[\"\" + key]) === 'function' ? null : printOptions[\"\" + key]);\n                        break;\n                    }\n                    if (scheduleEvents.indexOf(key) > -1) {\n                        printModel[\"\" + key] = printOptions[\"\" + key];\n                        break;\n                    }\n                    printModel[\"\" + key] = isNullOrUndefined(printOptions[\"\" + key]) ?\n                        this.parent[\"\" + key] : printOptions[\"\" + key];\n                    break;\n            }\n        }\n        return printModel;\n    };\n    Print.prototype.contentReady = function () {\n        var _this = this;\n        this.printWindow = basePrint(this.printInstance.element, this.printWindow);\n        this.printWindow.onbeforeunload = function () {\n            if (_this.printInstance) {\n                _this.printInstance.off(events.print, _this.contentReady);\n                _this.printInstance.element.remove();\n                _this.printInstance.destroy();\n                _this.printInstance = null;\n            }\n            _this.printWindow = null;\n        };\n    };\n    Print.prototype.getModuleName = function () {\n        return 'print';\n    };\n    Print.prototype.destroy = function () {\n        this.parent = null;\n    };\n    return Print;\n}());\nexport { Print };\n"],"names":["cellClick","cellDoubleClick","moreEventsClick","select","hover","actionBegin","actionComplete","actionFailure","navigating","renderCell","eventClick","eventDoubleClick","eventRendered","dataBinding","dataBound","popupOpen","popupClose","dragStart","drag","dragStop","resizeStart","resizing","resizeStop","inlineClick","cellSelect","virtualScrollStart","virtualScrollStop","noEvents","agendaCells","resourceHeader","dateHeader","print","dataReady","eventsLoaded","contentReady","scroll","virtualScroll","scrollUiUpdate","uiUpdate","documentClick","cellMouseDown","MS_PER_DAY","MS_PER_MINUTE","getElementHeightFromClass","container","elementClass","isTransformed","el","createElement","className","cloneNode","style","visibility","position","appendChild","height","getElementHeight","remove","getElementWidthFromClass","width","getElementWidth","getTranslateY","element","getComputedStyle","window","WebKitCSSMatrix","webkitTransform","m42","getTranslateX","m41","getWeekFirstDate","date","firstDayOfWeek","date1","Date","getTime","getDay","setDate","getDate","isNaN","getWeekLastDate","weekFirst","weekLast","getFullYear","getMonth","firstDateOfMonth","lastDateOfMonth","getWeekNumber","valueOf","currentDate","Math","ceil","getWeekMiddleDate","setTime","time","tzOffsetBefore","getTimezoneOffset","d","tzOffsetDiff","resetTime","getDateInMs","localOffset","timezoneOffset","getDateCount","startDate","endDate","addDays","noOfDays","addMonths","noOfMonths","day","setMonth","min","getMaxDays","addYears","noOfYears","setFullYear","getStartEndHours","startHour","endHour","date2","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","getDaysCount","strTime","endTime","round","getDateFromString","indexOf","parseInt","match","toString","replace","scrollWidth","pixelRatio","getScrollBarWidth","devicePixelRatio","screen","availWidth","document","documentElement","clientWidth","divNode","ratio","cssText","body","toFixed","floor","value","offsetWidth","removeChild","resetScrollbarWidth","zoomPixelRatio","findIndexInData","data","field","event","resourceCollection","i","length_1","length","field_1","slice","Array","join","includes","groupIDField","getOuterHeight","offsetHeight","marginTop","marginBottom","removeChildren","_i","elementChildren_1","call","children","elementChild","isDaylightSavingTime","jan","jul","max","getUniversalTime","year","month","hours","minutes","seconds","milliseconds","getMilliseconds","UTC","isMobile","navigator","userAgent","toLowerCase","isIPadDevice","capitalizeFirstWord","inputString","type","split","map","e","charAt","toLocaleUpperCase","substring","array","isNullOrUndefined","index","getBoundingClientRect","getElementTop","offsetTop","top","ROOT","RTL","DEVICE_CLASS","ADAPTIVE_CLASS","MULTI_DRAG","ICON","ENABLE_CLASS","DISABLE_CLASS","TABLE_CONTAINER_CLASS","SCHEDULE_TABLE_CLASS","ALLDAY_CELLS_CLASS","ALLDAY_ROW_CLASS","CONTENT_TABLE_CLASS","WORK_CELLS_CLASS","WORK_HOURS_CLASS","POPUP_OPEN","DATE_HEADER_WRAP_CLASS","DATE_HEADER_CONTAINER_CLASS","HEADER_CELLS_CLASS","WORKDAY_CLASS","OTHERMONTH_CLASS","CURRENT_DAY_CLASS","CURRENTDATE_CLASS","CURRENT_PANEL_CLASS","PREVIOUS_PANEL_CLASS","NEXT_PANEL_CLASS","TRANSLATE_CLASS","LEFT_INDENT_CLASS","LEFT_INDENT_WRAP_CLASS","EVENT_TABLE_CLASS","RESOURCE_GROUP_CELLS_CLASS","RESOURCE_TEXT_CLASS","RESOURCE_COLUMN_WRAP_CLASS","RESOURCE_COLUMN_TABLE_CLASS","RESOURCE_CHILD_CLASS","RESOURCE_PARENT_CLASS","RESOURCE_EXPAND_CLASS","RESOURCE_COLLAPSE_CLASS","RESOURCE_TREE_ICON_CLASS","RESOURCE_CELLS_CLASS","TIME_CELLS_WRAP_CLASS","TIME_CELLS_CLASS","TIME_SLOT_CLASS","ALTERNATE_CELLS_CLASS","CURRENT_TIME_CLASS","CURRENT_TIMELINE_CLASS","PREVIOUS_TIMELINE_CLASS","HIDE_CHILDS_CLASS","SCROLL_CONTAINER_CLASS","TIMELINE_WRAPPER_CLASS","APPOINTMENT_WRAPPER_CLASS","APPOINTMENT_WRAPPER_HIDDEN_CLASS","DAY_WRAPPER_CLASS","RESOURCE_TOOLBAR_CONTAINER","HEADER_TOOLBAR","RESOURCE_HEADER_TOOLBAR","SELECTED_CELL_CLASS","WEEK_NUMBER_WRAPPER_CLASS","WEEK_NUMBER_CLASS","APPOINTMENT_WRAP_CLASS","WRAPPER_CONTAINER_CLASS","APPOINTMENT_CONTAINER_CLASS","APPOINTMENT_CLASS","BLOCK_APPOINTMENT_CLASS","BLOCK_INDICATOR_CLASS","APPOINTMENT_BORDER","APPOINTMENT_DETAILS","SUBJECT_WRAP","RESOURCE_NAME","APPOINTMENT_TIME","TABLE_WRAP_CLASS","OUTER_TABLE_CLASS","CONTENT_WRAP_CLASS","VIRTUAL_TRACK_CLASS","AGENDA_CELLS_CLASS","AGENDA_CURRENT_DAY_CLASS","AGENDA_SELECTED_CELL","MONTH_HEADER_CLASS","AGENDA_HEADER_CLASS","AGENDA_DATE_CLASS","NAVIGATE_CLASS","DATE_HEADER_CLASS","AGENDA_DAY_BORDER_CLASS","DATE_TIME_CLASS","AGENDA_NO_EVENT_CLASS","APPOINTMENT_INDICATOR_CLASS","EVENT_INDICATOR_CLASS","EVENT_ICON_LEFT_CLASS","EVENT_ICON_RIGHT_CLASS","EVENT_ACTION_CLASS","NEW_EVENT_CLASS","CLONE_ELEMENT_CLASS","CLONE_TIME_INDICATOR_CLASS","DRAG_CLONE_CLASS","EVENT_RESIZE_CLASS","RESIZE_CLONE_CLASS","LEFT_RESIZE_HANDLER","RIGHT_RESIZE_HANDLER","TOP_RESIZE_HANDLER","BOTTOM_RESIZE_HANDLER","EVENT_RECURRENCE_ICON_CLASS","EVENT_RECURRENCE_EDIT_ICON_CLASS","HEADER_ROW_CLASS","ALLDAY_APPOINTMENT_WRAPPER_CLASS","ALLDAY_APPOINTMENT_CLASS","EVENT_COUNT_CLASS","ROW_COUNT_WRAPPER_CLASS","ALLDAY_APPOINTMENT_SECTION_CLASS","APPOINTMENT_ROW_EXPAND_CLASS","APPOINTMENT_ROW_COLLAPSE_CLASS","MORE_INDICATOR_CLASS","CELL_POPUP_CLASS","EVENT_POPUP_CLASS","POPUP_HEADER_CLASS","POPUP_HEADER_ICON_WRAPPER","POPUP_FOOTER_CLASS","DATE_TIME_DETAILS_CLASS","QUICK_POPUP_EVENT_DETAILS_CLASS","EVENT_CREATE_CLASS","EDIT_EVENT_CLASS","DELETE_EVENT_CLASS","TEXT_ELLIPSIS","MORE_POPUP_WRAPPER_CLASS","MORE_EVENT_POPUP_CLASS","MORE_EVENT_DATE_HEADER_CLASS","MORE_EVENT_HEADER_DAY_CLASS","MORE_EVENT_HEADER_DATE_CLASS","MORE_EVENT_CLOSE_CLASS","MORE_EVENT_CONTENT_CLASS","MORE_EVENT_WRAPPER_CLASS","QUICK_DIALOG_OCCURRENCE_CLASS","QUICK_DIALOG_SERIES_CLASS","QUICK_DIALOG_FOLLOWING_EVENTS_CLASS","FOLLOWING_EVENTS_DIALOG","QUICK_DIALOG_DELETE_CLASS","QUICK_DIALOG_CANCEL_CLASS","QUICK_DIALOG_ALERT_OK","QUICK_DIALOG_ALERT_CANCEL","QUICK_DIALOG_ALERT_FOLLOWING","QUICK_DIALOG_ALERT_BTN_CLASS","EVENT_WINDOW_DIALOG_CLASS","FORM_CLASS","EVENT_WINDOW_ALL_DAY_CLASS","TIME_ZONE_CLASS","EVENT_WINDOW_REPEAT_CLASS","SUBJECT_CLASS","LOCATION_CLASS","LOCATION_DETAILS_CLASS","EVENT_WINDOW_START_CLASS","EVENT_WINDOW_END_CLASS","DESCRIPTION_CLASS","DESCRIPTION_DETAILS_CLASS","EVENT_WINDOW_TIME_ZONE_DIV_CLASS","EVENT_WINDOW_START_TZ_CLASS","EVENT_WINDOW_END_TZ_CLASS","EVENT_WINDOW_SAVE_ICON_CLASS","EVENT_WINDOW_CANCEL_BUTTON_CLASS","EVENT_WINDOW_SAVE_BUTTON_CLASS","EVENT_WINDOW_TITLE_TEXT_CLASS","EVENT_WINDOW_ICON_DISABLE_CLASS","EDIT_CLASS","EDIT_ICON_CLASS","DELETE_CLASS","DELETE_ICON_CLASS","CLOSE_CLASS","CLOSE_ICON_CLASS","ERROR_VALIDATION_CLASS","ALLDAY_ROW_ANIMATE_CLASS","HIDDEN_CLASS","DISABLE_DATES","POPUP_WRAPPER_CLASS","RESOURCE_MENU","RESOURCE_MENU_ICON","RESOURCE_LEVEL_TITLE","RESOURCE_TREE_POPUP_OVERLAY","RESOURCE_TREE_POPUP","RESOURCE_CLASS","RESOURCE_ICON_CLASS","RESOURCE_DETAILS_CLASS","DATE_TIME_ICON_CLASS","VIRTUAL_SCROLL_CLASS","ICON_DISABLE_CLASS","AUTO_HEIGHT","IGNORE_WHITESPACE","READ_ONLY","MONTH_HEADER_WRAPPER","INLINE_SUBJECT_CLASS","INLINE_APPOINTMENT_CLASS","SCROLL_HIDDEN","ALLDAY_APPOINTMENT_SCROLL","ALLDAY_APPOINTMENT_AUTO","__assign","Object","assign","t","s","n","arguments","p","prototype","hasOwnProperty","apply","this","HeaderRenderer","addEventListener","parent","on","events.documentClick","closeHeaderPopup","removeEventListener","off","popupEle","popupObj","closestEle","closest","target","closestPop","contentWrap","querySelector","cls.CONTENT_WRAP_CLASS","isAdaptive","classList","contains","cls.POPUP_OPEN","removeClass","cls.SCROLL_HIDDEN","ej2_instances","hide","addClass","hideHeaderPopup","headerPopup","renderHeader","toolbarEle","cls.HEADER_TOOLBAR","insertBefore","firstElementChild","renderToolbar","_this","items","toolbarItems","getToolbarItems","getItems","trigger","events.actionBegin","requestType","args","toolbarObj","Toolbar","overflowMode","clicked","toolbarClickHandler","bind","created","toolbarCreateHandler","enableRtl","enableHtmlSanitizer","locale","isStringTemplate","root","appendTo","setAttribute","prevNavEle","l10n","getConstant","nextNavEle","updateAddIcon","updateActiveView","events.actionComplete","updateItems","dataBind","getPopUpRelativeElement","setDayOfWeek","headerCalendar","setCalendarDate","setCalendarMinMaxDate","minDate","maxDate","getCalendarView","currentView","setCalendarView","calendarView","depth","start","refresh","selEle","querySelectorAll","viewIndex","updateDateRange","textEle","dateTemplate","text","activeViewOptions","dateRangeTemplate","textContent","activeView","getStartDate","getEndDate","viewName","dateRangeTemplateName","templateId","id","getDateRangeTemplate","undefined","append","getDateRangeText","refreshOverflow","addEle","eventSettings","allowAdding","cls.HIDDEN_CLASS","util.capitalizeFirstWord","globalize","formatDate","selectedDate","format","calendar","getCalendarMode","getItemModel","propItem","item","tooltipText","prefixIcon","cssClass","showTextOn","template","disabled","suffixIcon","align","overflow","htmlAttributes","visible","showAlwaysInPopup","tabIndex","_a","tbItem","name","enableAdaptiveUI","push","role","aria-atomic","aria-live","views","_b","_c","view","getItemObject","displayName","option","isItemInsidePopup","orientation","renderHeaderPopup","headerPopupEle","headerCalendarEle","Popup","actionOnScroll","targetType","relateTo","X","Y","isDisplayDate","displayDate","hasSelectedDate","Calendar","calendarMode","change","calendarChange","setCalendarTimezone","calendarDate","util.resetTime","changeDate","timezone","tzModule","getLocalTimezoneName","calculateViewIndex","originalEvent","portals","concat","toolbarPopUp","show","changeView","currentTime","getCurrentTime","isSelectedDate","numberOfWeeks","util.firstDateOfMonth","getNextPreviousDate","startTime","isSameTime","activeCellsData","interval","timeScale","slotCount","msInterval","util.MS_PER_MINUTE","currentTime_1","setMilliseconds","isAllDay","eventWindow","openEditor","extend","cancel","duration","selectedTime","getHeaderElement","updateHeaderItems","classType","dateRangeEle","cls.TEXT_ELLIPSIS","previousNextIconHandler","isCustomMonth","dates","getCurrentViewDates","firstDate","lastDate","util.addDays","util.getWeekFirstDate","util.lastDateOfMonth","util.addMonths","enableItems","getModuleName","destroy","isDestroyed","localeObj","Scroll","setWidth","formatUnit","setHeight","setDimensions","onPropertyChanged","cssProperties","getCssProperties","module","notify","ScheduleTouch","scrollHandler","x","blockSwipe","cls.APPOINTMENT_CLASS","uiStateValues","isTouchScroll","action","allowSwiping","isTapHold","timeStampStart","now","cls.TRANSLATE_CLASS","onTransitionEnd","scrollDirection","scrollDiv","isScrollTriggered","preventDefault","stopPropagation","touchLeftDirection","nextPanel","renderPanel","cls.NEXT_PANEL_CLASS","getPanel","renderDates","colLevels","distanceX","transform","touchRightDirection","prevWidth","previousPanel","cls.PREVIOUS_PANEL_CLASS","swipeHandler","swipeDate","swipeDirection","offsetDist","Browser","isDevice","swapPanels","transitionDuration","confirmSwipe","cancelSwipe","tapHoldHandler","isIos","EventHandler","add","preventEventClick","quickPopup","tapHoldEventPopup","selectedElements","eventBase","getSelectedEventElements","resizeModule","cls.EVENT_RESIZE_CLASS","clsName","nextPrevType","currentPanel","setProperties","headerModule","getRenderDates","renderLayout","direction","temp","previousDate","events.navigating","navArgs","setPanel","translateX","offsetLeft","renderTemplates","crudModule","refreshDataManager","cls.CURRENT_PANEL_CLASS","resetValues","util.removeChildren","touchObj","cls.TABLE_CONTAINER_CLASS","Touch","swipe","tapHold","swipeSettings","swipeThresholdDistance","KeyboardInteraction","keyActionHandler","processDown","shiftKey","processUp","processLeft","processRight","focus","processViewNavigation","processEnter","focusFirstCell","processTab","processDelete","processCtrlShiftNavigationArrows","processEscape","allowInline","inlineModule","processFTwelve","processShiftAltN","selectedCells","getSelectedCells","cellData","cls.WORK_CELLS_CLASS","cls.ALLDAY_CELLS_CLASS","cls.HEADER_CELLS_CLASS","getSelectedElements","activeEventData","event_1","StartTime","EndTime","IsAllDay","workHour","getStartEndTime","workHours","slotInterval","inlineArgs","groupIndex","event.inlineClick","click","event.cellMouseDown","onCellMouseDown","initialTarget","getClosestCell","readonly","which","removeSelectedClass","getContentTable","onMouseSelection","onMoveUp","allDayRow","getAllDayRow","parent_1","xInBounds","appointments","selectionEdges","boundaryValidation","pageY","pageX","bottom","left","right","yInBounds","scrollHeight","scrollTop","scrollLeft","selectCells","isPreventAction","cls.OTHERMONTH_CLASS","convertToEventData","showQuickPopup","event.select","selectArgs","quickInfoOnSelectionEnd","cellArgs","event.cellClick","cls.POPUP_WRAPPER_CLASS","cls.QUICK_POPUP_EVENT_DETAILS_CLASS","cls.EVENT_CREATE_CLASS","cls.EDIT_EVENT_CLASS","cls.DELETE_EVENT_CLASS","cls.CLOSE_CLASS","cls.SUBJECT_CLASS","cls.RESOURCE_CELLS_CLASS","cls.RESOURCE_PARENT_CLASS","resourceIcon","cls.RESOURCE_TREE_ICON_CLASS","cls.INLINE_SUBJECT_CLASS","inlineCrudActions","cls.MORE_EVENT_CLOSE_CLASS","cls.ALLDAY_APPOINTMENT_SECTION_CLASS","cls.MORE_INDICATOR_CLASS","cls.MORE_EVENT_HEADER_DATE_CLASS","getDateFromElement","getNavigateView","cellDetails","cls.SELECTED_CELL_CLASS","getCellDetails","end","getCells","isInverseTable","tableEle","isTimelineYear","cells","maxRow","rows","maxColumn","startIndex","endIndex","inverseCells","j","cell","query","focusCell","cls.AGENDA_CELLS_CLASS","removeSelectedAppointmentClass","isTimelineView","cls.CONTENT_TABLE_CLASS","cls.RESOURCE_GROUP_CELLS_CLASS","getWorkCellElements","isInverseTableSelect","isMultiple","targetCell","initialId_1","views_1","allowMultipleRow","removeInlineAppointmentElement","allowMultiRowSelection","isGroupYear","group","resources","parentElement","cellIndex","getAttribute","resourceSelectedCells","selectedCells_1","allowMultiCellSelection","allDayCells","getAllDayCells","resourceAllDayCells","allDayCells_1","addSelectedClass","selectAppointment","isReverse","getAppointmentElements","nextAppEle","targetIndex","addSelectedAppointments","cls.AGENDA_SELECTED_CELL","selectAppointmentElementFromWorkCell","appointmentElements_1","filteredElements_1","selectedDate_1","getUniqueAppointmentElements","eventsProcessed","filter","eventObject","eventFields","JSON","stringify","Guid","focusElements","getAppointmentElementsByGuid","startCell","endCell","util.MS_PER_DAY","guid","appointmentElements","self","getWorkCellFromAppointmentElement","selectedObject","getEventByGuid","selectWorkCellByTime","code","viewCollections","isCalendarTarget","keyTarget","currentTarget","cancelUpDownAction","isVerticalYear","isGroup","selectedEventElements","getSelectedAppointments","moreEventWrapper","cls.MORE_POPUP_WRAPPER_CLASS","quickPopupWrapper","getQuickPopupElement","tableRows","getTableRows","curRowIndex","getVerticalUpDownCell","getHorizontalUpDownCell","getYearUpDownCell","rowIndex","isUp","row","workCell","dateAttr","processLeftRight","parentNode","sectionRowIndex","columnIndex","maxIndex","isCancelLeftRightAction","prevent","curColIndex","maxColIndex","selectedAppointments","key","targetDate","isMonthEnd","calculateNextPrevDate","getTimelineYearTargetCell","getHorizontalLeftRightCell","allDayRow_1","isMonthStart","tbody","allDayRow_2","isRight","getVerticalLeftRightCell","currentCell","initialId","nextPrevDate","getFocusableElements","processTabOnPopup","popupElement","focusableElements","firstEle","footerEle","cls.POPUP_FOOTER_CLASS","offsetParent","cls.EDIT_CLASS","cls.DELETE_CLASS","lastEle","activeElement","popupWrapper","cls.ROOT","appElements","focusAppointment","resourceBase","lastResourceLevel","virtualScrollModule","virtual","cls.VIRTUAL_TRACK_CLASS","averageRowHeight","expandedResources","virtualScrolling","setScrollPosition","resCellSelector","resourceCell","preventScroll","processTabOnResourceCells","selectedEle","activeEle","getSelectedEvents","cls.APPOINTMENT_BORDER","cls.READ_ONLY","allowDeleting","deleteClick","eventEle","renderedResources","onClosePopup","morePopup","resColWrap_1","tabElements","currentTabIndex","nextTabElement","cls.RESOURCE_COLUMN_WRAP_CLASS","forEach","keyboardModule","keyConfigs","downArrow","upArrow","rightArrow","leftArrow","shiftDownArrow","shiftUpArrow","shiftRightArrow","shiftLeftArrow","ctrlLeftArrow","ctrlRightArrow","altOne","altTwo","altThree","altFour","altFive","altSix","altSeven","altEight","altNine","enter","escape","delete","backspace","home","pageUp","pageDown","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlShiftLeftArrow","ctrlShiftRightArrow","shiftAltY","shiftAltN","KeyboardEvents","keyAction","eventName","Data","initDataManager","dataSource","dataManager","DataManager","Query","generateQuery","resIdCollection_1","dateQuery","recurrenceQuery","clone","enableLazyLoading","resource","resId","groupId","groupOrder","addParams","includeFiltersInQuery","getStartEndQuery","Predicate","recurrenceRule","and","where","or","toISOString","fieldMapping","getData","executeQuery","Gregorian","dt","getLeapYearDaysCount","getYearDaysCount","getYearLastDate","getMonthDaysCount","getMonthStartDate","getMonthEndDate","getExpectedDays","days","dateObj","setValidDate","monthValue","beginDate","maxDay","isSameMonth","checkMonth","months","compareMonth","isSameYear","isLastMonth","isLeapYear","Islamic","hDate","getHijriDate","HijriParser","toGregorian","daysInMonth","getDaysInMonth","gDate","finalGDate","finalHDate","updateDateObj","currentHijri","tempHijri","hDate1","Timezone","offset","convertedDate","toLocaleString","timeZone","error","convert","fromOffset","toOffset","fromLocalOffset","toLocalOffset","removeLocalOffset","Intl","DateTimeFormat","resolvedOptions","getTimezoneData","timezoneData","Value","Text","generateSummary","rule","localeObject","calendarType","cldrObj1","cldrObj","nameSpace","ruleObject","extractObjectFromRule","summary","getValue","getDefaultDateObject","cldrData","freq","ON","DAYINDEXOBJECT","getMonthSummary","count","until","tempDate","pos","monthDay","setPosition","WEEKPOS","generate","excludeDate","startDayOfWeek","maximumCount","viewDate","newTimezone","calendarUtil","getCalendarUtil","modifiedDate","tempExcludeDate","tz","content","parsedDate","getDateFromRecurrenceDateString","recExceptionCount","tempViewDate","cacheDate","maxOccurrence","setFirstDayOfWeek","DAYINDEX","dayIndex","rotate","shift","dailyType","expectedCount","expectedDays","compareDates","state","validateRules","excludeDateHandler","weeklyType","wkstIndex","weekState","weekCollection","wkst","startDateDiff","weekstartDate","weekendDate","compareTempDate","insertDataCollection","getStartDateForWeek","monthlyType","yearlyType","yearDay","weekNo","processWeekNo","startDay","firstWeekSpan","stDate","weekNos","insertDateCollection","insertDatasIntoExistingCollection","processYearDay","dateCollection","recDateString","substr","zeroIndex","monthlyDayTypeProcessforMonthFreq","monthlyDayTypeProcess","isHavingNumber","HASNUMBER","test","processDateCollectionforByDayWithInteger","currentMonthDate","monthCollection","monthInit","datas","expectedDaysArray","SPLITNUMBERANDSTRING","setNextValidDate","filterDateCollectionByIndex","insertDateCollectionBasedonBySetPos","newstr","getDayString","insertDateCollectionBasedonIndex","monthlyDateTypeProcessforMonthFreq","monthlyDateTypeProcess","ruleData","initializeRecRuleVariables","mainDate","processDateCollectionForByMonthDay","recRuleVariables","isByMonth","monthData","getMonthCollection","dayCycleData","dayCycle","initialDate","week","getDateCollectionforBySetPosNull","recurrenceCollectionObject","recurrenceCollections","arrPosition","expectedDaysArrays","dayData","chDate","sort","weekIndex","validRules","firstOfMonth","numberOfDaysInMonth","firstWeekDay","REMOVENUMBERINSTRING","expectedDaysArr","rules","rulesList","splitData","Number","splice","checkYear","expectedyearDay","startDateCollection","diff","expectedMonth","expectedDate","sortedExpectedDays","expectedDaysNumberSplit","checkDate","SU","MO","TU","WE","TH","FR","SA","getRecurrenceStringFromDate","getUTCFullYear","roundDateValues","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","EventBase","processData","events","timeZonePropChanged","oldTimezone","fields","processed","generateID","_loop_1","this_1","updateEventDateTime","processTimezoneChange","isPrinting","isPreventTimezone","processTimezone","level","recurrenceID","crudObj","isCrudAction","recurrenceEvent_1","generateOccurrence","_loop_2","occurrence","app","generateGuid","events_1","eventData","isBlock","blockData","filterEvents","blockData_1","eventObj","blockProcessed","util.getDateFromString","getProcessedEvents","eventCollection","eventCollection_1","eventsData","event_2","timezonePropertyChange","event.dataReady","processedData","timezoneConvert","startTz","endTz","startTimezone","endTimezone","filterBlockEvents","resourceData","eStart","eEnd","blockEvents","getGroupIndexFromEvent","blockEvents_1","eventObj_1","resourceTdData","predicate","dataModule","json","executeLocal","filterEventsByResource","sortByTime","filterEventsByRange","filteredEvents","keys","every","appointmentsCollection","fieldMappings_1","sortComparer","a","b","d1","d2","customSorting","sortByDateTime","fieldMapping_1","object1","object2","d3","d4","d5","d6","splits","sortFn","getSmallestMissingNumber","large","splitEventByDay","eventStartTime","eventEndTime","eventLength","util.getDaysCount","isSpanned","splitEvent","dateRender","orgStart","orgEnd","util.getDateInMs","ranges","cStart","slots","slot","byDate","showWeekend","slotDates","slot_1","renderedDates","getRenderedDates","renderedDates_1","firstSlot","hasBreak","isLeft","cloneEventObject","dateInRange","availSlot","availSlot_1","slot_2","elementSelector","focusElements_1","eventSelect","elementSelect","preventFocus","focusElement","isFocused","selectedCell","dialogObject","keyboardInteractionModule","nearestTime","isAllDayAppointment","enable","findNearestSlot","targetArea","queryString","appointmentTime","numberOfSlots","nearestSlot","from","_","reduce","nearest","difference","abs","trunc","levelIndex","levelName","idField","parentField","getIndexFromResourceId","isFullDay","util.getUniversalTime","spannedEventPlacement","event.documentClick","appointmentBorderRemove","wireAppointmentEvents","isPreventCrud","isReadOnly","isReadonly","eventTouchClick","wireResizeEvent","dragAndDropModule","wireDragEvent","setTimeout","isDoubleTapped","renderResizeHandler","spanEvent","allowResizing","resizeEdge","resizeHandler","cls.RIGHT_RESIZE_HANDLER","cls.LEFT_RESIZE_HANDLER","prepend","isTop","cls.TOP_RESIZE_HANDLER","isBottom","cls.BOTTOM_RESIZE_HANDLER","cls.DRAG_CLONE_CLASS","cls.RESIZE_CLONE_CLASS","ctrlKey","metaKey","target_1","event.eventClick","selectEventArgs","eventClickArgs","quickPopupHide","cls.INLINE_APPOINTMENT_CLASS","event.eventDoubleClick","eventDoubleClickArgs","currentAction","openRecurrenceAlert","getEventById","c","r","random","getEventIDType","getEventMaxID","resourceId","maxId","eventId","idType","obj","isMaxCount","maxCount","eventRule","timeZoneDiff","exception","recurrenceException","util.getDateCount","firstDay","isDayBasedRecurrence","isDSTAdjusted","generatedDates","convertedDates","occurrenceCollection","convertedDates_1","clonedObject","getDSTAdjustedTime","followingID","eventOffset","occurDate","getDSTDiff","schOffset","getParentEvent","isParent","parentEvent","collection","followObj","getFollowingEvent","getEventCollections","follow","parentObj","childObj","followingCollection","followingEvent","getOccurrenceEvent","fields_1","fieldValue","isFollowingEvent","parentStart","childStart","isGuid","isFollowing","fieldKey","getOccurrencesByID","parentObject_1","event_3","getOccurrencesByRange","event_4","getDeletedOccurrences","recurrenceData","deletedOccurrences","parentObject","exDateString_1","this_2","len","_loop_3","childObject","exDate","applyResourceColor","alpha","color","getResourceColor","createBlockAppointmentElement","record","resIndex","isResourceEventTemplate","templateName","eventSubject","subject","default","appointmentWrapper","cls.BLOCK_APPOINTMENT_CLASS","attrs","data-id","aria-disabled","templateElement","eventTemplate","appointmentSubject","sanitize","eventTemplateName","getEventTemplateName","getAppointmentTemplate","setWrapperAttributes","getReadonlyAttribute","isBlockRange","isBlockAlert","event_5","dataCol","dataCol_1","getFilterEventsList","getSeriesEvents","deleteFutureEditEvents","deleteFutureEvent","deleteFutureEditEventList","delId","followingId","startTimeQuery","futureEvents","getEditedOccurrences","deleteRecurrenceEventList","deleteFutureEditEventList_1","event_6","delEventQuery","delEditedEvents","filteredDates","isValidEvent","schedule","isHourRange","isSameRange","allDayExpandScroll","indentHeight","cls.HEADER_ROW_CLASS","ele","expand","cls.ALLDAY_APPOINTMENT_SCROLL","updateEventMinimumDuration","startEndHours","tempStart","minimumEventDuration","tempEnd","createEventWrapper","tr","levels","isReact","cls.APPOINTMENT_WRAPPER_HIDDEN_CLASS","col","appointmentWrap","cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS","cls.TIMELINE_WRAPPER_CLASS","cls.DAY_WRAPPER_CLASS","data-date","innerWrapper","cls.APPOINTMENT_WRAPPER_CLASS","getPageCoordinates","eventArgs","changedTouches","renderSpannedIcon","iconBottom","iconElement","cls.EVENT_INDICATOR_CLASS","cls.ICON","iconLeft","cls.EVENT_ICON_LEFT_CLASS","iconRight","cls.EVENT_ICON_RIGHT_CLASS","iconTop","addCellHeight","selector","eventHeight","eventGap","headerHeight","indHeight","isScrollUpdate","maxEventsPerRow","rowAutoHeight","weekNumberRows","showWeekNumber","cls.WEEK_NUMBER_WRAPPER_CLASS","rows_1","setStyleAttribute","enablePersistence","allowVirtualScrolling","event.contentReady","unWireEvents","appElements_1","clearEvents","extendStatics","setPrototypeOf","__proto__","__","constructor","create","VerticalEvent","_super","renderAppointments","setDragArea","isSpecificResourceEvents","wrapperElements","cls.ROW_COUNT_WRAPPER_CLASS","isDragging","hideWrapper","wrapper","appWrapper","wrapperElements_1","cls.ALLDAY_APPOINTMENT_CLASS","sourceEvent","targetEvent","updateFocusedWorkCell","allDayElement","setAllDayRowHeight","expandCollapse","rowExpandCollapse","renderedEvents","renderedAllDayEvents","initializeValues","processBlockEvents","renderEvents","allDayEvents","arr","cls.ALLDAY_ROW_ANIMATE_CLASS","animation","animate","events.contentReady","wraps","isGroupAdaptive","cellHeight","parseFloat","getHeight","appHeight","appendEvent","appointmentElement","appLeft","eventType","events.eventRendered","getResourceList","dateCount","getStartCount","resources_1","filterEvents_1","setValues","renderBlockEvents","dayCount","blockHeight","spannedData","isSpannedEvent","util.getStartEndHours","isWorkDayAvailable","blockTop","getTopValue","getDayIndex","isRender","allDayRowTop","resources_2","renderedDate","length_2","filterEvents_2","renderAllDayEvents","enableMaxHeight","getOverlapIndex","renderNormalEvents","filterEvents_3","hideNonWorkingDays","renderedIndex","dateIndex","firstColumn","currentResources","resourceDateTree","colSpan","findIndex","resourceIndex","getCssClass","createAppointmentElement","recurrenceIcon","recordSubject","data-guid","tabindex","aria-label","getAnnouncementString","appointmentDetails","cls.APPOINTMENT_DETAILS","appointmentStartTime","cls.APPOINTMENT_TIME","cls.DISABLE_CLASS","innerHTML","getTimeString","appointmentEndTime","timeStr","appointmentLocation","cls.LOCATION_CLASS","location","iconClass","cls.EVENT_RECURRENCE_ICON_CLASS","cls.EVENT_RECURRENCE_EDIT_ICON_CLASS","createMoreIndicator","currentDay","countWrapper","childElementCount","innerCountWrap","moreIndicatorElement","data-index","data-count","countCell","moreCount","formatNumber","eventDates","isSameDuration","workDays","workDaysField","inline","cellTop","allDayDifference_1","allDayIndex_1","wIndex_1","eventWrapper_1","appointmentElement_1","currentDates","appWidth","topValue","isDateRange","isAlreadyRendered","Index","allDayLevel","widthAdjustment","cls.ALLDAY_ROW_CLASS","createInlineAppointmentElement","moreEvents","length_3","allDayRowHeight","addOrRemoveClass","appIndex","overlapList","overlapEvents","argsData","getEventWidth","tempData","adjustOverlapElements","maxHeight","subjectElement","tempWidth","getEventLeft","tempLeft","startEndTime","startEndDate","timeString","diffInMinutes","date_1","eventsList","appointmentList_1","appointment_1","recordStart_1","recordEnd_1","queue_1","filterList","processedIds","Set","currentObj","has","overlap","size","val","eventsList_1","appLevel","length1","length2","eleGuid","apps","cls.DATE_HEADER_WRAP_CLASS","enableAllDayScroll","cls.ALLDAY_APPOINTMENT_AUTO","moreEventCount","cls.EVENT_COUNT_CLASS","cls.APPOINTMENT_ROW_EXPAND_CLASS","cls.APPOINTMENT_ROW_COLLAPSE_CLASS","getEventHeight","eventElement","styles","rowHeight","animationUiUpdate","Animation","progress","MonthEvent","removeEventWrapper","appElement","appElement_1","wrap","totalCells_1","conWrap","appointmentWrapper_1","removeHeightProperty","cellTd","monthHeaderHeight","moreIndicatorHeight","isHorizontalScroll","renderResourceEvents","renderEventsHandler","updateBlockElements","isPreventScrollUpdate","scrollPosition","updateVirtualScrollHeight","events.scrollUiUpdate","cls.WEEK_NUMBER_CLASS","resData","blockList","height_1","cellDetail","workCells","totalCells","clientHeight","cellWidth","getSlotDates","spannedEvents_1","sDate","getStartTime","getIndex","updateIndicatorIcon","isSameDate","blockSpannedList","renderType","isBlockIcon","blockSpannedList_1","blockEvent","spannedEvents_2","isIcon","getEndTime","getIndexOfDate","getCellTd","getPosition","renderBlockIndicator","diffInDays","appRight","appTop","getRowTop","blockElement","renderEventElement","blockIndicator","cls.BLOCK_INDICATOR_CLASS","cloneData","actualStartTime","actualEndTime","actualStartHour","getStartHour","getEndHour","actualEndHour","sourceRes","slotData","isCloneElement","appLocation","newRecord","getEventData","eventLocation","innerElement","appTime","appendEventIcons","eventsPerRow","overlapCount","enableAppRender","enableIndicator","maxOrIndicator","inlineValue","firstChild","updateCellHeight","indicator","getMoreIndicatorText","getMoreIndicatorElement","renderElement","moreIndicatorClick","blockElement_1","getFilteredEvents","getOverlapEvents","appointmentsList","dateTime","appointments_1","moreArgs","isPopupOpen","events.moreEventsClick","clickArgs","moreArgs_1","moreEventClick","isAppointment","getSpannedTime","pop","setMaxEventHeight","wrapperEle","data-start-date","data-end-date","util.getOuterHeight","cls.DATE_HEADER_CLASS","align-items","withIndicator","ignoreWhitespace","TimelineEvent","headerRows","slotsPerDay","dayLength","appointments_2","trimStartTime","trimEndTime","getSortComparerIndex","getOverlapSortComparerEvents","start_1","end_1","appStart_1","appEnd_1","appointmentsCollection_1","cls.RESOURCE_COLUMN_TABLE_CLASS","source","isDayProcess","top_1","cellTops","renderApp","conWidth","isWithoutScroll","getFirstChild","adjustAppointments","moreIndicator","appPos","position_1","renderTimelineMoreIndicator","k","adjustToNearestTimeSlot","position_2","inputTime","parsedTime","minutesInMilliseconds","adjustedMinutesInMilliseconds","adjustedTime","isAlreadyAvail","startDateTime","slotStartTime","slotEndTime","getFilterEvents","appArea","renderedAppCount","monthHeader","actualCellWidth","currentPercentage","blockIndicator_1","getNextDay","getPreviousDay","isSameDay","getSameDayEventsWidth","getSpannedEventsWidth","getIntervalInMinutes","endWidth","startWidth","spannedWidth","getAppointmentLeft","slotTd","gIndex","hoursRange","indicatorPos","wrapIndex","eventContainers","cls.APPOINTMENT_CONTAINER_CLASS","cls.SCHEDULE_TABLE_CLASS","InlineEdit","inlineEdit","moreWrapper","cellEdit","eventEdit","saveObj","generateEventData","getEventDaysCount","isVertical","inlineSubject","createVerticalViewInline","createMonthViewInline","createTimelineViewInline","innerWrapElement","subEle","innerText","subjectWrap","cls.SUBJECT_WRAP","setSelectionRange","daysCount","verticalEvent","allDayElements","saveObject","monthEvent","monthCellSelector","monthModule","timelineView","inlineElement","setDefaultValueToObject","setResourceValues","eventDetails","addEvent","eventTarget","getEventDetails","saveEvent","inlineData","inlineAppointmentElement","inlineDetails","inlineAppointment","node","events.inlineClick","FieldValidator","renderFormValidator","form","formObj","FormValidator","customPlacement","inputElement","errorPlacement","validationComplete","focusout","focusOut","relatedTarget","cls.EVENT_WINDOW_CANCEL_BUTTON_CLASS","ignoreError","elem","inputName","display","status","createTooltip","dlgContent","inputClient","client","div","cls.ERROR_VALIDATION_CLASS","arrow","destroyToolTip","elements_1","reset","QuickPopups","render","renderQuickPopup","renderMorePopup","renderQuickDialog","cls.DEVICE_CLASS","open","quickPopupOpen","close","quickPopupClose","hideAnimation","showAnimation","collision","viewPortElement","zIndex","moreEventPopup","cls.MORE_EVENT_POPUP_CLASS","cls.MORE_EVENT_DATE_HEADER_CLASS","cls.MORE_EVENT_HEADER_DAY_CLASS","cls.NAVIGATE_CLASS","closeButton","morePopupOpen","morePopupClose","renderButton","cls.CLOSE_ICON_CLASS","closeClick","navigationClick","buttonModel","isPrimary","dialogButtonClick","dialogElement","editFollowingEvents","followingSeriesButton","quickDialog","Dialog","animationSettings","effect","buttons","closeOnEscape","beforeClose","beforeQuickDialogClose","isModal","showCloseIcon","okButton","cls.QUICK_DIALOG_ALERT_OK","cancelButton","cls.QUICK_DIALOG_ALERT_CANCEL","iconName","isDisabled","clickEvent","Button","iconCss","quickDialogClass","cls.QUICK_DIALOG_OCCURRENCE_CLASS","cls.QUICK_DIALOG_SERIES_CLASS","cls.QUICK_DIALOG_DELETE_CLASS","cls.QUICK_DIALOG_CANCEL_CLASS","cls.QUICK_DIALOG_ALERT_BTN_CLASS","followingEventButton","cls.QUICK_DIALOG_ALERT_FOLLOWING","cls.FOLLOWING_EVENTS_DIALOG","cls.QUICK_DIALOG_FOLLOWING_EVENTS_CLASS","applyFormValidation","cls.FORM_CLASS","validation","fieldValidator","editDeleteOnly","editFollowingEventsOnly","editDeleteSeries","header","showQuickDialog","openRecurrenceValidationAlert","dialogCancel","enableRecurrenceValidation","openDeleteAlert","openValidationError","popupType","eventProp","event.popupOpen","popupArgs","createMoreEventList","moreEventContentEle","cls.MORE_EVENT_CONTENT_CLASS","moreEventWrapperEle","cls.MORE_EVENT_WRAPPER_CLASS","eventText","tempId","event.eventRendered","deleteAction","editIcon","isMultipleEventSelect","eventTitle","cls.POPUP_HEADER_CLASS","closeIcon","editAction","allowEditing","cls.EDIT_ICON_CLASS","editClick","deleteIcon","cls.DELETE_ICON_CLASS","beforeQuickPopupOpen","isCellBlocked","tempObj","quickCellPopup","showQuickInfo","isMinMaxDate","targetEle","newEventClone","cls.NEW_EVENT_CLASS","subjectElement_1","destroyPopupButtons","cls.CELL_POPUP_CLASS","getPopupHeader","getPopupContent","getPopupFooter","Input","createInput","properties","placeholder","moreButton","detailsClick","saveButton","saveClick","isSameEventClick","editButton","isQuickTemplate","quickInfoTemplates","templateType","quickEventPopup","deleteButton","eventTooltip","updateTapHoldEventPopup","isSameTarget","cls.EVENT_POPUP_CLASS","buttonClass","headerType","headerData","headerTemplate","headerArgs","elementType","headerTemp","getQuickInfoTemplatesHeader","cls.POPUP_HEADER_ICON_WRAPPER","getFormattedString","replaceAll","templateWrapper","subjectText","childNodes","contentTemplate","contentArgs","contentTemp","getQuickInfoTemplatesContent","resourceText","getResourceText","cls.DATE_TIME_CLASS","cls.DATE_TIME_ICON_CLASS","cls.DATE_TIME_DETAILS_CLASS","details","cls.RESOURCE_CLASS","cls.RESOURCE_ICON_CLASS","cls.RESOURCE_DETAILS_CLASS","getRecurrenceSummary","cls.LOCATION_DETAILS_CLASS","cls.TIME_ZONE_CLASS","getTimezone","description","cls.DESCRIPTION_CLASS","cls.DESCRIPTION_DETAILS_CLASS","locationDetails","descriptionDetails","resourceDetails","footerType","footerData","footerTemplate","footer","footerArgs","footerTemp","getQuickInfoTemplatesFooter","resourceValue","resourceCollection_1","resourceData_1","id_1","textField","lastResource_1","isArray","resNames_1","lastResourceData_1","util.findIndexInData","startDateDetails","getDateFormat","endDateDetails","startTimeDetail","endTimeDetail","spanLength","dateElement","moreEventElements","cls.CURRENTDATE_CLASS","tdDate","dialogEvent","subjectEle","updateMoreEventContent","moreElement","selectCell","cancelBtn","deleteEvent","isIgnoreOccurrence","eventSave","titleContent","zoneDetails","recurrenceEditor","getRecurrenceEditorInstance","ruleSummary","getRuleSummary","toUpperCase","skeletonString","skeleton","getDataFromTarget","cellsData","event.popupClose","popupCloseArgs","isEventPopup","clientY","offsetY","previousOffset","popupRect","removeAttribute","innerHeight","isVirtualScroll","conTable","offsetX","util.getTranslateX","refreshPosition","collide","isCollide","translateY","util.getTranslateY","clientX","targetRect","y","elementFromPoint","applyEventColor","colorEle","colorField","borderLeftColor","backgroundColor","editElement","isCellPopup","formvalidator","validate","getObjectFromFormData","popupData","navigateEle","classNames","popupWrap","tar","removeNewEventElement","popupName","popup","buttonCollections_1","instance","input","resetTemplates","refreshQuickDialog","destroyQuickDialog","refreshQuickPopup","destroyQuickPopup","refreshMorePopup","destroyMorePopup","EventTooltip","getTargets","targets","headerTooltipTemplate","enableTooltip","onBeforeRender","eventStart","tooltipSubject","tooltipLocation","startMonthDate","startMonthYearDate","endMonthYearDate","content_1","contentContainer","tooltipTemplate","resCollection","getColumnLevels","getHeaderTooltipTemplate","setContent","eventEnd","initializeCSPTemplate","getEventTooltipTemplate","onTooltipClose","tooltipObj","windowCollision","Tooltip","mouseTrail","showTipPointer","beforeRender","__extends","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","INPUTWARAPPER","INPUTWARAPPERSIDE","REPEATELEMENT","REPEATINTERVAL","INTERVALCLASS","DAYWRAPPER","WEEKWRAPPER","YEAREXPANDERWRAPPER","YEAREXPANDERELEMENT","MONETHEXPANDERWRAPPER","MONTHEXPANDERELEMENT","MONTHEXPANDERCHECKBOXWRAPPER","FORMLEFT","FORMRIGHT","MONTHDAYWRAPPER","MONTHEXPANNDERELEM","MONTHPOS","MONTHWEEK","ENDON","ENDONELEMENT","ENDONDATE","UNTILDATE","ENDONCOUNTWRAPPER","ENDONCOUNT","HIDEWRAPPER","PRIMARY","ACTIVE","RECURRENCETABLE","REPEATCONTENT","NONE","DAILY","WEEKLY","MONTHLY","YEARLY","NEVER","UNTIL","COUNT","TEXTFIELD","VALUEFIELD","RULEMONTHLY","EQUAL","SEMICOLON","contentType","none","daily","weekly","monthly","yearly","valueData","sun","mon","tue","wed","thu","fri","sat","neverClassList","weekClassList","monthClassList","yearClassList","dailyClassList","noEndClassList","endOnCountClassList","endOnDateClassList","RecurrenceEditor","Component","startState","endOn","showFormElement","updateForm","freshOnEndForm","updateEndOnForm","selectMonthDay","updateUntilDate","onMonthDay","checked","preRender","L10n","defaultLocale","applyCustomClass","initialize","renderComponent","repeatType","endTypes","selectedType","getRecurrenceRule","setRecurrenceRule","triggerChangeEvent","renderStatus","resetDayButton","daySelection","rotateArray","rtlClass","untilDateObj","weekday","monthDate","monthWeekDays","monthWeekPos","getDayPosition","endType","hideElement","renderDropdowns","renderDropDownList","dropDownData","DropDownList","popupWidth","getPopupWidth","onWeekDay","resetFormValues","getRepeatData","floatLabelType","title","frequencies","getEndData","getMonthPosData","getDayData","getMonthData","setDefaultValue","formelement_1","recurreneElement_1","renderDatePickers","DatePicker","dateFormat","getFormat","formatType","dayButtonRender","btns","btns_1","btn","button","isToggle","dayButtons","radioButtonRender","RadioButton","label","monthButtons","numericTextboxRender","recurrenceCount","NumericTextBox","repeatInterval","setTemplate","positionCollection","monthposValue","first","second","third","fourth","last","nameSpaceString","weekday_1","fullDay","getSelectedDaysData","RULEBYDAY","elements","getSelectedMonthData","RULEBYMONTHDAY","getIntervalData","RULEINTERVAL","getEndOnCount","RULECOUNT","getYearMonthRuleData","RULEBYMONTH","updateWeekButton","updateMonthUI","updateUI","repeat","getUntilData","RULEUNTIL","destroyComponents","resetFields","updateRuleUntilDate","newUntilDate","untilDate","getRecurrenceDates","RULEFREQ","RULEDAILY","RULEWEEKLY","RULEYEARLY","endon","detachInputs","inputElements_1","detach","removeClasses","getPersistData","addOnPersist","renderComplete","newProp","oldProp","Property","Event","NotifyPropertyChanges","options","never","repeatEvery","onDay","weeks","years","summaryTimes","summaryOn","summaryUntil","summaryRepeat","summaryDay","summaryWeek","summaryMonth","summaryYear","monthWeek","monthPosition","monthExpander","yearExpander","EVENT_FIELD","REPEAT_CONTAINER_CLASS","HIDE_STYLE_CLASS","EventWindow","renderEventWindow","dialogModel","getEventWindowContent","cls.EVENT_WINDOW_DIALOG_CLASS","minHeight","beforeOpen","onBeforeOpen","onBeforeClose","editorHeaderTemplate","editorFooterTemplate","renderDialogButtons","addEventHandlers","preventEventSave","dialogButton","eventDelete","cls.EVENT_WINDOW_SAVE_BUTTON_CLASS","dialogClose","backIcon","saveIcon","cls.EVENT_WINDOW_SAVE_ICON_CLASS","refreshRecurrenceEditor","createRecurrenceEditor","setRecurrenceEditor","editorTemplate","isEventData","cellClickAction","createAdaptiveHeaderElement","getDialogHeader","getDialogFooter","setEditorContent","renderFormElements","onCellDetailsUpdate","onEventDetailsUpdate","setDialogContent","setDialogHeader","setDialogFooter","headerBackIcon","headerSaveIcon","headerTemplateId","temHeaderDiv","getEditorHeaderTemplate","footerTemplateId","temFooterDiv","getEditorFooterTemplate","allowKeyboardInteraction","isEnterKey","getSlotDuration","getInstance","deleteObj","callBackPromise","Deferred","startObj","endObj","trimAllDay","refreshDateTimePicker","cls.EVENT_WINDOW_START_CLASS","cls.EVENT_WINDOW_END_CLASS","resolve","isInteracted","eventCrudData","processCrudActions","resetForm","onsubmit","getDefaultEventWindowContent","formElements_1","tempEle","getEditorTemplate","parentDiv","createDivElement","titleLocationDiv","startEndDateTimeDiv","renderTextBox","allDayTimezoneDiv","renderDateTimePicker","onTimeChange","timezoneParentDiv","renderCheckBox","cls.EVENT_WINDOW_ALL_DAY_CLASS","cls.EVENT_WINDOW_TIME_ZONE_DIV_CLASS","repeatParentDiv","renderDropDown","cls.EVENT_WINDOW_START_TZ_CLASS","cls.EVENT_WINDOW_END_TZ_CLASS","repeatDiv","cls.EVENT_WINDOW_REPEAT_CLASS","repeatEditContainer","buttonObj","REPEAT_BUTTON_ICON_CLASS","loadRecurrenceEditor","resourceParentDiv","renderResourceDetails","submit","renderRecurrenceEditor","updateMinMaxDateToEditor","createInputElement","fieldName","changeEvent","dateTimeDiv","getFieldName","dateTimeInput","DateTimePicker","strictMode","timeFormat","getFieldLabel","step","startEndElement_1","eventWindowTime","resourceTemplate","SanitizeHtmlHelper","labelValue","resourceDiv","resourceInput","allowMultiple","MultiSelect","onMultiselectResourceChange","itemTemplate","popupHeight","mode","onDropdownResourceChange","timezoneDiv","timezoneInput","allowFiltering","onTimezoneChange","timezoneDataSource","filterBarPlaceholder","noRecordsTemplate","filtering","updateData","byGroupID","getColumnName","resObject","createInstance","datasource","resourceModel","filterRes","filterDatasource","clear","resObj","resValue","itemData","endTimezoneObj","startTimezoneObj","checkBoxDiv","checkBoxInput","checkBox","CheckBox","onChange","repeatStatus","textBoxDiv","textBoxInput","labelText","editorTitles","onAllDayChange","timezoneChangeStyle","onRepeatChange","renderRepeatDialog","repeatDialogObject","repeatSaveDialog","repeatCancelDialog","repeatOpenDialog","repeatRule","repeatStartDate","updateRepeatLabel","closeRepeatDialog","repeatTempRule","cls.EVENT_WINDOW_TITLE_TEXT_CLASS","showDetails","disableButton","RecurrenceRule","getValidationRule","descriptionRule","subjectRule","locationRule","startTimeRule","endTimeRule","formElements","getFormElements","keyNames","formElements_2","curElement","columnName","setValueToElement","setDefaultValueToElement","timezoneObj","fieldSelector","control","attrName","isDropDowns","attrEle","allDayStatus","cls.EVENT_WINDOW_ICON_DISABLE_CLASS","cls.ENABLE_CLASS","updateDateTime","isDisable","timezoneValue","cls.ICON_DISABLE_CLASS","untilObj","resetFormFields","localTimezoneName","some","formElement_1","currentElement","alert","dataCollection","formElement","getEventDataFromEditor","processEventValidation","Repeat","alertType","isShowAlert","recurrenceValidation","getResourceData","isResourceEventExpand","allowGroupEdit","getEventIdFromForm","resourceSaveEvent","eveId_1","editedData","editOccurrenceValidation","formElement_2","getValueFromElement","alertMessage","recEditor","activeEvent","excludedEvents","seriesEvents","tempDiff","types","tempValue","getRecurrenceIndex","recColl","recIndex","currentData","editData","recurColl","recurColl_1","nextStartTime","nextEndTime","currentStartTime","currentEndTime","lastEndTime","previousStartTime","previousEndTime","lastResourceData","reverse","lastLevel","eventList","addValues","lastResource","resCol","groupId_1","index_1","l","state_1","eventList_1","dateValue","formElements_3","detachComponents","formElements_4","isIgnore","VirtualScroll","events.virtualScroll","getRenderedCount","setItemSize","containerSize","renderedLength","itemSize","bufferCount","renderVirtualTrack","colCount","lastResourceIndex","updateVirtualTrackHeight","eventWrap","lastRenderIndex","renderedResCount","resourceCount","resWrap","cls.EVENT_TABLE_CLASS","setTranslate","util.getElementWidthFromClass","refreshLayout","firstTDIndex","initialHeight","scheduleHeight","preRenderedLength","isRemoteRefresh","enableTransition","existingDataCollection","updateContent","setTabIndex","dynamicData","triggerScrollEvent","events.virtualScrollStop","refreshProcessedData","hideSpinner","timeIndicator","horizontalScrolling","cls.CURRENT_TIMELINE_CLASS","upScroll","downScroll","events.virtualScrollStart","focusedEle","actionObj","navigationWrapper","clearTimeout","timeValue","leftScroll","rightScroll","updateHorizontalContent","showSpinner","prevSetCollection","getBufferCollection","nextSetCollection","nextSetResIndex","lastIndex","getCollection","getResCollection","getByDateCollection","setRenderedDates","getByIdCollection","firstItem","lastItem","setStartEndIndex","colIndex","isResourceCell","currentGroupIndices","getGroupIndices","previousGroupIndices","newGroupIndices","resWrapRows","conWrapRows","resWrapBody","conWrapBody","resourceRows","removeObsoleteRows","getContentRows","contentRows","eventRows","getEventRows","renderedRows","updateMonthViewContent","updateOtherViewContent","colGroup","thead","table","td","tHead","mergeNewTdData","existingRow","existingTds_1","newRow","newTd","newGroupIndex","inserted","existingTds_2","existingTd","dateCol_1","dateCol_2","renderDates_1","resColWrap","resCells","focusResCell","Render","isDataRefresh","initializeLayout","templates","activeEventTemplates","dayModule","weekModule","workWeekModule","yearModule","agendaModule","monthAgendaModule","timelineViewsModule","viewClass","timelineMonthModule","timelineYearModule","firstView","console","warn","Error","updateLabelText","enableCompactView","updateHeader","currentTimezoneDate","getLabelText","WorkHours","ChildProperty","TimeScale","QuickInfoTemplates","HeaderRows","Crud","getQuery","getTable","fromTable","isPreventEventRefresh","refreshEvents","then","dataManagerSuccess","catch","dataManagerFailure","events.dataBinding","resultData","result","events.dataBound","events.print","events.actionFailure","isVirtualScrollAction","dynamicEvents","templateNames","events.dataReady","refreshData","actionArgs","addedRecords","editParams","changedRecords","deletedRecords","crudData","crudData_1","tdData","offline","offlineArgs","promise","onlineArgs","isBlockEvent","addEvents","addArgs","eventData_1","saveChanges","insert","crudArgs","updateEvents","processSave","processOccurrences","processFollowSeries","processEntireSeries","saveArgs","eventData_2","update","cloneEvent","deleteEvents","deleteArgs","occurrenceData","isDeletedRecords","eventData_3","occurrenceArgs","occurrenceEvents","exceptionDate","childEvent","parentException","excludeDateCheck","followData","eventData_4","updateFollowEvents","followArgs","followEvents","followData_1","processRecurrenceRule","seriesData","eventData_5","event_7","updateSeriesEvents","eventCollections","deletedEvents","seriesArgs","fields_2","records","_loop_4","originalParent","deleteData","eventData_6","fields_3","_loop_5","parentEvent_1","isEdited","editedDate","isDelete","eventData_7","editArgs","exceptionString","parentEle","exceptionDateList","followEvent","newRecurrenceRule","getUpdatedRecurrenceRule","updatedRule","splitRule_1","ruleKey","ruleValue","WorkCellInteraction","isWorkCell","navigateView","sameView","viewOptions","cellDblClick","event.cellDoubleClick","onHover","hoverTarget","event.hover","FieldOptions","Field","Complex","EventSettings","Group","Resources","ResourceBase","renderResourceHeaderIndent","resColTd","resColDiv","cls.RESOURCE_TEXT_CLASS","headerIndentTemplate","renderHeaderIndentTemplate","events.renderCell","hideResourceRows","tBody","trCount","res","ClassName","expandedField","slicedCollection","Count","createResourceColumn","resColl","resDiv","tbl","createTableLayout","cls.AUTO_HEIGHT","generateTreeData","countCalculation","setExpandedResources","setRenderedResources","isExpanded","ntd","classCollection","ntr","resRows","existingGroupIndices","rIndex","cls.RESOURCE_CHILD_CLASS","leftPixel","cls.RESOURCE_COLLAPSE_CLASS","cls.RESOURCE_EXPAND_CLASS","iconDiv","setMargin","onTreeIconClick","setResourceHeaderContent","resourceHeaderTemplate","marginRight","marginLeft","parentCollection","wholeCollection","totalCount","z","trElement","eventElements_1","updateVirtualContent","rowCollection","workCellCollection","headerRowCollection","clickedRes","clonedCollection","trElem","expanded","pNode","virtualTrack","sIndex","resTable","contentTable","eventTable","renderResourceHeader","resourceWrapper","cls.RESOURCE_TOOLBAR_CONTAINER","cls.RESOURCE_HEADER_TOOLBAR","cls.RESOURCE_MENU","cls.RESOURCE_MENU_ICON","cls.RESOURCE_LEVEL_TITLE","cls.WRAPPER_CONTAINER_CLASS","renderResourceHeaderText","menuClick","renderResourceTree","popupOverlay","cls.RESOURCE_TREE_POPUP_OVERLAY","treeWrapper","cls.RESOURCE_TREE_POPUP","resourceTree","treeViewObj","TreeView","child","nodeTemplate","nodeClicked","resourceClick","resourceTreeCreated","expandAll","treePopup","isTimeLine","treeCollection","resTreeColl","treeHandler","treeLevel","levelId","treeArgs","resourceName","resourceChild","tree","resourceTreeLevel","headerCollection","resourceLevel","cls.RESOURCE_NAME","levelIcon","headerWrapper","headerCollection_1","treeNodes","selectResourceByIndex","triggerEvents","renderModule","adaptiveGroupIndex","bindResourcesData","isSetModel","promises","Promise","all","resourceObj","getResourceModel","startHourField","endHourField","cssClassField","renderElements","setResourceCollection","requiredResources","colorIndex","requiredResources_1","resourceColorField","generateResourceLevels","innerDates","prevResource","prevResourceData","prevOrder","resTree","resWorkDays","dateCol","dateSlots","resCssClass","resStartHour","resEndHour","getDateSlots","generateCustomHours","lastColumnDates","resourceLevelIndex","resTreeGroup","generateHeaderLevels","dateSlots_1","dateSlot","headerDates","headerLevels","currentLevelChilds_1","currentLevelChild","nextLevelChilds","nextLevelChilds_1","nextLevelChild","_d","_e","lastLevelResource","dateHeaderLevels","datesColumn","headerDate","this_3","currentDateLevels","resTd_1","filterDates","filteredTd","filteredResource","existedResource","_f","headerDates_1","dateColSpan","_g","_h","_j","headerDates_2","resGroup","_k","_l","resTd","unshift","colorFieldIndex","filterData","getResourceRenderDates","resourceDates","groupEditIndex","groupEditIndex_1","length_4","addResource","addObj","removeResource","removeObj","resourceExpand","resourceScroll","offsetTarget","scrollElement","treeViewTemplates","propName","resToolBarEle","ToolbarItem","Schedule","addClasses","cls.RTL","cls.ADAPTIVE_CLASS","allowMultiDrag","cls.MULTI_DRAG","cssClass_1","cls_1","validateDate","createSpinner","scrollModule","workCellAction","initializeDataModule","renderTableContainer","getActiveViewOptions","initializeResources","wireEvents","util.getElementWidth","util.getElementHeight","util.getElementHeightFromClass","callback","renderReactTemplates","isAngular","clearTemplate","destroyEditorWindow","isLayoutOnly","initializeView","destroyHeaderModule","showHeaderBar","isTouch","scheduleTouchModule","destroyPopups","initializePopups","getViewIndex","setViewOptions","isModuleLoad","selectedView","prevIndex","isOptions","isSelected","fieldViewName","cellHeaderTemplateName","cellHeaderTemplate","dateHeaderTemplateName","dateHeaderTemplate","cellTemplateName","cellTemplate","dayHeaderTemplateName","dayHeaderTemplate","monthHeaderTemplateName","monthHeaderTemplate","resourceHeaderTemplateName","headerIndentTemplateName","currentIndex","majorSlotTemplate","minorSlotTemplate","isYearView","scheduleOptions","firstMonthOfYear","monthsCount","internalTimeFormat","viewsData","setEditorTitles","initializeTemplates","cellHeaderTemplateFn","templateParser","dayHeaderTemplateFn","monthHeaderTemplateFn","cellTemplateFn","dateHeaderTemplateFn","dateRangeTemplateFn","majorSlotTemplateFn","minorSlotTemplateFn","appointmentTemplateFn","resourceHeaderTemplateFn","headerIndentTemplateFn","headerTooltipTemplateFn","eventTooltipTemplateFn","editorTemplateFn","editorHeaderTemplateFn","editorFooterTemplateFn","quickInfoTemplatesHeaderFn","quickInfoTemplatesContentFn","quickInfoTemplatesFooterFn","getDayNames","culShortNames","setCldrTimeFormat","getDateTime","setCalendarMode","muteOnChange","previousView","navigationArgs","isInitial","animateLayout","monthAgendaDate","timingFunction","requiredModules","modules","member","allowDragAndDrop","util.isIPadDevice","Internationalization","getDefaultLocale","workWeek","agenda","weekAgenda","workWeekAgenda","monthAgenda","today","emptyContainer","allDay","more","noTitle","deleteMultipleEvent","selectedItems","deleteSeries","edit","editSeries","editEvent","createEvent","addTitle","moreDetails","save","editContent","deleteContent","deleteMultipleContent","newEvent","recurrence","wrongPattern","seriesChangeAlert","createError","sameDayAlert","occurenceAlert","editRecurrence","recurringEvent","repeats","startEndError","invalidDateError","blockAlert","ok","yes","no","of","series","previous","next","timelineDay","timelineWeek","timelineWorkWeek","timelineMonth","timelineYear","editFollowingEvent","deleteTitle","editTitle","beginFrom","endAt","expandAllDaySection","collapseAllDaySection","searchTimezone","noRecords","onScheduleResize","touchStartEvent","onDocumentClick","isPreventScroll","cells_1","isAllDayCell","dateString","dateInMS","getTargetElement","targetElement","getCellHeaderTemplate","getDayHeaderTemplate","getMonthHeaderTemplate","getCellTemplate","getDateHeaderTemplate","getMajorSlotTemplate","getMinorSlotTemplate","getResourceHeaderTemplate","getHeaderIndentTemplate","border","padding","rtlBorder","rtlPadding","eventClone","util.isMobile","highlightCurrentTime","util.resetScrollbarWidth","resetColWidth","compile","trim","recordLocation","startDateText","endDateText","announcementString","scrollEdges","viewBoundaries","pageYOffset","pageXOffset","getWeekNumberContent","weekNumber","weekMidDate","weekFirstDate","weekRule","weekNumberDate","util.getWeekLastDate","util.getWeekNumber","util.getWeekMiddleDate","indentTemplate","isRefresh","isResource","isDate","isView","isLayout","isDataManager","prop","setRtlClass","extendedPropertyChange","propertyChangeAction","cls.EVENT_ACTION_CLASS","allDayRowScrollUpdate","events.uiUpdate","onEventSettingsPropertyChanged","onGroupSettingsPropertyChanged","setWorkHours","getWorkHourCells","cls.WORK_HOURS_CLASS","resetWorkHours","workHourCells","viewStartHour","viewEndHour","offsetDiff","endOffsetDiff","tempStartIndex","tempEndIndex","dates_1","tds","tdCol","firstTd","getElement","lastTd","endDateFromColSpan","getEndDateFromStartDate","getResourceCollections","setResourceCollections","resourceCol","isEventDataRefresh","changeCurrentView","getCurrentViewIndex","getResourcesByIndex","groupData","expandResource","collapseResource","scrollTo","hour","scrollDate","scrollToDate","scrollToHour","scrollToResource","groupName","exportToICalendar","fileName","customData","iCalendarExportModule","initializeCalendarExport","importICalendar","fileContent","iCalendarImportModule","initializeCalendarImport","generateEventOccurrences","exportToExcel","excelExportOptions","excelExportModule","initializeExcelExport","printOptions","printModule","getEvents","includeOccurrences","getBlockEvents","eventID","getCurrentViewEvents","refreshTemplates","refreshHeader","refreshResourceHeader","isSlotAvailable","closeEditor","openQuickInfoPopup","selectEvent","occurence","getAdjustedDate","events.cellClick","events.eventClick","closeQuickInfoPopup","closeTooltip","modules_1","Collection","ActionBase","getChangedData","multiData","originalElement","cloneIndex_1","indexCol_1","getOriginalElement","saveChangedData","isMultiSelect","eventsCollection","eventsCollection_1","selectedData","isSameResource","eveId","calculateIntervalTime","intervalTime","getContentAreaDimension","viewElement","leftOffset","getResourceElements","rightOffset","contentElements","indexes","minIndex","groupElements","updateTimePosition","offsetValue","cloneElement","timeElement","cls.CLONE_TIME_INDICATOR_CLASS","wrapperClass","cls.TIME_CELLS_WRAP_CLASS","rightValue","resizeEdges","leftValue","createCloneElement","outerHTML","cloneClassLists","cls.CLONE_ELEMENT_CLASS","dragElement","eventDragArea","removeCloneElementClasses","removeCloneElement","dynamicEle_1","cloneEle","getCursorElement","pages","autoScroll","tdCollections","yIsScrollable","xIsScrollable","scrollBy","autoScrollValidation","actionClass","updateScrollPosition","scrollEventArgs","scrollInterval","setInterval","updateDraggingDateTime","updateResizingDirection","timeDelay","updateOriginalElement","eventWrappers","getUpdatedEvent","parse","dynamicYearlyEventsRendering","isResize","yearEvent","pointer-events","renderDynamicElement","dynamicEventsRendering","eventWrappers_1","scrollArgs","daysVariation","actionIndex","excludeSelectors","navigationInterval","Resize","resizeElement_1","element_1","resizeHelper","resizeTarget","resizeArgs","event.resizeStart","resizeEventArgs","hRows","tdCollections_1","trRect","touchMoveEvent","touchEndEvent","cls.DISABLE_DATES","doc","clientLeft","clientTop","event.resizing","monthResizing","resizeValidation","leftStyles","getLeftRightStyles","horizontalResizing","rightStyles","topStyles","getTopBottomStyles","verticalResizing","bottomStyles","isSameCell","resizeTime","yearEventsRendering","monthDiff","getMonthDiff","getEventCount","monthStart","monthEnd","clearInterval","event.resizeStop","headerName","isTimelineMonth","isLastCell","pixelsPerMinute","tdCollections_2","cellOffsetWidth","resizeDate","spanMinutes","cloneIndex","originalWidth","isNotHourSlot","resizeEnd","clnHeight","clnTop","cloneWidth","isTimeViews","pageWidth","targetWidth","roundedLeft","roundedWidth","viewDimension","isTimeScale","YearEvent","yearViewEvents","removeCellHeight","timelineResourceEvents","timelineYearViewEvents","getMonths","months_1","tr_1","cellHeader","wrapperCollection","eventWrapper","isSpannedCollection","rowTd","wrapper_1","dayStart","dayEnd","dayEvents","overlapIndex","updateSpannedEvents","availedHeight","moreIndicatorCount","isRendered","MoreIndicator","moreIndex","renderMoreIndicator","renderEvent","appContainer","isLeftRightResize","conTable_1","tr_2","isVerticalScrollbarAvail","renderResourceEvent","removeProperty","appWrap","right_1","eventDatas","createEventElement","endTimeEle","locationEle","startTimeEle","yearStart","yearEnd","updateSpannedEventDetails","originalStartTime","originalEndTime","viewStart","viewEnd","dateStart","dateEnd","appStart","appEnd","timeCondition","DragAndDrop","isVerticalView","Draggable","abort","isDragScroll","enableTailMode","cursorAt","dragArea","enableAutoScroll","helper","dragHelper","queryPositionInfo","dragPosition","sender","setDragActionDefaultValues","eleTop","slotsUptoCursor","cursor","cloneRight","isStepDragging","contentWrapRight","isMorePopupOpened","isCursorAhead","pointerEvents","cellsCountUptoCursor","cellsCountUptoEleTop","cloneBottom","isPreventMultiDrag","eventGuid","dragArgs","getSelectedData","navigation","events.dragStart","dragEventArgs","dragObj","intDestroy","enableCurrentViewDrag","dragWithinRange","widthPerMinute","heightPerMinute","widthUptoCursorPoint","heightUptoCursorPoint","cursorPointIndex","isHeaderRows","isTimelineDayProcess","minDiff","isAllDayTarget","timelineEventModule","appEle","isAllDayDrag","calculateMinutesDiff","updateNavigatingPosition","updatedData","events.drag","isAllowDrop","events.dragStop","currentGroupIndex","currentDate_1","viewNavigation","morePopupEventDragging","calculateTimelineTime","calculateVerticalDate","calculateVerticalTime","tarWrapper_1","outWrapper","elementHeight","getAllDayEventHeight","outerWrapperCls","targetWrapper","navigationType","eventContainer","eventDuration","dragEnd","appendCloneElement","swapDragging","getEventWrapper","updateAllDayEvents","dynamicWrappers_1","targetCellTime_1","swagData","startTimeDiff","eventObj_2","index_2","updateMultipleData","updateEventHeight","startReferenceDate","endReferenceDate","timeDifference","differInDays","endTimeDiff","targetTd","datesCount","indexGroup","allDayDifference","dynamicIndex","splitEvents","filterQuery","renderSpannedEvents","timeDiff","allDayElement_1","tagName","updateMultipleVerticalDate","eventSrt","getOffsetValue","getColumnIndex","cursorDrag","leftVal","cursorIndex","getCursorCurrentIndex","widthDiff","getWidthDiff","intervalInMS","roundTimeDiff","dataIndex","events_2","calculateResourceGroupingPosition","viewEle","targetLeft","dateLength","trCollection","scrollY","util.getElementTop","cursorElement","dropSelectors_1","ViewBase","resTbl","resourceTd","rendereData","getDayName","getTimelineDate","createEventTable","collapseRows","setAriaAttributes","createColGroup","lastRow","colGroupEle","prev","getScrollXIndent","util.getScrollBarWidth","scrollTopPanel","getDatesHeaderElement","scrollHeaderLabels","headerTable","colWidth","classNames_1","headerCells","headerCells_1","headerCells_2","hiddenLeft","tdLeft","applyLeft","isRtl","addAttributes","getHeaderBarHeight","resHeader","headerBarHeight","panel","cls.DATE_HEADER_CONTAINER_CLASS","generateColumnLevels","isCurrentDate","isCurrentMonth","isWorkDay","isWorkHour","agendaDaysCount","previousNextAction","formatViewLabel","formatOptions","viewStr","formatDateRange","longDateFormat","toLocaleLowerCase","getMobileDateElement","tdElement","quickTemplate","renderResourceMobileLayout","addAutoHeightClass","getColElements","setColWidth","colElements","colWidth_1","resourceColumn","contentBody","headerCellColSpan","colElements_1","getContentAreaElement","wireExpandCollapseIconEvents","treeIcons_1","icon","scrollWrap","setPersistence","retainScrollPosition","getViewStartDate","getViewEndDate","resetColLevels","renderedCount","groupIndices","VerticalView","event.scrollUiUpdate","appointment","event.eventsLoaded","onContentScroll","event.virtualScroll","scrollLeftPanel","onAdaptiveMove","onAdaptiveScroll","leftPanel","getLeftPanelElement","timeCells","scrollBarWidth","isDateHeaderScroll","getScrollableElement","scrollerHeight","setContentHeight","scrollToWorkHour","leftPanelElement","firstWorkHourCell","highlight","headerElement","getTopFromDateTime","columnLevels","workStartHour","workEndHour","cls.CURRENT_DAY_CLASS","isWorkHourRange","showTimeIndicator","getCurrentTimeIndicatorIndex","changeCurrentTimePosition","currentTimeIndicatorTimer","clearCurrentTimeIndicatorTimer","updateCurrentTimeIndicatorTimer","currentDateIndex","removeCurrentTimeIndicatorElements","timeIndicator_1","firstRow","topInPx","timeCellsWrap","timeTrs","curTimeWrap","cls.PREVIOUS_TIMELINE_CLASS","currentDateIndex_1","currentTimeEle","cls.CURRENT_TIME_CLASS","cls.HIDE_CHILDS_CLASS","lastElementChild","getWorkCellHeight","getTdContent","cntEle","cls.TABLE_WRAP_CLASS","clsList","baseCssClass","cls.VIRTUAL_SCROLL_CLASS","cls.IGNORE_WHITESPACE","cls.OUTER_TABLE_CLASS","renderContent","indentTd","dateTd","renderDatesHeader","cls.LEFT_INDENT_CLASS","renderLeftIndent","timesTd","workTd","scrollContainer","cls.SCROLL_CONTAINER_CLASS","renderTimeCells","renderContentArea","cls.LEFT_INDENT_WRAP_CLASS","trEle","rowCount","ntr_1","data_1","nth","createTd","appointmentExpandCollapse","createAllDayRow","wireCellEvents","tdEle","wireMouseEvents","event.renderCell","getTimeSlotRows","cls.TIME_CELLS_CLASS","cls.TIME_SLOT_CLASS","renderContentTable","renderContentTableHeader","aria-selected","isAllowTdCreation","createContentTd","getContentTdClass","cellDate","args_1","announcementText","cls.ALTERNATE_CELLS_CLASS","handler","msMajorInterval","msStartHour","msEndHour","milliSeconds","majorTickDivider","util.isDaylightSavingTime","timeOffset","middle","timeSlots","contentScrollableEle","Day","Week","WorkWeek","Month","onScrollUIUpdate","onDataReady","onCellClick","scrollToSelectedDate","headerCell","levels_1","getDayNameFormat","dayNameFormat","contentWrapper","monthAgendaWrapper","renderWeekNumberContent","contentArea","renderAppointmentContainer","contentWrapTable","createWeekNumberElement","createHeaderCell","getContentSlots","slotDatas","prepareSlots","renderDate","includeResource","out_j_1","colDates","colDate","resourcesTd","colDates_1","updateClassList","isOtherMonth","updateSelectedCellClass","monthDates","trows","cls.WORKDAY_CLASS","renderDateHeaderElement","getMonthStart","isCustomRange","getMonthEnd","util.WEEK_LENGTH","updateCustomRange","isUpdateDateRange","Year","viewTypeClass","calendarTable","calendarTBody","getRowColumnCount","columnCount","cTr","cTd","calendarWrapper","currentMonth","calendarElement","data-role","renderCalendarHeader","renderCalendarContent","headerContent","getMonthName","getMonthDates","currentWeek","th","nextDay","weekDates","weekDates_1","span","createTableColGroup","parseDate","monthDaysCount","months_2","fn","tName","vName","isPrevious","activeDate","moreEventArgs","scrollTopElement","onScrollUiUpdate","isYScroll","util.addYears","yearEventModule","contentScroll","AgendaBase","createAgendaContentElement","listData","aTd","listElement","ListBase","createList","moduleName","listClass","itemClass","cls.AGENDA_NO_EVENT_CLASS","li","templateEle","createAppointment","cls.AGENDA_DAY_BORDER_CLASS","appSubjectWrap","appSubjectText","strDate","allDayStr","displayStr","processAgendaEvents","spanned","wireEventActions","eventElement_1","dateHeaderElement_1","dayNavigationClick","calculateResourceTableElement","agendaDate","agendaEnd","agendaLastDate","agendaStart","lastLevelInfo","tempLastLevelInfo","tempIndex","finalDate","agendaCollection","hideEmptyAgendaDays","resDataCollection","resDayCollection","rowSpan","topResources","tempGroupedData","totalRowSpan","u","createResourceTableRow","renderEmptyContent","tContent","tContentCollection","w","rowSpanCollection","createDateHeaderElement","cls.AGENDA_DATE_CLASS","cls.AGENDA_CURRENT_DAY_CLASS","renderCellElementType","event.resourceHeader","event.dateHeader","renderCellType","event.noEvents","event.agendaCells","cls.AGENDA_HEADER_CLASS","hasNoEvents","eTr","createTableRowElement","eTd","data-row-index","class","cls.MONTH_HEADER_CLASS","data-column-index","dTd","Agenda","agendaDates","eventLoad","renderInitialContent","refreshEvent","refreshDate","emptyTBody","contentChild","emptyTBody_1","isObject","appointmentFiltering","isAgendaWorkDay","updateHeaderText","isObject_1","nTr","virtualContent","dataset","agendaScrolling","filterDate","totalHeight","virtualScrollTop","topElement","getElementFromScrollerPosition","getPreviousNextDate","scrollToValue","filterElement","liCollection","getStartDateFromEndDate","util.setTime","event.scroll","onAgendaScrollUiUpdate","MonthAgenda","wrapperContainer","cls.APPOINTMENT_WRAP_CLASS","appendAppContainer","setEventWrapperHeight","availHeight","contentAreaHeight","appContainerHeight","clearElements","agendaBase","getAgendaBase","cls.APPOINTMENT_INDICATOR_CLASS","onEventRender","events.eventsLoaded","appointmentIndicators_1","appointmentIndicator","navigateDate","TimelineHeaderRow","groupByYear","groupByMonth","dates_2","groupByWeek","dates_3","jsDate","generateSlots","colspan","cls","dateParser","tdDatas","htmlCol","viewTemplate","hourSlots","byMonth","byWeek","lastLevelColspan","byYear","TimelineViews","currDateTime","getLeftFromDateTime","generateTimeSlots","timeSlotData","tempTimeSlots_1","headerWrap","diffInDates","getRowCount","getResourceTdData","resLevel","resSHr","resEHr","timelineAppointment","TimelineMonth","contentTr","contentTd","TimelineYear","isHorizontal","leftHeaderCells","innerTr","dayHeaderDates","column","innerTd","renderDayMonthHeaderTemplate","count_1","monthWrapper","tdCollection","cls.MONTH_HEADER_WRAPPER","monthTBody","contentTBody","addClassTable","renderResourceContent","renderDefaultContent","monthBody","monthTr","monthTd","isDateAvail","dayDate","renderCellTemplate","tRow","monthCells","tdELe","dayId","monthId","ICalendarExport","icsString","getCalendarString","download","SEPARATOR","appVersion","iCalendarEvents","filterCollection","uId","editedExDate","startZone","UID","edited","endZone","calendarEvent","convertDateToString","customFields","customFieldFilter","customField","defaultFields","eventDate","downloadLink_1","buffer","Blob","msSaveBlob","createElementNS","href","URL","createObjectURL","initEvent","dispatchEvent","revokeObjectURL","ICalendarImport","fileReader_1","FileReader","onload","iCalString","iCalendarParser","readAsText","iString","iCalData","isEvent","curEvent","iStringLength","lastPosition","search","newlineOffset","firstChar","updateEventData","processOccurrence","type_1","dateParsing","appoint","appointmentIds","exdate","getExcludeDateString","occurrenceException","parentExDate","childExDate","newDate","exec","ExcelExport","separator","exportColumns","getExportColumns","exportName","exportType","isIncludeOccurrences","processWorkbook","columns","columnHeader","fontSize","borders","bold","workSheet","columnData","columnRule","numberFormat","Workbook","worksheets","exportOptions","fieldsInfo","Print","printScheduler","printSchedulerWithModel","scrollableEle","reference","links_1","getElementsByTagName","elementWidth","printWindow","write","contentCellScroll","ready","headerTimeCellsScroll","timeCellsScroll","Inject","printInstance","getPrintScheduleModel","registeredTemplate","outerHeight","outerWidth","moveTo","resizeTo","printModel","scheduleTemplates","scheduleEvents","scheduleProps_1","basePrint","onbeforeunload"],"mappings":"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"}